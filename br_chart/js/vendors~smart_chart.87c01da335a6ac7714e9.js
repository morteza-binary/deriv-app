(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~smart_chart"],{

/***/ "../node_modules/smartcharts-beta/dist/smartcharts.js":
/*!************************************************************!*\
  !*** ../node_modules/smartcharts-beta/dist/smartcharts.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory(__webpack_require__(/*! react-transition-group */ \"../node_modules/react-transition-group/index.js\"), __webpack_require__(/*! react-dom */ \"../node_modules/react-dom/index.js\"), __webpack_require__(/*! mobx */ \"../node_modules/mobx/lib/mobx.module.js\"), __webpack_require__(/*! mobx-react */ \"../node_modules/mobx-react/index.module.js\"), __webpack_require__(/*! react */ \"../node_modules/react/index.js\"));\n\telse {}\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react_transition_group__, __WEBPACK_EXTERNAL_MODULE_react_dom__, __WEBPACK_EXTERNAL_MODULE_mobx__, __WEBPACK_EXTERNAL_MODULE_mobx_react__, __WEBPACK_EXTERNAL_MODULE_react__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tfunction webpackJsonpCallback(data) {\n/******/ \t\tvar chunkIds = data[0];\n/******/ \t\tvar moreModules = data[1];\n/******/\n/******/\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId]) {\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\t}\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n/******/\n/******/ \t\twhile(resolves.length) {\n/******/ \t\t\tresolves.shift()();\n/******/ \t\t}\n/******/\n/******/ \t};\n/******/\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n/******/ \t// Promise = chunk loading, 0 = chunk loaded\n/******/ \tvar installedChunks = {\n/******/ \t\t\"main\": 0\n/******/ \t};\n/******/\n/******/\n/******/\n/******/ \t// script path function\n/******/ \tfunction jsonpScriptSrc(chunkId) {\n/******/ \t\treturn __webpack_require__.p + \"\" + ({\"chartiq\":\"chartiq\",\"de-po\":\"de-po\",\"es-po\":\"es-po\",\"fr-po\":\"fr-po\",\"html2canvas\":\"html2canvas\",\"id-po\":\"id-po\",\"it-po\":\"it-po\",\"nl-po\":\"nl-po\",\"pl-po\":\"pl-po\",\"pt-po\":\"pt-po\",\"ru-po\":\"ru-po\",\"th-po\":\"th-po\",\"vendors~resize-observer-polyfill\":\"vendors~resize-observer-polyfill\",\"vi-po\":\"vi-po\",\"zh_cn-po\":\"zh_cn-po\",\"zh_tw-po\":\"zh_tw-po\"}[chunkId]||chunkId) + \"-\" + {\"chartiq\":\"5871ca\",\"de-po\":\"0c1385\",\"es-po\":\"19e90a\",\"fr-po\":\"32dce3\",\"html2canvas\":\"cfdaf6\",\"id-po\":\"684adf\",\"it-po\":\"6fb521\",\"nl-po\":\"dbc059\",\"pl-po\":\"ddb25d\",\"pt-po\":\"94d77b\",\"ru-po\":\"afea21\",\"th-po\":\"f9221a\",\"vendors~resize-observer-polyfill\":\"358f59\",\"vi-po\":\"47e08b\",\"zh_cn-po\":\"e6a513\",\"zh_tw-po\":\"48b237\"}[chunkId] + \".smartcharts.js\"\n/******/ \t}\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tvar promises = [];\n/******/\n/******/\n/******/ \t\t// JSONP chunk loading for javascript\n/******/\n/******/ \t\tvar installedChunkData = installedChunks[chunkId];\n/******/ \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n/******/\n/******/ \t\t\t// a Promise means \"currently loading\".\n/******/ \t\t\tif(installedChunkData) {\n/******/ \t\t\t\tpromises.push(installedChunkData[2]);\n/******/ \t\t\t} else {\n/******/ \t\t\t\t// setup Promise in chunk cache\n/******/ \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n/******/ \t\t\t\t});\n/******/ \t\t\t\tpromises.push(installedChunkData[2] = promise);\n/******/\n/******/ \t\t\t\t// start chunk loading\n/******/ \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\t\tvar script = document.createElement('script');\n/******/ \t\t\t\tvar onScriptComplete;\n/******/\n/******/ \t\t\t\tscript.charset = 'utf-8';\n/******/ \t\t\t\tscript.timeout = 120;\n/******/ \t\t\t\tif (__webpack_require__.nc) {\n/******/ \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n/******/\n/******/ \t\t\t\tonScriptComplete = function (event) {\n/******/ \t\t\t\t\t// avoid mem leaks in IE.\n/******/ \t\t\t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\t\t\tclearTimeout(timeout);\n/******/ \t\t\t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\t\t\tif(chunk !== 0) {\n/******/ \t\t\t\t\t\tif(chunk) {\n/******/ \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n/******/ \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n/******/ \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n/******/ \t\t\t\t\t\t\terror.type = errorType;\n/******/ \t\t\t\t\t\t\terror.request = realSrc;\n/******/ \t\t\t\t\t\t\tchunk[1](error);\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t};\n/******/ \t\t\t\tvar timeout = setTimeout(function(){\n/******/ \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n/******/ \t\t\t\t}, 120000);\n/******/ \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\t\t\thead.appendChild(script);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\treturn Promise.all(promises);\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \tvar jsonpArray = window[\"webpackJsonpsmartcharts\"] = window[\"webpackJsonpsmartcharts\"] || [];\n/******/ \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n/******/ \tjsonpArray.push = webpackJsonpCallback;\n/******/ \tjsonpArray = jsonpArray.slice();\n/******/ \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n/******/ \tvar parentJsonpFunction = oldJsonpFunction;\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/add-px-to-style/index.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/add-px-to-style/index.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function (name, value) {\n  if (typeof value === 'number' && !IS_UNITLESS[name]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};\n\n/***/ }),\n\n/***/ \"./node_modules/dom-css/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/dom-css/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar prefix = __webpack_require__(/*! prefix-style */ \"./node_modules/prefix-style/index.js\");\n\nvar toCamelCase = __webpack_require__(/*! to-camel-case */ \"./node_modules/to-camel-case/index.js\");\n\nvar cache = {\n  'float': 'cssFloat'\n};\n\nvar addPxToStyle = __webpack_require__(/*! add-px-to-style */ \"./node_modules/add-px-to-style/index.js\");\n\nfunction style(element, property, value) {\n  var camel = cache[property];\n\n  if (typeof camel === 'undefined') {\n    camel = detect(property);\n  } // may be false if CSS prop is unsupported\n\n\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel];\n    }\n\n    element.style[camel] = addPxToStyle(camel, value);\n  }\n}\n\nfunction each(element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k]);\n    }\n  }\n}\n\nfunction detect(cssProp) {\n  var camel = toCamelCase(cssProp);\n  var result = prefix(camel);\n  cache[camel] = cache[cssProp] = cache[result] = result;\n  return result;\n}\n\nfunction set() {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1];\n    } else {\n      each(arguments[0], arguments[1]);\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2]);\n  }\n}\n\nmodule.exports = set;\nmodule.exports.set = set;\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '');\n      return obj;\n    }, {});\n  } else {\n    return style(element, properties || '');\n  }\n};\n\n/***/ }),\n\n/***/ \"./node_modules/event-emitter-es6/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/event-emitter-es6/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar DEFAULT_VALUES = {\n  emitDelay: 10,\n  strictMode: false\n};\n/**\n * @typedef {object} EventEmitterListenerFunc\n * @property {boolean} once\n * @property {function} fn\n */\n\n/**\n * @class EventEmitter\n *\n * @private\n * @property {Object.<string, EventEmitterListenerFunc[]>} _listeners\n * @property {string[]} events\n */\n\nvar EventEmitter = function () {\n  /**\n   * @constructor\n   * @param {{}}      [opts]\n   * @param {number}  [opts.emitDelay = 10] - Number in ms. Specifies whether emit will be sync or async. By default - 10ms. If 0 - fires sync\n   * @param {boolean} [opts.strictMode = false] - is true, Emitter throws error on emit error with no listeners\n   */\n  function EventEmitter() {\n    var opts = arguments.length <= 0 || arguments[0] === undefined ? DEFAULT_VALUES : arguments[0];\n\n    _classCallCheck(this, EventEmitter);\n\n    var emitDelay = void 0,\n        strictMode = void 0;\n\n    if (opts.hasOwnProperty('emitDelay')) {\n      emitDelay = opts.emitDelay;\n    } else {\n      emitDelay = DEFAULT_VALUES.emitDelay;\n    }\n\n    this._emitDelay = emitDelay;\n\n    if (opts.hasOwnProperty('strictMode')) {\n      strictMode = opts.strictMode;\n    } else {\n      strictMode = DEFAULT_VALUES.strictMode;\n    }\n\n    this._strictMode = strictMode;\n    this._listeners = {};\n    this.events = [];\n  }\n  /**\n   * @protected\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} [once = false]\n   */\n\n\n  _createClass(EventEmitter, [{\n    key: '_addListenner',\n    value: function _addListenner(type, listener, once) {\n      if (typeof listener !== 'function') {\n        throw TypeError('listener must be a function');\n      }\n\n      if (this.events.indexOf(type) === -1) {\n        this._listeners[type] = [{\n          once: once,\n          fn: listener\n        }];\n        this.events.push(type);\n      } else {\n        this._listeners[type].push({\n          once: once,\n          fn: listener\n        });\n      }\n    }\n    /**\n     * Subscribes on event type specified function\n     * @param {string} type\n     * @param {function} listener\n     */\n\n  }, {\n    key: 'on',\n    value: function on(type, listener) {\n      this._addListenner(type, listener, false);\n    }\n    /**\n     * Subscribes on event type specified function to fire only once\n     * @param {string} type\n     * @param {function} listener\n     */\n\n  }, {\n    key: 'once',\n    value: function once(type, listener) {\n      this._addListenner(type, listener, true);\n    }\n    /**\n     * Removes event with specified type. If specified listenerFunc - deletes only one listener of specified type\n     * @param {string} eventType\n     * @param {function} [listenerFunc]\n     */\n\n  }, {\n    key: 'off',\n    value: function off(eventType, listenerFunc) {\n      var _this = this;\n\n      var typeIndex = this.events.indexOf(eventType);\n      var hasType = eventType && typeIndex !== -1;\n\n      if (hasType) {\n        if (!listenerFunc) {\n          delete this._listeners[eventType];\n          this.events.splice(typeIndex, 1);\n        } else {\n          (function () {\n            var removedEvents = [];\n            var typeListeners = _this._listeners[eventType];\n            typeListeners.forEach(\n            /**\n             * @param {EventEmitterListenerFunc} fn\n             * @param {number} idx\n             */\n            function (fn, idx) {\n              if (fn.fn === listenerFunc) {\n                removedEvents.unshift(idx);\n              }\n            });\n            removedEvents.forEach(function (idx) {\n              typeListeners.splice(idx, 1);\n            });\n\n            if (!typeListeners.length) {\n              _this.events.splice(typeIndex, 1);\n\n              delete _this._listeners[eventType];\n            }\n          })();\n        }\n      }\n    }\n    /**\n     * Applies arguments to specified event type\n     * @param {string} eventType\n     * @param {*[]} eventArguments\n     * @protected\n     */\n\n  }, {\n    key: '_applyEvents',\n    value: function _applyEvents(eventType, eventArguments) {\n      var typeListeners = this._listeners[eventType];\n\n      if (!typeListeners || !typeListeners.length) {\n        if (this._strictMode) {\n          throw 'No listeners specified for event: ' + eventType;\n        } else {\n          return;\n        }\n      }\n\n      var removableListeners = [];\n      typeListeners.forEach(function (eeListener, idx) {\n        eeListener.fn.apply(null, eventArguments);\n\n        if (eeListener.once) {\n          removableListeners.unshift(idx);\n        }\n      });\n      removableListeners.forEach(function (idx) {\n        typeListeners.splice(idx, 1);\n      });\n    }\n    /**\n     * Emits event with specified type and params.\n     * @param {string} type\n     * @param eventArgs\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(type) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, eventArgs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        eventArgs[_key - 1] = arguments[_key];\n      }\n\n      if (this._emitDelay) {\n        setTimeout(function () {\n          _this2._applyEvents.call(_this2, type, eventArgs);\n        }, this._emitDelay);\n      } else {\n        this._applyEvents(type, eventArgs);\n      }\n    }\n    /**\n     * Emits event with specified type and params synchronously.\n     * @param {string} type\n     * @param eventArgs\n     */\n\n  }, {\n    key: 'emitSync',\n    value: function emitSync(type) {\n      for (var _len2 = arguments.length, eventArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        eventArgs[_key2 - 1] = arguments[_key2];\n      }\n\n      this._applyEvents(type, eventArgs);\n    }\n    /**\n     * Destroys EventEmitter\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._listeners = {};\n      this.events = [];\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nmodule.exports = EventEmitter;\n\n/***/ }),\n\n/***/ \"./node_modules/lodash.debounce/index.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/lodash.debounce/index.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function () {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = debounce;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/object-assign/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/object-assign/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/performance-now/lib/performance-now.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/performance-now/lib/performance-now.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.12.2\n(function () {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n    module.exports = function () {\n      return performance.now();\n    };\n  } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n    module.exports = function () {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n\n    hrtime = process.hrtime;\n\n    getNanoSeconds = function () {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function () {\n      return Date.now() - loadTime;\n    };\n\n    loadTime = Date.now();\n  } else {\n    module.exports = function () {\n      return new Date().getTime() - loadTime;\n    };\n\n    loadTime = new Date().getTime();\n  }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/prefix-style/index.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/prefix-style/index.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar div = null;\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms'];\n\nmodule.exports = function prefixStyle(prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div');\n  }\n\n  var style = div.style; // prop exists without prefix\n\n  if (prop in style) {\n    return prop;\n  } // borderRadius -> BorderRadius\n\n\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1); // find the vendor-prefixed prop\n\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase; // e.g. WebkitBorderRadius or webkitBorderRadius\n\n    if (name in style) {\n      return name;\n    }\n  }\n\n  return false;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/checkPropTypes.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/prop-types/checkPropTypes.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar printWarning = function () {};\n\nif (true) {\n  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes.resetWarningCache = function () {\n  if (true) {\n    loggedTypeFailures = {};\n  }\n};\n\nmodule.exports = checkPropTypes;\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/factoryWithTypeCheckers.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\");\n\nvar assign = __webpack_require__(/*! object-assign */ \"./node_modules/object-assign/index.js\");\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\nvar checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ \"./node_modules/prop-types/checkPropTypes.js\");\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning = function () {};\n\nif (true) {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if ( true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (true) {\n        if (arguments.length > 1) {\n          printWarning('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/prop-types/index.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (true) {\n  var ReactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\"); // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ \"./node_modules/prop-types/factoryWithTypeCheckers.js\")(ReactIs.isElement, throwOnDirectAccess);\n} else {}\n\n/***/ }),\n\n/***/ \"./node_modules/prop-types/lib/ReactPropTypesSecret.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;\n\n/***/ }),\n\n/***/ \"./node_modules/raf/index.js\":\n/*!***********************************!*\\\n  !*** ./node_modules/raf/index.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var now = __webpack_require__(/*! performance-now */ \"./node_modules/performance-now/lib/performance-now.js\"),\n    root = typeof window === 'undefined' ? global : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n} // Some versions of FF have rAF but not cAF\n\n\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n          next = Math.max(0, frameDuration - (_now - last));\n\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0); // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n\n        queue.length = 0;\n\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nmodule.exports = function (fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\n\nmodule.exports.cancel = function () {\n  caf.apply(root, arguments);\n};\n\nmodule.exports.polyfill = function (object) {\n  if (!object) {\n    object = root;\n  }\n\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/react-is/cjs/react-is.development.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/react-is/cjs/react-is.development.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/** @license React v16.8.3\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nif (true) {\n  (function () {\n    'use strict';\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    }); // The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n    // nor polyfill, then a plain number is used for performance.\n\n    var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n    var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n    var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\n    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n    var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n    var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\n    function isValidElementType(type) {\n      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n    }\n    /**\n     * Forked from fbjs/warning:\n     * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n     *\n     * Only change is we use console.warn instead of console.error,\n     * and do nothing when 'console' is not supported.\n     * This really simplifies the code.\n     * ---\n     * Similar to invariant but only logs a warning if the condition is not met.\n     * This can be used to log issues in development environments in critical\n     * paths. Removing the logging code for production environments will keep the\n     * same logic and follow the same code paths.\n     */\n\n\n    var lowPriorityWarning = function () {};\n\n    {\n      var printWarning = function (format) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var argIndex = 0;\n        var message = 'Warning: ' + format.replace(/%s/g, function () {\n          return args[argIndex++];\n        });\n\n        if (typeof console !== 'undefined') {\n          console.warn(message);\n        }\n\n        try {\n          // --- Welcome to debugging React ---\n          // This error was thrown as a convenience so that you can use this stack\n          // to find the callsite that caused this warning to fire.\n          throw new Error(message);\n        } catch (x) {}\n      };\n\n      lowPriorityWarning = function (condition, format) {\n        if (format === undefined) {\n          throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n        }\n\n        if (!condition) {\n          for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n            args[_key2 - 2] = arguments[_key2];\n          }\n\n          printWarning.apply(undefined, [format].concat(args));\n        }\n      };\n    }\n    var lowPriorityWarning$1 = lowPriorityWarning;\n\n    function typeOf(object) {\n      if (typeof object === 'object' && object !== null) {\n        var $$typeof = object.$$typeof;\n\n        switch ($$typeof) {\n          case REACT_ELEMENT_TYPE:\n            var type = object.type;\n\n            switch (type) {\n              case REACT_ASYNC_MODE_TYPE:\n              case REACT_CONCURRENT_MODE_TYPE:\n              case REACT_FRAGMENT_TYPE:\n              case REACT_PROFILER_TYPE:\n              case REACT_STRICT_MODE_TYPE:\n              case REACT_SUSPENSE_TYPE:\n                return type;\n\n              default:\n                var $$typeofType = type && type.$$typeof;\n\n                switch ($$typeofType) {\n                  case REACT_CONTEXT_TYPE:\n                  case REACT_FORWARD_REF_TYPE:\n                  case REACT_PROVIDER_TYPE:\n                    return $$typeofType;\n\n                  default:\n                    return $$typeof;\n                }\n\n            }\n\n          case REACT_LAZY_TYPE:\n          case REACT_MEMO_TYPE:\n          case REACT_PORTAL_TYPE:\n            return $$typeof;\n        }\n      }\n\n      return undefined;\n    } // AsyncMode is deprecated along with isAsyncMode\n\n\n    var AsyncMode = REACT_ASYNC_MODE_TYPE;\n    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n    var ContextConsumer = REACT_CONTEXT_TYPE;\n    var ContextProvider = REACT_PROVIDER_TYPE;\n    var Element = REACT_ELEMENT_TYPE;\n    var ForwardRef = REACT_FORWARD_REF_TYPE;\n    var Fragment = REACT_FRAGMENT_TYPE;\n    var Lazy = REACT_LAZY_TYPE;\n    var Memo = REACT_MEMO_TYPE;\n    var Portal = REACT_PORTAL_TYPE;\n    var Profiler = REACT_PROFILER_TYPE;\n    var StrictMode = REACT_STRICT_MODE_TYPE;\n    var Suspense = REACT_SUSPENSE_TYPE;\n    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n    function isAsyncMode(object) {\n      {\n        if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n          hasWarnedAboutDeprecatedIsAsyncMode = true;\n          lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n        }\n      }\n      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n    }\n\n    function isConcurrentMode(object) {\n      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n    }\n\n    function isContextConsumer(object) {\n      return typeOf(object) === REACT_CONTEXT_TYPE;\n    }\n\n    function isContextProvider(object) {\n      return typeOf(object) === REACT_PROVIDER_TYPE;\n    }\n\n    function isElement(object) {\n      return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n    }\n\n    function isForwardRef(object) {\n      return typeOf(object) === REACT_FORWARD_REF_TYPE;\n    }\n\n    function isFragment(object) {\n      return typeOf(object) === REACT_FRAGMENT_TYPE;\n    }\n\n    function isLazy(object) {\n      return typeOf(object) === REACT_LAZY_TYPE;\n    }\n\n    function isMemo(object) {\n      return typeOf(object) === REACT_MEMO_TYPE;\n    }\n\n    function isPortal(object) {\n      return typeOf(object) === REACT_PORTAL_TYPE;\n    }\n\n    function isProfiler(object) {\n      return typeOf(object) === REACT_PROFILER_TYPE;\n    }\n\n    function isStrictMode(object) {\n      return typeOf(object) === REACT_STRICT_MODE_TYPE;\n    }\n\n    function isSuspense(object) {\n      return typeOf(object) === REACT_SUSPENSE_TYPE;\n    }\n\n    exports.typeOf = typeOf;\n    exports.AsyncMode = AsyncMode;\n    exports.ConcurrentMode = ConcurrentMode;\n    exports.ContextConsumer = ContextConsumer;\n    exports.ContextProvider = ContextProvider;\n    exports.Element = Element;\n    exports.ForwardRef = ForwardRef;\n    exports.Fragment = Fragment;\n    exports.Lazy = Lazy;\n    exports.Memo = Memo;\n    exports.Portal = Portal;\n    exports.Profiler = Profiler;\n    exports.StrictMode = StrictMode;\n    exports.Suspense = Suspense;\n    exports.isValidElementType = isValidElementType;\n    exports.isAsyncMode = isAsyncMode;\n    exports.isConcurrentMode = isConcurrentMode;\n    exports.isContextConsumer = isContextConsumer;\n    exports.isContextProvider = isContextProvider;\n    exports.isElement = isElement;\n    exports.isForwardRef = isForwardRef;\n    exports.isFragment = isFragment;\n    exports.isLazy = isLazy;\n    exports.isMemo = isMemo;\n    exports.isPortal = isPortal;\n    exports.isProfiler = isProfiler;\n    exports.isStrictMode = isStrictMode;\n    exports.isSuspense = isSuspense;\n  })();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/react-is/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/react-is/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ \"./node_modules/react-is/cjs/react-is.development.js\");\n}\n\n/***/ }),\n\n/***/ \"./node_modules/to-camel-case/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/to-camel-case/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar space = __webpack_require__(/*! to-space-case */ \"./node_modules/to-space-case/index.js\");\n/**\n * Export.\n */\n\n\nmodule.exports = toCamelCase;\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase();\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/to-no-case/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/to-no-case/index.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Export.\n */\nmodule.exports = toNoCase;\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/;\nvar hasSeparator = /(_|-|\\.|:)/;\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/;\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase();\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase();\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase();\n  return string.toLowerCase();\n}\n/**\n * Separator splitter.\n */\n\n\nvar separatorSplitter = /[\\W_]+(.|$)/g;\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : '';\n  });\n}\n/**\n * Camelcase splitter.\n */\n\n\nvar camelSplitter = /(.)([A-Z]+)/g;\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ');\n  });\n}\n\n/***/ }),\n\n/***/ \"./node_modules/to-space-case/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/to-space-case/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar clean = __webpack_require__(/*! to-no-case */ \"./node_modules/to-no-case/index.js\");\n/**\n * Export.\n */\n\n\nmodule.exports = toSpaceCase;\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : '';\n  }).trim();\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js\":\n/*!*****************************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js ***!\n  \\*****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = __webpack_require__(/*! react */ \"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n/* eslint-disable react/prop-types */\n\n\nfunction renderViewDefault(props) {\n  return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n  var style = _ref.style,\n      props = _objectWithoutProperties(_ref, ['style']);\n\n  var finalStyle = _extends({}, style, {\n    right: 2,\n    bottom: 2,\n    left: 2,\n    borderRadius: 3\n  });\n\n  return _react2[\"default\"].createElement('div', _extends({\n    style: finalStyle\n  }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n  var style = _ref2.style,\n      props = _objectWithoutProperties(_ref2, ['style']);\n\n  var finalStyle = _extends({}, style, {\n    right: 2,\n    bottom: 2,\n    top: 2,\n    borderRadius: 3\n  });\n\n  return _react2[\"default\"].createElement('div', _extends({\n    style: finalStyle\n  }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n  var style = _ref3.style,\n      props = _objectWithoutProperties(_ref3, ['style']);\n\n  var finalStyle = _extends({}, style, {\n    cursor: 'pointer',\n    borderRadius: 'inherit',\n    backgroundColor: 'rgba(0,0,0,.2)'\n  });\n\n  return _react2[\"default\"].createElement('div', _extends({\n    style: finalStyle\n  }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n  var style = _ref4.style,\n      props = _objectWithoutProperties(_ref4, ['style']);\n\n  var finalStyle = _extends({}, style, {\n    cursor: 'pointer',\n    borderRadius: 'inherit',\n    backgroundColor: 'rgba(0,0,0,.2)'\n  });\n\n  return _react2[\"default\"].createElement('div', _extends({\n    style: finalStyle\n  }, props));\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/index.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/index.js ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _raf2 = __webpack_require__(/*! raf */ \"./node_modules/raf/index.js\");\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = __webpack_require__(/*! dom-css */ \"./node_modules/dom-css/index.js\");\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = __webpack_require__(/*! react */ \"react\");\n\nvar _propTypes = __webpack_require__(/*! prop-types */ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/index.js\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = __webpack_require__(/*! ../utils/isString */ \"./node_modules/tt-react-custom-scrollbars/lib/utils/isString.js\");\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = __webpack_require__(/*! ../utils/getScrollbarWidth */ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getScrollbarWidth.js\");\n\nvar _returnFalse = __webpack_require__(/*! ../utils/returnFalse */ \"./node_modules/tt-react-custom-scrollbars/lib/utils/returnFalse.js\");\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = __webpack_require__(/*! ../utils/getInnerWidth */ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerWidth.js\");\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = __webpack_require__(/*! ../utils/getInnerHeight */ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerHeight.js\");\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = __webpack_require__(/*! ./styles */ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/styles.js\");\n\nvar _defaultRenderElements = __webpack_require__(/*! ./defaultRenderElements */ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar POLL_SCROLLBAR_WIDTH_INTERVAL = 3000;\n\nvar Scrollbars = function (_Component) {\n  _inherits(Scrollbars, _Component);\n\n  function Scrollbars(props) {\n    var _ref;\n\n    _classCallCheck(this, Scrollbars);\n\n    for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n    _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n    _this.getScrollTop = _this.getScrollTop.bind(_this);\n    _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n    _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n    _this.getClientWidth = _this.getClientWidth.bind(_this);\n    _this.getClientHeight = _this.getClientHeight.bind(_this);\n    _this.getPaddingWidth = _this.getPaddingWidth.bind(_this);\n    _this.getPaddingHeight = _this.getPaddingHeight.bind(_this);\n    _this.getValues = _this.getValues.bind(_this);\n    _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n    _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n    _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n    _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n    _this.scrollLeft = _this.scrollLeft.bind(_this);\n    _this.scrollTop = _this.scrollTop.bind(_this);\n    _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n    _this.scrollToTop = _this.scrollToTop.bind(_this);\n    _this.scrollToRight = _this.scrollToRight.bind(_this);\n    _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n    _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n    _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n    _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n    _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n    _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n    _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n    _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n    _this.handleScroll = _this.handleScroll.bind(_this);\n    _this.handleDrag = _this.handleDrag.bind(_this);\n    _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n    _this.pollScrollbarWidth = _this.pollScrollbarWidth.bind(_this);\n    _this.state = {\n      didMountUniversal: false,\n      scrollbarWidth: 17\n    };\n    return _this;\n  }\n\n  _createClass(Scrollbars, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.addListeners();\n      this.update();\n      this.componentDidMountUniversal();\n    }\n  }, {\n    key: 'componentDidMountUniversal',\n    value: function componentDidMountUniversal() {\n      // eslint-disable-line react/sort-comp\n      var universal = this.props.universal;\n      if (!universal) return;\n      this.setState({\n        didMountUniversal: true\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeListeners();\n      (0, _raf2.cancel)(this.requestFrame);\n      clearTimeout(this.hideTracksTimeout);\n      clearInterval(this.detectScrollingInterval);\n    }\n  }, {\n    key: 'getScrollLeft',\n    value: function getScrollLeft() {\n      if (!this.view) return 0;\n      return this.view.scrollLeft;\n    }\n  }, {\n    key: 'getScrollTop',\n    value: function getScrollTop() {\n      if (!this.view) return 0;\n      return this.view.scrollTop;\n    }\n  }, {\n    key: 'getScrollWidth',\n    value: function getScrollWidth() {\n      if (!this.view) return 0;\n      return this.view.scrollWidth - this.getPaddingWidth();\n    }\n  }, {\n    key: 'getScrollHeight',\n    value: function getScrollHeight() {\n      if (!this.view) return 0;\n      return this.view.scrollHeight - this.getPaddingHeight();\n    }\n  }, {\n    key: 'getClientWidth',\n    value: function getClientWidth() {\n      if (!this.view) return 0;\n      return this.view.clientWidth - this.getPaddingWidth();\n    }\n  }, {\n    key: 'getClientHeight',\n    value: function getClientHeight() {\n      if (!this.view) return 0;\n      return this.view.clientHeight - this.getPaddingHeight();\n    }\n  }, {\n    key: 'getPaddingWidth',\n    value: function getPaddingWidth() {\n      return _styles.scrollbarSize;\n    }\n  }, {\n    key: 'getPaddingHeight',\n    value: function getPaddingHeight() {\n      return _styles.scrollbarSize;\n    }\n  }, {\n    key: 'getValues',\n    value: function getValues() {\n      if (!this.view) return null;\n\n      var _ref2 = this.view || {},\n          _ref2$offsetWidth = _ref2.offsetWidth,\n          offsetWidth = _ref2$offsetWidth === undefined ? 0 : _ref2$offsetWidth,\n          _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeft = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTop = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop,\n          _ref2$scrollWidth = _ref2.scrollWidth,\n          realScrollWidth = _ref2$scrollWidth === undefined ? 0 : _ref2$scrollWidth,\n          _ref2$scrollHeight = _ref2.scrollHeight,\n          realScrollHeight = _ref2$scrollHeight === undefined ? 0 : _ref2$scrollHeight,\n          _ref2$clientWidth = _ref2.clientWidth,\n          realClientWidth = _ref2$clientWidth === undefined ? 0 : _ref2$clientWidth,\n          _ref2$clientHeight = _ref2.clientHeight,\n          realClientHeight = _ref2$clientHeight === undefined ? 0 : _ref2$clientHeight;\n\n      var scrollWidth = realScrollWidth - this.getPaddingWidth();\n      var scrollHeight = realScrollHeight - this.getPaddingHeight();\n      var clientWidth = realClientWidth - this.getPaddingWidth();\n      var clientHeight = realClientHeight - this.getPaddingHeight();\n      return {\n        left: scrollLeft / (scrollWidth - clientWidth) || 0,\n        top: scrollTop / (scrollHeight - clientHeight) || 0,\n        offsetWidth: offsetWidth,\n        realClientWidth: realClientWidth,\n        realClientHeight: realClientHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth,\n        scrollHeight: scrollHeight,\n        clientWidth: clientWidth,\n        clientHeight: clientHeight\n      };\n    }\n  }, {\n    key: 'getThumbHorizontalWidth',\n    value: function getThumbHorizontalWidth() {\n      var _props = this.props,\n          thumbSize = _props.thumbSize,\n          thumbMinSize = _props.thumbMinSize;\n      var _view = this.view,\n          realScrollWidth = _view.scrollWidth,\n          realClientWidth = _view.clientWidth;\n      var scrollWidth = realScrollWidth - this.getPaddingWidth();\n      var clientWidth = realClientWidth - this.getPaddingWidth();\n      var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n      var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n      if (scrollWidth <= clientWidth) return 0;\n      if (thumbSize) return thumbSize;\n      return Math.max(width, thumbMinSize);\n    }\n  }, {\n    key: 'getThumbVerticalHeight',\n    value: function getThumbVerticalHeight() {\n      var _props2 = this.props,\n          thumbSize = _props2.thumbSize,\n          thumbMinSize = _props2.thumbMinSize;\n      var _view2 = this.view,\n          realScrollHeight = _view2.scrollHeight,\n          realClientHeight = _view2.clientHeight;\n      var scrollHeight = realScrollHeight - this.getPaddingHeight();\n      var clientHeight = realClientHeight - this.getPaddingHeight();\n      var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n      var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n      if (scrollHeight <= clientHeight) return 0;\n      if (thumbSize) return thumbSize;\n      return Math.max(height, thumbMinSize);\n    }\n  }, {\n    key: 'getScrollLeftForOffset',\n    value: function getScrollLeftForOffset(offset) {\n      var _view3 = this.view,\n          realScrollWidth = _view3.scrollWidth,\n          realClientWidth = _view3.clientWidth;\n      var scrollWidth = realScrollWidth - this.getPaddingWidth();\n      var clientWidth = realClientWidth - this.getPaddingWidth();\n      var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n      var thumbWidth = this.getThumbHorizontalWidth();\n      return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n    }\n  }, {\n    key: 'getScrollTopForOffset',\n    value: function getScrollTopForOffset(offset) {\n      var _view4 = this.view,\n          realScrollHeight = _view4.scrollHeight,\n          realClientHeight = _view4.clientHeight;\n      var scrollHeight = realScrollHeight - this.getPaddingHeight();\n      var clientHeight = realClientHeight - this.getPaddingHeight();\n      var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n      var thumbHeight = this.getThumbVerticalHeight();\n      return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n    }\n  }, {\n    key: 'scrollLeft',\n    value: function scrollLeft() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!this.view) return;\n      this.view.scrollLeft = left;\n    }\n  }, {\n    key: 'scrollTop',\n    value: function scrollTop() {\n      var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!this.view) return;\n      this.view.scrollTop = top;\n    }\n  }, {\n    key: 'scrollToLeft',\n    value: function scrollToLeft() {\n      if (!this.view) return;\n      this.view.scrollLeft = 0;\n    }\n  }, {\n    key: 'scrollToTop',\n    value: function scrollToTop() {\n      if (!this.view) return;\n      this.view.scrollTop = 0;\n    }\n  }, {\n    key: 'scrollToRight',\n    value: function scrollToRight() {\n      if (!this.view) return;\n      this.view.scrollLeft = this.view.scrollWidth - this.getPaddingWidth();\n    }\n  }, {\n    key: 'scrollToBottom',\n    value: function scrollToBottom() {\n      if (!this.view) return;\n      this.view.scrollTop = this.view.scrollHeight - this.getPaddingHeight();\n    }\n  }, {\n    key: 'addListeners',\n    value: function addListeners() {\n      /* istanbul ignore if */\n      if (typeof document === 'undefined' || !this.view) return;\n      var view = this.view,\n          trackHorizontal = this.trackHorizontal,\n          trackVertical = this.trackVertical,\n          thumbHorizontal = this.thumbHorizontal,\n          thumbVertical = this.thumbVertical;\n      view.addEventListener('scroll', this.handleScroll);\n      trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n      trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n      trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n      trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n      trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n      trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n      thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n      thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n      window.addEventListener('resize', this.handleWindowResize);\n      this.pollScrollbarWidthTimer = setTimeout(this.pollScrollbarWidth, POLL_SCROLLBAR_WIDTH_INTERVAL);\n    }\n  }, {\n    key: 'removeListeners',\n    value: function removeListeners() {\n      /* istanbul ignore if */\n      if (typeof document === 'undefined' || !this.view) return;\n      var view = this.view,\n          trackHorizontal = this.trackHorizontal,\n          trackVertical = this.trackVertical,\n          thumbHorizontal = this.thumbHorizontal,\n          thumbVertical = this.thumbVertical;\n      if (view) view.removeEventListener('scroll', this.handleScroll);\n\n      if (trackHorizontal) {\n        trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n      }\n\n      if (trackVertical) {\n        trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n        trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n        trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n      }\n\n      if (thumbHorizontal) thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n      if (thumbVertical) thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n      window.removeEventListener('resize', this.handleWindowResize);\n      if (this.pollScrollbarWidthTimer) clearTimeout(this.pollScrollbarWidthTimer); // Possibly setup by `handleDragStart`\n\n      this.teardownDragging();\n    }\n  }, {\n    key: 'pollScrollbarWidth',\n    value: function pollScrollbarWidth() {\n      var _this2 = this;\n\n      this.raf(function () {\n        if (_this2.detectScrollbarWidthChange(_this2.getValues())) {\n          _this2._update(function () {\n            _this2.pollScrollbarWidthTimer = setTimeout(_this2.pollScrollbarWidth, POLL_SCROLLBAR_WIDTH_INTERVAL);\n          });\n        } else {\n          _this2.pollScrollbarWidthTimer = setTimeout(_this2.pollScrollbarWidth, POLL_SCROLLBAR_WIDTH_INTERVAL);\n        }\n      });\n    }\n  }, {\n    key: 'detectScrollbarWidthChange',\n    value: function detectScrollbarWidthChange(values) {\n      var _this3 = this;\n\n      var scrollLeft = values.scrollLeft,\n          scrollTop = values.scrollTop;\n      (0, _getScrollbarWidth.invalidateScrollbarWidth)();\n      var scrollbarWidth = (0, _getScrollbarWidth.getScrollbarWidth)(values);\n      var isChanged = scrollbarWidth !== this.state.scrollbarWidth && scrollbarWidth !== this.state.scrollbarWidth + 1;\n\n      if (isChanged) {\n        this.setState({\n          scrollbarWidth: scrollbarWidth\n        }, function () {\n          var _getValues = _this3.getValues(),\n              clientHeight = _getValues.clientHeight,\n              scrollHeight = _getValues.scrollHeight;\n\n          var nearBottom = Math.abs(scrollHeight - clientHeight - scrollTop) <= scrollbarWidth;\n\n          _this3.scrollLeft(scrollLeft);\n\n          if (nearBottom) {\n            _this3.scrollTop(scrollHeight - clientHeight);\n          } else {\n            _this3.scrollTop(scrollTop);\n          }\n        });\n      }\n\n      return isChanged;\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll(event) {\n      var _this4 = this;\n\n      var _props3 = this.props,\n          onScroll = _props3.onScroll,\n          onScrollFrame = _props3.onScrollFrame;\n      if (onScroll) onScroll(event);\n      this.update(function (values) {\n        var scrollLeft = values.scrollLeft,\n            scrollTop = values.scrollTop;\n        _this4.viewScrollLeft = scrollLeft;\n        _this4.viewScrollTop = scrollTop;\n        if (onScrollFrame) onScrollFrame(values);\n      });\n      this.detectScrolling();\n    }\n  }, {\n    key: 'handleScrollStart',\n    value: function handleScrollStart() {\n      var onScrollStart = this.props.onScrollStart;\n      if (onScrollStart) onScrollStart();\n      this.handleScrollStartAutoHide();\n    }\n  }, {\n    key: 'handleScrollStartAutoHide',\n    value: function handleScrollStartAutoHide() {\n      var autoHide = this.props.autoHide;\n      if (!autoHide) return;\n      this.showTracks();\n    }\n  }, {\n    key: 'handleScrollStop',\n    value: function handleScrollStop() {\n      var onScrollStop = this.props.onScrollStop;\n      if (onScrollStop) onScrollStop();\n      this.handleScrollStopAutoHide();\n    }\n  }, {\n    key: 'handleScrollStopAutoHide',\n    value: function handleScrollStopAutoHide() {\n      var autoHide = this.props.autoHide;\n      if (!autoHide) return;\n      this.hideTracks();\n    }\n  }, {\n    key: 'handleWindowResize',\n    value: function handleWindowResize() {\n      this.update();\n    }\n  }, {\n    key: 'handleHorizontalTrackMouseDown',\n    value: function handleHorizontalTrackMouseDown(event) {\n      event.preventDefault();\n      var target = event.target,\n          clientX = event.clientX;\n\n      var _target$getBoundingCl = target.getBoundingClientRect(),\n          targetLeft = _target$getBoundingCl.left;\n\n      var thumbWidth = this.getThumbHorizontalWidth();\n      var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n      this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n    }\n  }, {\n    key: 'handleVerticalTrackMouseDown',\n    value: function handleVerticalTrackMouseDown(event) {\n      event.preventDefault();\n      var target = event.target,\n          clientY = event.clientY;\n\n      var _target$getBoundingCl2 = target.getBoundingClientRect(),\n          targetTop = _target$getBoundingCl2.top;\n\n      var thumbHeight = this.getThumbVerticalHeight();\n      var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n      this.view.scrollTop = this.getScrollTopForOffset(offset);\n    }\n  }, {\n    key: 'handleHorizontalThumbMouseDown',\n    value: function handleHorizontalThumbMouseDown(event) {\n      event.preventDefault();\n      this.handleDragStart(event);\n      var target = event.target,\n          clientX = event.clientX;\n      var offsetWidth = target.offsetWidth;\n\n      var _target$getBoundingCl3 = target.getBoundingClientRect(),\n          left = _target$getBoundingCl3.left;\n\n      this.prevPageX = offsetWidth - (clientX - left);\n    }\n  }, {\n    key: 'handleVerticalThumbMouseDown',\n    value: function handleVerticalThumbMouseDown(event) {\n      event.preventDefault();\n      this.handleDragStart(event);\n      var target = event.target,\n          clientY = event.clientY;\n      var offsetHeight = target.offsetHeight;\n\n      var _target$getBoundingCl4 = target.getBoundingClientRect(),\n          top = _target$getBoundingCl4.top;\n\n      this.prevPageY = offsetHeight - (clientY - top);\n    }\n  }, {\n    key: 'setupDragging',\n    value: function setupDragging() {\n      (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n      document.addEventListener('mousemove', this.handleDrag);\n      document.addEventListener('mouseup', this.handleDragEnd);\n      document.onselectstart = _returnFalse2[\"default\"];\n    }\n  }, {\n    key: 'teardownDragging',\n    value: function teardownDragging() {\n      (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n      document.removeEventListener('mousemove', this.handleDrag);\n      document.removeEventListener('mouseup', this.handleDragEnd);\n      document.onselectstart = undefined;\n    }\n  }, {\n    key: 'handleDragStart',\n    value: function handleDragStart(event) {\n      this.dragging = true;\n      event.stopImmediatePropagation();\n      this.setupDragging();\n    }\n  }, {\n    key: 'handleDrag',\n    value: function handleDrag(event) {\n      if (this.prevPageX) {\n        var clientX = event.clientX;\n\n        var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n            trackLeft = _trackHorizontal$getB.left;\n\n        var thumbWidth = this.getThumbHorizontalWidth();\n        var clickPosition = thumbWidth - this.prevPageX;\n        var offset = -trackLeft + clientX - clickPosition;\n        this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n      }\n\n      if (this.prevPageY) {\n        var clientY = event.clientY;\n\n        var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n            trackTop = _trackVertical$getBou.top;\n\n        var thumbHeight = this.getThumbVerticalHeight();\n\n        var _clickPosition = thumbHeight - this.prevPageY;\n\n        var _offset = -trackTop + clientY - _clickPosition;\n\n        this.view.scrollTop = this.getScrollTopForOffset(_offset);\n      }\n\n      return false;\n    }\n  }, {\n    key: 'handleDragEnd',\n    value: function handleDragEnd() {\n      this.dragging = false;\n      this.prevPageX = this.prevPageY = 0;\n      this.teardownDragging();\n      this.handleDragEndAutoHide();\n    }\n  }, {\n    key: 'handleDragEndAutoHide',\n    value: function handleDragEndAutoHide() {\n      var autoHide = this.props.autoHide;\n      if (!autoHide) return;\n      this.hideTracks();\n    }\n  }, {\n    key: 'handleTrackMouseEnter',\n    value: function handleTrackMouseEnter() {\n      this.trackMouseOver = true;\n      this.handleTrackMouseEnterAutoHide();\n    }\n  }, {\n    key: 'handleTrackMouseEnterAutoHide',\n    value: function handleTrackMouseEnterAutoHide() {\n      var autoHide = this.props.autoHide;\n      if (!autoHide) return;\n      this.showTracks();\n    }\n  }, {\n    key: 'handleTrackMouseLeave',\n    value: function handleTrackMouseLeave() {\n      this.trackMouseOver = false;\n      this.handleTrackMouseLeaveAutoHide();\n    }\n  }, {\n    key: 'handleTrackMouseLeaveAutoHide',\n    value: function handleTrackMouseLeaveAutoHide() {\n      var autoHide = this.props.autoHide;\n      if (!autoHide) return;\n      this.hideTracks();\n    }\n  }, {\n    key: 'showTracks',\n    value: function showTracks() {\n      clearTimeout(this.hideTracksTimeout);\n      (0, _domCss2[\"default\"])(this.trackHorizontal, {\n        opacity: 1\n      });\n      (0, _domCss2[\"default\"])(this.trackVertical, {\n        opacity: 1\n      });\n    }\n  }, {\n    key: 'hideTracks',\n    value: function hideTracks() {\n      var _this5 = this;\n\n      if (this.dragging) return;\n      if (this.scrolling) return;\n      if (this.trackMouseOver) return;\n      var autoHideTimeout = this.props.autoHideTimeout;\n      clearTimeout(this.hideTracksTimeout);\n      this.hideTracksTimeout = setTimeout(function () {\n        (0, _domCss2[\"default\"])(_this5.trackHorizontal, {\n          opacity: 0\n        });\n        (0, _domCss2[\"default\"])(_this5.trackVertical, {\n          opacity: 0\n        });\n      }, autoHideTimeout);\n    }\n  }, {\n    key: 'detectScrolling',\n    value: function detectScrolling() {\n      var _this6 = this;\n\n      if (this.scrolling) return;\n      this.scrolling = true;\n      this.handleScrollStart();\n      this.detectScrollingInterval = setInterval(function () {\n        if (_this6.lastViewScrollLeft === _this6.viewScrollLeft && _this6.lastViewScrollTop === _this6.viewScrollTop) {\n          clearInterval(_this6.detectScrollingInterval);\n          _this6.scrolling = false;\n\n          _this6.handleScrollStop();\n        }\n\n        _this6.lastViewScrollLeft = _this6.viewScrollLeft;\n        _this6.lastViewScrollTop = _this6.viewScrollTop;\n      }, 100);\n    }\n  }, {\n    key: 'raf',\n    value: function raf(callback) {\n      var _this7 = this;\n\n      if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n      this.requestFrame = (0, _raf3[\"default\"])(function () {\n        _this7.requestFrame = undefined;\n        callback();\n      });\n    }\n  }, {\n    key: 'update',\n    value: function update(callback) {\n      var _this8 = this;\n\n      this.raf(function () {\n        _this8._update(function (values) {\n          _this8.detectScrollbarWidthChange(values);\n\n          if (typeof callback !== 'function') return;\n          callback(values);\n        });\n      });\n    }\n  }, {\n    key: '_update',\n    value: function _update(callback) {\n      var _props4 = this.props,\n          onUpdate = _props4.onUpdate,\n          hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n      this.container.scrollTop = 0;\n      this.container.scrollLeft = 0;\n\n      if (!this.view) {\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var values = this.getValues();\n      var scrollLeft = values.scrollLeft,\n          clientWidth = values.clientWidth,\n          scrollWidth = values.scrollWidth;\n      var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n      var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n      var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n      var thumbHorizontalStyle = {\n        width: thumbHorizontalWidth,\n        transform: 'translateX(' + thumbHorizontalX + 'px)'\n      };\n      var scrollTop = values.scrollTop,\n          clientHeight = values.clientHeight,\n          scrollHeight = values.scrollHeight;\n      var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n      var thumbVerticalHeight = this.getThumbVerticalHeight();\n      var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n      var thumbVerticalStyle = {\n        height: thumbVerticalHeight,\n        transform: 'translateY(' + thumbVerticalY + 'px)'\n      };\n\n      if (hideTracksWhenNotNeeded) {\n        var trackHorizontalStyle = {\n          visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n        };\n        var trackVerticalStyle = {\n          visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n        };\n        (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n        (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n      }\n\n      (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n      (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n      if (onUpdate) onUpdate(values);\n      if (typeof callback !== 'function') return;\n      callback(values);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this9 = this;\n      /* eslint-disable no-unused-vars */\n\n\n      var _props5 = this.props,\n          onScroll = _props5.onScroll,\n          onScrollFrame = _props5.onScrollFrame,\n          onScrollStart = _props5.onScrollStart,\n          onScrollStop = _props5.onScrollStop,\n          onUpdate = _props5.onUpdate,\n          renderView = _props5.renderView,\n          renderTrackHorizontal = _props5.renderTrackHorizontal,\n          renderTrackVertical = _props5.renderTrackVertical,\n          renderThumbHorizontal = _props5.renderThumbHorizontal,\n          renderThumbVertical = _props5.renderThumbVertical,\n          tagName = _props5.tagName,\n          hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n          autoHide = _props5.autoHide,\n          autoHideTimeout = _props5.autoHideTimeout,\n          autoHideDuration = _props5.autoHideDuration,\n          thumbSize = _props5.thumbSize,\n          thumbMinSize = _props5.thumbMinSize,\n          universal = _props5.universal,\n          autoHeight = _props5.autoHeight,\n          autoHeightMin = _props5.autoHeightMin,\n          autoHeightMax = _props5.autoHeightMax,\n          style = _props5.style,\n          children = _props5.children,\n          props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n      /* eslint-enable no-unused-vars */\n\n\n      var _state = this.state,\n          didMountUniversal = _state.didMountUniversal,\n          scrollbarWidth = _state.scrollbarWidth;\n\n      var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n        minHeight: autoHeightMin,\n        maxHeight: autoHeightMax\n      }), style);\n\n      var viewStyle = _extends({}, _styles.viewStyleDefault, {\n        // Hide scrollbars by setting a negative margin\n        marginRight: -this.getPaddingWidth() + (scrollbarWidth ? -scrollbarWidth : 0),\n        marginBottom: -this.getPaddingHeight() + (scrollbarWidth ? -scrollbarWidth : 0),\n        width: 'calc(100% + ' + (_styles.scrollbarSize + scrollbarWidth) + 'px)'\n      }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n        // Add paddingHeight and scrollbarWidth to autoHeight in order to compensate negative margins\n        minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + (this.getPaddingHeight() + scrollbarWidth) + 'px)' : autoHeightMin + this.getPaddingHeight() + scrollbarWidth,\n        maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + (this.getPaddingHeight() + scrollbarWidth) + 'px)' : autoHeightMax + this.getPaddingHeight() + scrollbarWidth\n      }), autoHeight && universal && !didMountUniversal && {\n        minHeight: autoHeightMin,\n        maxHeight: autoHeightMax\n      }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n      var viewWrapperStyle = _extends({}, _styles.viewWrapperStyleDefault, autoHeight && _extends({}, _styles.viewWrapperStyleAutoHeight));\n\n      var viewWrappedStyle = _extends({}, _styles.viewWrappedStyleDefault);\n\n      var trackAutoHeightStyle = {\n        transition: 'opacity ' + autoHideDuration + 'ms',\n        opacity: 0\n      };\n\n      var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, universal && !didMountUniversal && {\n        display: 'none'\n      });\n\n      var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, universal && !didMountUniversal && {\n        display: 'none'\n      });\n\n      return (0, _react.createElement)(tagName, {\n        className: props.className ? props.className : '',\n        style: containerStyle,\n        ref: function ref(_ref3) {\n          _this9.container = _ref3;\n        }\n      }, [(0, _react.createElement)('div', {\n        style: viewStyle,\n        key: 'view',\n        ref: function ref(_ref4) {\n          _this9.view = _ref4;\n        }\n      }, [(0, _react.createElement)('div', {\n        style: viewWrapperStyle,\n        key: 'viewWrapper',\n        ref: function ref(_ref5) {\n          _this9.viewWrapper = _ref5;\n        }\n      }, [(0, _react.cloneElement)(renderView({\n        style: viewWrappedStyle\n      }), {\n        key: 'viewWrapped',\n        ref: function ref(_ref6) {\n          _this9.viewWrapped = _ref6;\n        }\n      }, children)])]), (0, _react.cloneElement)(renderTrackHorizontal({\n        style: trackHorizontalStyle\n      }), {\n        key: 'trackHorizontal',\n        ref: function ref(_ref7) {\n          _this9.trackHorizontal = _ref7;\n        }\n      }, (0, _react.cloneElement)(renderThumbHorizontal({\n        style: _styles.thumbHorizontalStyleDefault\n      }), {\n        ref: function ref(_ref8) {\n          _this9.thumbHorizontal = _ref8;\n        }\n      })), (0, _react.cloneElement)(renderTrackVertical({\n        style: trackVerticalStyle\n      }), {\n        key: 'trackVertical',\n        ref: function ref(_ref9) {\n          _this9.trackVertical = _ref9;\n        }\n      }, (0, _react.cloneElement)(renderThumbVertical({\n        style: _styles.thumbVerticalStyleDefault\n      }), {\n        ref: function ref(_ref10) {\n          _this9.thumbVertical = _ref10;\n        }\n      }))]);\n    }\n  }]);\n\n  return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\nScrollbars.propTypes = {\n  onScroll: _propTypes2[\"default\"].func,\n  onScrollFrame: _propTypes2[\"default\"].func,\n  onScrollStart: _propTypes2[\"default\"].func,\n  onScrollStop: _propTypes2[\"default\"].func,\n  onUpdate: _propTypes2[\"default\"].func,\n  renderView: _propTypes2[\"default\"].func,\n  renderTrackHorizontal: _propTypes2[\"default\"].func,\n  renderTrackVertical: _propTypes2[\"default\"].func,\n  renderThumbHorizontal: _propTypes2[\"default\"].func,\n  renderThumbVertical: _propTypes2[\"default\"].func,\n  tagName: _propTypes2[\"default\"].string,\n  thumbSize: _propTypes2[\"default\"].number,\n  thumbMinSize: _propTypes2[\"default\"].number,\n  hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n  autoHide: _propTypes2[\"default\"].bool,\n  autoHideTimeout: _propTypes2[\"default\"].number,\n  autoHideDuration: _propTypes2[\"default\"].number,\n  autoHeight: _propTypes2[\"default\"].bool,\n  autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n  autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n  universal: _propTypes2[\"default\"].bool,\n  style: _propTypes2[\"default\"].object,\n  children: _propTypes2[\"default\"].node\n};\nScrollbars.defaultProps = {\n  renderView: _defaultRenderElements.renderViewDefault,\n  renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n  renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n  renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n  renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n  tagName: 'div',\n  thumbMinSize: 30,\n  hideTracksWhenNotNeeded: false,\n  autoHide: false,\n  autoHideTimeout: 1000,\n  autoHideDuration: 200,\n  autoHeight: false,\n  autoHeightMin: 0,\n  autoHeightMax: 200,\n  universal: false\n};\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/styles.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/styles.js ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar scrollbarSize = exports.scrollbarSize = 100;\nvar containerStyleDefault = exports.containerStyleDefault = {\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n  height: '100%'\n};\nvar viewWrapperStyleDefault = exports.viewWrapperStyleDefault = {\n  paddingRight: scrollbarSize,\n  paddingBottom: scrollbarSize,\n  width: 'auto',\n  minWidth: '100%',\n  boxSizing: 'border-box',\n  verticalAlign: 'top',\n  display: 'inline-block'\n};\nvar viewWrappedStyleDefault = exports.viewWrappedStyleDefault = {\n  position: 'relative',\n  display: 'block',\n  verticalAlign: 'top',\n  width: '100%',\n  boxSizing: 'border-box'\n}; // Overrides containerStyleDefault properties\n\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n  height: 'auto'\n};\nvar viewStyleDefault = exports.viewStyleDefault = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  overflow: 'scroll',\n  MsOverflowStyle: 'scrollbar',\n  WebkitOverflowScrolling: 'touch',\n  height: 'auto',\n  boxSizing: 'content-box'\n}; // Overrides viewStyleDefault properties\n\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n  position: 'relative',\n  top: undefined,\n  left: undefined,\n  right: undefined,\n  bottom: undefined\n};\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n  overflow: 'hidden',\n  marginRight: 0,\n  marginBottom: 0\n};\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n  position: 'absolute',\n  height: 6\n};\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n  position: 'absolute',\n  width: 6\n};\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n  position: 'relative',\n  display: 'block',\n  height: '100%'\n};\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n  position: 'relative',\n  display: 'block',\n  width: '100%'\n};\nvar disableSelectStyle = exports.disableSelectStyle = {\n  userSelect: 'none'\n};\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n  userSelect: ''\n};\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/index.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = __webpack_require__(/*! ./Scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/Scrollbars/index.js\");\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerHeight.js\":\n/*!*****************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerHeight.js ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getInnerHeight;\n\nfunction getInnerHeight(el) {\n  var clientHeight = el.clientHeight;\n\n  var _getComputedStyle = getComputedStyle(el),\n      paddingTop = _getComputedStyle.paddingTop,\n      paddingBottom = _getComputedStyle.paddingBottom;\n\n  return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerWidth.js\":\n/*!****************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/utils/getInnerWidth.js ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getInnerWidth;\n\nfunction getInnerWidth(el) {\n  var clientWidth = el.clientWidth;\n\n  var _getComputedStyle = getComputedStyle(el),\n      paddingLeft = _getComputedStyle.paddingLeft,\n      paddingRight = _getComputedStyle.paddingRight;\n\n  return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/utils/getScrollbarWidth.js\":\n/*!********************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/utils/getScrollbarWidth.js ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.invalidateScrollbarWidth = invalidateScrollbarWidth;\nvar scrollbarWidth = false;\n\nfunction invalidateScrollbarWidth() {\n  scrollbarWidth = false;\n}\n\nfunction getScrollbarWidth(values) {\n  if (scrollbarWidth !== false) return scrollbarWidth;\n  /* istanbul ignore else */\n\n  if (values && typeof document !== 'undefined') {\n    scrollbarWidth = values.offsetWidth - values.realClientWidth;\n  } else {\n    scrollbarWidth = 0;\n  }\n\n  return scrollbarWidth || 0;\n}\n\nexports[\"default\"] = getScrollbarWidth;\nexports.getScrollbarWidth = getScrollbarWidth;\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/utils/isString.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/utils/isString.js ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = isString;\n\nfunction isString(maybe) {\n  return typeof maybe === 'string';\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/lib/utils/returnFalse.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/lib/utils/returnFalse.js ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = returnFalse;\n\nfunction returnFalse() {\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/checkPropTypes.js\":\n/*!*******************************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/checkPropTypes.js ***!\n  \\*******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar printWarning = function () {};\n\nif (true) {\n  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\n  var loggedTypeFailures = {};\n\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (true) {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/factoryWithTypeCheckers.js\":\n/*!****************************************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/factoryWithTypeCheckers.js ***!\n  \\****************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar assign = __webpack_require__(/*! object-assign */ \"./node_modules/object-assign/index.js\");\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js\");\n\nvar checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/checkPropTypes.js\");\n\nvar printWarning = function () {};\n\nif (true) {\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (true) {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if ( true && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n       true ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : undefined;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = assign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/index.js\":\n/*!**********************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/index.js ***!\n  \\**********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (true) {\n  var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n\n  var isValidElement = function (object) {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }; // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/factoryWithTypeCheckers.js\")(isValidElement, throwOnDirectAccess);\n} else {}\n\n/***/ }),\n\n/***/ \"./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js\":\n/*!*****************************************************************************************************!*\\\n  !*** ./node_modules/tt-react-custom-scrollbars/node_modules/prop-types/lib/ReactPropTypesSecret.js ***!\n  \\*****************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;\n\n/***/ }),\n\n/***/ \"./sass/_themes.scss\":\n/*!***************************!*\\\n  !*** ./sass/_themes.scss ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_bottom-widget-container.scss\":\n/*!*******************************************************!*\\\n  !*** ./sass/components/_bottom-widget-container.scss ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_categorical-display.scss\":\n/*!***************************************************!*\\\n  !*** ./sass/components/_categorical-display.scss ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-controls.scss\":\n/*!**********************************************!*\\\n  !*** ./sass/components/_chart-controls.scss ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-size.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_chart-size.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-title.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_chart-title.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_chart-types.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_chart-types.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-asset-information.scss\":\n/*!*****************************************************!*\\\n  !*** ./sass/components/_ciq-asset-information.scss ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-chart-setting.scss\":\n/*!*************************************************!*\\\n  !*** ./sass/components/_ciq-chart-setting.scss ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-chart-table.scss\":\n/*!***********************************************!*\\\n  !*** ./sass/components/_ciq-chart-table.scss ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-crosshair.scss\":\n/*!*********************************************!*\\\n  !*** ./sass/components/_ciq-crosshair.scss ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-dialog.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_ciq-dialog.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-download.scss\":\n/*!********************************************!*\\\n  !*** ./sass/components/_ciq-download.scss ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-form.scss\":\n/*!****************************************!*\\\n  !*** ./sass/components/_ciq-form.scss ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-list.scss\":\n/*!****************************************!*\\\n  !*** ./sass/components/_ciq-list.scss ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_ciq-settings-dialog.scss\":\n/*!***************************************************!*\\\n  !*** ./sass/components/_ciq-settings-dialog.scss ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_comparison-list.scss\":\n/*!***********************************************!*\\\n  !*** ./sass/components/_comparison-list.scss ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_draw-tools.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_draw-tools.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_drawing-cursor.scss\":\n/*!**********************************************!*\\\n  !*** ./sass/components/_drawing-cursor.scss ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_highest-lowest-marker.scss\":\n/*!*****************************************************!*\\\n  !*** ./sass/components/_highest-lowest-marker.scss ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_icons.scss\":\n/*!*************************************!*\\\n  !*** ./sass/components/_icons.scss ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_last-digits.scss\":\n/*!*******************************************!*\\\n  !*** ./sass/components/_last-digits.scss ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_markers.scss\":\n/*!***************************************!*\\\n  !*** ./sass/components/_markers.scss ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_pagination-loader.scss\":\n/*!*************************************************!*\\\n  !*** ./sass/components/_pagination-loader.scss ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_timeperiod.scss\":\n/*!******************************************!*\\\n  !*** ./sass/components/_timeperiod.scss ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/components/_view.scss\":\n/*!************************************!*\\\n  !*** ./sass/components/_view.scss ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg ***!\n  \\****************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-oilusd-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-oilusd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/ic-otcbadge.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/active-symbols/ic-otcbadge.svg ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-otcbadge-usage\",\n      viewBox: \"0 0 13 9\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-otcbadge-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/ic-smartfx-placeholder.svg\":\n/*!**************************************************************!*\\\n  !*** ./sass/icons/active-symbols/ic-smartfx-placeholder.svg ***!\n  \\**************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-smartfx-placeholder-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-smartfx-placeholder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/metals/ic-metal.svg\":\n/*!*******************************************************!*\\\n  !*** ./sass/icons/active-symbols/metals/ic-metal.svg ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-metal-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-metal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-10-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-10-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg ***!\n  \\*************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-100-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-100-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-25-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-25-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-50-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-50-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-75-index-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-75-index-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg ***!\n  \\****************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-marketbear-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-marketbear-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg ***!\n  \\****************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-marketbull-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-marketbull-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/error.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/alert message/error.svg ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"error-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#error-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/info.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/alert message/info.svg ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"info-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#info-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/success.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/alert message/success.svg ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"success-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#success-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/alert message/warning.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/alert message/warning.svg ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"warning-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#warning-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/back/ic-back.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/back/ic-back.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-back-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-back-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart template/ic-charttemplate-normal.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart template/ic-charttemplate-normal.svg ***!\n  \\******************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-charttemplate-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-charttemplate-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg\":\n/*!*******************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg ***!\n  \\*******************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-baseline-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-baseline-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg\":\n/*!***************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg ***!\n  \\***************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-candle-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-candle-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg\":\n/*!*********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg ***!\n  \\*********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-dot-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-dot-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg\":\n/*!****************************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg ***!\n  \\****************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-hollowcandle-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-hollowcandle-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg ***!\n  \\*************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-heikin-ashi-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-heikin-ashi-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-kagi-normal.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-kagi-normal.svg ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-kagi-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-kagi-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-linebreak-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-linebreak-normal.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-linebreak-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-linebreak-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg\":\n/*!*************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg ***!\n  \\*************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-pointfigure-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-pointfigure-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-rangebars-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-rangebars-normal.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-rangebars-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-rangebars-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ic-renko-normal.svg\":\n/*!*******************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ic-renko-normal.svg ***!\n  \\*******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-renko-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-renko-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg\":\n/*!******************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg ***!\n  \\******************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-linedot-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-linedot-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/line/ic-line-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/line/ic-line-normal.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-line-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-line-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-ohlc-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-ohlc-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg\":\n/*!***************************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg ***!\n  \\***************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-spline-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-spline-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/chart types/table/table.svg\":\n/*!***************************************************************!*\\\n  !*** ./sass/icons/chart settings/chart types/table/table.svg ***!\n  \\***************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"table-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#table-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/comparison/ic-comparison-normal.svg\":\n/*!***********************************************************************!*\\\n  !*** ./sass/icons/chart settings/comparison/ic-comparison-normal.svg ***!\n  \\***********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-comparison-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-comparison-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-off.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-off.svg ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-crosshair-off-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-crosshair-off-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-on.svg\":\n/*!*****************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-on.svg ***!\n  \\*****************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-crosshair-on-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-crosshair-on-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg\":\n/*!**********************************************************************!*\\\n  !*** ./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg ***!\n  \\**********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-crosshair-tooltip-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-crosshair-tooltip-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg\":\n/*!****************************************************************************!*\\\n  !*** ./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg ***!\n  \\****************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-drawingtools-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-drawingtools-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/indicators/ic-indicator-normal.svg\":\n/*!**********************************************************************!*\\\n  !*** ./sass/icons/chart settings/indicators/ic-indicator-normal.svg ***!\n  \\**********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-indicator-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-indicator-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/setting/ic-position-bottom.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/chart settings/setting/ic-position-bottom.svg ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-position-bottom-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-position-bottom-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/setting/ic-position-left.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/chart settings/setting/ic-position-left.svg ***!\n  \\****************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-position-left-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-position-left-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg\":\n/*!***************************************************************!*\\\n  !*** ./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg ***!\n  \\***************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-zoomin-light-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-zoomin-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg\":\n/*!*****************************************************************!*\\\n  !*** ./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg ***!\n  \\*****************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-zoomout-light-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-zoomout-light-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/ic-down.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/chart/ic-down.svg ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-down-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-down-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/ic-maximize.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/chart/ic-maximize.svg ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-maximize-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-maximize-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/jump-to-today.svg\":\n/*!********************************************!*\\\n  !*** ./sass/icons/chart/jump-to-today.svg ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"jump-to-today-usage\",\n      viewBox: \"0 0 15.1 13.4\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#jump-to-today-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/chart/resize-icon.svg\":\n/*!******************************************!*\\\n  !*** ./sass/icons/chart/resize-icon.svg ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"resize-icon-usage\",\n      viewBox: \"0 0 6 14\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#resize-icon-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/clear/ic-clear.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/clear/ic-clear.svg ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-clear-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-clear-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/close/ic-close-circle.svg\":\n/*!**********************************************!*\\\n  !*** ./sass/icons/close/ic-close-circle.svg ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-close-circle-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-close-circle-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/close/ic-close.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/close/ic-close.svg ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-close-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-close-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/delete/ic-delete.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/delete/ic-delete.svg ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-delete-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-delete-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/download/ic-csv.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/download/ic-csv.svg ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-csv-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-csv-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/download/ic-download.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/download/ic-download.svg ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-download-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-download-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/download/ic-png.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/download/ic-png.svg ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-png-usage\",\n      viewBox: \"0 0 32 32\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-png-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/dropdown/ic-dropdown.svg\":\n/*!*********************************************!*\\\n  !*** ./sass/icons/dropdown/ic-dropdown.svg ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-dropdown-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-dropdown-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/edit/ic-edit.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/edit/ic-edit.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-edit-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-edit-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/favorite/ic-favorite-normal.svg\":\n/*!****************************************************!*\\\n  !*** ./sass/icons/favorite/ic-favorite-normal.svg ***!\n  \\****************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-favorite-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-favorite-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/aud.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/aud.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"aud-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#aud-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/cad.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/cad.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"cad-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#cad-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chf.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/chf.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"chf-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#chf-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chinese-traditional.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/flags/chinese-traditional.svg ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"chinese-traditional-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#chinese-traditional-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/chinese.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/chinese.svg ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"chinese-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#chinese-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/dutch.svg\":\n/*!************************************!*\\\n  !*** ./sass/icons/flags/dutch.svg ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"dutch-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#dutch-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/eur.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/eur.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"eur-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#eur-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/french.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/french.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"french-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#french-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/gbp.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/gbp.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"gbp-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#gbp-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/german.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/german.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"german-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#german-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/hong kong.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/flags/hong kong.svg ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"hong kong-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#hong kong-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/indonesia.svg\":\n/*!****************************************!*\\\n  !*** ./sass/icons/flags/indonesia.svg ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"indonesia-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#indonesia-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/italy.svg\":\n/*!************************************!*\\\n  !*** ./sass/icons/flags/italy.svg ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"italy-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#italy-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/jpy.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/jpy.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"jpy-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#jpy-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/mxn.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/mxn.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"mxn-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#mxn-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/nok.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/nok.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"nok-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#nok-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/nzd.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/nzd.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"nzd-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#nzd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/pln.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/pln.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"pln-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#pln-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/portugal.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/flags/portugal.svg ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"portugal-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#portugal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/russia.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/flags/russia.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"russia-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#russia-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/sek.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/sek.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"sek-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#sek-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/spanish.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/spanish.svg ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"spanish-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#spanish-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/thailand.svg\":\n/*!***************************************!*\\\n  !*** ./sass/icons/flags/thailand.svg ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"thailand-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#thailand-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/usd.svg\":\n/*!**********************************!*\\\n  !*** ./sass/icons/flags/usd.svg ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"usd-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#usd-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/vietnam.svg\":\n/*!**************************************!*\\\n  !*** ./sass/icons/flags/vietnam.svg ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"vietnam-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#vietnam-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/flags/wallstreet.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/flags/wallstreet.svg ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"wallstreet-usage\",\n      viewBox: \"0 0 24 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#wallstreet-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/measure/ic-measure.svg\":\n/*!*******************************************!*\\\n  !*** ./sass/icons/measure/ic-measure.svg ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-measure-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-measure-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/pencil/ic-pencil.svg\":\n/*!*****************************************!*\\\n  !*** ./sass/icons/pencil/ic-pencil.svg ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-pencil-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-pencil-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/placeholder/ic-placeholder.svg\":\n/*!***************************************************!*\\\n  !*** ./sass/icons/placeholder/ic-placeholder.svg ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-placeholder-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-placeholder-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/search/ic-search-normal.svg\":\n/*!************************************************!*\\\n  !*** ./sass/icons/search/ic-search-normal.svg ***!\n  \\************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-search-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-search-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/active/ic-active-normal.svg\":\n/*!********************************************************!*\\\n  !*** ./sass/icons/sidebar/active/ic-active-normal.svg ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-active-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-active-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/commodities/ic-commodities-normal.svg\":\n/*!******************************************************************!*\\\n  !*** ./sass/icons/sidebar/commodities/ic-commodities-normal.svg ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-commodities-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-commodities-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/forex/ic-forex-normal.svg\":\n/*!******************************************************!*\\\n  !*** ./sass/icons/sidebar/forex/ic-forex-normal.svg ***!\n  \\******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-forex-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-forex-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/indices/ic-indices-normal.svg\":\n/*!**********************************************************!*\\\n  !*** ./sass/icons/sidebar/indices/ic-indices-normal.svg ***!\n  \\**********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-indices-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-indices-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/otc/ic-otc-normal.svg\":\n/*!**************************************************!*\\\n  !*** ./sass/icons/sidebar/otc/ic-otc-normal.svg ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-otc-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-otc-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/sidebar/volatility/ic-volatility-normal.svg\":\n/*!****************************************************************!*\\\n  !*** ./sass/icons/sidebar/volatility/ic-volatility-normal.svg ***!\n  \\****************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-volatility-normal-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-volatility-normal-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/tick/ic-tick.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/tick/ic-tick.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-tick-usage\",\n      viewBox: \"0 0 16 16\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-tick-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/icons/time/ic-time.svg\":\n/*!*************************************!*\\\n  !*** ./sass/icons/time/ic-time.svg ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n      id: \"ic-time-usage\",\n      viewBox: \"0 0 12 12\",\n      url: __webpack_require__.p + \"sprite-606f3c.smartcharts.svg#ic-time-usage\",\n      toString: function () {\n        return this.url;\n      }\n    });\n\n/***/ }),\n\n/***/ \"./sass/main.scss\":\n/*!************************!*\\\n  !*** ./sass/main.scss ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightchartgrid\":\"rgba(0, 0, 0, 0.04)\",\"darkchartgrid\":\"#191c31\",\"lightchartmountainborder\":\"#999cac\",\"darkchartmountainborder\":\"white\",\"lightcandletextclosed\":\"rgba(0, 0, 0, 0.16)\",\"darkcandletextclosed\":\"rgba(127, 131, 151, 0.3)\",\"lightcandlebgclosed\":\"#d6d6d6\",\"darkcandlebgclosed\":\"#303342\",\"lightchartclosedcandle\":\"#d6d6d6\",\"darkchartclosedcandle\":\"#303342\",\"lightchartbg\":\"#ffffff\",\"darkchartbg\":\"#101320\",\"lightfloatlabelsbg\":\"rgba(127, 131, 151, 0.88)\",\"darkfloatlabelsbg\":\"#2a3052\"};\n    if(false) { var cssReload; }\n  \n\n/***/ }),\n\n/***/ \"./src/SplinePlotter.js\":\n/*!******************************!*\\\n  !*** ./src/SplinePlotter.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return plotSpline; });\n/* eslint-disable no-restricted-globals,no-restricted-properties */\nfunction plotSpline(points, tension, context, colorPatternChanges) {\n  function getControlPoints(i) {\n    var x0 = points[i];\n    var y0 = points[i + 1];\n    var x1 = points[i + 2];\n    var y1 = points[i + 3];\n    var x2 = points[i + 4];\n    var y2 = points[i + 5];\n\n    if (isNaN(x0) || isNaN(x1) || isNaN(x2) || isNaN(y0) || isNaN(y1) || isNaN(y2)) {\n      return null;\n    } // x0,y0,x1,y1 are the coordinates of the end (knot) points of this segment\n    // x2,y2 is the next knot -- not connected here but needed to calculate p2\n    // p1 is the control point calculated here, from x1 back toward x0.\n    // p2 is the next control point, calculated here and returned to become the\n    // next segment's p1.\n    // tension controls how far the control points spread.\n    // Scaling factors: distances from this knot to the previous and following knots.\n\n\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n    var d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    var fa = tension * d01 / (d01 + d12);\n    var fb = tension - fa;\n    var p1x = x1 + fa * (x0 - x2);\n    var p1y = y1 + fa * (y0 - y2);\n    var p2x = x1 - fb * (x0 - x2);\n    var p2y = y1 - fb * (y0 - y2);\n    return [p1x, p1y, p2x, p2y];\n  }\n\n  if (!tension || tension < 0) {\n    tension = 0;\n  }\n\n  var cp = []; // array of control points, as x0,y0,x1,y1,...\n\n  var n = points.length; // Draw an open curve, not connected at the ends\n\n  for (var i = 0; i < n - 4; i += 2) {\n    cp = cp.concat(getControlPoints(i));\n  }\n\n  if (cp === null) {\n    return;\n  }\n\n  if (!colorPatternChanges) {\n    colorPatternChanges = [];\n  }\n\n  var colorPatternIndex = 0;\n\n  function seeIfStrokeNeeded(i) {\n    if (colorPatternIndex === colorPatternChanges.length) {\n      return;\n    }\n\n    var colorPatternChange = colorPatternChanges[colorPatternIndex];\n\n    if (colorPatternChange.coord[0] === points[i] && colorPatternChange.coord[1] === points[i + 1]) {\n      context.stroke();\n      context.strokeStyle = colorPatternChange.color;\n      context.setLineDash(colorPatternChange.pattern);\n      context.lineDashOffset = 0;\n      context.lineWidth = colorPatternChange.width;\n      context.beginPath();\n      context.moveTo(points[i], points[i + 1]); // reset back to last point\n\n      colorPatternIndex++;\n    }\n  } // plot the first segment\n\n\n  context.moveTo(points[0], points[1]);\n  seeIfStrokeNeeded(0);\n  context.quadraticCurveTo(cp[0], cp[1], points[2], points[3]);\n\n  for (var _i = 2; _i < n - 5; _i += 2) {\n    seeIfStrokeNeeded(_i);\n    context.bezierCurveTo(cp[2 * _i - 2], cp[2 * _i - 1], cp[2 * _i], cp[2 * _i + 1], points[_i + 2], points[_i + 3]);\n  } // plot the last segment\n\n\n  seeIfStrokeNeeded(n - 4);\n  context.quadraticCurveTo(cp[2 * n - 10], cp[2 * n - 9], points[n - 2], points[n - 1]);\n}\n\n/***/ }),\n\n/***/ \"./src/Translation.js\":\n/*!****************************!*\\\n  !*** ./src/Translation.js ***!\n  \\****************************/\n/*! exports provided: Translation, t */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Translation\", function() { return Translation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return t; });\n/* harmony import */ var _translation_messages_pot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../translation/messages.pot */ \"./translation/messages.pot\");\n/* harmony import */ var _translation_messages_pot__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_translation_messages_pot__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar lang_map = {};\nvar Translation =\n/*#__PURE__*/\nfunction () {\n  function Translation() {\n    var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    _classCallCheck(this, Translation);\n\n    this.lang = lang;\n  }\n\n  _createClass(Translation, [{\n    key: \"setLanguage\",\n    value: function setLanguage(lang) {\n      var _this = this;\n\n      if (lang_map[lang] || lang === 'en') {\n        this.lang = lang;\n      } else {\n        __webpack_require__(\"./translation lazy recursive ^\\\\.\\\\/.*\\\\.po$\")(\"./\".concat(lang, \".po\")).then(function (imported_lang) {\n          if (imported_lang) {\n            lang_map[lang] = imported_lang;\n            _this.lang = lang;\n          } else {\n            console.error('Unsupported language:', lang);\n          }\n        });\n      }\n    }\n    /**\n     *\n     * @param {*} args include string to be translated, its plural form,\n     * and object containing key value pair for replacement in translated string.\n     *\n     * For eg: translate('_n Hour','_n Hours',{'_n':2})\n     * Note: The first key-value pair will be used to determine the plural form.\n     *\n     */\n\n  }, {\n    key: \"translate\",\n    value: function translate() {\n      var curr_lang = lang_map[this.lang];\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (!curr_lang) {\n        return this.replace(args[0], args[1]);\n      }\n\n      var str = _translation_messages_pot__WEBPACK_IMPORTED_MODULE_0___default.a[args[0]];\n      var rt_str;\n\n      if (typeof args[1] === 'string') {\n        // Plural conversion\n        // TODO: currently there are no plurals in SmartCharts so put this off for now...\n        throw new Error('Plural conversion not working!'); // eslint-disable-next-line no-unreachable\n\n        var replacer = args[2];\n        var prop = Object.keys(replacer);\n\n        if (replacer[prop[0]] === 0 || replacer[prop[0]] > 1) {\n          if (curr_lang[str] && curr_lang[str][2]) {\n            rt_str = curr_lang[str][2];\n          } else {\n            rt_str = curr_lang[str] && curr_lang[str][0] ? curr_lang[str][0] : args[1];\n          }\n        } else {\n          rt_str = curr_lang[str] && curr_lang[str][1] ? curr_lang[str][1] : str;\n        } // Replace variables in string with values.\n\n\n        rt_str = this.replace(rt_str, replacer);\n      } else {\n        rt_str = curr_lang[str]; // Replace variables in string with values.\n\n        rt_str = this.replace(rt_str, args[1]) || args[0];\n      }\n\n      return rt_str;\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(str, obj) {\n      if (!obj) {\n        return str;\n      }\n\n      var prop = Object.keys(obj);\n\n      while (prop.length) {\n        var str_var = prop.shift();\n        str = str.replace(\"[\".concat(str_var, \"]\"), obj[str_var]);\n      }\n\n      return str;\n    }\n  }]);\n\n  return Translation;\n}();\nvar trans = new Translation();\nvar t = trans;\n\n/***/ }),\n\n/***/ \"./src/binaryapi/ActiveSymbols.js\":\n/*!****************************************!*\\\n  !*** ./src/binaryapi/ActiveSymbols.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ActiveSymbols; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\nvar _dec, _class, _descriptor, _descriptor2;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\nvar ActiveSymbols = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ActiveSymbols(api, tradingTimes) {\n    _classCallCheck(this, ActiveSymbols);\n\n    _initializerDefineProperty(this, \"changes\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"categorizedSymbols\", _descriptor2, this);\n\n    this.symbolMap = {};\n    this.symbolsPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.isRetrievingSymbols = false;\n    this._api = api;\n    this._tradingTimes = tradingTimes;\n  }\n\n  _createClass(ActiveSymbols, [{\n    key: \"retrieveActiveSymbols\",\n    value: function () {\n      var _retrieveActiveSymbols = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var retrieveNewActiveSymbols,\n            _ref,\n            active_symbols,\n            _iteratorNormalCompletion,\n            _didIteratorError,\n            _iteratorError,\n            _iterator,\n            _step,\n            symbolObj,\n            _args = arguments;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                retrieveNewActiveSymbols = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n\n                if (!(this.isRetrievingSymbols && !retrieveNewActiveSymbols)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.symbolsPromise;\n\n              case 4:\n                return _context.abrupt(\"return\", this.activeSymbols);\n\n              case 5:\n                this.isRetrievingSymbols = true;\n                _context.next = 8;\n                return this._api.getActiveSymbols();\n\n              case 8:\n                _ref = _context.sent;\n                active_symbols = _ref.active_symbols;\n                Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"runInAction\"])(function () {\n                  _this.processedSymbols = _this._processSymbols(active_symbols);\n                  _this.categorizedSymbols = _this._categorizeActiveSymbols(_this.processedSymbols);\n                });\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context.prev = 14;\n\n                for (_iterator = this.processedSymbols[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  symbolObj = _step.value;\n                  this.symbolMap[symbolObj.symbol] = symbolObj;\n                }\n\n                _context.next = 22;\n                break;\n\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](14);\n                _didIteratorError = true;\n                _iteratorError = _context.t0;\n\n              case 22:\n                _context.prev = 22;\n                _context.prev = 23;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 25:\n                _context.prev = 25;\n\n                if (!_didIteratorError) {\n                  _context.next = 28;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 28:\n                return _context.finish(25);\n\n              case 29:\n                return _context.finish(22);\n\n              case 30:\n                this._tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n                  for (var symbol in changes) {\n                    var symObj = _this.symbolMap[symbol];\n\n                    if (symObj) {\n                      symObj.exchange_is_open = changes[symbol];\n                    }\n                  }\n\n                  _this.changes = changes;\n                }));\n\n                this.symbolsPromise.resolve();\n                return _context.abrupt(\"return\", this.activeSymbols);\n\n              case 33:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[14, 18, 22, 30], [23,, 25, 29]]);\n      }));\n\n      return function retrieveActiveSymbols() {\n        return _retrieveActiveSymbols.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSymbolObj\",\n    value: function getSymbolObj(symbol) {\n      return this.symbolMap[symbol];\n    }\n  }, {\n    key: \"_processSymbols\",\n    value: function _processSymbols(symbols) {\n      var processedSymbols = []; // Stable sort is required to retain the order of the symbol name\n\n      Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"stableSort\"])(symbols, function (a, b) {\n        return a.submarket_display_name.localeCompare(b.submarket_display_name);\n      });\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = symbols[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var s = _step2.value;\n          processedSymbols.push({\n            symbol: s.symbol,\n            name: s.display_name,\n            market: s.market,\n            market_display_name: s.market_display_name,\n            submarket_display_name: s.submarket_display_name,\n            exchange_is_open: !!s.exchange_is_open,\n            decimal_places: s.pip.toString().length - 2\n          });\n        } // Categorize symbols in order defined by another array; there's probably a more\n        // efficient algo for this, but for just ~100 items it's not worth the effort\n\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var order = ['forex', 'indices', 'stocks', 'commodities', 'volidx'];\n      var orderedSymbols = [];\n\n      for (var _i = 0; _i < order.length; _i++) {\n        var o = order[_i];\n\n        for (var _i2 = 0; _i2 < processedSymbols.length; _i2++) {\n          var p = processedSymbols[_i2];\n\n          if (o === p.market) {\n            orderedSymbols.push(p);\n          }\n        }\n      }\n\n      return orderedSymbols;\n    }\n  }, {\n    key: \"_categorizeActiveSymbols\",\n    value: function _categorizeActiveSymbols(activeSymbols) {\n      var categorizedSymbols = [];\n      var first = activeSymbols[0];\n\n      var getSubcategory = function getSubcategory(d) {\n        return {\n          subcategoryName: d.submarket_display_name,\n          data: []\n        };\n      };\n\n      var getCategory = function getCategory(d) {\n        return {\n          categoryName: d.market_display_name,\n          categoryId: d.market,\n          hasSubcategory: true,\n          data: []\n        };\n      };\n\n      var subcategory = getSubcategory(first);\n      var category = getCategory(first);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = activeSymbols[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var symbol = _step3.value;\n\n          if (category.categoryName !== symbol.market_display_name) {\n            category.data.push(subcategory);\n            categorizedSymbols.push(category);\n            subcategory = getSubcategory(symbol);\n            category = getCategory(symbol);\n          }\n\n          if (subcategory.subcategoryName !== symbol.submarket_display_name) {\n            category.data.push(subcategory);\n            subcategory = getSubcategory(symbol);\n          }\n\n          subcategory.data.push({\n            enabled: true,\n            itemId: symbol.symbol,\n            display: symbol.name,\n            dataObject: symbol\n          });\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      category.data.push(subcategory);\n      categorizedSymbols.push(category);\n      return categorizedSymbols;\n    }\n  }, {\n    key: \"activeSymbols\",\n    get: function get() {\n      var _this2 = this;\n\n      var categorized = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"cloneCategories\"])(this.categorizedSymbols, function (item) {\n        var symbol = item.dataObject.symbol;\n\n        if (symbol in _this2.changes) {\n          item.dataObject.exchange_is_open = _this2.changes[symbol];\n        }\n\n        return _objectSpread({}, item);\n      });\n      return categorized;\n    }\n  }]);\n\n  return ActiveSymbols;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"changes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"categorizedSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"retrieveActiveSymbols\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"retrieveActiveSymbols\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"activeSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeSymbols\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/binaryapi/BinaryAPI.js\":\n/*!************************************!*\\\n  !*** ./src/binaryapi/BinaryAPI.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BinaryAPI; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar BinaryAPI =\n/*#__PURE__*/\nfunction () {\n  _createClass(BinaryAPI, null, [{\n    key: \"DEFAULT_COUNT\",\n    get: function get() {\n      return 1000;\n    }\n  }]);\n\n  function BinaryAPI(requestAPI, requestSubscribe, requestForget, requestForgetStream) {\n    _classCallCheck(this, BinaryAPI);\n\n    this.streamRequests = {};\n    this.tradingTimesCache = null;\n    this.requestAPI = requestAPI;\n    this.requestSubscribe = requestSubscribe;\n    this.requestForget = requestForget;\n    this.requestForgetStream = requestForgetStream;\n  }\n\n  _createClass(BinaryAPI, [{\n    key: \"getActiveSymbols\",\n    value: function getActiveSymbols() {\n      return this.requestAPI({\n        active_symbols: 'brief'\n      });\n    }\n  }, {\n    key: \"getServerTime\",\n    value: function getServerTime() {\n      return this.requestAPI({\n        time: 1\n      });\n    }\n  }, {\n    key: \"getTradingTimes\",\n    value: function () {\n      var _getTradingTimes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var trading_times,\n            response,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                trading_times = _args.length > 0 && _args[0] !== undefined ? _args[0] : 'today';\n\n                if (!(this.tradingTimesCache && this.tradingTimesCache.trading_times === trading_times)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _objectSpread({}, this.tradingTimesCache));\n\n              case 3:\n                _context.next = 5;\n                return this.requestAPI({\n                  trading_times: trading_times\n                });\n\n              case 5:\n                response = _context.sent;\n\n                if (trading_times !== 'today') {\n                  this.tradingTimesCache = _objectSpread({}, response);\n                }\n\n                return _context.abrupt(\"return\", response);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getTradingTimes() {\n        return _getTradingTimes.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getTickHistory\",\n    value: function getTickHistory(params) {\n      var request = BinaryAPI.createTickHistoryRequest(params);\n      return this.requestAPI(request);\n    }\n  }, {\n    key: \"subscribeTickHistory\",\n    value: function subscribeTickHistory(params, callback) {\n      var key = this._getKey(params);\n\n      var request = BinaryAPI.createTickHistoryRequest(_objectSpread({}, params, {\n        subscribe: 1\n      }));\n      this.streamRequests[key] = {\n        request: request,\n        callback: callback\n      }; // Send a copy of the request, in case it gets mutated outside\n\n      this.requestSubscribe(_objectSpread({}, request), callback);\n    }\n  }, {\n    key: \"forget\",\n    value: function forget(params) {\n      var key = this._getKey(params);\n\n      var _this$streamRequests$ = this.streamRequests[key],\n          request = _this$streamRequests$.request,\n          callback = _this$streamRequests$.callback;\n      delete this.streamRequests[key];\n      return this.requestForget(request, callback);\n    }\n  }, {\n    key: \"forgetStream\",\n    value: function forgetStream(subscription_id) {\n      return this.requestForgetStream(subscription_id);\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(_ref) {\n      var symbol = _ref.symbol,\n          granularity = _ref.granularity;\n      return \"\".concat(symbol, \"-\").concat(granularity);\n    }\n  }], [{\n    key: \"createTickHistoryRequest\",\n    value: function createTickHistoryRequest(_ref2) {\n      var symbol = _ref2.symbol,\n          granularity = _ref2.granularity,\n          start = _ref2.start,\n          end = _ref2.end,\n          subscribe = _ref2.subscribe,\n          _ref2$adjust_start_ti = _ref2.adjust_start_time,\n          adjust_start_time = _ref2$adjust_start_ti === void 0 ? 1 : _ref2$adjust_start_ti,\n          count = _ref2.count;\n      var request = {\n        ticks_history: symbol,\n        style: +granularity ? 'candles' : 'ticks',\n        end: 'latest',\n        count: count || BinaryAPI.DEFAULT_COUNT\n      };\n\n      if (granularity) {\n        // granularity will only be set if style=candles\n        request.granularity = +granularity;\n      }\n\n      if (adjust_start_time) {\n        request.adjust_start_time = adjust_start_time;\n      }\n\n      if (subscribe) {\n        request.subscribe = 1;\n      }\n\n      if (start) {\n        delete request.count;\n        request.start = start;\n      }\n\n      if (end) {\n        request.end = end;\n      }\n\n      return request;\n    }\n  }]);\n\n  return BinaryAPI;\n}();\n\n\n\n/***/ }),\n\n/***/ \"./src/binaryapi/TradingTimes.js\":\n/*!***************************************!*\\\n  !*** ./src/binaryapi/TradingTimes.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar TradingTimes =\n/*#__PURE__*/\nfunction () {\n  _createClass(TradingTimes, null, [{\n    key: \"EVENT_MARKET_OPEN_CLOSE_CHANGE\",\n    get: function get() {\n      return 'EVENT_MARKET_OPEN_CLOSE_CHANGE';\n    }\n  }, {\n    key: \"FEED_UNAVAILABLE\",\n    get: function get() {\n      return 'chartonly';\n    }\n  }]);\n\n  function TradingTimes(api) {\n    var shouldFetchTradingTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    _classCallCheck(this, TradingTimes);\n\n    this.isInitialized = false;\n    this.tradingTimesPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this._shouldFetchTradingTimes = shouldFetchTradingTimes;\n    this._api = api;\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getInstance();\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(TradingTimes, [{\n    key: \"destructor\",\n    value: function destructor() {\n      if (this._updateTimer) {\n        clearTimeout(this._updateTimer);\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var periodicUpdate;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._serverTime.init(this._api);\n\n              case 2:\n                if (!this.isInitialized) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.tradingTimesPromise);\n\n              case 4:\n                this.isInitialized = true;\n                this.lastUpdateDate = this._serverTime.getLocalDate().toISOString().substring(0, 10);\n\n                if (!(!this._tradingTimesMap && this._shouldFetchTradingTimes)) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 9;\n                return this._updateTradeTimes();\n\n              case 9:\n                this.tradingTimesPromise.resolve();\n\n                periodicUpdate =\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee() {\n                    var changed, nextUpdate, now, nextUpdateDate, isOpenMap, key, _key, waitPeriod;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            changed = _this._updateMarketOpenClosed();\n\n                            if (Object.keys(changed).length > 0) {\n                              _this._emitter.emit(TradingTimes.EVENT_MARKET_OPEN_CLOSE_CHANGE, changed);\n                            }\n\n                            nextUpdate = _this._nextUpdateDate();\n\n                            if (nextUpdate) {\n                              _context.next = 14;\n                              break;\n                            }\n\n                            now = _this._serverTime.getLocalDate(); // Get tomorrow's date (UTC) and set it as next update if no nextDate available\n\n                            nextUpdateDate = new Date(\"\".concat(_this.lastUpdateDate, \"T00:00:00Z\"));\n                            nextUpdateDate.setDate(nextUpdateDate.getDate() + 1); // if somehow the next update date is in the past, use the current date\n\n                            _this.lastUpdateDate = (now > nextUpdateDate ? now : nextUpdateDate).toISOString().substring(0, 10); // Retain the current market open close status, because the trade times\n                            // will now be the following day:\n\n                            isOpenMap = {};\n\n                            for (key in _this._tradingTimesMap) {\n                              isOpenMap[key] = _this._tradingTimesMap[key].isOpened;\n                            }\n\n                            _context.next = 12;\n                            return _this._updateTradeTimes();\n\n                          case 12:\n                            for (_key in _this._tradingTimesMap) {\n                              _this._tradingTimesMap[_key].isOpened = isOpenMap[_key];\n                            } // next update date will be 00:00 hours (UTC) of the following day:\n\n\n                            nextUpdate = nextUpdateDate;\n\n                          case 14:\n                            waitPeriod = nextUpdate - _this._serverTime.getLocalDate();\n                            _this._updateTimer = setTimeout(periodicUpdate, waitPeriod);\n\n                          case 16:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, this);\n                  }));\n\n                  return function periodicUpdate() {\n                    return _ref.apply(this, arguments);\n                  };\n                }();\n\n                _context2.next = 13;\n                return periodicUpdate();\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function initialize() {\n        return _initialize.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"_updateMarketOpenClosed\",\n    value: function _updateMarketOpenClosed() {\n      var changed = {};\n\n      for (var symbol in this._tradingTimesMap) {\n        var isOpened = this._calcIsMarketOpened(symbol);\n\n        if (this._tradingTimesMap[symbol].isOpened !== isOpened) {\n          this._tradingTimesMap[symbol].isOpened = isOpened;\n          changed[symbol] = isOpened;\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_updateTradeTimes\",\n    value: function () {\n      var _updateTradeTimes2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        var response, error, now, dateStr, getUTCDate, markets, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, market, submarkets, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, submarket, symbols, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _loop, _iterator3, _step3;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._api.getTradingTimes(this.lastUpdateDate);\n\n              case 2:\n                response = _context3.sent;\n\n                if (!response.error) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                error = response.error;\n                console.error(\"Error getting trading times on \".concat(this.lastUpdateDate, \": [\").concat(error.code, \"] \\\"\").concat(error.message, \"\\\"\"));\n                return _context3.abrupt(\"return\");\n\n              case 7:\n                now = this._serverTime.getLocalDate();\n                dateStr = now.toISOString().substring(0, 11);\n\n                getUTCDate = function getUTCDate(hour) {\n                  return new Date(\"\".concat(dateStr).concat(hour, \"Z\"));\n                };\n\n                this._tradingTimesMap = {};\n                markets = response.trading_times.markets;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 15;\n                _iterator = markets[Symbol.iterator]();\n\n              case 17:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context3.next = 68;\n                  break;\n                }\n\n                market = _step.value;\n                submarkets = market.submarkets;\n                _iteratorNormalCompletion2 = true;\n                _didIteratorError2 = false;\n                _iteratorError2 = undefined;\n                _context3.prev = 23;\n                _iterator2 = submarkets[Symbol.iterator]();\n\n              case 25:\n                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n                  _context3.next = 51;\n                  break;\n                }\n\n                submarket = _step2.value;\n                symbols = submarket.symbols;\n                _iteratorNormalCompletion3 = true;\n                _didIteratorError3 = false;\n                _iteratorError3 = undefined;\n                _context3.prev = 31;\n\n                _loop = function _loop() {\n                  var symbolObj = _step3.value;\n                  var times = symbolObj.times,\n                      symbol = symbolObj.symbol,\n                      feed_license = symbolObj.feed_license,\n                      delay_amount = symbolObj.delay_amount;\n                  var open = times.open,\n                      close = times.close;\n\n                  var _times = void 0;\n\n                  var isOpenAllDay = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                  var isClosedAllDay = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                  if (!isOpenAllDay && !isClosedAllDay) {\n                    _times = open.map(function (openTime, idx) {\n                      return {\n                        open: getUTCDate(openTime),\n                        close: getUTCDate(close[idx])\n                      };\n                    });\n                  }\n\n                  _this2._tradingTimesMap[symbol] = {\n                    feed_license: feed_license,\n                    delay_amount: delay_amount || 0,\n                    times: _times,\n                    isOpenAllDay: isOpenAllDay,\n                    isClosedAllDay: isClosedAllDay\n                  };\n                };\n\n                for (_iterator3 = symbols[Symbol.iterator](); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                  _loop();\n                }\n\n                _context3.next = 40;\n                break;\n\n              case 36:\n                _context3.prev = 36;\n                _context3.t0 = _context3[\"catch\"](31);\n                _didIteratorError3 = true;\n                _iteratorError3 = _context3.t0;\n\n              case 40:\n                _context3.prev = 40;\n                _context3.prev = 41;\n\n                if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                  _iterator3.return();\n                }\n\n              case 43:\n                _context3.prev = 43;\n\n                if (!_didIteratorError3) {\n                  _context3.next = 46;\n                  break;\n                }\n\n                throw _iteratorError3;\n\n              case 46:\n                return _context3.finish(43);\n\n              case 47:\n                return _context3.finish(40);\n\n              case 48:\n                _iteratorNormalCompletion2 = true;\n                _context3.next = 25;\n                break;\n\n              case 51:\n                _context3.next = 57;\n                break;\n\n              case 53:\n                _context3.prev = 53;\n                _context3.t1 = _context3[\"catch\"](23);\n                _didIteratorError2 = true;\n                _iteratorError2 = _context3.t1;\n\n              case 57:\n                _context3.prev = 57;\n                _context3.prev = 58;\n\n                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                  _iterator2.return();\n                }\n\n              case 60:\n                _context3.prev = 60;\n\n                if (!_didIteratorError2) {\n                  _context3.next = 63;\n                  break;\n                }\n\n                throw _iteratorError2;\n\n              case 63:\n                return _context3.finish(60);\n\n              case 64:\n                return _context3.finish(57);\n\n              case 65:\n                _iteratorNormalCompletion = true;\n                _context3.next = 17;\n                break;\n\n              case 68:\n                _context3.next = 74;\n                break;\n\n              case 70:\n                _context3.prev = 70;\n                _context3.t2 = _context3[\"catch\"](15);\n                _didIteratorError = true;\n                _iteratorError = _context3.t2;\n\n              case 74:\n                _context3.prev = 74;\n                _context3.prev = 75;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 77:\n                _context3.prev = 77;\n\n                if (!_didIteratorError) {\n                  _context3.next = 80;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 80:\n                return _context3.finish(77);\n\n              case 81:\n                return _context3.finish(74);\n\n              case 82:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[15, 70, 74, 82], [23, 53, 57, 65], [31, 36, 40, 48], [41,, 43, 47], [58,, 60, 64], [75,, 77, 81]]);\n      }));\n\n      return function _updateTradeTimes() {\n        return _updateTradeTimes2.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isFeedUnavailable\",\n    value: function isFeedUnavailable(symbol) {\n      if (!this._tradingTimesMap) {\n        return;\n      }\n\n      if (!(symbol in this._tradingTimesMap)) {\n        console.error('Symbol not in _tradingTimesMap:', symbol, ' trading map:', this._tradingTimesMap);\n        return false;\n      }\n\n      return this._tradingTimesMap[symbol].feed_license === TradingTimes.FEED_UNAVAILABLE;\n    }\n  }, {\n    key: \"getDelayedMinutes\",\n    value: function getDelayedMinutes(symbol) {\n      return this._tradingTimesMap[symbol].delay_amount;\n    }\n  }, {\n    key: \"isMarketOpened\",\n    value: function isMarketOpened(symbol) {\n      if (!this._tradingTimesMap) {\n        return;\n      }\n\n      if (!(symbol in this._tradingTimesMap)) {\n        console.error('Symbol not in _tradingTimesMap:', symbol, ' trading map:', this._tradingTimesMap);\n        return false;\n      }\n\n      return this._tradingTimesMap[symbol].isOpened;\n    }\n  }, {\n    key: \"_calcIsMarketOpened\",\n    value: function _calcIsMarketOpened(symbol) {\n      var now = this._serverTime.getLocalDate();\n\n      var _this$_tradingTimesMa = this._tradingTimesMap[symbol],\n          times = _this$_tradingTimesMa.times,\n          feed_license = _this$_tradingTimesMa.feed_license,\n          isOpenAllDay = _this$_tradingTimesMa.isOpenAllDay,\n          isClosedAllDay = _this$_tradingTimesMa.isClosedAllDay;\n      if (isClosedAllDay || feed_license === TradingTimes.FEED_UNAVAILABLE) return false;\n      if (isOpenAllDay) return true;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = times[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var session = _step4.value;\n          var open = session.open,\n              close = session.close;\n\n          if (now >= open && now < close) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_nextUpdateDate\",\n    value: function _nextUpdateDate() {\n      var now = this._serverTime.getLocalDate();\n\n      var nextDate;\n\n      for (var key in this._tradingTimesMap) {\n        var _this$_tradingTimesMa2 = this._tradingTimesMap[key],\n            times = _this$_tradingTimesMa2.times,\n            feed_license = _this$_tradingTimesMa2.feed_license,\n            isOpenAllDay = _this$_tradingTimesMa2.isOpenAllDay,\n            isClosedAllDay = _this$_tradingTimesMa2.isClosedAllDay;\n        if (isOpenAllDay || isClosedAllDay || feed_license === TradingTimes.FEED_UNAVAILABLE) continue;\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = times[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var session = _step5.value;\n            var open = session.open,\n                close = session.close;\n\n            if (open > now && (!nextDate || open < nextDate)) {\n              nextDate = open;\n            }\n\n            if (close > now && (!nextDate || close < nextDate)) {\n              nextDate = close;\n            }\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n      }\n\n      return nextDate;\n    }\n  }, {\n    key: \"onMarketOpenCloseChanged\",\n    value: function onMarketOpenCloseChanged(callback) {\n      this._emitter.on(TradingTimes.EVENT_MARKET_OPEN_CLOSE_CHANGE, callback);\n    }\n  }]);\n\n  return TradingTimes;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TradingTimes);\n\n/***/ }),\n\n/***/ \"./src/binaryapi/index.js\":\n/*!********************************!*\\\n  !*** ./src/binaryapi/index.js ***!\n  \\********************************/\n/*! exports provided: ActiveSymbols, TradingTimes, BinaryAPI */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ActiveSymbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActiveSymbols */ \"./src/binaryapi/ActiveSymbols.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ActiveSymbols\", function() { return _ActiveSymbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _TradingTimes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TradingTimes */ \"./src/binaryapi/TradingTimes.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TradingTimes\", function() { return _TradingTimes__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _BinaryAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BinaryAPI */ \"./src/binaryapi/BinaryAPI.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BinaryAPI\", function() { return _BinaryAPI__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/currentHR.js\":\n/*!*********************************************!*\\\n  !*** ./src/chartiq_injections/currentHR.js ***!\n  \\*********************************************/\n/*! exports provided: drawCurrentPriceLine */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drawCurrentPriceLine\", function() { return drawCurrentPriceLine; });\n/* eslint-disable */\nvar drawCurrentPriceLine = function drawCurrentPriceLine() {\n  CIQ.ChartEngine.prototype.drawCurrentHR = function () {\n    if (this.runPrepend('drawCurrentHR', arguments)) return;\n    var backgroundColor, color;\n    var mainSeriesRenderer = this.mainSeriesRenderer || {};\n    if (mainSeriesRenderer.noCurrentHR) return;\n    var highLowBars = mainSeriesRenderer.highLowBars || this.highLowBars[this.layout.chartType];\n\n    for (var chartName in this.charts) {\n      var chart = this.charts[chartName];\n      var panel = chart.panel;\n      var yAxis = panel.yAxis;\n      if (panel.hidden) continue;\n      if (yAxis.drawCurrentPriceLabel === false || yAxis.noDraw) continue;\n      if (!mainSeriesRenderer.params) continue;\n      var whichSet = yAxis.whichSet;\n      if (!whichSet) whichSet = 'dataSet';\n      if (this.isHistoricalModeSet && whichSet !== 'dataSegment') continue;\n      var l = chart[whichSet].length,\n          cw = this.layout.candleWidth;\n\n      if (whichSet == 'dataSegment') {\n        // this crazy equation just to find the last bar displaying at least 50% on the screen\n        while (l > (chart.width - this.micropixels + cw / 2 + 1) / cw) {\n          l--;\n        }\n      }\n\n      if (l && chart[whichSet][l - 1]) {\n        var field = chart.defaultPlotField;\n        if (!field || highLowBars) field = 'Close';\n        var prevClose, currentClose;\n\n        do {\n          prevClose = chart[whichSet][--l][field];\n          currentClose = prevClose;\n          if (l === 0) break;\n        } while (currentClose === null);\n\n        if (whichSet == 'dataSet' && chart.currentQuote) {\n          currentClose = chart.currentQuote[field];\n        } else if (chart[whichSet].length >= 2) {\n          var pquote = chart[whichSet][l - 1];\n          if (pquote) prevClose = pquote[field];\n        }\n\n        if (currentClose < prevClose) {\n          backgroundColor = this.canvasStyle('stx_current_hr_down').backgroundColor;\n          color = this.canvasStyle('stx_current_hr_down').color;\n        } else {\n          backgroundColor = this.canvasStyle('stx_current_hr_up').backgroundColor;\n          color = this.canvasStyle('stx_current_hr_up').color;\n        }\n\n        if (chart.transformFunc) currentClose = chart.transformFunc(this, chart, currentClose);\n        var txt; // If a chart panel, then always display at least the number of decimal places as calculated by masterData (panel.chart.decimalPlaces)\n        // but if we are zoomed to high granularity then expand all the way out to the y-axis significant digits (panel.yAxis.printDecimalPlaces)\n\n        var labelDecimalPlaces = Math.max(panel.yAxis.printDecimalPlaces, panel.chart.decimalPlaces); //\t... and never display more decimal places than the symbol is supposed to be quoting at\n\n        if (yAxis.maxDecimalPlaces || yAxis.maxDecimalPlaces === 0) labelDecimalPlaces = Math.min(labelDecimalPlaces, yAxis.maxDecimalPlaces);\n\n        if (yAxis.priceFormatter) {\n          txt = yAxis.priceFormatter(this, panel, currentClose, labelDecimalPlaces);\n        } else {\n          txt = this.formatYAxisPrice(currentClose, panel, labelDecimalPlaces);\n        }\n\n        var y = this.pixelFromTransformedValue(currentClose, panel); // Keep current price label position fot later when we want to show countdown\n\n        chart.currentPriceLabelY = y;\n        this.createYAxisLabel(panel, txt, y, backgroundColor, color);\n        var x = panel.left;\n        var endOfLine = panel.right;\n        var currentQuote = this.currentQuote();\n\n        if (currentQuote) {\n          // Change the panel position to current spot position for drawing current price line\n          x = this.pixelFromTick(currentQuote.tick, chart) + (chart.lastTickOffset || 0);\n          endOfLine -= this.chart.context.measureText(txt).width * 0.4; // Draw the chart from the current spot to the beginning of the price label\n        }\n\n        endOfLine += 24; // we move the \"x\" psoition forward by 24 on createYAxisLabel in chartStore.js\n\n        if (this.preferences.currentPriceLine === true && this.isHome()) {\n          this.plotLine(x, endOfLine, y, y, backgroundColor, 'segment', panel.chart.context, panel, {\n            pattern: 'dashed',\n            lineWidth: 1,\n            opacity: 0.8\n          });\n        }\n      }\n    }\n\n    this.runAppend('drawCurrentHR', arguments);\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/headsUpHR.js\":\n/*!*********************************************!*\\\n  !*** ./src/chartiq_injections/headsUpHR.js ***!\n  \\*********************************************/\n/*! exports provided: maintainHeadsUpHR */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"maintainHeadsUpHR\", function() { return maintainHeadsUpHR; });\nvar maintainHeadsUpHR = function maintainHeadsUpHR() {\n  CIQ.ChartEngine.prototype.prepend('headsUpHR', function () {\n    if (this.currentPanel) {\n      this.yaxisLabelStyle = 'rect';\n      this.labelType = 'crosshair';\n    }\n  });\n  CIQ.ChartEngine.prototype.append('headsUpHR', function () {\n    this.yaxisLabelStyle = 'roundRectArrow';\n    this.labelType = null;\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/index.js\":\n/*!*****************************************!*\\\n  !*** ./src/chartiq_injections/index.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _currentHR__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./currentHR */ \"./src/chartiq_injections/currentHR.js\");\n/* harmony import */ var _headsUpHR__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./headsUpHR */ \"./src/chartiq_injections/headsUpHR.js\");\n/* harmony import */ var _resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resizing */ \"./src/chartiq_injections/resizing.js\");\n/* harmony import */ var _setMaxTicks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./setMaxTicks */ \"./src/chartiq_injections/setMaxTicks.js\");\n/* harmony import */ var _plotterDrawText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./plotterDrawText */ \"./src/chartiq_injections/plotterDrawText.js\");\n\n // import { manageMasterDataLength } from './manageMasterDataLength';\n\n\n\n\n\nvar inject = function inject() {\n  Object(_currentHR__WEBPACK_IMPORTED_MODULE_0__[\"drawCurrentPriceLine\"])();\n  Object(_headsUpHR__WEBPACK_IMPORTED_MODULE_1__[\"maintainHeadsUpHR\"])();\n  Object(_plotterDrawText__WEBPACK_IMPORTED_MODULE_4__[\"plotterDrawText\"])();\n  Object(_resizing__WEBPACK_IMPORTED_MODULE_2__[\"maintainSpanSize\"])(); // manageMasterDataLength();\n\n  Object(_setMaxTicks__WEBPACK_IMPORTED_MODULE_3__[\"setMaxTicks\"])();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (inject);\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/plotterDrawText.js\":\n/*!***************************************************!*\\\n  !*** ./src/chartiq_injections/plotterDrawText.js ***!\n  \\***************************************************/\n/*! exports provided: plotterDrawText */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"plotterDrawText\", function() { return plotterDrawText; });\nvar plotterDrawText = function plotterDrawText() {\n  // Plotter.drawTex duty is to write y-axis labels,which located in the Plotter\n  // as there isn't any option to make y-axis text align center, and also there\n  // isn't any injection for drawText, we have to do a monkey patching for handling\n  // this issue\n  CIQ.Plotter.prototype.drawText = function (context, series) {\n    for (var i = 0; i < series.text.length; i++) {\n      var textObj = series.text[i];\n      var w = textObj.width ? textObj.width : context.measureText(textObj.text).width;\n      var offset = this.getYAxisWidth() ? (this.getYAxisWidth() - w) / 2 : 0;\n\n      if (textObj.bg) {\n        var h = textObj.height ? textObj.height : 12;\n        var prev = context.fillStyle;\n        context.fillStyle = textObj.bg;\n\n        if (context.textAlign === 'right') {\n          context.fillRect(textObj.x, textObj.y - h / 2, -w, -h);\n        } else {\n          context.fillRect(textObj.x, textObj.y - h / 2, w, h);\n        }\n\n        context.fillStyle = prev;\n      }\n\n      context.fillText(textObj.text, textObj.x + offset, textObj.y);\n    }\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/resizing.js\":\n/*!********************************************!*\\\n  !*** ./src/chartiq_injections/resizing.js ***!\n  \\********************************************/\n/*! exports provided: maintainSpanSize */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"maintainSpanSize\", function() { return maintainSpanSize; });\nvar maintainSpanSize = function maintainSpanSize() {\n  CIQ.ChartEngine.prototype.prepend('resizeChart', function () {\n    if (this.isAutoScale && this.chart.xaxis && this.chart.xaxis.length) {\n      this.customCandleWidth = this.layout.candleWidth;\n      this.customChartWidth = this.chart.width;\n      this.customScroll = this.chart.scroll;\n    }\n  });\n  CIQ.ChartEngine.prototype.append('resizeChart', function () {\n    if (this.isAutoScale && this.customChartWidth) {\n      var ratio = this.customChartWidth / this.customCandleWidth;\n      this.layout.candleWidth = this.chart.width / ratio;\n      this.chart.scroll = this.customScroll;\n      this.draw();\n    }\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/chartiq_injections/setMaxTicks.js\":\n/*!***********************************************!*\\\n  !*** ./src/chartiq_injections/setMaxTicks.js ***!\n  \\***********************************************/\n/*! exports provided: setMaxTicks */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMaxTicks\", function() { return setMaxTicks; });\nvar setMaxTicks = function setMaxTicks() {\n  /**\n   * The setMaxTicks function has been completely overwrited because the original one doesn't work properly\n   *  when the padding property is set in params.\n   */\n  // TODO Use the original one of the latest version of ChartIQ if the issue has been solved.\n  CIQ.ChartEngine.prototype.setMaxTicks = function (ticks, params) {\n    if (!params) params = {};\n    ticks = Math.round(ticks);\n    if (ticks < 2) ticks = 2;\n    var pad = params.padding ? params.padding : 0;\n    this.layout.candleWidth = (this.chart.width - pad) / ticks;\n    if (!this.layout.candleWidth) this.layout.candleWidth = 8; // Zero candlewidth can only occur if the chart has no width. This might happen if the chart is in a hidden iframe\n    // This line has been changed in the compare of the original function.\n\n    this.chart.maxTicks = Math.round((this.chart.width - pad) / this.layout.candleWidth - 0.499);\n    if (params.padding || params.padding === 0) this.chart.scroll = ticks + 1; // If padding, then by definition we're homing\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/components/AnimatedPrice.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/AnimatedPrice.jsx ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar AnimatedPrice = function AnimatedPrice(_ref) {\n  var isIncrease = _ref.isIncrease,\n      price = _ref.price,\n      className = _ref.className;\n  var classes = \"cq-animated-price \".concat(className || '', \" \").concat(isIncrease ? 'cq-up' : 'cq-down');\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, !price && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-comparison-loader stx-show\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classes\n  }, price));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnimatedPrice);\n\n/***/ }),\n\n/***/ \"./src/components/AssetInformation.jsx\":\n/*!*********************************************!*\\\n  !*** ./src/components/AssetInformation.jsx ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_ciq_asset_information_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_ciq-asset-information.scss */ \"./sass/components/_ciq-asset-information.scss\");\n/* harmony import */ var _sass_components_ciq_asset_information_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_asset_information_scss__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar AssetInformation = function AssetInformation() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-asset-information\",\n    style: {\n      visibility: 'hidden'\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, t.translate('SPOT'), \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-ai-spot\"\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, t.translate('OPEN'), \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-ai-open\"\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, t.translate('CLOSE'), \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-ai-close\"\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, t.translate('HIGH'), \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-ai-high\"\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, t.translate('LOW'), \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-ai-low\"\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AssetInformation);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Barrier.jsx\":\n/*!************************************!*\\\n  !*** ./src/components/Barrier.jsx ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _store_BarrierStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/BarrierStore */ \"./src/store/BarrierStore.js\");\n\n\n\n\nvar Barrier = function Barrier(_ref) {\n  var _ref$shadeColor = _ref.shadeColor,\n      shadeColor = _ref$shadeColor === void 0 ? '#39b19d' : _ref$shadeColor,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? '#39b19d' : _ref$color,\n      _ref$foregroundColor = _ref.foregroundColor,\n      foregroundColor = _ref$foregroundColor === void 0 ? '#ffffff' : _ref$foregroundColor,\n      HighPriceLine = _ref.HighPriceLine,\n      LowPriceLine = _ref.LowPriceLine,\n      AboveShade = _ref.AboveShade,\n      BetweenShade = _ref.BetweenShade,\n      BelowShade = _ref.BelowShade,\n      hidePriceLines = _ref.hidePriceLines,\n      lineStyle = _ref.lineStyle,\n      isInitialized = _ref.isInitialized,\n      priceLabelWidth = _ref.priceLabelWidth;\n  return isInitialized && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"barrier \".concat(hidePriceLines ? 'hide-pricelines' : ''),\n    style: {\n      '--shade-color': shadeColor\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HighPriceLine, {\n    width: priceLabelWidth,\n    lineStyle: lineStyle,\n    color: color,\n    foregroundColor: foregroundColor\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LowPriceLine, {\n    width: priceLabelWidth,\n    lineStyle: lineStyle,\n    color: color,\n    foregroundColor: foregroundColor\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AboveShade, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BetweenShade, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BelowShade, null));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (store) {\n  return {\n    HighPriceLine: store.HighPriceLine,\n    LowPriceLine: store.LowPriceLine,\n    AboveShade: store.AboveShade,\n    BetweenShade: store.BetweenShade,\n    BelowShade: store.BelowShade,\n    shadeColor: store.shadeColor,\n    color: store.color,\n    foregroundColor: store.foregroundColor,\n    hidePriceLines: store.hidePriceLines,\n    lineStyle: store.lineStyle,\n    isInitialized: store.isInitialized,\n    destructor: store.destructor,\n    priceLabelWidth: store.priceLabelWidth\n  };\n}, _store_BarrierStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Barrier));\n\n/***/ }),\n\n/***/ \"./src/components/BottomWidgetsContainer.jsx\":\n/*!***************************************************!*\\\n  !*** ./src/components/BottomWidgetsContainer.jsx ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_bottom-widget-container.scss */ \"./sass/components/_bottom-widget-container.scss\");\n/* harmony import */ var _sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_bottom_widget_container_scss__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\nvar BottomWidgetsContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BottomWidgetsContainer, _React$Component);\n\n  function BottomWidgetsContainer() {\n    _classCallCheck(this, BottomWidgetsContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BottomWidgetsContainer).apply(this, arguments));\n  }\n\n  _createClass(BottomWidgetsContainer, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(_ref) {\n      var nextChildren = _ref.nextChildren;\n\n      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(this.props.children) === react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(nextChildren)) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.count(this.props.children)) {\n        this.props.updateChartMargin(200);\n      } else {\n        this.props.updateChartMargin(100);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          bottom = _this$props.bottom,\n          isReadyToShow = _this$props.isReadyToShow,\n          children = _this$props.children,\n          top = _this$props.top;\n\n      if (!isReadyToShow) {\n        return null;\n      }\n\n      var styles = {\n        top: top,\n        bottom: bottom\n      };\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-bottom-ui-widgets\",\n        style: styles\n      }, children);\n    }\n  }]);\n\n  return BottomWidgetsContainer;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nBottomWidgetsContainer.propTypes = {\n  bottom: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  isReadyToShow: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,\n  top: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,\n  updateChartMargin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired\n};\nBottomWidgetsContainer.defaultProps = {\n  bottom: 0,\n  isReadyToShow: false,\n  top: 0\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var store = _ref2.bottomWidgetsContainer;\n  return {\n    bottom: store.bottom,\n    isReadyToShow: store.isReadyToShow,\n    top: store.top,\n    updateChartMargin: store.updateChartMargin\n  };\n})(BottomWidgetsContainer));\n\n/***/ }),\n\n/***/ \"./src/components/Chart.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Chart.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderInsideChart.jsx */ \"./src/components/RenderInsideChart.jsx\");\n/* harmony import */ var _ComparisonList_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ComparisonList.jsx */ \"./src/components/ComparisonList.jsx\");\n/* harmony import */ var _ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTitle.jsx */ \"./src/components/ChartTitle.jsx\");\n/* harmony import */ var _AssetInformation_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AssetInformation.jsx */ \"./src/components/AssetInformation.jsx\");\n/* harmony import */ var _Loader_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Loader.jsx */ \"./src/components/Loader.jsx\");\n/* harmony import */ var _Barrier_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Barrier.jsx */ \"./src/components/Barrier.jsx\");\n/* harmony import */ var _BottomWidgetsContainer_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BottomWidgetsContainer.jsx */ \"./src/components/BottomWidgetsContainer.jsx\");\n/* harmony import */ var _CurrentSpot_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CurrentSpot.jsx */ \"./src/components/CurrentSpot.jsx\");\n/* harmony import */ var _DrawingCursor_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DrawingCursor.jsx */ \"./src/components/DrawingCursor.jsx\");\n/* harmony import */ var _ChartTable_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChartTable.jsx */ \"./src/components/ChartTable.jsx\");\n/* harmony import */ var _LastDigitStats_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LastDigitStats.jsx */ \"./src/components/LastDigitStats.jsx\");\n/* harmony import */ var _HighestLowestMarker_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./HighestLowestMarker.jsx */ \"./src/components/HighestLowestMarker.jsx\");\n/* harmony import */ var _sass_main_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/main.scss */ \"./sass/main.scss\");\n/* harmony import */ var _sass_main_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_sass_main_scss__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ui */ \"./src/components/ui/index.js\");\n/* harmony import */ var _ChartControls_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ChartControls.jsx */ \"./src/components/ChartControls.jsx\");\n/* harmony import */ var _Crosshair_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Crosshair.jsx */ \"./src/components/Crosshair.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\n/* harmony import */ var _PaginationLoader_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PaginationLoader.jsx */ \"./src/components/PaginationLoader.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* css + scss */\n\n\n\n\n\n\n\n\n\nvar Chart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chart, _Component);\n\n  function Chart(props) {\n    var _this;\n\n    _classCallCheck(this, Chart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chart).call(this, props));\n\n    _this.defaultTopWidgets = function () {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AssetInformation_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ComparisonList_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null));\n    };\n\n    _this.modalNode = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    _this.root = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    return _this;\n  }\n\n  _createClass(Chart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          updateProps = _this$props.updateProps,\n          init = _this$props.init,\n          props = _objectWithoutProperties(_this$props, [\"updateProps\", \"init\"]);\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"initGA\"])();\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_18__[\"logPageView\"])();\n      updateProps(props);\n      init(this.root.current, this.modalNode.current, props);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var updateProps = nextProps.updateProps,\n          props = _objectWithoutProperties(nextProps, [\"updateProps\"]);\n\n      updateProps(props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          bottomWidgets = _this$props2.bottomWidgets,\n          DrawToolsSettingsDialog = _this$props2.DrawToolsSettingsDialog,\n          StudySettingsDialog = _this$props2.StudySettingsDialog,\n          isCandle = _this$props2.isCandle,\n          isSpline = _this$props2.isSpline,\n          _this$props2$isMobile = _this$props2.isMobile,\n          isMobile = _this$props2$isMobile === void 0 ? false : _this$props2$isMobile,\n          isChartAvailable = _this$props2.isChartAvailable,\n          isHighestLowestMarkerEnabled = _this$props2.isHighestLowestMarkerEnabled,\n          _this$props2$barriers = _this$props2.barriers,\n          barriers = _this$props2$barriers === void 0 ? [] : _this$props2$barriers,\n          children = _this$props2.children,\n          chartControlsWidgets = _this$props2.chartControlsWidgets,\n          AggregateChartSettingsDialog = _this$props2.AggregateChartSettingsDialog,\n          topWidgets = _this$props2.topWidgets,\n          chartContainerHeight = _this$props2.chartContainerHeight,\n          containerWidth = _this$props2.containerWidth,\n          isChartClosed = _this$props2.isChartClosed,\n          isDrawing = _this$props2.isDrawing,\n          theme = _this$props2.theme,\n          position = _this$props2.position,\n          showLastDigitStats = _this$props2.showLastDigitStats;\n      var currentPosition = \"cq-chart-control-\".concat(chartControlsWidgets && position && !isMobile ? position : 'bottom');\n      var contextWidth = !isMobile ? \"smartcharts-\".concat(containerWidth) : '';\n      var TopWidgets = topWidgets || this.defaultTopWidgets;\n      var BottomWidgets = !bottomWidgets && showLastDigitStats ? _LastDigitStats_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"] : bottomWidgets; // if there are any markers, then increase the subholder z-index\n\n      var HasMarkers = children && children.length ? 'smartcharts--has-markers' : '';\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"smartcharts smartcharts-\".concat(theme, \" \").concat(contextWidth, \" \").concat(HasMarkers)\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"smartcharts-\".concat(isMobile ? 'mobile' : 'desktop'),\n        ref: this.modalNode\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-context\",\n        ref: this.root\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \" \".concat(currentPosition)\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ciq-chart-area\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ciq-chart \".concat(isChartClosed ? 'closed-chart' : '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        at: \"holder\"\n      }, barriers.map(function (barr, idx) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Barrier_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _extends({\n          key: \"barrier-\".concat(idx) // eslint-disable-line react/no-array-index-key\n\n        }, barr));\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        at: \"subholder\"\n      }, !isCandle && !isSpline && isHighestLowestMarkerEnabled && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HighestLowestMarker_jsx__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RenderInsideChart_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        at: \"subholder\"\n      }, children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PaginationLoader_jsx__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CurrentSpot_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-top-ui-widgets\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TopWidgets, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"chartContainer \".concat(isDrawing ? 'ciq-draw-mode' : ''),\n        style: {\n          height: chartContainerHeight\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Crosshair_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DrawingCursor_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Loader_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null), !isChartAvailable && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-chart-unavailable\"\n      }, t.translate('Chart data is not available for this symbol.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_BottomWidgetsContainer_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, BottomWidgets && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BottomWidgets, null))), chartControlsWidgets !== null && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartControls_jsx__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        widgets: chartControlsWidgets\n      })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsSettingsDialog, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AggregateChartSettingsDialog, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudySettingsDialog, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTable_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null)));\n    }\n  }]);\n\n  return Chart;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_17__[\"connect\"])(function (_ref) {\n  var chart = _ref.chart,\n      drawTools = _ref.drawTools,\n      studies = _ref.studies,\n      chartSetting = _ref.chartSetting,\n      chartType = _ref.chartType,\n      state = _ref.state,\n      drawingCursor = _ref.drawingCursor;\n  return {\n    init: chart.init,\n    destroy: chart.destroy,\n    StudySettingsDialog: studies.StudySettingsDialog,\n    DrawToolsSettingsDialog: drawTools.DrawToolsSettingsDialog,\n    AggregateChartSettingsDialog: chartType.AggregateChartSettingsDialog,\n    isCandle: chartType.isCandle,\n    isChartAvailable: chart.isChartAvailable,\n    isSpline: chartType.isSpline,\n    updateProps: state.updateProps,\n    chartContainerHeight: chart.chartContainerHeight,\n    containerWidth: chart.containerWidth,\n    isChartClosed: state.isChartClosed,\n    isDrawing: drawingCursor.isDrawing,\n    theme: chartSetting.theme,\n    position: chartSetting.position,\n    showLastDigitStats: state.showLastDigitStats,\n    isHighestLowestMarkerEnabled: chartSetting.isHighestLowestMarkerEnabled\n  };\n})(Chart));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartControls.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/ChartControls.jsx ***!\n  \\******************************************/\n/*! exports provided: RenderDefaultControls, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RenderDefaultControls\", function() { return RenderDefaultControls; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChartTypes.jsx */ \"./src/components/ChartTypes.jsx\");\n/* harmony import */ var _StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StudyLegend.jsx */ \"./src/components/StudyLegend.jsx\");\n/* harmony import */ var _Comparison_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Comparison.jsx */ \"./src/components/Comparison.jsx\");\n/* harmony import */ var _Views_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Views.jsx */ \"./src/components/Views.jsx\");\n/* harmony import */ var _CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CrosshairToggle.jsx */ \"./src/components/CrosshairToggle.jsx\");\n/* harmony import */ var _Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Timeperiod.jsx */ \"./src/components/Timeperiod.jsx\");\n/* harmony import */ var _ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChartSize.jsx */ \"./src/components/ChartSize.jsx\");\n/* harmony import */ var _DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DrawTools.jsx */ \"./src/components/DrawTools.jsx\");\n/* harmony import */ var _Share_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Share.jsx */ \"./src/components/Share.jsx\");\n/* harmony import */ var _sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/components/_chart-controls.scss */ \"./sass/components/_chart-controls.scss\");\n/* harmony import */ var _sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_controls_scss__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\nvar RenderDefaultControls = function RenderDefaultControls(_ref) {\n  var isMobile = _ref.isMobile;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isMobile ? '' : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Comparison_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Share_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null), isMobile ? '' : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null));\n};\n\nvar ChartControls = function ChartControls(_ref2) {\n  var isMobile = _ref2.isMobile,\n      hasOpenMenu = _ref2.hasOpenMenu,\n      widgets = _ref2.widgets,\n      context = _ref2.context;\n  var Controls = widgets || RenderDefaultControls;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-controls \".concat(hasOpenMenu ? ' active' : '')\n  }, context ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Controls, {\n    isMobile: isMobile\n  }) : null);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref3) {\n  var chart = _ref3.chart,\n      chartType = _ref3.chartType,\n      studies = _ref3.studies,\n      comparison = _ref3.comparison,\n      drawTools = _ref3.drawTools,\n      view = _ref3.view,\n      share = _ref3.share,\n      timeperiod = _ref3.timeperiod,\n      chartSetting = _ref3.chartSetting;\n  return {\n    isMobile: chart.isMobile,\n    context: chart.context,\n    hasOpenMenu: chartType.menu.open || studies.menu.open || comparison.menu.open || drawTools.menu.open || view.menu.open || share.menu.open || timeperiod.menu.open || chartSetting.menu.open\n  };\n})(ChartControls));\n\n/***/ }),\n\n/***/ \"./src/components/ChartSetting.jsx\":\n/*!*****************************************!*\\\n  !*** ./src/components/ChartSetting.jsx ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-transition-group */ \"react-transition-group\");\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_ciq_chart_setting_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/components/_ciq-chart-setting.scss */ \"./sass/components/_ciq-chart-setting.scss\");\n/* harmony import */ var _sass_components_ciq_chart_setting_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_chart_setting_scss__WEBPACK_IMPORTED_MODULE_5__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\n\n\nvar AssetInformationToggle = function AssetInformationToggle(_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list-item\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-icon-text\"\n  }, t.translate('Asset Information')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-action\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n    value: value,\n    onChange: onChange\n  })));\n};\n\nvar ThemeToggle = function ThemeToggle(_ref2) {\n  var position = _ref2.position,\n      setPosition = _ref2.setPosition;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list-item ciq-list-item-position\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-icon-text\"\n  }, t.translate('Position')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-action\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"PositionBottomIcon\"], {\n    onClick: function onClick() {\n      return setPosition('bottom');\n    },\n    className: \"\".concat(position === 'bottom' ? 'active' : '')\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"PositionLeftIcon\"], {\n    onClick: function onClick() {\n      return setPosition('left');\n    },\n    className: \"\".concat(position === 'left' ? 'active' : '')\n  })));\n};\n\nvar ChartSetting = function ChartSetting(_ref3) {\n  var assetInformation = _ref3.assetInformation,\n      ChartSettingMenu = _ref3.ChartSettingMenu,\n      closeMenu = _ref3.closeMenu,\n      countdown = _ref3.countdown,\n      historical = _ref3.historical,\n      isAutoScale = _ref3.isAutoScale,\n      isHighestLowestMarkerEnabled = _ref3.isHighestLowestMarkerEnabled,\n      isMobile = _ref3.isMobile,\n      languages = _ref3.languages,\n      menuOpen = _ref3.menuOpen,\n      position = _ref3.position,\n      selectedLanguage = _ref3.selectedLanguage,\n      setAssetInformation = _ref3.setAssetInformation,\n      setAutoScale = _ref3.setAutoScale,\n      setHistorical = _ref3.setHistorical,\n      setLanguage = _ref3.setLanguage,\n      setPosition = _ref3.setPosition,\n      setTheme = _ref3.setTheme,\n      setView = _ref3.setView,\n      showCountdown = _ref3.showCountdown,\n      view = _ref3.view,\n      theme = _ref3.theme,\n      toggleHighestLowestMarker = _ref3.toggleHighestLowestMarker;\n\n  var renderMain = function renderMain() {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"title\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"title-text\"\n    }, \" \", t.translate('Settings'), \" \"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"CloseIcon\"], {\n      className: \"icon-close-menu\",\n      onClick: function onClick() {\n        return closeMenu();\n      }\n    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"body\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list ciq-list-setting\"\n    }, !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThemeToggle, {\n      setPosition: setPosition,\n      position: position\n    }) : '', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Auto Scale')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n      value: isAutoScale,\n      onChange: setAutoScale\n    }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Dark Mode')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n      value: theme === 'dark',\n      onChange: function onChange(checked) {\n        return setTheme(checked ? 'dark' : 'light');\n      }\n    }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Countdown')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n      value: countdown,\n      onChange: showCountdown\n    }))), !isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AssetInformationToggle, {\n      value: assetInformation,\n      onChange: setAssetInformation\n    }) : '', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Historical Data Mode')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n      value: historical,\n      onChange: setHistorical\n    }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item ciq-list-item-lng\",\n      onClick: function onClick() {\n        return setView('language');\n      }\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Language')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, selectedLanguage.icon)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list-item \".concat(historical && 'disabled')\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, t.translate('Show Highest/Lowest Spot')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-action\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Switch\"], {\n      value: isHighestLowestMarkerEnabled,\n      onChange: toggleHighestLowestMarker\n    }))))));\n  };\n\n  var renderLanguage = function renderLanguage() {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"title\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"BackIcon\"], {\n      className: \"icon-back-menu\",\n      onClick: function onClick() {\n        return setView();\n      }\n    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"title-text\"\n    }, t.translate('Language'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"body\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-list ciq-list-language\"\n    }, languages.map(function (language) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ciq-list-item \".concat(selectedLanguage.key === language.key ? 'selected' : ''),\n        key: language.key,\n        onClick: function onClick() {\n          return setLanguage(language.key);\n        }\n      }, language.icon, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"ciq-icon-text\"\n      }, language.name));\n    }))));\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu, {\n    className: \"cq-chart-setting\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"SettingIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Settings')\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartSettingMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-setting-container container-\".concat(view === '' ? 'main' : view)\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_1__[\"CSSTransition\"], {\n    in: view === '',\n    timeout: 250,\n    classNames: \"cq-setting-main animate\",\n    unmountOnExit: true\n  }, renderMain()), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_1__[\"CSSTransition\"], {\n    in: view === 'language',\n    timeout: 250,\n    classNames: \"cq-setting-language animate\",\n    unmountOnExit: true\n  }, renderLanguage()))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref4) {\n  var s = _ref4.chartSetting,\n      c = _ref4.chart;\n  return {\n    assetInformation: s.assetInformation,\n    ChartSettingMenu: s.ChartSettingMenu,\n    closeMenu: s.menu.onTitleClick,\n    countdown: s.countdown,\n    historical: s.historical,\n    isMobile: c.isMobile,\n    isAutoScale: s.isAutoScale,\n    isHighestLowestMarkerEnabled: s.isHighestLowestMarkerEnabled,\n    languages: s.languages,\n    menuOpen: s.menu.dialog.open,\n    position: s.position,\n    selectedLanguage: s.language,\n    setAssetInformation: s.setAssetInformation,\n    setAutoScale: s.setAutoScale,\n    setHistorical: s.setHistorical,\n    setLanguage: s.setLanguage,\n    setPosition: s.setPosition,\n    setTheme: s.setTheme,\n    setView: s.setView,\n    showCountdown: s.showCountdown,\n    theme: s.theme,\n    toggleHighestLowestMarker: s.toggleHighestLowestMarker,\n    view: s.view\n  };\n})(ChartSetting));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartSize.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/ChartSize.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_chart-size.scss */ \"./sass/components/_chart-size.scss\");\n/* harmony import */ var _sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_size_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n\n\n\n\n\nvar ChartSize = function ChartSize(_ref) {\n  var zoomIn = _ref.zoomIn,\n      zoomOut = _ref.zoomOut;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-menu cq-chart-size\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ZoomOutIcon\"], {\n    className: \"ic-icon-with-sub cq-zoom-out\",\n    \"tooltip-title\": t.translate('Zoom out'),\n    onClick: zoomOut\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ZoomInIcon\"], {\n    className: \"ic-icon-with-sub cq-zoom-in\",\n    \"tooltip-title\": t.translate('Zoom in'),\n    onClick: zoomIn\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(function (_ref2) {\n  var chartSize = _ref2.chartSize;\n  return {\n    zoomIn: chartSize.zoomIn,\n    zoomOut: chartSize.zoomOut\n  };\n})(ChartSize));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartTable.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/ChartTable.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tt-react-custom-scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\");\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_ciq_chart_table_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/components/_ciq-chart-table.scss */ \"./sass/components/_ciq-chart-table.scss\");\n/* harmony import */ var _sass_components_ciq_chart_table_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_chart_table_scss__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar ChartTable = function ChartTable(_ref) {\n  var isMobile = _ref.isMobile,\n      tableData = _ref.tableData,\n      Dialog = _ref.Dialog,\n      open = _ref.open,\n      isTick = _ref.isTick,\n      symbol = _ref.symbol,\n      setOpen = _ref.setOpen;\n  var SymbolIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ItemIconMap\"][symbol.symbol] || _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"SymbolPlaceholderIcon\"];\n  var width = isTick ? '320px' : '565px';\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-dialog-overlay \".concat(open ? 'cq-dialog-active' : ''),\n    style: {\n      '--table-width': width\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog, {\n    className: \"cq-dialog ciq-chart-dialog\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, isMobile && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-titlebar\"\n  }, SymbolIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolIcon, {\n    className: \"ic-\".concat(symbol.symbol)\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-title\"\n  }, \"\".concat(symbol.name, \" \").concat(t.translate('Chart Table'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CloseIcon\"], {\n    className: \"icon-close-menu\",\n    onClick: function onClick() {\n      return setOpen(false);\n    }\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__[\"Scrollbars\"], {\n    autoHeight: true,\n    autoHeightMax: \"80vh\",\n    className: \"ciq-list\"\n  }, isMobile ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n    className: \"ciq-chart-table\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, tableData.map(function (item, idx) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n      className: \"ciq-table-row\",\n      key: \"chartTable-\".concat(idx) // eslint-disable-line react/no-array-index-key\n\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-table-cell\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-table-date\"\n    }, item.Date), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"\".concat(item.Status ? item.Status : 'up')\n    }, item.Change), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"cq-change \".concat(item.Status)\n    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ciq-table-cell\"\n    }, isTick && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Close')), item.Close), !isTick && [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: \"item-open\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('O')), item.Open), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: \"item-high\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('H')), item.High), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: \"item-low\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('L')), item.Low), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: \"item-close\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('C')), item.Close)])));\n  }))) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"table\", {\n    className: \"ciq-chart-table\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"thead\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n    className: \"ciq-table-head\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('Date')), isTick ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('Tick')) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('Open')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('High')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('Low')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, t.translate('Close'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"th\", {\n    className: \"ciq-table-cell\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-change-cell\"\n  }, t.translate('Change'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CloseIcon\"], {\n    className: \"icon-close-menu\",\n    onClick: function onClick() {\n      return setOpen(false);\n    }\n  }))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, tableData.map(function (item, idx) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n      key: \"chartTable-\".concat(idx) // eslint-disable-line react/no-array-index-key\n      ,\n      className: \"ciq-table-row\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      className: \"ciq-table-cell\"\n    }, item.Date), isTick && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      className: \"ciq-table-cell\"\n    }, item.Close), !isTick && [react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      key: \"td-open\",\n      className: \"ciq-table-cell\"\n    }, item.Open), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      key: \"td-high\",\n      className: \"ciq-table-cell\"\n    }, item.High), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      key: \"td-low\",\n      className: \"ciq-table-cell\"\n    }, item.Low), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      key: \"td-close\",\n      className: \"ciq-table-cell\"\n    }, item.Close)], react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n      className: \"ciq-table-cell\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"cq-change-cell\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"\".concat(item.Status ? item.Status : 'up')\n    }, item.Change), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"cq-change \".concat(item.Status)\n    }))));\n  })))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart,\n      chartTable = _ref2.chartTable;\n  return {\n    isMobile: chart.isMobile,\n    tableData: chartTable.tableData,\n    Dialog: chartTable.Dialog,\n    open: chartTable.open,\n    isTick: chartTable.isTick,\n    symbol: chartTable.symbol,\n    setOpen: chartTable.setOpen\n  };\n})(ChartTable));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartTitle.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/ChartTitle.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_chart-title.scss */ \"./sass/components/_chart-title.scss\");\n/* harmony import */ var _sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_title_scss__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar ChartTitle = function ChartTitle(_ref) {\n  var chartId = _ref.chartId,\n      ChartTitleMenu = _ref.ChartTitleMenu,\n      currentSymbol = _ref.currentSymbol,\n      enabled = _ref.enabled,\n      isMobile = _ref.isMobile,\n      MarketSelector = _ref.MarketSelector,\n      onChange = _ref.onChange,\n      SymbolSelectButton = _ref.SymbolSelectButton,\n      setMenuOpen = _ref.setMenuOpen,\n      searchInputClassName = _ref.searchInputClassName;\n\n  if (!currentSymbol) {\n    return null;\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu, {\n    enabled: enabled,\n    className: \"cq-chart-title stx-show cq-symbols-display\",\n    isFullscreen: true,\n    title: isMobile ? t.translate('Underlying Assets') : ''\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolSelectButton, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTitleMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MarketSelector, {\n    searchInputClassName: searchInputClassName,\n    onSelectItem: function onSelectItem(x) {\n      if (x.symbol !== currentSymbol.symbol) {\n        onChange(x.symbol, chartId);\n      }\n\n      setMenuOpen(false);\n    }\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var c = _ref2.chartTitle,\n      chart = _ref2.chart,\n      state = _ref2.state;\n  return {\n    chartId: state.chartId,\n    ChartTitleMenu: c.ChartTitleMenu,\n    currentSymbol: c.currentSymbol,\n    isMobile: chart.isMobile,\n    MarketSelector: c.MarketSelector,\n    onChange: c.setSymbol,\n    setMenuOpen: c.menu.setOpen,\n    SymbolSelectButton: c.SymbolSelectButton\n  };\n})(ChartTitle));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ChartTypes.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/ChartTypes.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_chart-types.scss */ \"./sass/components/_chart-types.scss\");\n/* harmony import */ var _sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_chart_types_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\n\nvar ChartTypes = function ChartTypes(_ref) {\n  var chartId = _ref.chartId,\n      ChartTypeList = _ref.ChartTypeList,\n      ChartTypeMenu = _ref.ChartTypeMenu,\n      enabled = _ref.enabled,\n      menuOpen = _ref.menuOpen,\n      onChange = _ref.onChange,\n      setOpen = _ref.setOpen,\n      showAggregateDialog = _ref.showAggregateDialog,\n      Type = _ref.Type,\n      updateProps = _ref.updateProps;\n  if (Type === undefined) return null;\n\n  var onItemClick = function onItemClick(idx, chartType) {\n    if (Type.id !== chartType.id) {\n      onChange(chartType.id, chartType.candleOnly, chartId);\n    }\n\n    setOpen(false);\n  };\n\n  updateProps(onChange);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu, {\n    className: \"ciq-display ciq-chart-types\",\n    enabled: enabled,\n    title: t.translate('Chart types')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Type.icon, {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate(Type.text)\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"body\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartTypeList, {\n    height: 260,\n    onItemClick: onItemClick\n  }, function (T) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"left\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T.icon, {\n      className: \"margin \".concat(T.active ? 'active' : '')\n    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-icon-text\"\n    }, T.text)), T.settingsOnClick && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ciq-aggregate-setting\",\n      onClick: function onClick() {\n        return showAggregateDialog(T.id);\n      }\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"SettingIcon\"], null)));\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var chartType = _ref2.chartType,\n      state = _ref2.state;\n  return {\n    chartId: state.chartId,\n    ChartTypeMenu: chartType.ChartTypeMenu,\n    ChartTypeList: chartType.ChartTypeList,\n    menuOpen: chartType.menu.open,\n    onChange: chartType.setTypeFromUI,\n    setOpen: chartType.menu.setOpen,\n    showAggregateDialog: chartType.showAggregateDialog,\n    Type: chartType.type,\n    updateProps: chartType.updateProps\n  };\n})(ChartTypes));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Comparison.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/Comparison.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NotificationBadge.jsx */ \"./src/components/NotificationBadge.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\n\n\nvar Comparison = function Comparison(_ref) {\n  var ComparisonSelector = _ref.ComparisonSelector,\n      ComparisonMenu = _ref.ComparisonMenu,\n      menuOpen = _ref.menuOpen,\n      isMobile = _ref.isMobile,\n      activeComparisonsNo = _ref.activeComparisonsNo,\n      searchInputClassName = _ref.searchInputClassName;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComparisonMenu, {\n    className: \"cq-comparison-new cq-symbols-display\",\n    isMobile: isMobile,\n    title: isMobile ? t.translate('Comparison') : ''\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComparisonMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"ComparisonIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Comparison')\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    notificationCount: activeComparisonsNo\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComparisonMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComparisonSelector, {\n    searchInputClassName: searchInputClassName\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var c = _ref2.comparison,\n      chart = _ref2.chart;\n  return {\n    ComparisonSelector: c.ComparisonSelector,\n    ComparisonMenu: c.ComparisonMenu,\n    menuOpen: c.menu.open,\n    isMobile: chart.isMobile,\n    activeComparisonsNo: c.comparisonSymbols.length\n  };\n})(Comparison));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/ComparisonList.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/ComparisonList.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_comparison_list_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_comparison-list.scss */ \"./sass/components/_comparison-list.scss\");\n/* harmony import */ var _sass_components_comparison_list_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_comparison_list_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar ComparisonListItem = function ComparisonListItem(_ref) {\n  var item = _ref.item,\n      AnimatedPrice = _ref.AnimatedPrice,\n      onDeleteItem = _ref.onDeleteItem;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-comparison-item\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"left\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-comparison-swatch\",\n    style: {\n      backgroundColor: item.color\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-comparison-label\"\n  }, item.symbolObject.name)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"right\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AnimatedPrice, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"DeleteIcon\"], {\n    className: \"ciq-close\",\n    onClick: function onClick() {\n      return onDeleteItem(item.symbolObject);\n    }\n  })));\n};\n\nvar ComparisonList = function ComparisonList(_ref2) {\n  var comparisonSymbols = _ref2.comparisonSymbols,\n      animatedPrices = _ref2.animatedPrices,\n      onDeleteItem = _ref2.onDeleteItem;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-comparison\"\n  }, comparisonSymbols.map(function (item, i) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ComparisonListItem, {\n      key: item.symbolObject.symbol,\n      item: item,\n      onDeleteItem: onDeleteItem,\n      AnimatedPrice: animatedPrices[i]\n    });\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref3) {\n  var c = _ref3.comparisonList;\n  return {\n    comparisonSymbols: c.comparisonSymbols,\n    animatedPrices: c.animatedPrices,\n    onDeleteItem: c.onDeleteItem\n  };\n})(ComparisonList));\n\n/***/ }),\n\n/***/ \"./src/components/Crosshair.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/Crosshair.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_ciq_crosshair_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_ciq-crosshair.scss */ \"./sass/components/_ciq-crosshair.scss\");\n/* harmony import */ var _sass_components_ciq_crosshair_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_crosshair_scss__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar Crosshair = function Crosshair() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-crosshair\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-crosshair-content\"\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Crosshair);\n\n/***/ }),\n\n/***/ \"./src/components/CrosshairToggle.jsx\":\n/*!********************************************!*\\\n  !*** ./src/components/CrosshairToggle.jsx ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n\n\n\n\n\nvar CrosshairToggle = function CrosshairToggle(_ref) {\n  var toggleState = _ref.toggleState,\n      state = _ref.state;\n  var CrosshairIcon = [_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairOffIcon\"], _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairOnIcon\"], _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CrosshairTooltipIcon\"]][state];\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-menu cq-crosshair-toggle\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-menu-btn\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_3__[\"Toggle\"], {\n    active: state !== 0,\n    onChange: toggleState\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CrosshairIcon, {\n    className: \"ic-icon-with-sub\",\n    \"tooltip-title\": t.translate('Crosshair')\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var crosshair = _ref2.crosshair;\n  return {\n    toggleState: function toggleState() {\n      return crosshair.toggleState();\n    },\n    state: typeof crosshair.state !== 'number' ? 0 : crosshair.state\n  };\n})(CrosshairToggle));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/CurrentSpot.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/CurrentSpot.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar CurrentSpot = function CurrentSpot() {\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-spot\"\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CurrentSpot);\n\n/***/ }),\n\n/***/ \"./src/components/Dialog.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Dialog.jsx ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_ciq_dialog_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_ciq-dialog.scss */ \"./sass/components/_ciq-dialog.scss\");\n/* harmony import */ var _sass_components_ciq_dialog_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_dialog_scss__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar Dialog = function Dialog(_ref) {\n  var open = _ref.open,\n      children = _ref.children,\n      onContainerClick = _ref.onContainerClick,\n      className = _ref.className;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"\".concat(className || 'cq-dialog', \" \").concat(open ? ' open' : ''),\n    onClick: onContainerClick\n  }, children);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dialog);\n\n/***/ }),\n\n/***/ \"./src/components/DrawTools.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/DrawTools.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tt-react-custom-scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\");\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/components/_draw-tools.scss */ \"./sass/components/_draw-tools.scss\");\n/* harmony import */ var _sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_components_draw_tools_scss__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar DrawTools = function DrawTools(_ref) {\n  var clearAll = _ref.clearAll,\n      selectTool = _ref.selectTool,\n      DrawToolsMenu = _ref.DrawToolsMenu,\n      menuOpen = _ref.menuOpen,\n      drawToolsItems = _ref.drawToolsItems;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu, {\n    className: \"ciq-draw-tools\",\n    title: t.translate('Draw tools')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"DrawIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Draw tools')\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DrawToolsMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"body\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    autoHeight: true,\n    autoHeightMax: 260,\n    className: \"ciq-list\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-draw-buttons\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-draw-button\",\n    onClick: clearAll\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"ClearIcon\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Clear All'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-draw-button\",\n    onClick: function onClick() {\n      return selectTool('measure');\n    },\n    style: {\n      display: 'none'\n      /* TODO: measurement tool doesn't show measurement */\n\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"MeasureIcon\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Measure')))), drawToolsItems.map(function (it) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: it.id,\n      className: \"ciq-list-item\",\n      onClick: function onClick() {\n        return selectTool(it.id);\n      }\n    }, it.text);\n  })))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var dt = _ref2.drawTools;\n  return {\n    clearAll: dt.clearAll,\n    selectTool: dt.selectTool,\n    DrawToolsMenu: dt.DrawToolsMenu,\n    menuOpen: dt.menu.open,\n    drawToolsItems: dt.drawToolsItems\n  };\n})(DrawTools));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/DrawingCursor.jsx\":\n/*!******************************************!*\\\n  !*** ./src/components/DrawingCursor.jsx ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_drawing_cursor_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_drawing-cursor.scss */ \"./sass/components/_drawing-cursor.scss\");\n/* harmony import */ var _sass_components_drawing_cursor_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_drawing_cursor_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\n\n\nvar DrawingCursor = function DrawingCursor(_ref) {\n  var display = _ref.display,\n      left = _ref.left,\n      top = _ref.top;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"drawing-mouse-pointer\",\n    style: {\n      top: top,\n      left: left,\n      display: display\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"DrawingCursorIcon\"], null));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var dc = _ref2.drawingCursor;\n  return {\n    top: dc.top,\n    left: dc.left,\n    display: dc.display\n  };\n})(DrawingCursor));\n\n/***/ }),\n\n/***/ \"./src/components/FastMarker.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/FastMarker.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n // Render given Components under stx-subholder.\n// This component is used to position a marker on the chart.\n//\n// USAGE:\n//\n//  - setRef({setPosition, div}) will be called on mount.\n//  - \"div\" is the dom element containing the marker with \"your-css-class\"\n//  - \"setPosition({epoch, price})\" is a function that you will use to update the div position.\n//  - calling \"setPosition({epoch: null, price: null})\" will hide the marker.\n//  - use \"div.querySelector('...')\" to get a dom reference in order to update your content .\n//  - \"setRef(null)\" will be called when the marker unmounts.\n//\n//  <FastMarker\n//      markerRef={setRef}\n//      threshold={optional visibility threshold}\n//      className=\"your-css-class\"\n//  >\n//     <your content here/>\n//  </FastMarker>\n//\n//  - the chart can have a zoom level, if `threshold` is provided\n//    the marker will only be shown if it's within that zoom threshold.\n\nvar FastMarker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FastMarker, _Component);\n\n  function FastMarker() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FastMarker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FastMarker)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.price = null;\n    _this.date = null;\n    _this.elem = null;\n    _this.ctx = null;\n    _this.stx = null;\n    _this.injectionId = null;\n\n    _this.setPosition = function (_ref) {\n      var epoch = _ref.epoch,\n          price = _ref.price;\n      _this.price = +price;\n      _this.date = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getUTCDate\"])(epoch));\n\n      _this.updateCSS();\n    };\n\n    _this.updateCSS = function () {\n      if (!_this.elem || !_this.ctx) {\n        return;\n      }\n\n      if (!_this.date) {\n        _this.elem.style.visibility = 'hidden';\n        return;\n      }\n\n      var elem = _this.elem;\n      var stx = _this.stx;\n      var chart = stx.chart;\n      var top = 0,\n          left = 0,\n          show = true;\n      var threshold = +_this.props.threshold || 0;\n      show = !threshold || stx.layout.candleWidth >= threshold;\n\n      if (show && chart.dataSet && chart.dataSet.length && stx.mainSeriesRenderer) {\n        var tick_idx = stx.tickFromDate(_this.date, chart);\n        var x = stx.pixelFromTick(tick_idx, chart); // ChartIQ doesn't support placing markers in the middle of ticks.\n\n        var bar_idx = tick_idx - chart.dataSet.length + chart.scroll;\n        var bar = chart.dataSegment[bar_idx]; // Here we interpolate the pixel distance between two adjacent ticks.\n\n        if (bar && bar.DT < _this.date) {\n          var bar_next = chart.dataSegment[bar_idx + 1];\n          var bar_prev = bar_idx > 0 ? chart.dataSegment[bar_idx - 1] : null;\n\n          if (bar_next && bar_next.Close && bar_next.DT > _this.date) {\n            var pixelx_to_next_bar = stx.pixelFromTick(tick_idx + 1, chart) - x;\n            x += (_this.date - bar.DT) / (bar_next.DT - bar.DT) * pixelx_to_next_bar;\n          } else if (bar_prev && bar_prev.Close) {\n            var pixelx_from_prev_bar = x - stx.pixelFromTick(tick_idx - 1, chart);\n            x += (_this.date - bar.DT) / (bar.DT - bar_prev.DT) * pixelx_from_prev_bar;\n          } // We don't want to touch master data on marker draw.\n          // However our design requires a tooltip on start time marker,\n          // and crosshair gets the tooltip from master data\n          // TODO: remove the following hack.\n\n\n          stx.updateChartData({\n            DT: _this.date,\n            Close: null\n          }, null, {\n            fillGaps: true\n          });\n          stx.createDataSet(); // end TODO\n        }\n\n        var y = _this.price ? stx.pixelFromPrice(_this.price, chart.panel) : 0;\n\n        if (chart.yAxis.left > x && chart.yAxis.top <= y && chart.yAxis.bottom >= y) {\n          top = +y;\n          left = Math.round(x);\n        } else {\n          show = false;\n        }\n      } // patch DOM without triggering recalculate layout.\n\n\n      elem.style.transform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n      elem.style.visibility = show ? 'visible' : 'hidden';\n    };\n\n    _this.setRef = function (ref) {\n      _this.elem = ref;\n      var data = ref ? {\n        div: ref,\n        setPosition: _this.setPosition\n      } : null;\n\n      if (_this.props.markerRef) {\n        _this.props.markerRef(data);\n      }\n\n      if (ref !== null) {\n        var contextPromise = _this.props.contextPromise;\n        contextPromise.then(function (ctx) {\n          _this.ctx = ctx;\n          _this.stx = _this.ctx.stx;\n          _this.injectionId = _this.stx.append('draw', _this.updateCSS);\n\n          _this.updateCSS();\n        });\n      } else if (_this.injectionId) {\n        // remove the injection on unmount\n        _this.stx.removeInjection(_this.injectionId);\n\n        _this.ctx = null;\n        _this.stx = null;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(FastMarker, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          children = _this$props.children;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: className,\n        ref: this.setRef,\n        style: {\n          position: 'absolute'\n        }\n      }, children);\n    }\n  }]);\n\n  return FastMarker;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var chart = _ref2.chart;\n  return {\n    contextPromise: chart.contextPromise\n  };\n})(FastMarker));\n\n/***/ }),\n\n/***/ \"./src/components/Favorite.jsx\":\n/*!*************************************!*\\\n  !*** ./src/components/Favorite.jsx ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _store_FavoriteStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/FavoriteStore */ \"./src/store/FavoriteStore.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\nvar Favorite =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Favorite, _Component);\n\n  function Favorite(props) {\n    var _this;\n\n    _classCallCheck(this, Favorite);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favorite).call(this, props));\n    _this.store = _store_FavoriteStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance();\n\n    _this.onFavoriteUpdate = function () {\n      var _this$props = _this.props,\n          category = _this$props.category,\n          id = _this$props.id;\n\n      var isFavorite = _this.isFavorite(category, id);\n\n      if (isFavorite !== _this.state.isFavorite) {\n        _this.setState({\n          isFavorite: isFavorite\n        });\n\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogCategories\"].CategoricalDisplay, _utils_ga__WEBPACK_IMPORTED_MODULE_3__[\"LogActions\"].Favorite, \"\".concat(isFavorite ? 'Add ' : 'Remove ', \" \").concat(id));\n      }\n    };\n\n    _this.onClick = function (e) {\n      e.stopPropagation();\n      e.nativeEvent.isHandledByDialog = true; // prevent close dialog\n\n      var _this$props2 = _this.props,\n          category = _this$props2.category,\n          id = _this$props2.id;\n\n      _this.toggleFavorite(category, id);\n    };\n\n    _this.store.onFavoriteUpdate(_this.onFavoriteUpdate);\n\n    _this.isFavorite = _this.store.isFavorite;\n    _this.toggleFavorite = _this.store.toggleFavorite;\n    var _this$props3 = _this.props,\n        _category = _this$props3.category,\n        _id = _this$props3.id;\n    _this.state = {\n      isFavorite: _this.isFavorite(_category, _id)\n    };\n    return _this;\n  }\n\n  _createClass(Favorite, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return this.state.isFavorite !== nextState.isFavorite;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.store.offFavoriteUpdate(this.onFavoriteUpdate);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          category = _this$props4.category,\n          id = _this$props4.id;\n      var isFavorite = this.state.isFavorite;\n      if (!category || !id) return null;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FavoriteIcon\"], {\n        onClick: this.onClick,\n        className: \"ciq-favorite \".concat(isFavorite ? 'ciq-active-favorite' : '')\n      });\n    }\n  }]);\n\n  return Favorite;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Favorite);\n\n/***/ }),\n\n/***/ \"./src/components/Form.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/Form.jsx ***!\n  \\*********************************/\n/*! exports provided: Slider, DropDown, Pattern, ColorPicker, Switch, NumericInput, NumberColorPicker, Toggle, FontSetting */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Slider\", function() { return Slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropDown\", function() { return DropDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pattern\", function() { return Pattern; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorPicker\", function() { return ColorPicker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Switch\", function() { return Switch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NumericInput\", function() { return NumericInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NumberColorPicker\", function() { return NumberColorPicker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Toggle\", function() { return Toggle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontSetting\", function() { return FontSetting; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_ciq_form_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_ciq-form.scss */ \"./sass/components/_ciq-form.scss\");\n/* harmony import */ var _sass_components_ciq_form_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_form_scss__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/* eslint-disable react/sort-comp,react/no-multi-comp */\n\n\n\nvar Slider =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  function Slider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Slider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Slider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onChange = function (val) {\n      _this.props.onChange(val.currentTarget.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.value !== nextProps.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          _this$props$min = _this$props.min,\n          min = _this$props$min === void 0 ? 1 : _this$props$min,\n          _this$props$max = _this$props.max,\n          max = _this$props$max === void 0 ? 10 : _this$props$max,\n          _this$props$step = _this$props.step,\n          step = _this$props$step === void 0 ? 1 : _this$props$step,\n          value = _this$props.value;\n      var barWidth = 120; // css hardcode\n\n      var activeWidth = Math.round(barWidth * (value - min) / (max - min));\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-slider\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-slider-range\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-slider-bar\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-slider-active-bar\",\n        style: {\n          width: activeWidth\n        }\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"range\",\n        min: min,\n        max: max,\n        step: step,\n        onChange: this.onChange,\n        value: value\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"value\"\n      }, value));\n    }\n  }]);\n\n  return Slider;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\nvar DropDown =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(DropDown, _React$Component2);\n\n  function DropDown() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, DropDown);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(DropDown)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this2.state = {\n      open: false\n    };\n    _this2.titleRef = null;\n\n    _this2.onClick = function () {\n      return _this2.setState(function (prevState) {\n        return {\n          open: !prevState.open\n        };\n      });\n    };\n\n    _this2.close = function (e) {\n      if (e.target !== _this2.titleRef) {\n        _this2.setState({\n          open: false\n        });\n      }\n    };\n\n    return _this2;\n  }\n\n  _createClass(DropDown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.close, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.close);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          rows = _this$props2.rows,\n          children = _this$props2.children,\n          title = _this$props2.title,\n          onRowClick = _this$props2.onRowClick,\n          className = _this$props2.className;\n      var open = this.state.open;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"\".concat(className || '', \" cq-dropdown\")\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"title \".concat(open ? 'active' : ''),\n        onClick: this.onClick,\n        ref: function ref(_ref) {\n          _this3.titleRef = _ref;\n        }\n      }, title, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ArrowIcon\"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dropdown \".concat(open ? 'active' : '')\n      }, rows.map(function (row, idx) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          key: idx // eslint-disable-line react/no-array-index-key\n          ,\n          className: \"row\",\n          onClick: function onClick() {\n            return onRowClick && onRowClick(row);\n          }\n        }, children(row));\n      })));\n    }\n  }]);\n\n  return DropDown;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\nvar Pattern =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(Pattern, _React$Component3);\n\n  function Pattern() {\n    var _getPrototypeOf4;\n\n    var _this4;\n\n    _classCallCheck(this, Pattern);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(Pattern)).call.apply(_getPrototypeOf4, [this].concat(args)));\n    _this4.patterns = [{\n      width: 1,\n      pattern: 'solid'\n    }, {\n      width: 3,\n      pattern: 'solid'\n    }, {\n      width: 5,\n      pattern: 'solid'\n    }, {\n      width: 1,\n      pattern: 'dotted'\n    }, {\n      width: 3,\n      pattern: 'dotted'\n    }, {\n      width: 5,\n      pattern: 'dotted'\n    }, {\n      width: 1,\n      pattern: 'dashed'\n    }, {\n      width: 3,\n      pattern: 'dashed'\n    }, {\n      width: 5,\n      pattern: 'dashed'\n    }, {\n      width: 0,\n      pattern: 'none'\n    }];\n    return _this4;\n  }\n\n  _createClass(Pattern, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          pattern = _this$props3.pattern,\n          lineWidth = _this$props3.lineWidth,\n          onChange = _this$props3.onChange;\n      var title = pattern !== 'none' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"option \".concat(pattern, \"-\").concat(lineWidth)\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"none\"\n      }, \"None\");\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n        rows: this.patterns,\n        title: title,\n        onRowClick: onChange\n      }, function (p) {\n        return p.pattern !== 'none' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n          className: \"option \".concat(p.pattern, \"-\").concat(p.width)\n        }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n          className: \"none\"\n        }, \"None\");\n      });\n    }\n  }]);\n\n  return Pattern;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\nvar ColorPicker =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(ColorPicker, _React$Component4);\n\n  function ColorPicker() {\n    var _getPrototypeOf5;\n\n    var _this5;\n\n    _classCallCheck(this, ColorPicker);\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf5 = _getPrototypeOf(ColorPicker)).call.apply(_getPrototypeOf5, [this].concat(args)));\n    _this5.colorMap = [['#ffffff', '#e1e1e1', '#cccccc', '#b7b7b7', '#a0a0a5', '#898989', '#707070', '#626262', '#555555', '#464646', '#363636', '#262626', '#1d1d1d', '#000000'], ['#f4977c', '#f7ac84', '#fbc58d', '#fff69e', '#c4de9e', '#85c99e', '#7fcdc7', '#75d0f4', '#81a8d7', '#8594c8', '#8983bc', '#a187bd', '#bb8dbe', '#f29bc1'], ['#ef6c53', '#f38d5b', '#f8ae63', '#fff371', '#acd277', '#43b77a', '#2ebbb3', '#00bff0', '#4a8dc8', '#5875b7', '#625da6', '#8561a7', '#a665a7', '#ee6fa9'], ['#ea1d2c', '#ee652e', '#f4932f', '#fff126', '#8ec648', '#00a553', '#00a99c', '#00afed', '#0073ba', '#0056a4', '#323390', '#66308f', '#912a8e', '#e9088c'], ['#9b0b16', '#9e4117', '#a16118', '#c6b920', '#5a852d', '#007238', '#00746a', '#0077a1', '#004c7f', '#003570', '#1d1762', '#441261', '#62095f', '#9c005d'], ['#770001', '#792e03', '#7b4906', '#817a0b', '#41661e', '#005827', '#005951', '#003b5c', '#001d40', '#000e35', '#04002c', '#19002b', '#2c002a', '#580028']];\n    _this5.state = {\n      open: false\n    };\n    _this5.titleRef = null;\n\n    _this5.onClick = function () {\n      return _this5.setState(function (prevState) {\n        return {\n          open: !prevState.open\n        };\n      });\n    };\n\n    _this5.close = function (e) {\n      if (e.target !== _this5.titleRef) {\n        _this5.setState({\n          open: false\n        });\n      }\n    };\n\n    return _this5;\n  }\n\n  _createClass(ColorPicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.close, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.close);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return this.state.open !== nextState.open;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$props4 = this.props,\n          color = _this$props4.color,\n          setColor = _this$props4.setColor;\n      var backgroundColor = color === 'auto' ? '#000000' : color;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-color-picker\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        ref: function ref(_ref2) {\n          _this6.titleRef = _ref2;\n        },\n        className: \"title\",\n        style: {\n          backgroundColor: backgroundColor\n        },\n        onClick: this.onClick\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"dropdown \".concat(this.state.open ? 'open' : '')\n      }, this.colorMap.map(function (row, rowIdx) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          key: rowIdx\n          /* eslint-disable-line react/no-array-index-key */\n          ,\n          className: \"row\"\n        }, row.map(function (tileColor) {\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n            key: tileColor,\n            className: \"tile-color\",\n            style: {\n              backgroundColor: tileColor\n            },\n            onClick: function onClick() {\n              return setColor(tileColor);\n            }\n          });\n        }));\n      })));\n    }\n  }]);\n\n  return ColorPicker;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\nvar Switch = function Switch(_ref3) {\n  var value = _ref3.value,\n      onChange = _ref3.onChange;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-switch \".concat(value ? 'on' : 'off'),\n    onClick: function onClick() {\n      return onChange(!value);\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"handle\"\n  }));\n}; // NumericInput fires onChange on Enter or onBlur\n\nvar NumericInput =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(NumericInput, _React$Component5);\n\n  function NumericInput() {\n    var _getPrototypeOf6;\n\n    var _this7;\n\n    _classCallCheck(this, NumericInput);\n\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    _this7 = _possibleConstructorReturn(this, (_getPrototypeOf6 = _getPrototypeOf(NumericInput)).call.apply(_getPrototypeOf6, [this].concat(args)));\n    _this7.state = {};\n\n    _this7.fireOnChange = function () {\n      var _this7$props = _this7.props,\n          min = _this7$props.min,\n          max = _this7$props.max,\n          onChange = _this7$props.onChange;\n\n      var setAndChange = function setAndChange(val) {\n        return _this7.setState({\n          value: val\n        }, function () {\n          return onChange(_this7.state.value);\n        });\n      };\n\n      if (max !== undefined && _this7.state.value > max) {\n        setAndChange(max);\n      } else if (min !== undefined && _this7.state.value < min) {\n        setAndChange(min);\n      } else {\n        onChange(_this7.state.value);\n      }\n    };\n\n    _this7.onUpdateValue = function (e) {\n      _this7.setState({\n        value: e.target.value\n      });\n    };\n\n    _this7.fireOnEnter = function (e) {\n      if (e.key === 'Enter') {\n        _this7.fireOnChange();\n      }\n    };\n\n    return _this7;\n  }\n\n  _createClass(NumericInput, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var value = this.props.value;\n      this.setState({\n        originalValue: value,\n        value: value\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var value = newProps.value;\n\n      if (value !== this.state.originalValue) {\n        this.setState({\n          originalValue: value,\n          value: value\n        }, this.fireOnChange);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return this.state.value !== nextState.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          min = _this$props5.min,\n          max = _this$props5.max,\n          step = _this$props5.step;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        type: \"number\",\n        value: this.state.value,\n        onBlur: this.fireOnChange,\n        onChange: this.onUpdateValue,\n        onKeyPress: this.fireOnEnter,\n        min: min,\n        max: max,\n        step: step\n      });\n    }\n  }]);\n\n  return NumericInput;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\nvar NumberColorPicker = function NumberColorPicker(_ref4) {\n  var value = _ref4.value,\n      onChange = _ref4.onChange;\n  // Do NOT rename the variables Value and Color! The keys are also\n  // used as attribute suffixes\n  var Value = value.Value,\n      Color = value.Color;\n\n  var onValueChange = function onValueChange(v) {\n    return onChange({\n      Color: Color,\n      Value: v\n    });\n  };\n\n  var onColorChange = function onColorChange(c) {\n    return onChange({\n      Color: c,\n      Value: Value\n    });\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-numbercolorpicker\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NumericInput, {\n    value: Value,\n    onChange: function onChange(val) {\n      return onValueChange(val);\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ColorPicker, {\n    color: Color,\n    setColor: function setColor(val) {\n      return onColorChange(val);\n    }\n  }));\n};\nvar Toggle = function Toggle(_ref5) {\n  var className = _ref5.className,\n      children = _ref5.children,\n      active = _ref5.active,\n      onChange = _ref5.onChange;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: function onClick() {\n      return onChange(!active);\n    },\n    className: \"\".concat(className || '', \" \").concat(active ? 'active' : '', \" cq-toggle\")\n  }, children);\n};\nvar FontSetting = function FontSetting(_ref6) {\n  var onChange = _ref6.onChange,\n      value = _ref6.value;\n  var families = ['Default', 'Helvetica', 'Courier', 'Garamond', 'Palatino', 'Times New Roman'];\n  var fontSizes = [8, 10, 12, 13, 14, 16, 20, 28, 36, 48, 64];\n\n  var fireChange = function fireChange(change) {\n    return onChange(_objectSpread({}, value, change));\n  };\n\n  var onFontFamilyChange = function onFontFamilyChange(family) {\n    return fireChange({\n      family: family\n    });\n  };\n\n  var onFontSizeChange = function onFontSizeChange(size) {\n    return fireChange({\n      size: \"\".concat(size, \"px\")\n    });\n  };\n\n  var onBoldChange = function onBoldChange(isBold) {\n    return fireChange({\n      weight: isBold ? 'bold' : undefined\n    });\n  };\n\n  var onItalicChange = function onItalicChange(isItalic) {\n    return fireChange({\n      style: isItalic ? 'italic' : undefined\n    });\n  };\n\n  var family = value.family,\n      style = value.style,\n      weight = value.weight,\n      size = value.size;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-fontsetting\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Toggle, {\n    onChange: onBoldChange,\n    active: !!weight\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-text-icon\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, \"B\"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Toggle, {\n    active: !!style,\n    onChange: onItalicChange\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-text-icon\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", null, \"i\"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n    className: \"cq-changefontsize\",\n    rows: fontSizes,\n    title: size || '13px',\n    onRowClick: onFontSizeChange\n  }, function (p) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option\"\n    }, p);\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropDown, {\n    className: \"cq-changefontfamily\",\n    rows: families,\n    title: family || families[0],\n    onRowClick: onFontFamilyChange\n  }, function (p) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"option\"\n    }, p);\n  }));\n};\n\n/***/ }),\n\n/***/ \"./src/components/HighestLowestMarker.jsx\":\n/*!************************************************!*\\\n  !*** ./src/components/HighestLowestMarker.jsx ***!\n  \\************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_highest-lowest-marker.scss */ \"./sass/components/_highest-lowest-marker.scss\");\n/* harmony import */ var _sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_highest_lowest_marker_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar HighestLowestMarker = function HighestLowestMarker(_ref) {\n  var setHighestRef = _ref.setHighestRef,\n      setLowestRef = _ref.setLowestRef;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setHighestRef,\n    className: \"ciq-highest-price\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__shape-circule spot__fill-blue\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__label\",\n    \"data-label-pos\": \"top\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"\".concat(t.translate('H'), \": \")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__value\"\n  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setLowestRef,\n    className: \"ciq-lowest-price\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__shape-circule spot__fill-red\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__label\",\n    \"data-label-pos\": \"bottom\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, \"\".concat(t.translate('L'), \" : \")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"spot__value\"\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var s = _ref2.highestLowest;\n  return {\n    setHighestRef: s.setHighestRef,\n    setLowestRef: s.setLowestRef\n  };\n})(HighestLowestMarker));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Icons.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Icons.jsx ***!\n  \\**********************************/\n/*! exports provided: Wrapper, DrawingCursorIcon, BaseLineIcon, CandleIcon, DotIcon, LineDotIcon, HeikinAshiIcon, HollowCandleIcon, KagiIcon, LineBreakIcon, LineIcon, OHLCIcon, PointFigureIcon, RangeBarsIcon, RenkoIcon, TableIcon, AddIcon, ZoomInIcon, CloseIcon, CloseCircleIcon, ComparisonIcon, CrosshairOffIcon, CrosshairOnIcon, CrosshairTooltipIcon, DeleteIcon, ClearIcon, DrawIcon, IndicatorIcon, MeasureIcon, ZoomOutIcon, SplineIcon, PngIcon, CsvIcon, StarIcon, TemplateIcon, TickIcon, TimeIcon, SearchIcon, EditIcon, SettingIcon, ArrowIcon, FavoriteIcon, DownloadIcon, PositionLeftIcon, PositionBottomIcon, BackIcon, MetalIcon, alertIconMap, SymbolPlaceholderIcon, CategoryIconMap, FlagIcons, ItemIconMap, ActiveOptionsIconMap */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wrapper\", function() { return Wrapper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawingCursorIcon\", function() { return DrawingCursorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseLineIcon\", function() { return BaseLineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CandleIcon\", function() { return CandleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DotIcon\", function() { return DotIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineDotIcon\", function() { return LineDotIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HeikinAshiIcon\", function() { return HeikinAshiIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HollowCandleIcon\", function() { return HollowCandleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KagiIcon\", function() { return KagiIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineBreakIcon\", function() { return LineBreakIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineIcon\", function() { return LineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OHLCIcon\", function() { return OHLCIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointFigureIcon\", function() { return PointFigureIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RangeBarsIcon\", function() { return RangeBarsIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RenkoIcon\", function() { return RenkoIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableIcon\", function() { return TableIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AddIcon\", function() { return AddIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoomInIcon\", function() { return ZoomInIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseIcon\", function() { return CloseIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CloseCircleIcon\", function() { return CloseCircleIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComparisonIcon\", function() { return ComparisonIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairOffIcon\", function() { return CrosshairOffIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairOnIcon\", function() { return CrosshairOnIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrosshairTooltipIcon\", function() { return CrosshairTooltipIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteIcon\", function() { return DeleteIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClearIcon\", function() { return ClearIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawIcon\", function() { return DrawIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IndicatorIcon\", function() { return IndicatorIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MeasureIcon\", function() { return MeasureIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ZoomOutIcon\", function() { return ZoomOutIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SplineIcon\", function() { return SplineIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PngIcon\", function() { return PngIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CsvIcon\", function() { return CsvIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StarIcon\", function() { return StarIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TemplateIcon\", function() { return TemplateIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TickIcon\", function() { return TickIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TimeIcon\", function() { return TimeIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchIcon\", function() { return SearchIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditIcon\", function() { return EditIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SettingIcon\", function() { return SettingIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArrowIcon\", function() { return ArrowIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FavoriteIcon\", function() { return FavoriteIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DownloadIcon\", function() { return DownloadIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PositionLeftIcon\", function() { return PositionLeftIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PositionBottomIcon\", function() { return PositionBottomIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackIcon\", function() { return BackIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MetalIcon\", function() { return MetalIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alertIconMap\", function() { return alertIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolPlaceholderIcon\", function() { return SymbolPlaceholderIcon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CategoryIconMap\", function() { return CategoryIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagIcons\", function() { return FlagIcons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemIconMap\", function() { return ItemIconMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActiveOptionsIconMap\", function() { return ActiveOptionsIconMap; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sass/components/_icons.scss */ \"./sass/components/_icons.scss\");\n/* harmony import */ var _sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_icons_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg */ \"./sass/icons/chart settings/chart types/baseline/ic-baseline-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/candle/ic-candle-normal.svg */ \"./sass/icons/chart settings/chart types/candle/ic-candle-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/dot/ic-dot-normal.svg */ \"./sass/icons/chart settings/chart types/dot/ic-dot-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg */ \"./sass/icons/chart settings/chart types/line dot/ic-linedot-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg */ \"./sass/icons/chart settings/chart types/ic-heikin-ashi-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg */ \"./sass/icons/chart settings/chart types/hollow candle/ic-hollowcandle-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-kagi-normal.svg */ \"./sass/icons/chart settings/chart types/ic-kagi-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/line/ic-line-normal.svg */ \"./sass/icons/chart settings/chart types/line/ic-line-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-linebreak-normal.svg */ \"./sass/icons/chart settings/chart types/ic-linebreak-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg */ \"./sass/icons/chart settings/chart types/ohlc/ic-ohlc-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-pointfigure-normal.svg */ \"./sass/icons/chart settings/chart types/ic-pointfigure-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-rangebars-normal.svg */ \"./sass/icons/chart settings/chart types/ic-rangebars-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/ic-renko-normal.svg */ \"./sass/icons/chart settings/chart types/ic-renko-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/spline/ic-spline-normal.svg */ \"./sass/icons/chart settings/chart types/spline/ic-spline-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart types/table/table.svg */ \"./sass/icons/chart settings/chart types/table/table.svg\");\n/* harmony import */ var _sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../sass/icons/download/ic-png.svg */ \"./sass/icons/download/ic-png.svg\");\n/* harmony import */ var _sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../sass/icons/download/ic-csv.svg */ \"./sass/icons/download/ic-csv.svg\");\n/* harmony import */ var _sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../sass/icons/chart settings/zoom-in/ic-zoomin-light.svg */ \"./sass/icons/chart settings/zoom-in/ic-zoomin-light.svg\");\n/* harmony import */ var _sass_icons_close_ic_close_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../sass/icons/close/ic-close.svg */ \"./sass/icons/close/ic-close.svg\");\n/* harmony import */ var _sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../sass/icons/close/ic-close-circle.svg */ \"./sass/icons/close/ic-close-circle.svg\");\n/* harmony import */ var _sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../sass/icons/chart settings/comparison/ic-comparison-normal.svg */ \"./sass/icons/chart settings/comparison/ic-comparison-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-off.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-off.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-on.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-on.svg\");\n/* harmony import */ var _sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg */ \"./sass/icons/chart settings/crosshair/ic-crosshair-tooltip.svg\");\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../sass/icons/delete/ic-delete.svg */ \"./sass/icons/delete/ic-delete.svg\");\n/* harmony import */ var _sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../sass/icons/clear/ic-clear.svg */ \"./sass/icons/clear/ic-clear.svg\");\n/* harmony import */ var _sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg */ \"./sass/icons/chart settings/drawing tools/ic-drawingtools-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_indicators_ic_indicator_normal_svg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../sass/icons/chart settings/indicators/ic-indicator-normal.svg */ \"./sass/icons/chart settings/indicators/ic-indicator-normal.svg\");\n/* harmony import */ var _sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../sass/icons/measure/ic-measure.svg */ \"./sass/icons/measure/ic-measure.svg\");\n/* harmony import */ var _sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../sass/icons/chart settings/zoom-out/ic-zoomout-light.svg */ \"./sass/icons/chart settings/zoom-out/ic-zoomout-light.svg\");\n/* harmony import */ var _sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../sass/icons/favorite/ic-favorite-normal.svg */ \"./sass/icons/favorite/ic-favorite-normal.svg\");\n/* harmony import */ var _sass_icons_chart_settings_chart_template_ic_charttemplate_normal_svg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../sass/icons/chart settings/chart template/ic-charttemplate-normal.svg */ \"./sass/icons/chart settings/chart template/ic-charttemplate-normal.svg\");\n/* harmony import */ var _sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../sass/icons/tick/ic-tick.svg */ \"./sass/icons/tick/ic-tick.svg\");\n/* harmony import */ var _sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../sass/icons/time/ic-time.svg */ \"./sass/icons/time/ic-time.svg\");\n/* harmony import */ var _sass_icons_sidebar_active_ic_active_normal_svg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../sass/icons/sidebar/active/ic-active-normal.svg */ \"./sass/icons/sidebar/active/ic-active-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../sass/icons/sidebar/commodities/ic-commodities-normal.svg */ \"./sass/icons/sidebar/commodities/ic-commodities-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../sass/icons/sidebar/forex/ic-forex-normal.svg */ \"./sass/icons/sidebar/forex/ic-forex-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../sass/icons/sidebar/indices/ic-indices-normal.svg */ \"./sass/icons/sidebar/indices/ic-indices-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../sass/icons/sidebar/otc/ic-otc-normal.svg */ \"./sass/icons/sidebar/otc/ic-otc-normal.svg\");\n/* harmony import */ var _sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../sass/icons/sidebar/volatility/ic-volatility-normal.svg */ \"./sass/icons/sidebar/volatility/ic-volatility-normal.svg\");\n/* harmony import */ var _sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../sass/icons/search/ic-search-normal.svg */ \"./sass/icons/search/ic-search-normal.svg\");\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../sass/icons/edit/ic-edit.svg */ \"./sass/icons/edit/ic-edit.svg\");\n/* harmony import */ var _sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../sass/icons/dropdown/ic-dropdown.svg */ \"./sass/icons/dropdown/ic-dropdown.svg\");\n/* harmony import */ var _sass_icons_download_ic_download_svg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../sass/icons/download/ic-download.svg */ \"./sass/icons/download/ic-download.svg\");\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../sass/icons/chart settings/setting/ic-position-left.svg */ \"./sass/icons/chart settings/setting/ic-position-left.svg\");\n/* harmony import */ var _sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../sass/icons/chart settings/setting/ic-position-bottom.svg */ \"./sass/icons/chart settings/setting/ic-position-bottom.svg\");\n/* harmony import */ var _sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../sass/icons/back/ic-back.svg */ \"./sass/icons/back/ic-back.svg\");\n/* harmony import */ var _sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../sass/icons/pencil/ic-pencil.svg */ \"./sass/icons/pencil/ic-pencil.svg\");\n/* harmony import */ var _sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../sass/icons/alert message/warning.svg */ \"./sass/icons/alert message/warning.svg\");\n/* harmony import */ var _sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../sass/icons/alert message/error.svg */ \"./sass/icons/alert message/error.svg\");\n/* harmony import */ var _sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../sass/icons/alert message/success.svg */ \"./sass/icons/alert message/success.svg\");\n/* harmony import */ var _sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../sass/icons/alert message/info.svg */ \"./sass/icons/alert message/info.svg\");\n/* harmony import */ var _sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../sass/icons/placeholder/ic-placeholder.svg */ \"./sass/icons/placeholder/ic-placeholder.svg\");\n/* harmony import */ var _sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../sass/icons/flags/aud.svg */ \"./sass/icons/flags/aud.svg\");\n/* harmony import */ var _sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../sass/icons/flags/cad.svg */ \"./sass/icons/flags/cad.svg\");\n/* harmony import */ var _sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../sass/icons/flags/chf.svg */ \"./sass/icons/flags/chf.svg\");\n/* harmony import */ var _sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../sass/icons/flags/eur.svg */ \"./sass/icons/flags/eur.svg\");\n/* harmony import */ var _sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../sass/icons/flags/gbp.svg */ \"./sass/icons/flags/gbp.svg\");\n/* harmony import */ var _sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../sass/icons/flags/jpy.svg */ \"./sass/icons/flags/jpy.svg\");\n/* harmony import */ var _sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../sass/icons/flags/mxn.svg */ \"./sass/icons/flags/mxn.svg\");\n/* harmony import */ var _sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../sass/icons/flags/nok.svg */ \"./sass/icons/flags/nok.svg\");\n/* harmony import */ var _sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../sass/icons/flags/nzd.svg */ \"./sass/icons/flags/nzd.svg\");\n/* harmony import */ var _sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../sass/icons/flags/pln.svg */ \"./sass/icons/flags/pln.svg\");\n/* harmony import */ var _sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../sass/icons/flags/sek.svg */ \"./sass/icons/flags/sek.svg\");\n/* harmony import */ var _sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../sass/icons/flags/usd.svg */ \"./sass/icons/flags/usd.svg\");\n/* harmony import */ var _sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../sass/icons/flags/portugal.svg */ \"./sass/icons/flags/portugal.svg\");\n/* harmony import */ var _sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../../sass/icons/flags/russia.svg */ \"./sass/icons/flags/russia.svg\");\n/* harmony import */ var _sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../../sass/icons/flags/thailand.svg */ \"./sass/icons/flags/thailand.svg\");\n/* harmony import */ var _sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../../sass/icons/flags/indonesia.svg */ \"./sass/icons/flags/indonesia.svg\");\n/* harmony import */ var _sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../../sass/icons/flags/vietnam.svg */ \"./sass/icons/flags/vietnam.svg\");\n/* harmony import */ var _sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../../sass/icons/flags/italy.svg */ \"./sass/icons/flags/italy.svg\");\n/* harmony import */ var _sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../../sass/icons/flags/chinese.svg */ \"./sass/icons/flags/chinese.svg\");\n/* harmony import */ var _sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../../sass/icons/flags/chinese-traditional.svg */ \"./sass/icons/flags/chinese-traditional.svg\");\n/* harmony import */ var _sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../../sass/icons/flags/german.svg */ \"./sass/icons/flags/german.svg\");\n/* harmony import */ var _sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../../sass/icons/flags/hong kong.svg */ \"./sass/icons/flags/hong kong.svg\");\n/* harmony import */ var _sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../../sass/icons/flags/french.svg */ \"./sass/icons/flags/french.svg\");\n/* harmony import */ var _sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../../sass/icons/flags/dutch.svg */ \"./sass/icons/flags/dutch.svg\");\n/* harmony import */ var _sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../../sass/icons/flags/spanish.svg */ \"./sass/icons/flags/spanish.svg\");\n/* harmony import */ var _sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../../sass/icons/flags/wallstreet.svg */ \"./sass/icons/flags/wallstreet.svg\");\n/* harmony import */ var _sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../../sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg */ \"./sass/icons/active-symbols/energy/oil usd/ic-oilusd.svg\");\n/* harmony import */ var _sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../../sass/icons/active-symbols/metals/ic-metal.svg */ \"./sass/icons/active-symbols/metals/ic-metal.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/10 index/ic-10-index.svg */ \"./sass/icons/active-symbols/volatility/10 index/ic-10-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/25 index/ic-25-index.svg */ \"./sass/icons/active-symbols/volatility/25 index/ic-25-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/50 index/ic-50-index.svg */ \"./sass/icons/active-symbols/volatility/50 index/ic-50-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/75 index/ic-75-index.svg */ \"./sass/icons/active-symbols/volatility/75 index/ic-75-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/100 index/ic-100-index.svg */ \"./sass/icons/active-symbols/volatility/100 index/ic-100-index.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg */ \"./sass/icons/active-symbols/volatility/bear market/ic-marketbear.svg\");\n/* harmony import */ var _sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../../sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg */ \"./sass/icons/active-symbols/volatility/bull market/ic-marketbull.svg\");\n/* harmony import */ var _sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../../sass/icons/active-symbols/ic-otcbadge.svg */ \"./sass/icons/active-symbols/ic-otcbadge.svg\");\n/* harmony import */ var _sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../../sass/icons/active-symbols/ic-smartfx-placeholder.svg */ \"./sass/icons/active-symbols/ic-smartfx-placeholder.svg\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n // Chart types:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Energy */\n\n\n/* Metals */\n\n\n/* Volatility Indices */\n\n\n\n\n\n\n\n\n\n\nvar Wrapper = function Wrapper(SvgLogo) {\n  return function (props) {\n    var className = props.className,\n        tooltip = props['tooltip-title'],\n        p = _objectWithoutProperties(props, [\"className\", 'tooltip-title']); // eslint-disable-line prefer-const\n\n\n    className = \"ic-icon \".concat(className || '');\n    var vb = SvgLogo.viewBox.split(' ').slice(2);\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", _extends({\n      className: className,\n      \"tooltip-title\": tooltip\n    }, p), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", {\n      width: vb[0],\n      height: vb[1]\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"use\", {\n      xlinkHref: __webpack_require__.p + SvgLogo.url\n      /* eslint-disable-line no-undef */\n\n    })), tooltip && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      className: \"ic-subtitle\"\n    }, tooltip)));\n  };\n};\nvar DrawingCursorIcon = Wrapper(_sass_icons_pencil_ic_pencil_svg__WEBPACK_IMPORTED_MODULE_49__[\"default\"]); // Chart Types:\n\nvar BaseLineIcon = Wrapper(_sass_icons_chart_settings_chart_types_baseline_ic_baseline_normal_svg__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar CandleIcon = Wrapper(_sass_icons_chart_settings_chart_types_candle_ic_candle_normal_svg__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar DotIcon = Wrapper(_sass_icons_chart_settings_chart_types_dot_ic_dot_normal_svg__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nvar LineDotIcon = Wrapper(_sass_icons_chart_settings_chart_types_line_dot_ic_linedot_normal_svg__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\nvar HeikinAshiIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_heikin_ashi_normal_svg__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\nvar HollowCandleIcon = Wrapper(_sass_icons_chart_settings_chart_types_hollow_candle_ic_hollowcandle_normal_svg__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\nvar KagiIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_kagi_normal_svg__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\nvar LineBreakIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_linebreak_normal_svg__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\nvar LineIcon = Wrapper(_sass_icons_chart_settings_chart_types_line_ic_line_normal_svg__WEBPACK_IMPORTED_MODULE_9__[\"default\"]);\nvar OHLCIcon = Wrapper(_sass_icons_chart_settings_chart_types_ohlc_ic_ohlc_normal_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\nvar PointFigureIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_pointfigure_normal_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\nvar RangeBarsIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_rangebars_normal_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\nvar RenkoIcon = Wrapper(_sass_icons_chart_settings_chart_types_ic_renko_normal_svg__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\nvar TableIcon = Wrapper(_sass_icons_chart_settings_chart_types_table_table_svg__WEBPACK_IMPORTED_MODULE_16__[\"default\"]);\nvar AddIcon = Wrapper(_sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19__[\"default\"]);\nvar ZoomInIcon = Wrapper(_sass_icons_chart_settings_zoom_in_ic_zoomin_light_svg__WEBPACK_IMPORTED_MODULE_19__[\"default\"]);\nvar CloseIcon = Wrapper(_sass_icons_close_ic_close_svg__WEBPACK_IMPORTED_MODULE_20__[\"default\"]);\nvar CloseCircleIcon = Wrapper(_sass_icons_close_ic_close_circle_svg__WEBPACK_IMPORTED_MODULE_21__[\"default\"]);\nvar ComparisonIcon = Wrapper(_sass_icons_chart_settings_comparison_ic_comparison_normal_svg__WEBPACK_IMPORTED_MODULE_22__[\"default\"]);\nvar CrosshairOffIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_off_svg__WEBPACK_IMPORTED_MODULE_23__[\"default\"]);\nvar CrosshairOnIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_on_svg__WEBPACK_IMPORTED_MODULE_24__[\"default\"]);\nvar CrosshairTooltipIcon = Wrapper(_sass_icons_chart_settings_crosshair_ic_crosshair_tooltip_svg__WEBPACK_IMPORTED_MODULE_25__[\"default\"]);\nvar DeleteIcon = Wrapper(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_26__[\"default\"]);\nvar ClearIcon = Wrapper(_sass_icons_clear_ic_clear_svg__WEBPACK_IMPORTED_MODULE_27__[\"default\"]);\nvar DrawIcon = Wrapper(_sass_icons_chart_settings_drawing_tools_ic_drawingtools_normal_svg__WEBPACK_IMPORTED_MODULE_28__[\"default\"]);\nvar IndicatorIcon = Wrapper(_sass_icons_chart_settings_indicators_ic_indicator_normal_svg__WEBPACK_IMPORTED_MODULE_29__[\"default\"]);\nvar MeasureIcon = Wrapper(_sass_icons_measure_ic_measure_svg__WEBPACK_IMPORTED_MODULE_30__[\"default\"]);\nvar ZoomOutIcon = Wrapper(_sass_icons_chart_settings_zoom_out_ic_zoomout_light_svg__WEBPACK_IMPORTED_MODULE_31__[\"default\"]);\nvar SplineIcon = Wrapper(_sass_icons_chart_settings_chart_types_spline_ic_spline_normal_svg__WEBPACK_IMPORTED_MODULE_15__[\"default\"]);\nvar PngIcon = Wrapper(_sass_icons_download_ic_png_svg__WEBPACK_IMPORTED_MODULE_17__[\"default\"]);\nvar CsvIcon = Wrapper(_sass_icons_download_ic_csv_svg__WEBPACK_IMPORTED_MODULE_18__[\"default\"]);\nvar StarIcon = Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_32__[\"default\"]);\nvar TemplateIcon = Wrapper(_sass_icons_chart_settings_chart_template_ic_charttemplate_normal_svg__WEBPACK_IMPORTED_MODULE_33__[\"default\"]);\nvar TickIcon = Wrapper(_sass_icons_tick_ic_tick_svg__WEBPACK_IMPORTED_MODULE_34__[\"default\"]);\nvar TimeIcon = Wrapper(_sass_icons_time_ic_time_svg__WEBPACK_IMPORTED_MODULE_35__[\"default\"]);\nvar SearchIcon = Wrapper(_sass_icons_search_ic_search_normal_svg__WEBPACK_IMPORTED_MODULE_42__[\"default\"]);\nvar EditIcon = Wrapper(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_43__[\"default\"]);\nvar SettingIcon = Wrapper(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_43__[\"default\"]);\nvar ArrowIcon = Wrapper(_sass_icons_dropdown_ic_dropdown_svg__WEBPACK_IMPORTED_MODULE_44__[\"default\"]);\nvar FavoriteIcon = Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_32__[\"default\"]);\nvar DownloadIcon = Wrapper(_sass_icons_download_ic_download_svg__WEBPACK_IMPORTED_MODULE_45__[\"default\"]);\nvar PositionLeftIcon = Wrapper(_sass_icons_chart_settings_setting_ic_position_left_svg__WEBPACK_IMPORTED_MODULE_46__[\"default\"]);\nvar PositionBottomIcon = Wrapper(_sass_icons_chart_settings_setting_ic_position_bottom_svg__WEBPACK_IMPORTED_MODULE_47__[\"default\"]);\nvar BackIcon = Wrapper(_sass_icons_back_ic_back_svg__WEBPACK_IMPORTED_MODULE_48__[\"default\"]);\nvar MetalIcon = Wrapper(_sass_icons_active_symbols_metals_ic_metal_svg__WEBPACK_IMPORTED_MODULE_82__[\"default\"]);\nvar alertIconMap = {\n  info: Wrapper(_sass_icons_alert_message_info_svg__WEBPACK_IMPORTED_MODULE_53__[\"default\"]),\n  success: Wrapper(_sass_icons_alert_message_success_svg__WEBPACK_IMPORTED_MODULE_52__[\"default\"]),\n  warning: Wrapper(_sass_icons_alert_message_warning_svg__WEBPACK_IMPORTED_MODULE_50__[\"default\"]),\n  error: Wrapper(_sass_icons_alert_message_error_svg__WEBPACK_IMPORTED_MODULE_51__[\"default\"])\n};\nvar SymbolPlaceholderIcon = Wrapper(_sass_icons_placeholder_ic_placeholder_svg__WEBPACK_IMPORTED_MODULE_54__[\"default\"]);\nvar CategoryIconMap = {\n  active: Wrapper(_sass_icons_sidebar_active_ic_active_normal_svg__WEBPACK_IMPORTED_MODULE_36__[\"default\"]),\n  commodities: Wrapper(_sass_icons_sidebar_commodities_ic_commodities_normal_svg__WEBPACK_IMPORTED_MODULE_37__[\"default\"]),\n  favorite: Wrapper(_sass_icons_favorite_ic_favorite_normal_svg__WEBPACK_IMPORTED_MODULE_32__[\"default\"]),\n  forex: Wrapper(_sass_icons_sidebar_forex_ic_forex_normal_svg__WEBPACK_IMPORTED_MODULE_38__[\"default\"]),\n  indices: Wrapper(_sass_icons_sidebar_indices_ic_indices_normal_svg__WEBPACK_IMPORTED_MODULE_39__[\"default\"]),\n  stocks: Wrapper(_sass_icons_sidebar_otc_ic_otc_normal_svg__WEBPACK_IMPORTED_MODULE_40__[\"default\"]),\n  volidx: Wrapper(_sass_icons_sidebar_volatility_ic_volatility_normal_svg__WEBPACK_IMPORTED_MODULE_41__[\"default\"]),\n  indicators: Wrapper(_sass_icons_chart_settings_indicators_ic_indicator_normal_svg__WEBPACK_IMPORTED_MODULE_29__[\"default\"])\n};\nvar FlagIconMap = {\n  AUD: Wrapper(_sass_icons_flags_aud_svg__WEBPACK_IMPORTED_MODULE_55__[\"default\"]),\n  CAD: Wrapper(_sass_icons_flags_cad_svg__WEBPACK_IMPORTED_MODULE_56__[\"default\"]),\n  CHF: Wrapper(_sass_icons_flags_chf_svg__WEBPACK_IMPORTED_MODULE_57__[\"default\"]),\n  EUR: Wrapper(_sass_icons_flags_eur_svg__WEBPACK_IMPORTED_MODULE_58__[\"default\"]),\n  GBP: Wrapper(_sass_icons_flags_gbp_svg__WEBPACK_IMPORTED_MODULE_59__[\"default\"]),\n  JPY: Wrapper(_sass_icons_flags_jpy_svg__WEBPACK_IMPORTED_MODULE_60__[\"default\"]),\n  MXN: Wrapper(_sass_icons_flags_mxn_svg__WEBPACK_IMPORTED_MODULE_61__[\"default\"]),\n  NOK: Wrapper(_sass_icons_flags_nok_svg__WEBPACK_IMPORTED_MODULE_62__[\"default\"]),\n  NZD: Wrapper(_sass_icons_flags_nzd_svg__WEBPACK_IMPORTED_MODULE_63__[\"default\"]),\n  PLN: Wrapper(_sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_64__[\"default\"]),\n  SEK: Wrapper(_sass_icons_flags_sek_svg__WEBPACK_IMPORTED_MODULE_65__[\"default\"]),\n  USD: Wrapper(_sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_66__[\"default\"]),\n  HongKong: Wrapper(_sass_icons_flags_hong_kong_svg__WEBPACK_IMPORTED_MODULE_76__[\"default\"]),\n  Dutch: Wrapper(_sass_icons_flags_dutch_svg__WEBPACK_IMPORTED_MODULE_78__[\"default\"]),\n  German: Wrapper(_sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_75__[\"default\"]),\n  French: Wrapper(_sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_77__[\"default\"]),\n  Spanish: Wrapper(_sass_icons_flags_spanish_svg__WEBPACK_IMPORTED_MODULE_79__[\"default\"]),\n  WallStreet: Wrapper(_sass_icons_flags_wallstreet_svg__WEBPACK_IMPORTED_MODULE_80__[\"default\"])\n};\nvar FlagIcons = {\n  USD: Wrapper(_sass_icons_flags_usd_svg__WEBPACK_IMPORTED_MODULE_66__[\"default\"]),\n  German: Wrapper(_sass_icons_flags_german_svg__WEBPACK_IMPORTED_MODULE_75__[\"default\"]),\n  French: Wrapper(_sass_icons_flags_french_svg__WEBPACK_IMPORTED_MODULE_77__[\"default\"]),\n  Portugal: Wrapper(_sass_icons_flags_portugal_svg__WEBPACK_IMPORTED_MODULE_67__[\"default\"]),\n  Russia: Wrapper(_sass_icons_flags_russia_svg__WEBPACK_IMPORTED_MODULE_68__[\"default\"]),\n  Thailand: Wrapper(_sass_icons_flags_thailand_svg__WEBPACK_IMPORTED_MODULE_69__[\"default\"]),\n  Indonesia: Wrapper(_sass_icons_flags_indonesia_svg__WEBPACK_IMPORTED_MODULE_70__[\"default\"]),\n  Vietnam: Wrapper(_sass_icons_flags_vietnam_svg__WEBPACK_IMPORTED_MODULE_71__[\"default\"]),\n  Italy: Wrapper(_sass_icons_flags_italy_svg__WEBPACK_IMPORTED_MODULE_72__[\"default\"]),\n  Chinese: Wrapper(_sass_icons_flags_chinese_svg__WEBPACK_IMPORTED_MODULE_73__[\"default\"]),\n  ChineseTraditional: Wrapper(_sass_icons_flags_chinese_traditional_svg__WEBPACK_IMPORTED_MODULE_74__[\"default\"]),\n  Poland: Wrapper(_sass_icons_flags_pln_svg__WEBPACK_IMPORTED_MODULE_64__[\"default\"])\n};\nvar ItemIconMap = {\n  SPC: FlagIconMap.USD,\n  AS51: FlagIconMap.AUD,\n  HSI: FlagIconMap.HongKong,\n  N225: FlagIconMap.JPY,\n  AEX: FlagIconMap.Dutch,\n  FCHI: FlagIconMap.French,\n  SSMI: FlagIconMap.CHF,\n  GDAXI: FlagIconMap.German,\n\n  /* Commodities */\n  frxBROUSD: Wrapper(_sass_icons_active_symbols_energy_oil_usd_ic_oilusd_svg__WEBPACK_IMPORTED_MODULE_81__[\"default\"]),\n  frxXAUUSD: MetalIcon,\n  frxXPDUSD: MetalIcon,\n  frxXPTUSD: MetalIcon,\n  frxXAGUSD: MetalIcon,\n\n  /* Volatility Indices */\n  R_10: Wrapper(_sass_icons_active_symbols_volatility_10_index_ic_10_index_svg__WEBPACK_IMPORTED_MODULE_83__[\"default\"]),\n  R_25: Wrapper(_sass_icons_active_symbols_volatility_25_index_ic_25_index_svg__WEBPACK_IMPORTED_MODULE_84__[\"default\"]),\n  R_50: Wrapper(_sass_icons_active_symbols_volatility_50_index_ic_50_index_svg__WEBPACK_IMPORTED_MODULE_85__[\"default\"]),\n  R_75: Wrapper(_sass_icons_active_symbols_volatility_75_index_ic_75_index_svg__WEBPACK_IMPORTED_MODULE_86__[\"default\"]),\n  R_100: Wrapper(_sass_icons_active_symbols_volatility_100_index_ic_100_index_svg__WEBPACK_IMPORTED_MODULE_87__[\"default\"]),\n  RDBEAR: Wrapper(_sass_icons_active_symbols_volatility_bear_market_ic_marketbear_svg__WEBPACK_IMPORTED_MODULE_88__[\"default\"]),\n  RDBULL: Wrapper(_sass_icons_active_symbols_volatility_bull_market_ic_marketbull_svg__WEBPACK_IMPORTED_MODULE_89__[\"default\"])\n};\n\nfunction createCompositeIcon(A, B, icId) {\n  return function (props) {\n    var className = props.className,\n        p = _objectWithoutProperties(props, [\"className\"]);\n\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", _extends({\n      className: \"\".concat(icId, \" \").concat(className)\n    }, p), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(A, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(B, null));\n  };\n}\n\nfunction frx(flagA, flagB) {\n  var A = FlagIconMap[flagA];\n  var B = FlagIconMap[flagB];\n  ItemIconMap[\"frx\".concat(flagA).concat(flagB)] = createCompositeIcon(A, B, 'ic-frx');\n}\n\nvar OTCBadgeIcon = Wrapper(_sass_icons_active_symbols_ic_otcbadge_svg__WEBPACK_IMPORTED_MODULE_90__[\"default\"]);\nvar SmartFXIcon = Wrapper(_sass_icons_active_symbols_ic_smartfx_placeholder_svg__WEBPACK_IMPORTED_MODULE_91__[\"default\"]);\n\nfunction otc(flag, symbol) {\n  var FlagIcon = FlagIconMap[flag];\n  ItemIconMap[symbol] = createCompositeIcon(FlagIcon, OTCBadgeIcon, 'ic-otc');\n}\n\nfunction wld(flag) {\n  var FlagIcon = FlagIconMap[flag];\n  ItemIconMap[\"WLD\".concat(flag)] = createCompositeIcon(SmartFXIcon, FlagIcon, 'ic-wld');\n}\n/* FOREX */\n\n/* Major Pairs */\n\n\nfrx('AUD', 'JPY');\nfrx('AUD', 'USD');\nfrx('EUR', 'AUD');\nfrx('EUR', 'CHF');\nfrx('EUR', 'JPY');\nfrx('EUR', 'CAD');\nfrx('EUR', 'GBP');\nfrx('EUR', 'USD');\nfrx('GBP', 'AUD');\nfrx('GBP', 'JPY');\nfrx('GBP', 'USD');\nfrx('USD', 'CAD');\nfrx('USD', 'CHF');\nfrx('USD', 'JPY');\n/* Minor Pairs */\n\nfrx('AUD', 'CAD');\nfrx('AUD', 'CHF');\nfrx('AUD', 'NZD');\nfrx('AUD', 'PLN');\nfrx('EUR', 'NZD');\nfrx('GBP', 'CAD');\nfrx('GBP', 'CHF');\nfrx('GBP', 'NOK');\nfrx('GBP', 'NZD');\nfrx('GBP', 'PLN');\nfrx('NZD', 'JPY');\nfrx('NZD', 'USD');\nfrx('USD', 'MXN');\nfrx('USD', 'NOK');\nfrx('USD', 'PLN');\nfrx('USD', 'SEK');\n/* Smart FX */\n\nwld('AUD');\nwld('EUR');\nwld('GBP');\nwld('USD');\n/* OTC Indicies */\n\notc('Dutch', 'OTC_AEX');\notc('GBP', 'OTC_FTSE');\notc('EUR', 'OTC_SX5E');\notc('French', 'OTC_FCHI');\notc('German', 'OTC_GDAXI');\notc('JPY', 'OTC_N225');\notc('Spanish', 'OTC_IBEX35');\notc('USD', 'OTC_SPC');\notc('WallStreet', 'OTC_DJI');\notc('USD', 'OTC_NDX');\notc('CHF', 'OTC_SSMI');\notc('HongKong', 'OTC_HSI');\notc('AUD', 'OTC_AS51');\nvar ActiveOptionsIconMap = {\n  delete: DeleteIcon,\n  edit: EditIcon\n};\n\n/***/ }),\n\n/***/ \"./src/components/LastDigitStats.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/LastDigitStats.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_last-digits.scss */ \"./sass/components/_last-digits.scss\");\n/* harmony import */ var _sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_last_digits_scss__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar Bar = function Bar(_ref) {\n  var x = _ref.x,\n      bar = _ref.bar;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bar \".concat(bar.cName),\n    style: {\n      height: \"\".concat(bar.height * 5, \"%\"),\n      left: x * 35\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-bar-value \".concat(bar.height && 'show')\n  }, \"\".concat(bar.height.toFixed(1), \"%\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-bar-title\"\n  }, x));\n};\n\nvar LastDigitStats =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LastDigitStats, _React$Component);\n\n  function LastDigitStats() {\n    _classCallCheck(this, LastDigitStats);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LastDigitStats).apply(this, arguments));\n  }\n\n  _createClass(LastDigitStats, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.showLastDigitStats();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_ref2) {\n      var marketDisplayName = _ref2.marketDisplayName;\n\n      if (this.props.marketDisplayName !== marketDisplayName) {\n        this.props.changeSymbol();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.showLastDigitStats();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isVisible = _this$props.isVisible,\n          bars = _this$props.bars,\n          marketDisplayName = _this$props.marketDisplayName,\n          shouldMinimiseLastDigits = _this$props.shouldMinimiseLastDigits;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-last-digits \".concat(isVisible ? 'show' : '', \" \").concat(shouldMinimiseLastDigits ? 'minimised' : '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-bars\"\n      }, bars.map(function (bar, idx) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Bar, {\n          key: \"bar-\".concat(idx) // eslint-disable-line react/no-array-index-key\n          ,\n          x: idx,\n          bar: bar\n        });\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-bar-footer\"\n      }, t.translate('Last digits stats for latest 1000 ticks on ') + marketDisplayName));\n    }\n  }]);\n\n  return LastDigitStats;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref3) {\n  var l = _ref3.lastDigitStats;\n  return {\n    showLastDigitStats: l.showLastDigitStats,\n    isVisible: l.isVisible,\n    bars: l.bars,\n    marketDisplayName: l.marketDisplayName,\n    changeSymbol: l.changeSymbol,\n    shouldMinimiseLastDigits: l.shouldMinimiseLastDigits\n  };\n})(LastDigitStats));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/List.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/List.jsx ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tt-react-custom-scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\");\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_ciq-list.scss */ \"./sass/components/_ciq-list.scss\");\n/* harmony import */ var _sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_list_scss__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar List = function List(_ref) {\n  var height = _ref.height,\n      items = _ref.items,\n      onItemClick = _ref.onItemClick,\n      children = _ref.children;\n  var hasFunctionAsChildren = typeof children === 'function';\n  var renderRow = hasFunctionAsChildren ? children : function (item) {\n    return item.text;\n  };\n\n  var itemClassName = function itemClassName(it) {\n    return 'ciq-list-item' + \" \".concat(it.disabled ? 'disabled' : '') + \" \".concat(it.active ? 'active' : '');\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    className: \"ciq-list\",\n    autoHeight: true,\n    style: height && {\n      height: \"\".concat(height, \"px\")\n    }\n  }, items.map(function (it, idx) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: it.id,\n      className: itemClassName(it),\n      onClick: function onClick() {\n        return onItemClick(idx, it);\n      }\n    }, renderRow(it));\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (List);\n\n/***/ }),\n\n/***/ \"./src/components/Loader.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Loader.jsx ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n\n\n\nvar Loader = function Loader(_ref) {\n  var isActive = _ref.isActive,\n      currentState = _ref.currentState;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-loader \".concat(isActive ? 'show' : '')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-loader-spin\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-loader-status\"\n  }, currentState));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var l = _ref2.loader;\n  return {\n    isActive: l.isActive,\n    currentState: l.currentState\n  };\n})(Loader));\n\n/***/ }),\n\n/***/ \"./src/components/Marker.jsx\":\n/*!***********************************!*\\\n  !*** ./src/components/Marker.jsx ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _store_MarkerStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/MarkerStore */ \"./src/store/MarkerStore.js\");\n/* harmony import */ var _sass_components_markers_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_markers.scss */ \"./sass/components/_markers.scss\");\n/* harmony import */ var _sass_components_markers_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_markers_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Marker = function Marker(_ref) {\n  var display = _ref.display,\n      left = _ref.left,\n      bottom = _ref.bottom,\n      children = _ref.children,\n      className = _ref.className;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"stx-marker \".concat(className || ''),\n    style: {\n      display: display,\n      left: left,\n      bottom: bottom\n    }\n  }, children);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (store) {\n  return {\n    left: store.left,\n    bottom: store.bottom,\n    children: store.children,\n    className: store.className,\n    display: store.display\n  };\n}, _store_MarkerStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Marker));\n\n/***/ }),\n\n/***/ \"./src/components/MarketOpeningTimeCounter.jsx\":\n/*!*****************************************************!*\\\n  !*** ./src/components/MarketOpeningTimeCounter.jsx ***!\n  \\*****************************************************/\n/*! exports provided: MarketOpeningTimeCounter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MarketOpeningTimeCounter\", function() { return MarketOpeningTimeCounter; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar MarketOpeningTimeCounter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MarketOpeningTimeCounter, _React$Component);\n\n  function MarketOpeningTimeCounter(props) {\n    var _this;\n\n    _classCallCheck(this, MarketOpeningTimeCounter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarketOpeningTimeCounter).call(this, props));\n    _this.serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance();\n    _this.state = {\n      time: _this.serverTime.getLocalDate().getTime()\n    };\n    return _this;\n  }\n\n  _createClass(MarketOpeningTimeCounter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timerInterval = setInterval(function () {\n        return _this2.tick();\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timerInterval);\n    }\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      this.setState({\n        time: this.serverTime.getLocalDate().getTime()\n      });\n    } // 86400000 = 24 hour * 60 min * 60s * 1000ms\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var timeUntilOpenTime = null;\n      var symbolOpenTime = this.props.symbolOpenTime.symbolOpenTime || {};\n      var openTime = symbolOpenTime.openTime || null;\n\n      if (openTime) {\n        timeUntilOpenTime = Object(_utils_index__WEBPACK_IMPORTED_MODULE_1__[\"displayMilliseconds\"])(openTime.getTime() - this.state.time);\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, timeUntilOpenTime);\n    }\n  }]);\n\n  return MarketOpeningTimeCounter;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n/***/ }),\n\n/***/ \"./src/components/Menu.jsx\":\n/*!*********************************!*\\\n  !*** ./src/components/Menu.jsx ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-transition-group */ \"react-transition-group\");\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\nvar Menu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Menu, _Component);\n\n  function Menu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Menu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onOverlayClick = function (e) {\n      if (e.target.className === 'cq-menu-overlay') {\n        _this.props.setOpen(false);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          open = _this$props.open,\n          className = _this$props.className,\n          children = _this$props.children,\n          title = _this$props.title,\n          onTitleClick = _this$props.onTitleClick,\n          DropdownDialog = _this$props.DropdownDialog,\n          isMobile = _this$props.isMobile,\n          isFullscreen = _this$props.isFullscreen,\n          modalNode = _this$props.modalNode,\n          _this$props$enabled = _this$props.enabled,\n          enabled = _this$props$enabled === void 0 ? true : _this$props$enabled,\n          shouldRenderDialogs = _this$props.shouldRenderDialogs;\n      var first = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {\n        return i === 0 ? child : null;\n      });\n      var rest = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(children, function (child, i) {\n        return i !== 0 ? child : null;\n      });\n      var dropdown = shouldRenderDialogs && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_2__[\"CSSTransition\"], {\n        in: open,\n        timeout: 150,\n        classNames: \"cq-menu-dropdown\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DropdownDialog, {\n        className: \"cq-menu-dropdown\",\n        isMobile: isMobile,\n        isFullscreen: isFullscreen\n      }, title && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"title\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"title-text\"\n      }, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"CloseIcon\"], {\n        className: \"icon-close-menu\",\n        onClick: onTitleClick\n      })), rest));\n      return enabled && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ciq-menu ciq-enabled \".concat(className || '', \" \").concat(open ? 'stxMenuActive' : '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-menu-btn\",\n        onClick: onTitleClick\n      }, first), isMobile && modalNode && react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-modal-dropdown \".concat(className || '', \" \").concat(open ? 'stxMenuActive' : '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-menu-overlay\",\n        onClick: this.onOverlayClick\n      }, dropdown)), modalNode) || dropdown) || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ciq-menu ciq-disabled \".concat(className || '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-menu-btn\"\n      }, first));\n    }\n  }]);\n\n  return Menu;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\nMenu.Title = function (_ref) {\n  var children = _ref.children;\n  return children;\n};\n\nMenu.Body = function (_ref2) {\n  var children = _ref2.children;\n  return children;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menu);\n\n/***/ }),\n\n/***/ \"./src/components/NotificationBadge.jsx\":\n/*!**********************************************!*\\\n  !*** ./src/components/NotificationBadge.jsx ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar NotificationBadge = function NotificationBadge(_ref) {\n  var notificationCount = _ref.notificationCount;\n  if (!notificationCount) return null;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"notification-badge \".concat(notificationCount > 9 ? 'x2' : '')\n  }, notificationCount);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationBadge);\n\n/***/ }),\n\n/***/ \"./src/components/PaginationLoader.jsx\":\n/*!*********************************************!*\\\n  !*** ./src/components/PaginationLoader.jsx ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_pagination-loader.scss */ \"./sass/components/_pagination-loader.scss\");\n/* harmony import */ var _sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_pagination_loader_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar PaginationLoader = function PaginationLoader(_ref) {\n  var setRef = _ref.setRef;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    markerRef: setRef,\n    className: \"pagination\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pagination__loader\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"pagination__loader-background\"\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var s = _ref2.paginationLoader;\n  return {\n    setRef: s.setRef\n  };\n})(PaginationLoader));\n\n/***/ }),\n\n/***/ \"./src/components/PriceLine.jsx\":\n/*!**************************************!*\\\n  !*** ./src/components/PriceLine.jsx ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar PriceLine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PriceLine, _Component);\n\n  function PriceLine() {\n    _classCallCheck(this, PriceLine);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PriceLine).apply(this, arguments));\n  }\n\n  _createClass(PriceLine, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.init();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          draggable = _this$props.draggable,\n          isDragging = _this$props.isDragging,\n          priceDisplay = _this$props.priceDisplay,\n          setDragLine = _this$props.setDragLine,\n          visible = _this$props.visible,\n          lineStyle = _this$props.lineStyle,\n          color = _this$props.color,\n          foregroundColor = _this$props.foregroundColor,\n          width = _this$props.width;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"chart-line horizontal \".concat(draggable ? 'draggable' : '', \" \").concat(isDragging ? 'dragging' : '', \" \").concat(className || ''),\n        style: {\n          top: 0,\n          color: foregroundColor,\n          borderColor: color\n        },\n        ref: setDragLine,\n        hidden: !visible\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"drag-line\",\n        style: {\n          borderTopStyle: lineStyle\n        }\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"draggable-area\"\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"drag-price\",\n        style: {\n          backgroundColor: color,\n          width: width\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"price\"\n      }, priceDisplay)));\n    }\n  }]);\n\n  return PriceLine;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PriceLine);\n\n/***/ }),\n\n/***/ \"./src/components/RenderInsideChart.jsx\":\n/*!**********************************************!*\\\n  !*** ./src/components/RenderInsideChart.jsx ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/utils */ \"./src/components/ui/utils.js\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar inChartPrefix = 'cq-inchart-'; // Render given Components under stx-holder to position it relative to the active symbol chart.\n\nvar RenderInsideChart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RenderInsideChart, _Component);\n\n  function RenderInsideChart(props) {\n    var _this;\n\n    _classCallCheck(this, RenderInsideChart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RenderInsideChart).call(this, props));\n    var _props$at = props.at,\n        at = _props$at === void 0 ? 'holder' : _props$at,\n        contextPromise = props.contextPromise;\n    contextPromise.then(function (context) {\n      var nodeName = \"\".concat(inChartPrefix).concat(at); // reuse existing node when possible:\n\n      var elem = context.topNode.querySelector(\".\".concat(nodeName));\n\n      if (!elem) {\n        elem = Object(_ui_utils__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"<div class=\\\"\".concat(nodeName, \"\\\"></div>\"));\n        context.stx.chart.panel[at].appendChild(elem);\n      }\n\n      _this.container = elem;\n\n      _this.forceUpdate(); // force render to be called after getting the container\n\n    });\n    return _this;\n  }\n\n  _createClass(RenderInsideChart, [{\n    key: \"render\",\n    value: function render() {\n      if (this.container) {\n        return react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal(this.props.children, this.container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return RenderInsideChart;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(function (_ref) {\n  var chart = _ref.chart;\n  return {\n    contextPromise: chart.contextPromise\n  };\n})(RenderInsideChart));\n\n/***/ }),\n\n/***/ \"./src/components/SearchInput.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/SearchInput.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar SearchInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchInput, _Component);\n\n  function SearchInput() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchInput)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.clearFilterText = function () {\n      _this.props.onChange('');\n    };\n\n    _this.onChange = function (e) {\n      _this.props.onChange(e.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          placeholder = _this$props.placeholder,\n          value = _this$props.value,\n          searchInput = _this$props.searchInput,\n          searchInputClassName = _this$props.searchInputClassName;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cq-lookup-input \".concat(value.trim() !== '' ? 'active' : '')\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n        className: searchInputClassName,\n        value: value,\n        ref: searchInput,\n        onChange: this.onChange,\n        type: \"text\",\n        spellCheck: \"off\",\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"off\",\n        placeholder: placeholder\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"SearchIcon\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"CloseCircleIcon\"], {\n        className: \"icon-reset\",\n        onClick: this.clearFilterText\n      }));\n    }\n  }]);\n\n  return SearchInput;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref) {\n  var c = _ref.chart;\n  return {\n    isMobile: c.isMobile\n  };\n})(SearchInput));\n\n/***/ }),\n\n/***/ \"./src/components/SettingsDialog.jsx\":\n/*!*******************************************!*\\\n  !*** ./src/components/SettingsDialog.jsx ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Form_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Form.jsx */ \"./src/components/Form.jsx\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Favorite_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Favorite.jsx */ \"./src/components/Favorite.jsx\");\n/* harmony import */ var _sass_components_ciq_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sass/components/_ciq-settings-dialog.scss */ \"./sass/components/_ciq-settings-dialog.scss\");\n/* harmony import */ var _sass_components_ciq_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_settings_dialog_scss__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar SettingsPanel = function SettingsPanel(_ref) {\n  var items = _ref.items,\n      onItemChange = _ref.onItemChange;\n  var renderMap = {\n    switch: function _switch(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"Switch\"], {\n        value: item.value,\n        onChange: function onChange(v) {\n          return onItemChange(item.id, v);\n        }\n      });\n    },\n    colorpicker: function colorpicker(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ColorPicker\"], {\n        color: item.value,\n        setColor: function setColor(value) {\n          return onItemChange(item.id, value);\n        }\n      });\n    },\n    pattern: function pattern(item) {\n      var lineWidth = items.find(function (it) {\n        return it.id === 'lineWidth';\n      }).value;\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"Pattern\"], {\n        pattern: item.value,\n        lineWidth: lineWidth,\n        onChange: function onChange(v) {\n          onItemChange('pattern', v.pattern);\n          onItemChange('lineWidth', v.width);\n        }\n      });\n    },\n    select: function select(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"DropDown\"], {\n        rows: Object.keys(item.options),\n        title: item.value,\n        onRowClick: function onRowClick(value) {\n          return onItemChange(item.id, value);\n        }\n      }, function (row) {\n        return row;\n      });\n    },\n    number: function number(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"Slider\"], {\n        min: item.min || 1,\n        step: item.step || 1,\n        max: item.max || 100,\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    },\n    numericinput: function numericinput(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n        className: \"ciq-num-input\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"NumericInput\"], {\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        },\n        min: item.min,\n        step: item.step,\n        max: item.max\n      }));\n    },\n    numbercolorpicker: function numbercolorpicker(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"NumberColorPicker\"], {\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    },\n    font: function font(item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Form_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FontSetting\"], {\n        value: item.value,\n        onChange: function onChange(val) {\n          return onItemChange(item.id, val);\n        }\n      });\n    }\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"items\"\n  }, items.map(function (item) {\n    return renderMap[item.type] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: item.id,\n      className: \"item\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"title\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, item.title), renderMap[item.type](item)));\n  }));\n};\n\nvar ResetButton = function ResetButton(_ref2) {\n  var onResetClick = _ref2.onResetClick;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"reset\",\n    onClick: onResetClick\n  }, t.translate('RESET'));\n};\n\nvar DoneButton = function DoneButton(_ref3) {\n  var setOpen = _ref3.setOpen;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"done\",\n    onClick: function onClick() {\n      return setOpen(false);\n    }\n  }, t.translate('DONE'));\n};\n\nvar Tabs = function Tabs(_ref4) {\n  var onTabClick = _ref4.onTabClick,\n      activeTab = _ref4.activeTab;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"tabs\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: function onClick() {\n      return onTabClick('settings');\n    },\n    className: activeTab === 'settings' ? 'active' : ''\n  }, \" Settings\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: function onClick() {\n      return onTabClick('description');\n    },\n    className: activeTab === 'description' ? 'active' : ''\n  }, \" Description\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"active-border \".concat(activeTab === 'settings' ? 'first' : 'second')\n  }));\n};\n\nvar SettingsDialog = function SettingsDialog(_ref5) {\n  var id = _ref5.id,\n      items = _ref5.items,\n      title = _ref5.title,\n      description = _ref5.description,\n      activeTab = _ref5.activeTab,\n      setOpen = _ref5.setOpen,\n      showTabs = _ref5.showTabs,\n      onTabClick = _ref5.onTabClick,\n      onDeleteClick = _ref5.onDeleteClick,\n      favoritesId = _ref5.favoritesId,\n      onResetClick = _ref5.onResetClick,\n      onItemChange = _ref5.onItemChange,\n      Dialog = _ref5.Dialog,\n      open = _ref5.open;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-dialog-overlay \".concat(open ? 'cq-dialog-active' : '')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog, {\n    className: \"cq-dialog cq-settings-dialog\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"titlebar \".concat(!showTabs ? 'no-tabs' : '')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"title\"\n  }, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"icons\"\n  }, onDeleteClick && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"DeleteIcon\"], {\n    onClick: onDeleteClick,\n    className: \"margin\"\n  }), favoritesId && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Favorite_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    id: id,\n    category: favoritesId\n  }))), showTabs && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tabs, {\n    activeTab: activeTab,\n    onTabClick: onTabClick\n  }), activeTab === 'settings' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SettingsPanel, {\n    items: items,\n    onItemChange: onItemChange\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"buttons\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResetButton, {\n    onResetClick: onResetClick\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DoneButton, {\n    setOpen: setOpen\n  }))) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"description\"\n  }, description))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SettingsDialog);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Shade.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Shade.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar Shade = function Shade(_ref) {\n  var visible = _ref.visible,\n      className = _ref.className,\n      setShadeRef = _ref.setShadeRef;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"shade \".concat(className || '', \" \").concat(visible ? '' : 'hidden'),\n    ref: setShadeRef,\n    style: {\n      top: -120\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Shade);\n\n/***/ }),\n\n/***/ \"./src/components/Share.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Share.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_ciq_download_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sass/components/_ciq-download.scss */ \"./sass/components/_ciq-download.scss\");\n/* harmony import */ var _sass_components_ciq_download_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_sass_components_ciq_download_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Share = function Share(_ref) {\n  var ShareMenu = _ref.ShareMenu,\n      menuOpen = _ref.menuOpen,\n      downloadCSV = _ref.downloadCSV,\n      downloadPNG = _ref.downloadPNG,\n      isLoadingPNG = _ref.isLoadingPNG;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShareMenu, {\n    className: \"cq-download\",\n    title: t.translate('Download Chart')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShareMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"DownloadIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Download')\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShareMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"body\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"content\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list ciq-list-download\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list-item\",\n    onClick: downloadPNG\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-icon-text\"\n  }, t.translate('Download as PNG'), isLoadingPNG && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-loading\"\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"PngIcon\"], null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list-item\",\n    onClick: downloadCSV\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-icon-text\"\n  }, t.translate('Download as CSV')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_2__[\"CsvIcon\"], null)))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var d = _ref2.share;\n  return {\n    ShareMenu: d.ShareMenu,\n    menuOpen: d.menu.dialog.open,\n    downloadPNG: d.downloadPNG,\n    downloadCSV: d.downloadCSV,\n    isLoadingPNG: d.isLoadingPNG\n  };\n})(Share));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/SmartChart.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/SmartChart.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx-react */ \"mobx-react\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store */ \"./src/store/index.js\");\n/* harmony import */ var _Chart_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Chart.jsx */ \"./src/components/Chart.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\nvar SmartChart =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SmartChart, _React$Component);\n\n  function SmartChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SmartChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SmartChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.mainStore = new _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    return _this;\n  }\n\n  _createClass(SmartChart, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          props = _objectWithoutProperties(_this$props, [\"children\"]);\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"Provider\"], this.mainStore, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Chart_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"], props, children));\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.chart.stxx;\n    }\n  }]);\n\n  return SmartChart;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SmartChart);\n\n/***/ }),\n\n/***/ \"./src/components/StudyLegend.jsx\":\n/*!****************************************!*\\\n  !*** ./src/components/StudyLegend.jsx ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NotificationBadge.jsx */ \"./src/components/NotificationBadge.jsx\");\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\n\n\nvar StudyLegend = function StudyLegend(_ref) {\n  var isOpened = _ref.isOpened,\n      setOpen = _ref.setOpen,\n      StudyMenu = _ref.StudyMenu,\n      menuOpen = _ref.menuOpen,\n      StudyCategoricalDisplay = _ref.StudyCategoricalDisplay,\n      isMobile = _ref.isMobile,\n      activeStudiesNo = _ref.activeStudiesNo,\n      searchInputClassName = _ref.searchInputClassName,\n      disableAll = _ref.disableAll;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu, {\n    className: \"ciq-studies\",\n    isOpened: isOpened,\n    setOpen: setOpen,\n    isMobile: isMobile,\n    title: isMobile ? t.translate('Indicators') : ''\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"IndicatorIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Indicators')\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NotificationBadge_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    notificationCount: activeStudiesNo\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StudyCategoricalDisplay, {\n    searchInputClassName: searchInputClassName,\n    disableAll: disableAll\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n  var st = _ref2.studies,\n      chart = _ref2.chart;\n  return {\n    isOpened: st.open,\n    setOpen: st.setOpen,\n    StudyMenu: st.StudyMenu,\n    menuOpen: st.menu.open,\n    StudyCategoricalDisplay: st.StudyCategoricalDisplay,\n    isMobile: chart.isMobile,\n    activeStudiesNo: st.activeStudies.data.length,\n    disableAll: st.hasReachedLimits\n  };\n})(StudyLegend));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/SymbolSelectButton.jsx\":\n/*!***********************************************!*\\\n  !*** ./src/components/SymbolSelectButton.jsx ***!\n  \\***********************************************/\n/*! exports provided: SymbolInfo, SymbolSelectButton, ChartPrice */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolInfo\", function() { return SymbolInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SymbolSelectButton\", function() { return SymbolSelectButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChartPrice\", function() { return ChartPrice; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _MarketOpeningTimeCounter_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarketOpeningTimeCounter.jsx */ \"./src/components/MarketOpeningTimeCounter.jsx\");\n\n\n\nvar SymbolInfo = function SymbolInfo(_ref) {\n  var symbol = _ref.symbol,\n      ChartPrice = _ref.ChartPrice,\n      isSymbolOpen = _ref.isSymbolOpen,\n      symbolOpenTime = _ref.symbolOpenTime;\n  var SymbolIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ItemIconMap\"][symbol.symbol] || _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"SymbolPlaceholderIcon\"];\n  var hasOpenTime = !isSymbolOpen && symbolOpenTime.openTime;\n  var hasNoOpenTime = !isSymbolOpen && !symbolOpenTime.openTime;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, SymbolIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolIcon, {\n    className: \"ic-\".concat(symbol.symbol)\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-info\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol \".concat(hasNoOpenTime ? 'closed-no-opentime' : '')\n  }, symbol.name), isSymbolOpen && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartPrice, null), hasOpenTime && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ClosedSymbol, {\n    symbolOpenTime: symbolOpenTime\n  })));\n};\nvar SymbolSelectButton = function SymbolSelectButton(_ref2) {\n  var symbol = _ref2.symbol,\n      ChartPrice = _ref2.ChartPrice,\n      isSymbolOpen = _ref2.isSymbolOpen,\n      symbolOpenTime = _ref2.symbolOpenTime;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-select-btn\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SymbolInfo, {\n    symbol: symbol,\n    ChartPrice: ChartPrice,\n    symbolOpenTime: symbolOpenTime,\n    isSymbolOpen: isSymbolOpen\n  }), !isSymbolOpen && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-symbol-closed-text\"\n  }, t.translate('CLOSED')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ArrowIcon\"], {\n    className: \"cq-symbol-dropdown\"\n  }));\n};\nvar ChartPrice = function ChartPrice(_ref3) {\n  var isVisible = _ref3.isVisible,\n      status = _ref3.status,\n      todayChange = _ref3.todayChange,\n      todayChangePercent = _ref3.todayChangePercent,\n      SpotPrice = _ref3.SpotPrice;\n  return isVisible && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-price\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SpotPrice, {\n    className: \"cq-current-price\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"divider\"\n  }, \"-\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-change \".concat(status)\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-todays-change\"\n  }, todayChange || 0), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-todays-change-percent\"\n  }, \"(\", todayChangePercent, \"%)\"), \"\\xA0\"));\n};\n\nvar ClosedSymbol = function ClosedSymbol(symbolOpenTime) {\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-chart-closed\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"TimeIcon\"], {\n    className: \"cq-closed-icon\"\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-closed-opening\"\n  }, t.translate('Opens in:'), \" \\xA0\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-closed-opening-time\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MarketOpeningTimeCounter_jsx__WEBPACK_IMPORTED_MODULE_2__[\"MarketOpeningTimeCounter\"], {\n    symbolOpenTime: symbolOpenTime\n  }))));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Timeperiod.jsx\":\n/*!***************************************!*\\\n  !*** ./src/components/Timeperiod.jsx ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/components/_timeperiod.scss */ \"./sass/components/_timeperiod.scss\");\n/* harmony import */ var _sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_components_timeperiod_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\n\n\nvar Timeperiod = function Timeperiod(_ref) {\n  var chartId = _ref.chartId,\n      enabled = _ref.enabled,\n      interval = _ref.interval,\n      timeUnit = _ref.timeUnit,\n      interval_display = _ref.interval_display,\n      isMobile = _ref.isMobile,\n      onChange = _ref.onChange,\n      setOpen = _ref.setOpen,\n      TimePeriodMenu = _ref.TimePeriodMenu,\n      timeUnit_display = _ref.timeUnit_display,\n      updateProps = _ref.updateProps;\n\n  var onGranularityClick = function onGranularityClick(granularity) {\n    onChange(granularity, chartId);\n    setOpen(false);\n  };\n\n  updateProps(onChange);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TimePeriodMenu, {\n    className: \"ciq-period\",\n    enabled: enabled,\n    title: isMobile ? t.translate('Interval') : ''\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TimePeriodMenu.Title, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"bt-priod\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ic-priod\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"interval_display\"\n  }, interval_display), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"unit_display\"\n  }, timeUnit_display)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ic-subtitle\"\n  }, t.translate('Interval')))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TimePeriodMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-interval\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"timeUnit\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: timeUnit === 'tick' ? 'selected' : ''\n  }, t.translate('Tick')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: timeUnit === 'minute' ? 'selected' : ''\n  }, t.translate('Minute')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: timeUnit === 'hour' ? 'selected' : ''\n  }, t.translate('Hour')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: timeUnit === 'day' ? 'selected' : ''\n  }, t.translate('Day'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"interval\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"row\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(0);\n    },\n    className: timeUnit === 'tick' && interval === 1 ? 'selected' : ''\n  }, \"1\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"row\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(60);\n    },\n    className: timeUnit === 'minute' && interval === 1 ? 'selected' : ''\n  }, \"1\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(120);\n    },\n    className: interval === 2 ? 'selected' : ''\n  }, \"2\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(180);\n    },\n    className: interval === 3 ? 'selected' : ''\n  }, \"3\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(300);\n    },\n    className: interval === 5 ? 'selected' : ''\n  }, \"5\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(600);\n    },\n    className: interval === 10 ? 'selected' : ''\n  }, \"10\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(900);\n    },\n    className: interval === 15 ? 'selected' : ''\n  }, \"15\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(1800);\n    },\n    className: interval === 30 ? 'selected' : ''\n  }, \"30\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"row\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(3600);\n    },\n    className: interval === 60 ? 'selected' : ''\n  }, \"1\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(7200);\n    },\n    className: interval === 120 ? 'selected' : ''\n  }, \"2\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(14400);\n    },\n    className: interval === 240 ? 'selected' : ''\n  }, \"4\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(28800);\n    },\n    className: interval === 480 ? 'selected' : ''\n  }, \"8\")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"row\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    onClick: function onClick() {\n      return onGranularityClick(86400);\n    },\n    className: timeUnit === 'day' ? 'selected' : ''\n  }, \"1\"))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref2) {\n  var s = _ref2.timeperiod,\n      state = _ref2.state;\n  return {\n    chartId: state.chartId,\n    timeUnit: s.timeUnit,\n    interval: s.interval,\n    interval_display: s.interval_display,\n    isMobile: s.mainStore.chart.isMobile,\n    onChange: s.setGranularity,\n    setOpen: s.menu.setOpen,\n    TimePeriodMenu: s.TimePeriodMenu,\n    timeUnit_display: s.timeUnit_display,\n    updateProps: s.updateProps\n  };\n})(Timeperiod));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/Views.jsx\":\n/*!**********************************!*\\\n  !*** ./src/components/Views.jsx ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tt-react-custom-scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\");\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _store_ViewStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/ViewStore */ \"./src/store/ViewStore.js\");\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _sass_components_view_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../sass/components/_view.scss */ \"./sass/components/_view.scss\");\n/* harmony import */ var _sass_components_view_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sass_components_view_scss__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nvar ViewItem = function ViewItem(_ref) {\n  var view = _ref.view,\n      remove = _ref.remove,\n      onClick = _ref.onClick;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ciq-list-item\",\n    onClick: onClick\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-list-item-text\"\n  }, view.name), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"DeleteIcon\"], {\n    onClick: remove\n  }));\n};\n\nvar Views = function Views(_ref2) {\n  var ViewsMenu = _ref2.ViewsMenu,\n      menuOpen = _ref2.menuOpen,\n      views = _ref2.views,\n      currentRoute = _ref2.currentRoute,\n      _ref2$routes = _ref2.routes,\n      add = _ref2$routes.add,\n      main = _ref2$routes.main,\n      overwrite = _ref2$routes.overwrite,\n      cancel = _ref2$routes.cancel,\n      onChange = _ref2.onChange,\n      onSubmit = _ref2.onSubmit,\n      applyLayout = _ref2.applyLayout,\n      _remove = _ref2.remove,\n      inputRef = _ref2.inputRef,\n      templateName = _ref2.templateName,\n      searchInputClassName = _ref2.searchInputClassName;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu, {\n    className: \"ciq-views\",\n    title: t.translate('Templates')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu.Title, {\n    className: \"cq-menu-btn\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"TemplateIcon\"], {\n    className: \"ic-icon-with-sub \".concat(menuOpen ? 'active' : ''),\n    \"tooltip-title\": t.translate('Templates')\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewsMenu.Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"content\"\n  }, currentRoute !== 'overwrite' ? '' : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ovrwrit-alrt\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ovrwrit-alrt-title\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"alertIconMap\"].warning, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, templateName + t.translate(' already exists.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, t.translate('Would you like to overwrite it?'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ovrwrit-alrt-buttons\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: main\n  }, t.translate('CANCEL')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    onClick: overwrite\n  }, t.translate('OVERWRITE')))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"template-name\"\n  }, currentRoute === 'add' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"add\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"BackIcon\"], {\n    onClick: cancel\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", {\n    ref: inputRef,\n    className: \"view-input \".concat(searchInputClassName || ''),\n    value: templateName,\n    placeholder: t.translate('Template name'),\n    maxLength: 20,\n    onChange: onChange,\n    onKeyUp: onSubmit\n  })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"add-new\",\n    onClick: main\n  }, \" \", t.translate('Add new'), \" \"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"icon\"\n  }, currentRoute === 'add' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"TickIcon\"], {\n    className: \"tick-icon\",\n    onClick: add\n  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Icons_jsx__WEBPACK_IMPORTED_MODULE_4__[\"AddIcon\"], {\n    className: \"add-icon\",\n    onClick: main\n  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_1___default.a, {\n    className: \"ciq-list\"\n  }, views.map(function (view, i) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewItem, {\n      view: view,\n      key: view.name,\n      onClick: function onClick(e) {\n        return applyLayout(i, e);\n      },\n      remove: function remove(e) {\n        return _remove(i, e);\n      }\n    });\n  })))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_store_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref3) {\n  var s = _ref3.view;\n  return {\n    ViewsMenu: s.ViewsMenu,\n    views: _store_ViewStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].views,\n    routes: s.routes,\n    onOverwrite: s.onOverwrite,\n    onCancel: s.onCancel,\n    onChange: s.onChange,\n    remove: s.remove,\n    onSubmit: s.onSubmit,\n    applyLayout: s.applyLayout,\n    menuOpen: s.menu.dialog.open,\n    inputRef: s.inputRef,\n    currentRoute: s.currentRoute,\n    templateName: s.templateName\n  };\n})(Views));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/CategoricalDisplay.jsx\":\n/*!******************************************************************!*\\\n  !*** ./src/components/categoricaldisplay/CategoricalDisplay.jsx ***!\n  \\******************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../sass/components/_categorical-display.scss */ \"./sass/components/_categorical-display.scss\");\n/* harmony import */ var _sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_sass_components_categorical_display_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tt-react-custom-scrollbars */ \"./node_modules/tt-react-custom-scrollbars/lib/index.js\");\n/* harmony import */ var tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar CategoricalDisplay = function CategoricalDisplay(_ref) {\n  var onSelectItem = _ref.onSelectItem,\n      updateScrollSpy = _ref.updateScrollSpy,\n      setScrollPanel = _ref.setScrollPanel,\n      ResultsPanel = _ref.ResultsPanel,\n      FilterPanel = _ref.FilterPanel,\n      SearchInput = _ref.SearchInput,\n      isMobile = _ref.isMobile,\n      height = _ref.height,\n      id = _ref.id,\n      searchInputClassName = _ref.searchInputClassName,\n      disableAll = _ref.disableAll;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-categorical-display\",\n    style: {\n      height: height\n    },\n    id: id\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-lookup-filters\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SearchInput, {\n    searchInputClassName: searchInputClassName\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FilterPanel, null)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(tt_react_custom_scrollbars__WEBPACK_IMPORTED_MODULE_2___default.a, {\n    className: \"cq-scroll-panel\",\n    onScroll: updateScrollSpy,\n    ref: setScrollPanel,\n    style: {\n      width: isMobile ? '100%' : '312px'\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResultsPanel, {\n    onSelectItem: onSelectItem,\n    id: id,\n    disableAll: disableAll\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CategoricalDisplay);\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/FilterPanel.jsx\":\n/*!***********************************************************!*\\\n  !*** ./src/components/categoricaldisplay/FilterPanel.jsx ***!\n  \\***********************************************************/\n/*! exports provided: FilterPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FilterPanel\", function() { return FilterPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Icons.jsx */ \"./src/components/Icons.jsx\");\n\n\n\nvar Filter = function Filter(_ref) {\n  var focusedCategoryKey = _ref.focusedCategoryKey,\n      activeCategoryKey = _ref.activeCategoryKey,\n      handleFilterClick = _ref.handleFilterClick,\n      category = _ref.category,\n      isMobile = _ref.isMobile;\n  var CategoryIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"CategoryIconMap\"][category.categoryId];\n  var isActive = focusedCategoryKey && focusedCategoryKey.length ? focusedCategoryKey === category.categoryId : activeCategoryKey === category.categoryId;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-filter \".concat(isActive ? 'cq-active-filter' : '', \" \").concat(!isMobile ? 'cq-hover-style' : ''),\n    onClick: function onClick(e) {\n      return handleFilterClick(category, e);\n    }\n  }, CategoryIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryIcon, {\n    className: \"ic-\".concat(category.categoryId)\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-filter-text\"\n  }, t.translate(category.categoryName)));\n};\n\nvar FilterPanel = function FilterPanel(_ref2) {\n  var filteredItems = _ref2.filteredItems,\n      handleFilterClick = _ref2.handleFilterClick,\n      focusedCategoryKey = _ref2.focusedCategoryKey,\n      activeCategoryKey = _ref2.activeCategoryKey,\n      isMobile = _ref2.isMobile;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-filter-panel\"\n  }, filteredItems.map(function (category) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Filter, {\n      key: category.categoryId,\n      category: category,\n      handleFilterClick: handleFilterClick,\n      activeCategoryKey: activeCategoryKey,\n      focusedCategoryKey: focusedCategoryKey,\n      isMobile: isMobile\n    });\n  }));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/Item.jsx\":\n/*!****************************************************!*\\\n  !*** ./src/components/categoricaldisplay/Item.jsx ***!\n  \\****************************************************/\n/*! exports provided: NormalItem, ActiveItem */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NormalItem\", function() { return NormalItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActiveItem\", function() { return ActiveItem; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Favorite.jsx */ \"./src/components/Favorite.jsx\");\n\n\n\n\nvar Icon = function Icon(_ref) {\n  var id = _ref.id;\n\n  if (!id || !_Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ItemIconMap\"][id]) {\n    return '';\n  }\n\n  var ItemIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ItemIconMap\"][id];\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemIcon, {\n    className: \"ic-\".concat(id)\n  });\n};\n\nvar ItemLeft = function ItemLeft(_ref2) {\n  var _ref2$item = _ref2.item,\n      itemId = _ref2$item.itemId,\n      display = _ref2$item.display;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"left\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Icon, {\n    id: itemId\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ciq-item-display\"\n  }, display));\n};\n\nvar ItemRight = function ItemRight(_ref3) {\n  var favoritesId = _ref3.favoritesId,\n      _ref3$item = _ref3.item,\n      dataObject = _ref3$item.dataObject,\n      itemId = _ref3$item.itemId;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"right\"\n  }, dataObject && (dataObject.exchange_is_open === undefined || dataObject.exchange_is_open) ? '' : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"closed-market\"\n  }, t.translate('CLOSED')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    category: favoritesId,\n    id: itemId\n  }));\n};\n\nvar ActiveOption = function ActiveOption(_ref4) {\n  var opt = _ref4.opt,\n      item = _ref4.item;\n  var ActiveOptionIcon = _Icons_jsx__WEBPACK_IMPORTED_MODULE_1__[\"ActiveOptionsIconMap\"][opt.id];\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ic-\".concat(opt.id),\n    onClick: function onClick(e) {\n      return opt.onClick && opt.onClick(item.dataObject, e);\n    }\n  }, ActiveOptionIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOptionIcon, null), opt.renderChild && opt.renderChild(item));\n};\n\nvar ActiveOptions = function ActiveOptions(_ref5) {\n  var activeOptions = _ref5.activeOptions,\n      item = _ref5.item;\n  return activeOptions && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"cq-active-options\"\n  }, activeOptions.map(function (opt) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOption, {\n      key: opt.id,\n      opt: opt,\n      item: item\n    });\n  }));\n};\n\nvar NormalItem = function NormalItem(_ref6) {\n  var onSelectItem = _ref6.onSelectItem,\n      item = _ref6.item,\n      disableAll = _ref6.disableAll,\n      favoritesId = _ref6.favoritesId,\n      id = _ref6.id;\n  var itemClass = id ? \"\".concat(id, \"-subcategory-item-\").concat(item.itemId) : \"subcategory-item-\".concat(item.itemId);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-item \".concat(item.selected ? 'selected ' : '', \" \").concat(itemClass),\n    onClick: function onClick(e) {\n      return item.enabled && onSelectItem(item.dataObject, e);\n    },\n    disabled: !item.enabled || disableAll\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemLeft, {\n    item: item\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemRight, {\n    item: item,\n    favoritesId: favoritesId\n  }));\n};\nvar ActiveItem = function ActiveItem(_ref7) {\n  var item = _ref7.item,\n      favoritesId = _ref7.favoritesId,\n      activeOptions = _ref7.activeOptions;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"cq-active-item\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ItemLeft, {\n    item: item\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"right\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ActiveOptions, {\n    activeOptions: activeOptions,\n    item: item\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Favorite_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    category: favoritesId,\n    id: item.itemId\n  })));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/ResultsPanel.jsx\":\n/*!************************************************************!*\\\n  !*** ./src/components/categoricaldisplay/ResultsPanel.jsx ***!\n  \\************************************************************/\n/*! exports provided: ResultsPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResultsPanel\", function() { return ResultsPanel; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction getItemCount(category) {\n  var count = 0;\n\n  if (category.hasSubcategory) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = category.data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var sub = _step.value;\n        count += sub.data.length;\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    count += category.data.length;\n  }\n\n  return count;\n}\n\nvar CategoryTitleClassName = function CategoryTitleClassName(categoryId, activeHeadKey, activeHeadTop, categorySubtitle) {\n  var TitleClassName = '';\n\n  if (activeHeadKey === categoryId) {\n    TitleClassName = activeHeadTop < 0 ? 'sticky-bottom' : 'sticky-top';\n  }\n\n  return \"category-title \".concat(TitleClassName, \" \").concat(categorySubtitle ? 'has-subtitle' : '');\n};\n\nvar Category = function Category(_ref) {\n  var category = _ref.category,\n      Item = _ref.Item,\n      setCategoryElement = _ref.setCategoryElement,\n      onSelectItem = _ref.onSelectItem,\n      activeHeadKey = _ref.activeHeadKey,\n      activeHeadTop = _ref.activeHeadTop,\n      activeHeadOffset = _ref.activeHeadOffset,\n      disableAll = _ref.disableAll;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"category category-\".concat(category.categoryId, \" \").concat(category.categorySubtitle ? 'category-has-subtitle' : ''),\n    ref: function ref(el) {\n      return setCategoryElement(el, category.categoryId);\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: CategoryTitleClassName(category.categoryId, activeHeadKey, activeHeadTop, category.categorySubtitle),\n    style: {\n      top: activeHeadKey === category.categoryId ? activeHeadOffset : null\n    }\n  }, t.translate(category.categoryName), (category.categoryNamePostfixShowIfActive && activeHeadKey === category.categoryId || !category.categoryNamePostfixShowIfActive) && category.categoryNamePostfix && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"category-name-postfix\"\n  }, category.categoryNamePostfix), category.categorySubtitle && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"category-subtitle\"\n  }, t.translate(category.categorySubtitle))), category.hasSubcategory ? category.data.map(function (subcategory) {\n    return getItemCount(subcategory) > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"category-content\",\n      key: subcategory.subcategoryName\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"subcategory\"\n    }, t.translate(subcategory.subcategoryName)), subcategory.data.map(function (item) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Item, {\n        key: item.display,\n        item: item,\n        onSelectItem: onSelectItem,\n        disableAll: disableAll\n      });\n    }));\n  }) : category.data.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"category-content\"\n  }, category.data.map(function (item, idx) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Item, {\n      key: \"\".concat(item.display, \"-\").concat(idx) // eslint-disable-line react/no-array-index-key\n      ,\n      item: item,\n      onSelectItem: onSelectItem,\n      disableAll: disableAll\n    });\n  })), getItemCount(category) === 0 && category.emptyDescription && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"category-content\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"empty-category\"\n  }, t.translate(category.emptyDescription))));\n};\n\nvar ResultsPanel = function ResultsPanel(_ref2) {\n  var filteredItems = _ref2.filteredItems,\n      onSelectItem = _ref2.onSelectItem,\n      getItemType = _ref2.getItemType,\n      setCategoryElement = _ref2.setCategoryElement,\n      activeHeadKey = _ref2.activeHeadKey,\n      activeHeadTop = _ref2.activeHeadTop,\n      activeHeadOffset = _ref2.activeHeadOffset,\n      disableAll = _ref2.disableAll;\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"results-panel\"\n  }, filteredItems.map(function (category) {\n    return (getItemCount(category) > 0 || category.emptyDescription) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Category, {\n      key: category.categoryId,\n      Item: getItemType(category.categoryId),\n      category: category,\n      setCategoryElement: setCategoryElement,\n      onSelectItem: onSelectItem,\n      activeHeadKey: activeHeadKey,\n      activeHeadTop: activeHeadTop,\n      activeHeadOffset: activeHeadOffset,\n      disableAll: disableAll\n    });\n  }));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/components/categoricaldisplay/index.js\":\n/*!****************************************************!*\\\n  !*** ./src/components/categoricaldisplay/index.js ***!\n  \\****************************************************/\n/*! exports provided: CategoricalDisplay, FilterPanel, NormalItem, ActiveItem, ResultsPanel */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CategoricalDisplay_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CategoricalDisplay.jsx */ \"./src/components/categoricaldisplay/CategoricalDisplay.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CategoricalDisplay\", function() { return _CategoricalDisplay_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _FilterPanel_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FilterPanel.jsx */ \"./src/components/categoricaldisplay/FilterPanel.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilterPanel\", function() { return _FilterPanel_jsx__WEBPACK_IMPORTED_MODULE_1__[\"FilterPanel\"]; });\n\n/* harmony import */ var _Item_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Item.jsx */ \"./src/components/categoricaldisplay/Item.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NormalItem\", function() { return _Item_jsx__WEBPACK_IMPORTED_MODULE_2__[\"NormalItem\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ActiveItem\", function() { return _Item_jsx__WEBPACK_IMPORTED_MODULE_2__[\"ActiveItem\"]; });\n\n/* harmony import */ var _ResultsPanel_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResultsPanel.jsx */ \"./src/components/categoricaldisplay/ResultsPanel.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResultsPanel\", function() { return _ResultsPanel_jsx__WEBPACK_IMPORTED_MODULE_3__[\"ResultsPanel\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/components/ui/Animation.js\":\n/*!****************************************!*\\\n  !*** ./src/components/ui/Animation.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return animateChart; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\n/* TAKEN OUT OF ADDONS.JS */\n\n/* eslint-disable no-unused-vars,eqeqeq,no-shadow,no-alert,no-restricted-globals,prefer-const,prefer-destructuring */\n\n/**\n * Add-On that animates the chart.\n *\n * Requires `addOns.js`\n *\n * The chart is animated in three ways:\n * 1.  The current price pulsates\n * 2.  The current price appears to move smoothly from the previous price\n * 3.  The chart's y-axis smoothly expands/contracts when a new high or low is reached\n *\n * The following chart types are supported: line, mountain, baseline_delta.\n *\n * Chart aggregations such as Kagi, Renko, Range Bars, etc. are not supported.\n *\n * **Animation displays more gracefully when updates are sent into the chart one at a time using {@link CIQ.ChartEngine#updateChartData}\n * instead of in batches using a [QuoteFeed]{@link CIQ.ChartEngine#attachQuoteFeed}. Sending data in batches will produce a jumping effect.**\n *\n * By default there will be a flashing beacon created using a canvas circles. If instead you want to use a custom animation beacon, you will be able to extend the functionality yourself as follows:\n * - In js/addOns.js, at the bottom of the CIQ.Animation function, there is an stx.append(\"draw\") function.\n * - Make a copy of this function so you can override the behavior.\n * - In there you will see it determine var x and y, which are the coordinates for the center of the beacon.\n * - At the bottom of this append function, where we draw the beacon by using the Canvas arc() function to draw a circle and then fill() to make the circle solid.\n * - You can replace this circle and fill instructions with an image using [CanvasRenderingContext2D.drawImage()](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D#Drawing_images) .\n *\n * Animation Example <iframe width=\"800\" height=\"500\" scrolling=\"no\" seamless=\"seamless\" align=\"top\" style=\"float:top\" src=\"https://jsfiddle.net/chartiq/6fqw652z/embedded/result,js,html/\" allowfullscreen=\"allowfullscreen\" frameborder=\"1\"></iframe>\n *\n * @param {CIQ.ChartEngine} stx The chart object\n * @param {object} animationParameters Configuration parameters\n * @param {boolean} [animationParameters.stayPut=false] Set to true for last tick to stay in position it was scrolled and have rest of the chart move backwards as new ticks are added instead of having new ticks advance forward and leave the rest of the chart in place.\n * @param {number} [animationParameters.ticksFromEdgeOfScreen=5] Number of ticks from the right edge the chart should stop moving forward so the last tick never goes off screen (only applicable if stayPut=false)\n * @param {number} [animationParameters.granularity=1000000] Set to a value that will give enough granularity for the animation.  The larger the number the smaller the price jump between frames, which is good for charts that need a very slow smooth animation either because the price jumps between ticks are very small, or because the animation was set up to run over a large number of frames when instantiating the CIQ.EaseMachine.\n * @param {number} [animationParameters.tension=null] Splining tension for smooth curves around data points (range 0-1).  Must include splines.js for this to be effective.\n * @param {CIQ.EaseMachine} easeMachine Override the default easeMachine.  Default is `new CIQ.EaseMachine(Math.easeOutCubic, 1000);`\n * @constructor\n * @name  CIQ.Animation\n * @since\n * <br>&bull; 3.0.0 Now part of addOns.js. Previously provided as a standalone animation.js file\n * <br>&bull; 4.0.0 beacon only flashes for line charts. On Candles or bars it is suppressed as it produces an unnatural effect.\n * @example\n *    new CIQ.Animation(stxx, {tension:0.3});  //Default animation with splining tension of 0.3\n *\n */\n\n\nMath.linearTween = function (t, b, c, d) {\n  return c * t / d + b;\n};\n\nfunction animateChart(stx, animationParameters, easeMachine) {\n  var params = {\n    stayPut: false,\n    ticksFromEdgeOfScreen: 5,\n    granularity: 1000000\n  };\n  animationParameters = CIQ.extend(params, animationParameters);\n  if (params.tension) stx.chart.tension = animationParameters.tension;\n  stx.tickAnimator = easeMachine || new CIQ.EaseMachine(Math.easeOutCubic, 1500);\n  stx.addEventListener(['symbolChange', 'layout'], function (obj) {\n    stx.chart.granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"calculateGranularity\"])(this.layout.interval, this.layout.timeUnit);\n\n    if (stx.chart.granularity === 0) {\n      stx.chart.lockScroll = true;\n    } else {\n      stx.chart.lockScroll = false;\n    }\n\n    if (stx.animations.liveScroll && (stx.animations.liveScroll.running || stx.chart.granularity === 0)) {\n      stx.animations.liveScroll.stop();\n    }\n  });\n  stx.prepend('updateCurrentMarketData', function (data, chart, symbol, params) {\n    if (!chart) chart = this.chart;\n\n    if (params && params.fromTrade && (chart.closePendingAnimation || chart.closePendingAnimation === 0)) {\n      params.finalClose = chart.closePendingAnimation;\n    }\n  });\n  stx.prepend('updateChartData', function (appendQuotes, chart, params) {\n    if (this.scrollwheel_is_on) {\n      this.scrollwheel_is_on = false;\n      return false; // skipt the animation\n    }\n\n    var self = this;\n\n    if (!chart) {\n      chart = self.chart;\n    }\n\n    if (!chart || !chart.defaultChartStyleConfig || chart.defaultChartStyleConfig == 'none') return;\n\n    if (params !== undefined) {\n      if (params.animationEntry || params.secondarySeries) return;\n    }\n\n    function completeLastBar(record) {\n      if (chart.masterData && chart.masterData.length) {\n        for (var md = chart.masterData.length - 1; md >= 0; md--) {\n          var bar = chart.masterData[md];\n\n          if (bar.Close || bar.Close === 0) {\n            bar.Close = record.Close;\n            if (record.LastSize) bar.LastSize = record.LastSize;\n            if (record.LastTime) bar.LastTime = record.LastTime;\n            self.updateCurrentMarketData({\n              Close: bar.Close,\n              DT: bar.DT,\n              LastSize: bar.LastSize,\n              LastTime: bar.LastTime\n            });\n            self.createDataSet(null, null, {\n              appending: true\n            });\n            return;\n          }\n        }\n      }\n    }\n\n    function unanimateScroll() {\n      if (chart.animatingHorizontalScroll) {\n        chart.animatingHorizontalScroll = false;\n        self.micropixels = self.nextMicroPixels = self.previousMicroPixels; // <-- Reset self.nextMicroPixels here\n\n        chart.lastTickOffset = 0;\n      }\n\n      if (chart.closePendingAnimation !== null) {\n        var close = chart.closePendingAnimation;\n        chart.closePendingAnimation = null;\n        completeLastBar({\n          Close: close\n        });\n      }\n    }\n\n    var tickAnimator = self.tickAnimator; // These chart types are the only types supported by animation\n\n    var supportedChartType = this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation;\n\n    if (supportedChartType) {\n      if (!tickAnimator) {\n        console.warn('Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js');\n        return;\n      } // If symbol changes then reset all of our variables\n\n\n      if (this.prevSymbol != chart.symbol) {\n        this.prevQuote = 0;\n        chart.closePendingAnimation = null;\n        this.prevSymbol = chart.symbol;\n      }\n\n      unanimateScroll();\n      tickAnimator.stop();\n\n      if (appendQuotes.length > 2) {\n        return;\n      }\n    }\n\n    var newParams = CIQ.clone(params);\n    if (!newParams) newParams = {};\n    newParams.animationEntry = true;\n    newParams.bypassGovernor = true;\n    newParams.noCreateDataSet = false; // newParams.allowReplaceOHL = true;\n\n    newParams.firstLoop = true;\n    var symbol = this.chart.symbol;\n    var period = this.layout.periodicity;\n    var interval = this.layout.interval;\n    var timeUnit = this.layout.timeUnit;\n\n    function cb(quote, prevQuote, chartJustAdvanced) {\n      return function (newData) {\n        var newClose = newData.Close;\n\n        if (!chart.dataSet.length || symbol != chart.symbol || period != self.layout.periodicity || interval != self.layout.interval || timeUnit != self.layout.timeUnit) {\n          tickAnimator.stop();\n          unanimateScroll();\n          return; // changed symbols mid animation\n        }\n\n        var q = CIQ.clone(quote);\n        q.Close = Math.round(newClose * animationParameters.granularity) / animationParameters.granularity; // <<------ IMPORTANT! Use 1000000 for small price increments, otherwise animation will be in increments of .0001\n\n        if (chartJustAdvanced) {\n          if (!q.Open && q.Open !== 0) q.Open = q.Close;\n          if (!q.High && q.High !== 0) q.High = Math.max(q.Open, q.Close);\n          if (!q.Low && q.Low !== 0) q.Low = Math.min(q.Open, q.Close);\n        } else {\n          if (quote.Close > prevQuote.High) q.High = q.Close;\n          if (quote.Close < prevQuote.Low) q.Low = q.Close;\n        }\n\n        newParams.updateDataSegmentInPlace = !tickAnimator.hasCompleted;\n        var updateQuotes = [q];\n        if (chartJustAdvanced) updateQuotes.unshift(prevQuote);\n        self.updateChartData(updateQuotes, chart, newParams);\n        newParams.firstLoop = false;\n\n        if (tickAnimator.hasCompleted) {\n          unanimateScroll();\n        }\n      };\n    }\n    /* end function */\n\n\n    if (supportedChartType) {\n      var quote = appendQuotes[appendQuotes.length - 1];\n      this.prevQuote = this.currentQuote(); // <---- prevQuote logic has been changed to prevent forward/back jitter when more than one tick comes in between animations\n\n      var chartJustAdvanced = false; // When advancing, we need special logic to deal with the open\n\n      if (period == 1 && appendQuotes.length == 2) {\n        // Don't do this if consolidating\n        this.prevQuote = appendQuotes[0];\n        completeLastBar(this.prevQuote);\n      }\n\n      if (!quote || !quote.Close || !this.prevQuote || !this.prevQuote.Close) return false;\n      var barSpan = period;\n      if (interval == 'second' || timeUnit == 'second') barSpan *= 1000;else if (interval == 'minute' || timeUnit == 'minute') barSpan *= 60000;\n      if (!isNaN(interval)) barSpan *= interval;\n      if (interval == 'day' || timeUnit == 'day') chartJustAdvanced = quote.DT.getDate() != this.prevQuote.DT.getDate();else if (interval == 'week' || timeUnit == 'week') chartJustAdvanced = quote.DT.getDate() >= this.prevQuote.DT.getDate() + 7;else if (interval == 'month' || timeUnit == 'month') chartJustAdvanced = quote.DT.getMonth() != this.prevQuote.DT.getMonth();else chartJustAdvanced = quote.DT.getTime() >= this.prevQuote.DT.getTime() + barSpan;\n      var linearChart = (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) && !this.standaloneBars[this.layout.chartType];\n      var beginningOffset = 0;\n\n      if (chartJustAdvanced) {\n        if (!this.animations.zoom.hasCompleted) {\n          return false;\n        }\n      }\n\n      chart.closePendingAnimation = quote.Close;\n      var start = chartJustAdvanced && !linearChart ? quote.Open : this.prevQuote.Close;\n      tickAnimator.run(cb(quote, CIQ.clone(this.prevQuote), chartJustAdvanced), {\n        Close: start,\n        micropixels: this.nextMicroPixels,\n        lineOffset: beginningOffset\n      }, {\n        Close: quote.Close,\n        micropixels: this.micropixels,\n        lineOffset: 0\n      });\n      return true; // bypass default behavior if the animation is on\n    }\n  });\n  stx.prepend('updateChartData', function (newQuotes) {\n    stx.prevQuote = this.currentQuote() || newQuotes[0];\n    stx.isNewTick = !this.prevQuote || newQuotes.slice(-1)[0].DT > this.prevQuote.DT;\n    stx.chart.granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"calculateGranularity\"])(this.layout.interval, this.layout.timeUnit);\n    stx.chart.lockScroll = !stx.chart.granularity;\n  });\n  stx.append('updateChartData', function (newQuotes) {\n    var _this = this;\n\n    if (stx.isHome() && !stx.chart.lockAutoScroll && newQuotes && newQuotes.length && stx.isNewTick) {\n      var timeInterval = newQuotes.slice(-1)[0].DT - this.prevQuote.DT;\n\n      if (stx.animations.liveScroll) {\n        this.chart.scroll--;\n        this.micropixels = this.micropixels > 0 ? this.layout.candleWidth - this.micropixels : this.layout.candleWidth + this.micropixels;\n      }\n\n      stx.animations.liveScroll = stx.animations.liveScroll || new CIQ.EaseMachine(Math.linearTween, timeInterval + 1000);\n\n      if (stx.animations.liveScroll.running) {\n        stx.animations.liveScroll.stop();\n      }\n\n      stx.animations.liveScroll.run(function (bar) {\n        _this.micropixels = -bar;\n\n        _this.draw();\n      }, 0, stx.layout.candleWidth);\n    } else if (!stx.isHome() || stx.chart.lockAutoScroll) {\n      if (stx.animations.liveScroll.running) {\n        stx.animations.liveScroll.stop();\n      }\n\n      if (stx.chart.lockAutoScroll) {\n        if (stx.isNewTick && this.chart.entryTick !== null && this.chart.entryTick !== undefined) {\n          var visibleTicks = this.chart.dataSet.length - (this.chart.entryTick || 0) + 1;\n          this.setMaxTicks(visibleTicks + 3);\n        } else if (stx.isNewTick) {\n          this.setMaxTicks(this.chart.dataSet.length + (Math.floor(this.chart.dataSet.length / 5) || 2));\n          this.chart.scroll = this.chart.dataSet.length + (Math.floor(this.chart.dataSet.length / 10) || 1);\n        }\n\n        this.micropixels = 0;\n        this.draw();\n      }\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/components/ui/Context.js\":\n/*!**************************************!*\\\n  !*** ./src/components/ui/Context.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * UI context helper class. Construct with an {@link CIQ.ChartEngine} object\n * @param {CIQ.ChartEngine} stx The chart object to associate this UI\n * @param {HTMLElement} topNode The top node of the DOM tree for this context. That node should contain\n * all of the UI elements associated with the CIQ.ChartEngine\n * @param {object} [params] Optional parameters\n * @name CIQ.UI.Context\n * @constructor\n */\nvar Context =\n/*#__PURE__*/\nfunction () {\n  function Context(stx, topNode, params) {\n    _classCallCheck(this, Context);\n\n    this.params = params || {};\n    this.stx = stx;\n    this.topNode = topNode;\n    var storage = Context.assembleContext(topNode);\n    this.advertised = {};\n    topNode.CIQ.UI.context = this; // Search through all of the components that have registered themselves. Call setContext() on each\n    // so that they can get their context. This usually initializes and makes the component active.\n\n    for (var i = 0; i < storage.Components.length; i++) {\n      storage.Components[i].setContextPrivate(this);\n    }\n  }\n  /**\n   * The DOM tag for a context needs some storage. ContextTag components register\n   * themselves by placing themselves in this storage. This method creates that\n   * storage, if it hasn't already been created.\n   * @param  {HTMLElement} contextElement The context node\n   * @returns {object} The storage object\n   * @private\n   */\n\n\n  _createClass(Context, [{\n    key: \"advertiseAs\",\n\n    /**\n     * Attaches a Helper to the context, so that it can be found later on.\n     * @param {CIQ.UI.Helper} uiHelper A UI Helper to attach\n     * @param {string} helperName The helperName of the element. For instance \"Loader\"\n     * @memberof CIQ.UI.Context\n     */\n    value: function advertiseAs(uiHelper, helperName) {\n      this.advertised[helperName] = uiHelper;\n    }\n    /**\n     * Finds the nearest (parent) node that contains the class (CIQ.UI.Element type) referenced\n     * by an stxtap attribute. Returns null if none found.\n     * @param  {string} helperName The type of UI Helper to look for\n     * @return {Array.CIQ.UI.Helper} The associated array of helpers or null if none found\n     * @memberof CIQ.UI.Context\n     * @private\n     */\n\n  }, {\n    key: \"getAdvertised\",\n    value: function getAdvertised(helperName) {\n      return this.advertised[helperName];\n    }\n    /**\n     * Attaches a loader to a UI context\n     * @param {CIQ.UI.Loader} loader Loader instance\n     * @memberof CIQ.UI.Context\n     */\n\n  }, {\n    key: \"setLoader\",\n    value: function setLoader(loader) {\n      this.loader = loader;\n    }\n    /**\n     * Is the context in modal mode?\n     * @return {Boolean} true if in modal mode\n     * @memberof CIQ.UI.Context\n     */\n\n  }, {\n    key: \"isModal\",\n    value: function isModal() {\n      return this.stx.openDialog !== '';\n    }\n  }], [{\n    key: \"assembleContext\",\n    value: function assembleContext(contextElement) {\n      if (!contextElement.CIQ) {\n        contextElement.CIQ = {};\n      } // claim our namespace\n\n\n      if (!contextElement.CIQ.UI) {\n        contextElement.CIQ.UI = {};\n      }\n\n      if (!contextElement.CIQ.UI.Components) {\n        contextElement.CIQ.UI.Components = [];\n      }\n\n      return contextElement.CIQ.UI;\n    }\n  }]);\n\n  return Context;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Context);\n\n/***/ }),\n\n/***/ \"./src/components/ui/Helper.js\":\n/*!*************************************!*\\\n  !*** ./src/components/ui/Helper.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Abstract class for UI Helpers\n * @name CIQ.UI.Helper\n * @constructor\n */\nvar Helper =\n/*#__PURE__*/\nfunction () {\n  function Helper(node, context) {\n    _classCallCheck(this, Helper);\n\n    this.node = node;\n    this.context = context;\n    this.injections = []; // To keep track of injections for later removal\n  }\n  /**\n   * Adds an injection. These will be automatically destroyed if the helper object is destroyed\n   * @param {string} position  \"prepend\" or \"append\"\n   * @param {string} injection The injection name. i.e. \"draw\"\n   * @param {Function} code      The code to be run\n   * @memberof CIQ.UI.Helper\n   */\n\n\n  _createClass(Helper, [{\n    key: \"addInjection\",\n    value: function addInjection(position, injection, code) {\n      this.injections.push(this.context.stx[position](injection, code));\n    }\n    /**\n     * Removes injections from the ChartEngine\n     * @memberof CIQ.UI.Helper\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      for (var i = 0; i < this.injections.length; i++) {\n        this.context.stx.removeInjection(this.injections[i]);\n      }\n\n      this.injections = [];\n    }\n  }]);\n\n  return Helper;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Helper);\n\n/***/ }),\n\n/***/ \"./src/components/ui/Keystroke.js\":\n/*!****************************************!*\\\n  !*** ./src/components/ui/Keystroke.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * UI Helper for capturing and handling keystrokes. cb to capture the key. Developer is responsible\n * for calling e.preventDefault() and/or e.stopPropagation();\n *\n * @name CIQ.UI.Keystroke\n * @param {HTMLElement} [node] The node to which to attach, generally the chart container\n * @param {Function} [cb] Callback when key pressed\n * @constructor\n */\nvar Keystroke =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Set this to true to bypass key capture. Shift, CTRL, CMD will still be toggled however\n   * @memberof CIQ.UI.Keystroke\n   * @type {Boolean}\n   */\n  function Keystroke(node, cb) {\n    var _this = this;\n\n    _classCallCheck(this, Keystroke);\n\n    this.keyup = function (e) {\n      var key = e.which;\n\n      if (_this.implementAndroidWorkaround) {\n        _this.androidWorkaroundKeyup(e);\n\n        _this.implementAndroidWorkaround = false;\n        return;\n      }\n\n      switch (key) {\n        case 16:\n          _this.shift = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        case 17:\n        case 18:\n          _this.ctrl = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        case 91:\n          _this.cmd = false;\n\n          _this.cb({\n            key: key,\n            e: e,\n            keystroke: _this\n          });\n\n          return;\n\n        default:\n          break;\n      } // This is where we handle the keystroke, regardless of whether we captured the key with a down or press event\n      // The exception to this is the arrow keys, which are processed in keydown\n\n\n      if (_this.key) {\n        _this.cb({\n          key: _this.key,\n          e: e,\n          keystroke: _this\n        });\n      }\n    };\n\n    this.keydown = function (e) {\n      _this.downValue = e.target.value;\n\n      if (_this.noKeyCapture) {\n        return;\n      }\n\n      var key = e.which;\n\n      if (key === 229 && CIQ.isAndroid) {\n        _this.implementAndroidWorkaround = true;\n        return;\n      }\n\n      if (!_this.ctrl) {\n        if (key !== 91 && key >= 48 && key <= 222 || key === 32) {\n          return;\n        }\n      } // handled by keypress\n\n\n      switch (key) {\n        // eslint-disable-line default-case\n        case 91:\n          _this.cmd = true;\n          return;\n\n        case 16:\n          _this.shift = true;\n          return;\n\n        case 17:\n        case 18:\n          _this.ctrl = true;\n          return;\n\n        case 20:\n          _this.capsLock = !_this.capsLock;\n          return;\n      }\n\n      if (key === 8) {\n        key = 'backspace';\n      } // delete on mac\n\n\n      if (key === 9) {\n        key = 'tab';\n      }\n\n      if (key === 13) {\n        key = 'enter';\n      }\n\n      if (key === 27) {\n        key = 'escape';\n      }\n\n      if (key === 33) {\n        key = 'page up';\n      }\n\n      if (key === 34) {\n        key = 'page down';\n      }\n\n      if (key === 35) {\n        key = 'end';\n      }\n\n      if (key === 36) {\n        key = 'home';\n      }\n\n      if (key === 45) {\n        key = 'insert';\n      }\n\n      if (key === 46) {\n        key = 'delete';\n      }\n\n      _this.key = key; // If you hold a key down, then keydown will repeat. These are the keys\n      // that we want to capture repeat action.\n\n      if (key === 37 || key === 38 || key === 39 || key === 40) {\n        if (key === 37) {\n          key = 'left';\n        }\n\n        if (key === 38) {\n          key = 'up';\n        }\n\n        if (key === 39) {\n          key = 'right';\n        }\n\n        if (key === 40) {\n          key = 'down';\n        }\n\n        _this.key = null;\n\n        _this.cb({\n          key: key,\n          e: e,\n          keystroke: _this\n        });\n      }\n    };\n\n    this.keypress = function (e) {\n      if (_this.noKeyCapture) {\n        return;\n      }\n\n      var key = e.which;\n\n      if (key < 32 || key > 222) {\n        return;\n      } // handled by keydown\n\n\n      _this.key = key;\n    };\n\n    this.onblur = function (e) {\n      _this.ctrl = false;\n\n      _this.cb({\n        key: 17,\n        e: e,\n        keystroke: _this\n      });\n    };\n\n    this.node = node;\n    this.cb = cb;\n    this.initialize();\n    this.shift = false;\n    this.ctrl = false;\n    this.cmd = false;\n    this.capsLock = false;\n    this.downValue = ''; // Android Chrome bug requires a workaround for keyup.\n  } // http://stackoverflow.com/questions/30743490/capture-keys-typed-on-android-virtual-keyboard-using-javascript\n  // On Chrome Android, the keydown/keyup events are broken. We have to figure out the key that was pressed by\n  // examining the value of an input box before (keydown) and after (keyup) and identifying what changed\n  // Note that CIQ.isAndroid is false when the user requests \"desktop site\" and so some input boxes won't work\n  // in that situation. There is no workaround other than to always treat 229 as a false value (it is a swedish character)\n\n\n  _createClass(Keystroke, [{\n    key: \"androidWorkaroundKeyup\",\n    value: function androidWorkaroundKeyup(e) {\n      var newValue = e.target.value;\n      var key;\n\n      if (newValue.length > this.downValue.length) {\n        key = newValue.charCodeAt(newValue.length - 1);\n      } else {\n        key = 'delete';\n      }\n\n      this.cb({\n        key: key,\n        e: e,\n        keystroke: this\n      });\n    } // Managing keystroke events. We will get three key events from the browser: keydown, keyup, keypress\n    // These come in a specific order: http://www.quirksmode.org/dom/events/keys.html\n    // keypress gives you the capitalized or uncapitalized key, unlike keyup/keydown\n    // which only give you the actual physical key that was pressed on the keyboard\n    // keypress is triggered *before* the action modifies the input field\n    //\n    // We can capture keystrokes on the body, or on an input field. What we want to make sure is that\n    // the input field is actually updated when we process the stroke. Since keypress and keydown occur\n    // before the input field is updated, we save any key that has been handled by these in this.key\n    // but we don't process the stroke until the keyup event is fired. This ensures that our handlers\n    // will always have the right key (capitalized) and that input field value will be up to date.\n\n  }, {\n    key: \"initialize\",\n\n    /**\n     * initializes member funcitons\n     * @memberof CIQ.UI.Keystroke\n     */\n    value: function initialize() {\n      this.node.addEventListener('keyup', this.keyup);\n      this.node.addEventListener('keydown', this.keydown);\n      this.node.addEventListener('keypress', this.keypress); // otherwise ctrl-t to switch tabs causes ctrl to get stuck\n\n      window.addEventListener('blur', this.onblur);\n    }\n  }]);\n\n  return Keystroke;\n}();\n\nKeystroke.noKeyCapture = false;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Keystroke);\n\n/***/ }),\n\n/***/ \"./src/components/ui/KeystrokeHub.js\":\n/*!*******************************************!*\\\n  !*** ./src/components/ui/KeystrokeHub.js ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helper */ \"./src/components/ui/Helper.js\");\n/* harmony import */ var _Keystroke__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Keystroke */ \"./src/components/ui/Keystroke.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! . */ \"./src/components/ui/index.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n/* eslint-disable prefer-destructuring */\n\n\n\n/**\n * UI Helper for capturing and handling keystrokes. A helper or ContextTag can\n * \"claim\" keystrokes and intercept them, otherwise the keystrokes will be handled\n * by keyup and keydown.\n *\n * @param {HTMLElement} [node] The node to which to attach, generally the chart container\n * @param {CIQ.UI.Context} context The context for the chart\n * @param {Object} [params] Parameters to drive the helper\n * @param {Function} [params.cb] Callback to handle hot keys.\n * @name CIQ.UI.KeyboardShortcuts\n * @constructor\n */\n\nvar KeystrokeHub =\n/*#__PURE__*/\nfunction (_Helper) {\n  _inherits(KeystrokeHub, _Helper);\n\n  function KeystrokeHub(node, context, params) {\n    var _this;\n\n    _classCallCheck(this, KeystrokeHub);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(KeystrokeHub).call(this, node, context, params));\n    _this.node = node;\n    _this.context = context;\n    _this.params = params || {};\n    KeystrokeHub.instance = _assertThisInitialized(_assertThisInitialized(_this));\n\n    var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n    function handler() {\n      return function () {\n        self.handler.apply(self, arguments);\n      };\n    }\n\n    _this.keystroke = new _Keystroke__WEBPACK_IMPORTED_MODULE_1__[\"default\"](node, handler());\n    return _this;\n  }\n  /**\n   * Global default hotkey method. Pass this or your own metho in to CIQ.UI.KeystrokeHub\n   * @memberof CIQ.UI.KeyboardShortcuts\n   * @param  {number} key The pressed key\n   * @param  {CIQ.UI.KeystrokeHub} hub The hub that processed the key\n   * @return {boolean}     Return true if you captured the key\n   */\n\n\n  _createClass(KeystrokeHub, [{\n    key: \"setActiveContext\",\n\n    /**\n     * Change the active context for the hub, for instance when dealing with multiple charts\n     * @param {CIQ.UI.Context} context The context\n     * @memberof CIQ.UI.KeystrokeHub\n     */\n    value: function setActiveContext(context) {\n      this.context = context;\n    }\n    /**\n     * @param hub\n     * @param key\n     * @param e Event\n     * @param keystroke\n     * @memberof CIQ.UI.KeystrokeHub\n     * @private\n     */\n\n  }, {\n    key: \"processKeyStrokeClaims\",\n    value: function processKeyStrokeClaims(hub, key, e, keystroke) {\n      for (var i = ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].length - 1; i > -1; i--) {\n        var helper = ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"][i].helper;\n        var response = helper.keyStroke(hub, key, e, keystroke);\n\n        if (response) {\n          if (!response.allowDefault) {\n            e.preventDefault();\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"addClaim\",\n    value: function addClaim(helper) {\n      ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].push({\n        helper: helper\n      });\n    }\n  }, {\n    key: \"removeClaim\",\n    value: function removeClaim(helper) {\n      for (var i = 0; i < ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].length; i++) {\n        if (___WEBPACK_IMPORTED_MODULE_2__[\"claims\"][i].helper === helper) {\n          ___WEBPACK_IMPORTED_MODULE_2__[\"claims\"].splice(i, 1);\n          return;\n        }\n      }\n    }\n    /**\n     * Handles keystrokes\n     * @param  {object} obj Event object\n     * @memberof CIQ.UI.KeystrokeHub\n     * @private\n     */\n\n  }, {\n    key: \"handler\",\n    value: function handler(obj) {\n      if (!this.context) {\n        return;\n      }\n\n      var stx = this.context.stx;\n\n      if (stx.editingAnnotation) {\n        return;\n      }\n\n      var e = obj.e,\n          key = obj.key,\n          keystroke = obj.keystroke,\n          targetTagName = obj.e.target.tagName;\n\n      switch (key) {\n        case 16:\n          stx.shift = keystroke.shift;\n          break;\n\n        case 17:\n        case 18:\n          stx.ctrl = keystroke.ctrl;\n          break;\n\n        case 91:\n          stx.cmd = keystroke.cmd;\n          break;\n\n        case 20:\n          this.capsLock = !this.capsLock;\n          break;\n\n        default:\n          break;\n      }\n\n      if (!CIQ.ChartEngine.drawingLine) {\n        if (this.processKeyStrokeClaims(this, key, e, keystroke)) {\n          return;\n        }\n      }\n\n      if (key !== 'escape') {\n        if (this.context.isModal()) {\n          return;\n        }\n      }\n\n      if (targetTagName === 'INPUT' || targetTagName === 'TEXTAREA') {\n        return;\n      } // target is not the chart\n\n\n      if (this.params.cb) {\n        if (this.params.cb(key, this)) {\n          e.preventDefault();\n        }\n      }\n    }\n  }], [{\n    key: \"defaultHotKeys\",\n    value: function defaultHotKeys(key, hub) {\n      var stx = hub.context.stx;\n      var push = 1;\n\n      switch (key) {\n        case 'up':\n          stx.zoomIn();\n          break;\n\n        case 'down':\n          stx.zoomOut();\n          break;\n\n        case 'home':\n          stx.home();\n          stx.headsUpHR();\n          break;\n\n        case 'end':\n          stx.chart.scroll = stx.chart.dataSet.length;\n          stx.draw();\n          stx.headsUpHR();\n          break;\n\n        case 'left':\n          if (stx.ctrl) {\n            stx.zoomOut();\n          } else {\n            push = 1;\n\n            if (stx.shift || hub.capsLock) {\n              push = Math.max(5, 5 * (8 - Math.round(stx.layout.candleWidth)));\n            }\n\n            if (stx.chart.scroll + push >= stx.chart.dataSet.length) {\n              push = stx.chart.dataSet.length - stx.chart.scroll;\n            }\n\n            stx.chart.scroll += push;\n            stx.draw();\n            stx.headsUpHR();\n          }\n\n          break;\n\n        case 'right':\n          if (stx.ctrl) {\n            stx.zoomIn();\n          } else {\n            push = 1;\n\n            if (stx.shift || hub.capsLock) {\n              push = Math.max(5, 5 * (8 - Math.round(stx.layout.candleWidth)));\n            }\n\n            stx.chart.scroll -= push;\n            stx.draw();\n            stx.headsUpHR();\n          }\n\n          break;\n\n        case 'delete':\n        case 'backspace':\n          if (CIQ.ChartEngine.drawingLine) {\n            stx.undo();\n          } else if (stx.anyHighlighted) {\n            stx.deleteHighlighted();\n          } else {\n            return false;\n          }\n\n          break;\n\n        case 'escape':\n          if (CIQ.ChartEngine.drawingLine) {\n            stx.undo();\n          }\n\n          break;\n\n        default:\n          return false;\n        // not captured\n      }\n\n      return true;\n    }\n  }]);\n\n  return KeystrokeHub;\n}(_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nKeystrokeHub.instance = null;\n/* harmony default export */ __webpack_exports__[\"default\"] = (KeystrokeHub);\n\n/***/ }),\n\n/***/ \"./src/components/ui/index.js\":\n/*!************************************!*\\\n  !*** ./src/components/ui/index.js ***!\n  \\************************************/\n/*! exports provided: claims */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"claims\", function() { return claims; });\n/**\n * Set this flag to true to bypass bindings when adding a component to the DOM.\n * For instance when components are created by html2canvas we don't want them to do any heavy lifting.\n * @type {Boolean}\n */\nvar claims = [];\n\n/***/ }),\n\n/***/ \"./src/components/ui/utils.js\":\n/*!************************************!*\\\n  !*** ./src/components/ui/utils.js ***!\n  \\************************************/\n/*! exports provided: getParents, createElement, aggregation, setHidden, downloadURI */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParents\", function() { return getParents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"aggregation\", function() { return aggregation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setHidden\", function() { return setHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"downloadURI\", function() { return downloadURI; });\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n// jQuery parents() vanilla alternative: https://stackoverflow.com/a/12981248/1471258\nfunction getParents(el) {\n  var parentSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'body';\n  var parentElement = document.querySelector(parentSelector);\n\n  if (!parentElement) {\n    return [];\n  }\n\n  var parents = [];\n  var p = el.parentNode;\n\n  while (p !== parentElement) {\n    // if parentElement is not in hierarchy\n    if (p === null) {\n      return [];\n    }\n\n    parents.push(p);\n    p = p.parentNode;\n  } // Include parent element in parents\n\n\n  parents.push(parentElement);\n  return parents;\n}\nfunction createElement(html) {\n  var wrapper = document.createElement('div');\n  wrapper.innerHTML = html;\n  return wrapper.firstChild;\n} // Auxiliary function that enables multiple inheritence with es6 classes: https://stackoverflow.com/a/45332959/1471258\n\nfunction aggregation(baseClass) {\n  for (var _len = arguments.length, mixins = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    mixins[_key - 1] = arguments[_key];\n  }\n\n  var copyProps = function copyProps(target, source) {\n    // this function copies all properties and symbols, filtering out some special ones\n    Object.getOwnPropertyNames(source).concat(Object.getOwnPropertySymbols(source)).forEach(function (prop) {\n      if (!prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {\n        Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));\n      }\n    });\n  };\n\n  var base =\n  /*#__PURE__*/\n  function (_baseClass) {\n    _inherits(base, _baseClass);\n\n    function base() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, base);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(base)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      mixins.forEach(function (mixin) {\n        copyProps(_assertThisInitialized(_assertThisInitialized(_this)), new mixin()); // eslint-disable-line new-cap\n      });\n      return _this;\n    }\n\n    return base;\n  }(baseClass);\n\n  mixins.forEach(function (mixin) {\n    // outside contructor() to allow aggregation(A,B,C).staticFunction() to be called etc.\n    copyProps(base.prototype, mixin.prototype);\n    copyProps(base, mixin);\n  });\n  return base;\n}\nfunction setHidden(element, isHidden) {\n  if (isHidden) {\n    element.setAttribute('hidden', true);\n  } else {\n    element.removeAttribute('hidden');\n  }\n}\nfunction downloadURI(uri, name) {\n  var link = document.createElement('a');\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n\n/***/ }),\n\n/***/ \"./src/feed/Feed.js\":\n/*!**************************!*\\\n  !*** ./src/feed/Feed.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subscription */ \"./src/feed/subscription/index.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar Feed =\n/*#__PURE__*/\nfunction () {\n  _createClass(Feed, [{\n    key: \"startEpoch\",\n    get: function get() {\n      return this._mainStore.state.startEpoch;\n    }\n  }, {\n    key: \"endEpoch\",\n    get: function get() {\n      return this._mainStore.state.endEpoch;\n    }\n  }, {\n    key: \"granularity\",\n    get: function get() {\n      return this._mainStore.chart.granularity;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this._mainStore.chart.context;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._mainStore.loader;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this._mainStore.state.margin;\n    }\n  }], [{\n    key: \"EVENT_MASTER_DATA_UPDATE\",\n    get: function get() {\n      return 'EVENT_MASTER_DATA_UPDATE';\n    }\n  }, {\n    key: \"EVENT_MASTER_DATA_REINITIALIZE\",\n    get: function get() {\n      return 'EVENT_MASTER_DATA_REASSIGN';\n    }\n  }, {\n    key: \"EVENT_COMPARISON_DATA_UPDATE\",\n    get: function get() {\n      return 'EVENT_COMPARISON_DATA_UPDATE';\n    }\n  }, {\n    key: \"EVENT_START_PAGINATION\",\n    get: function get() {\n      return 'EVENT_START_PAGINATION';\n    }\n  }, {\n    key: \"EVENT_ON_PAGINATION\",\n    get: function get() {\n      return 'EVENT_ON_PAGINATION';\n    }\n  }]);\n\n  function Feed(binaryApi, stx, mainStore, tradingTimes) {\n    var _this = this;\n\n    _classCallCheck(this, Feed);\n\n    this._activeStreams = {};\n    this._isConnectionOpened = true;\n\n    this.onRangeChanged = function (forceLoad) {\n      var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateTimeUnitInterval\"])(_this.granularity);\n      var rangeTime = (_this.granularity || 1) * _this._stx.chart.maxTicks;\n      var dtLeft = null;\n      var dtRight = null;\n\n      _this._mainStore.state.setChartIsReady(false);\n\n      if (!_this.endEpoch) {\n        if (_this.startEpoch) {\n          var key = _this._getKey({\n            symbol: _this._mainStore.state.symbol,\n            granularity: _this._mainStore.state.granularity\n          });\n\n          if (_this._activeStreams[key]) {\n            _this._forgetStream(key);\n          }\n\n          dtLeft = _this.startEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.startEpoch)) : undefined;\n        }\n      } else {\n        dtLeft = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.startEpoch || _this.endEpoch - rangeTime));\n        dtRight = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this.endEpoch));\n      }\n\n      _this._stx.setRange({\n        dtLeft: dtLeft,\n        dtRight: dtRight,\n        periodicity: periodicity,\n        forceLoad: forceLoad\n      }, function () {\n        if (!_this.endEpoch && !_this.startEpoch) {\n          _this._stx.home();\n\n          delete _this._stx.layout.range;\n        } else {\n          _this.scaleChart();\n        }\n\n        _this._mainStore.state.saveLayout();\n\n        _this._mainStore.state.setChartIsReady(true);\n      });\n    };\n\n    this._stx = stx;\n    this._binaryApi = binaryApi;\n    this._mainStore = mainStore;\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getInstance();\n    this._tradingTimes = tradingTimes;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(function () {\n      return mainStore.state.isConnectionOpened;\n    }, this.onConnectionChanged.bind(this));\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(Feed, [{\n    key: \"scaleChart\",\n    value: function scaleChart() {\n      if (this.startEpoch) {\n        if (!this.endEpoch) {\n          this._stx.maxMasterDataSize = 0;\n          this._stx.chart.lockAutoScroll = true;\n        } else {\n          this._stx.chart.isDisplayFullMode = false;\n          this._stx.chart.lockAutoScroll = false;\n        }\n\n        this._stx.setMaxTicks(this._stx.chart.dataSet.length + (Math.floor(this._stx.chart.dataSet.length / 5) || 2));\n\n        this._stx.chart.scroll = this._stx.chart.dataSet.length + (Math.floor(this._stx.chart.dataSet.length / 10) || 1);\n        this._stx.chart.isScrollLocationChanged = true;\n\n        this._stx.draw();\n      }\n    } // although not used, subscribe is overridden so that unsubscribe will be called by ChartIQ\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe() {} // Do not call explicitly! Method below is called by ChartIQ when unsubscribing symbols.\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(_ref) {\n      var symbol = _ref.symbol,\n          period = _ref.period,\n          interval = _ref.interval;\n      var granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n\n      var key = this._getKey({\n        symbol: symbol,\n        granularity: granularity\n      });\n\n      this._forgetStream(key);\n    }\n  }, {\n    key: \"_forgetStream\",\n    value: function _forgetStream(key) {\n      if (this._activeStreams[key]) {\n        this._activeStreams[key].forget();\n\n        delete this._activeStreams[key];\n      }\n    }\n  }, {\n    key: \"fetchInitialData\",\n    value: function () {\n      var _fetchInitialData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(symbol, suggestedStartDate, suggestedEndDate, params, callback) {\n        var _this2 = this;\n\n        var period, interval, symbolObject, granularity, key, localDate, isComparisonChart, start, end, comparisonChartSymbol, symbolName, dataCallback, tickHistoryRequest, getHistoryOnly, quotes, subscription, delay, text, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setHasReachedEndOfData(false);\n                period = params.period, interval = params.interval, symbolObject = params.symbolObject;\n                granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n                key = this._getKey({\n                  symbol: symbol,\n                  granularity: granularity\n                });\n                localDate = this._serverTime.getLocalDate();\n                suggestedStartDate = suggestedStartDate > localDate ? localDate : suggestedStartDate;\n                isComparisonChart = this._stx.chart.symbol !== symbol;\n                start = this.startEpoch || Math.floor(suggestedStartDate / 1000 | 0);\n                start = this.margin && this.startEpoch ? start - this.margin : start;\n                end = this.margin && this.endEpoch ? this.endEpoch + this.margin : this.endEpoch;\n\n                if (isComparisonChart) {\n                  // Strange issue where comparison series is offset by timezone...\n                  start -= suggestedStartDate.getTimezoneOffset() * 60;\n                }\n\n                comparisonChartSymbol = isComparisonChart ? symbol : undefined;\n                symbolName = symbolObject.name;\n                this.loader.setState('chart-data');\n\n                if (!this._tradingTimes.isFeedUnavailable(symbol)) {\n                  _context.next = 20;\n                  break;\n                }\n\n                this._mainStore.notifier.notifyFeedUnavailable(symbolName);\n\n                dataCallback = {\n                  quotes: []\n                };\n\n                if (isComparisonChart) {\n                  // Passing error will prevent the chart from being shown; for\n                  // main chart we still want the chart to be shown, just disabled\n                  dataCallback = _objectSpread({\n                    error: 'StreamingNotAllowed',\n                    suppressAlert: true\n                  }, dataCallback);\n                } else {\n                  this._mainStore.chart.setChartAvailability(false);\n                }\n\n                callback(dataCallback);\n                return _context.abrupt(\"return\");\n\n              case 20:\n                tickHistoryRequest = {\n                  start: start,\n                  symbol: symbol,\n                  granularity: granularity\n                };\n                getHistoryOnly = false;\n\n                if (!end) {\n                  _context.next = 27;\n                  break;\n                }\n\n                // When there is end; no streaming required\n                tickHistoryRequest.end = end;\n                getHistoryOnly = true;\n                _context.next = 52;\n                break;\n\n              case 27:\n                if (!this._tradingTimes.isMarketOpened(symbol)) {\n                  _context.next = 50;\n                  break;\n                }\n\n                delay = this._tradingTimes.getDelayedMinutes(symbol);\n\n                if (delay > 0) {\n                  this._mainStore.notifier.notifyDelayedMarket(symbolName, delay);\n\n                  subscription = new _subscription__WEBPACK_IMPORTED_MODULE_4__[\"DelayedSubscription\"](tickHistoryRequest, this._binaryApi, this._stx, delay);\n                } else {\n                  subscription = new _subscription__WEBPACK_IMPORTED_MODULE_4__[\"RealtimeSubscription\"](tickHistoryRequest, this._binaryApi, this._stx);\n                }\n\n                _context.prev = 30;\n                _context.next = 33;\n                return subscription.initialFetch();\n\n              case 33:\n                quotes = _context.sent;\n                _context.next = 42;\n                break;\n\n              case 36:\n                _context.prev = 36;\n                _context.t0 = _context[\"catch\"](30);\n                text = _context.t0.message;\n\n                this._mainStore.notifier.notify({\n                  text: text,\n                  category: 'activesymbol'\n                });\n\n                callback({\n                  quotes: []\n                });\n                return _context.abrupt(\"return\");\n\n              case 42:\n                subscription.onChartData(function (tickResponse) {\n                  // Append comming ticks to chart only if it belongs to selected symbol after symbol changes\n                  if (isComparisonChart || symbol === _this2._stx.chart.symbol) {\n                    if (_this2._stx.isDestroyed) return;\n\n                    _this2._appendChartData(tickResponse, key, comparisonChartSymbol);\n                  }\n                }); // if symbol is changed before request is completed, past request needs to be forgotten:\n\n                if (!(!isComparisonChart && this._stx.chart.symbol !== symbol)) {\n                  _context.next = 47;\n                  break;\n                }\n\n                callback({\n                  quotes: []\n                });\n                subscription.forget();\n                return _context.abrupt(\"return\");\n\n              case 47:\n                this._activeStreams[key] = subscription;\n                _context.next = 52;\n                break;\n\n              case 50:\n                this._mainStore.notifier.notifyMarketClose(symbolName); // Although market is closed, we display the past tick history data\n\n\n                getHistoryOnly = true;\n\n              case 52:\n                if (!getHistoryOnly) {\n                  _context.next = 57;\n                  break;\n                }\n\n                _context.next = 55;\n                return this._binaryApi.getTickHistory(tickHistoryRequest);\n\n              case 55:\n                response = _context.sent;\n                quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatHistory(response);\n\n              case 57:\n                if (quotes) {\n                  _context.next = 61;\n                  break;\n                }\n\n                console.error('No quotes found!!');\n                callback({\n                  quotes: []\n                });\n                return _context.abrupt(\"return\");\n\n              case 61:\n                quotes = this._trimQuotes(quotes);\n                callback({\n                  quotes: quotes\n                });\n\n                this._mainStore.chart.updateYaxisWidth();\n\n                this.scaleChart();\n\n                this._emitDataUpdate(quotes, comparisonChartSymbol, true);\n\n              case 66:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[30, 36]]);\n      }));\n\n      return function fetchInitialData(_x, _x2, _x3, _x4, _x5) {\n        return _fetchInitialData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"fetchPaginationData\",\n    value: function () {\n      var _fetchPaginationData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(symbol, suggestedStartDate, endDate, params, callback) {\n        var end, start, period, interval, granularity, isMainChart;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                end = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCEpoch\"])(endDate);\n                start = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCEpoch\"])(suggestedStartDate);\n                period = params.period, interval = params.interval;\n                granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"calculateGranularity\"])(period, interval);\n                isMainChart = this._stx.chart.symbol === symbol;\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  this._emitter.emit(Feed.EVENT_START_PAGINATION, {\n                    start: start,\n                    end: end\n                  });\n                }\n\n                _context2.next = 8;\n                return this._getPaginationData(symbol, granularity, start, end, callback);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function fetchPaginationData(_x6, _x7, _x8, _x9, _x10) {\n        return _fetchPaginationData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"_getPaginationData\",\n    value: function () {\n      var _getPaginationData2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(symbol, granularity, start, end, callback) {\n        var isMainChart, now, startLimit, result, firstEpoch, response, newStart, paginationEnd;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                isMainChart = this._stx.chart.symbol === symbol; // TODO There is no need to get historical data before startTime\n\n                if (!(this.startEpoch\n                /* && start < this.startEpoch */\n                || this.endEpoch && end > this.endEpoch)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                callback({\n                  moreAvailable: false,\n                  quotes: []\n                });\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  this._emitter.emit(Feed.EVENT_ON_PAGINATION, {\n                    start: start,\n                    end: end\n                  });\n\n                  this.setHasReachedEndOfData(true);\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                now = this._serverTime.getEpoch(); // Tick history data only goes as far back as 3 years:\n\n                startLimit = now - Math.ceil(2.8 * 365 * 24 * 60 * 60);\n                /* == 3 Years */\n\n                result = {\n                  quotes: []\n                };\n\n                if (!(end > startLimit)) {\n                  _context3.next = 31;\n                  break;\n                }\n\n                _context3.prev = 9;\n                _context3.next = 12;\n                return this._binaryApi.getTickHistory({\n                  symbol: symbol,\n                  granularity: granularity,\n                  start: Math.floor(Math.max(start, startLimit)),\n                  end: end\n                });\n\n              case 12:\n                response = _context3.sent;\n                firstEpoch = Feed.getFirstEpoch(response);\n\n                if (!(firstEpoch === undefined || firstEpoch === end)) {\n                  _context3.next = 23;\n                  break;\n                }\n\n                newStart = start - (end - start);\n\n                if (!(newStart <= startLimit)) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                // Passed available range. Prevent anymore pagination requests:\n                callback({\n                  moreAvailable: false,\n                  quotes: []\n                });\n                this.setHasReachedEndOfData(true);\n                return _context3.abrupt(\"return\");\n\n              case 20:\n                _context3.next = 22;\n                return this._getPaginationData(symbol, granularity, newStart, end, callback);\n\n              case 22:\n                return _context3.abrupt(\"return\");\n\n              case 23:\n                result.quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatHistory(response);\n\n                if (firstEpoch <= startLimit) {\n                  callback({\n                    moreAvailable: false,\n                    quotes: []\n                  });\n                  this.setHasReachedEndOfData(true);\n                }\n\n                _context3.next = 31;\n                break;\n\n              case 27:\n                _context3.prev = 27;\n                _context3.t0 = _context3[\"catch\"](9);\n                console.error(_context3.t0);\n                result = {\n                  error: _context3.t0\n                };\n\n              case 31:\n                callback(result);\n\n                if (isMainChart) {\n                  // ignore comparisons\n                  // prevent overlapping by setting pagination end as firstEpoch\n                  // if 'end' is greater than firstEpoch from feed\n                  paginationEnd = end > firstEpoch ? firstEpoch : end;\n\n                  this._emitter.emit(Feed.EVENT_ON_PAGINATION, {\n                    start: start,\n                    end: paginationEnd\n                  });\n                }\n\n              case 33:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[9, 27]]);\n      }));\n\n      return function _getPaginationData(_x11, _x12, _x13, _x14, _x15) {\n        return _getPaginationData2.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"setHasReachedEndOfData\",\n    value: function setHasReachedEndOfData(hasReachedEndOfData) {\n      if (this._mainStore.state.hasReachedEndOfData !== hasReachedEndOfData) {\n        this._mainStore.state.hasReachedEndOfData = hasReachedEndOfData;\n      }\n    }\n  }, {\n    key: \"unsubscribeAll\",\n    value: function unsubscribeAll() {\n      var _arr = Object.keys(this._activeStreams);\n\n      for (var _i = 0; _i < _arr.length; _i++) {\n        var key = _arr[_i];\n\n        this._forgetStream(key);\n      }\n    }\n  }, {\n    key: \"_forgetIfEndEpoch\",\n    value: function _forgetIfEndEpoch(key) {\n      var subscription = this._activeStreams[key];\n      var result = true;\n\n      if (!subscription) {\n        return;\n      }\n\n      var lastEpoch = subscription.lastStreamEpoch;\n\n      if (this.endEpoch && lastEpoch + this.granularity > this.endEpoch) {\n        if (this._activeStreams[key] && this.granularity === 0 && !this._mainStore.state.isStaticChart && CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)).valueOf() >= this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()) {\n          result = false;\n        }\n\n        this._forgetStream(key);\n      } else {\n        result = false;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_appendChartData\",\n    value: function _appendChartData(quotes, key, comparisonChartSymbol) {\n      if (this._forgetIfEndEpoch(key) && !this._activeStreams[key]) {\n        quotes = [];\n        return;\n      }\n\n      if (this.endEpoch && CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)).valueOf() !== this._stx.chart.dataSet.slice(-1)[0].DT.valueOf()) {\n        this._stx.updateChartData([{\n          DT: CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch)),\n          Close: null\n        }], null, {\n          fillGaps: true\n        });\n\n        this._stx.createDataSet();\n      }\n\n      if (comparisonChartSymbol) {\n        this._stx.updateChartData(quotes, null, {\n          secondarySeries: comparisonChartSymbol,\n          noCreateDataSet: true\n        });\n      } else {\n        this._stx.updateChartData(quotes, null, {\n          appending: !this._mainStore.state.granularity,\n          allowReplaceOHL: true\n        });\n      }\n\n      this._emitDataUpdate(quotes, comparisonChartSymbol);\n    }\n  }, {\n    key: \"_emitDataUpdate\",\n    value: function _emitDataUpdate(quotes, comparisonChartSymbol) {\n      var isChartReinitialized = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var prev = quotes[quotes.length - 2];\n      var prevClose = prev !== undefined ? prev.Close : undefined;\n\n      var dataUpdate = _objectSpread({}, quotes[quotes.length - 1], {\n        prevClose: prevClose\n      });\n\n      if (!comparisonChartSymbol) {\n        if (isChartReinitialized) {\n          this._emitter.emit(Feed.EVENT_MASTER_DATA_REINITIALIZE);\n\n          this._mainStore.chart.setChartAvailability(true);\n        } else {\n          this._emitter.emit(Feed.EVENT_MASTER_DATA_UPDATE, dataUpdate);\n        }\n      } else {\n        this._emitter.emit(Feed.EVENT_COMPARISON_DATA_UPDATE, _objectSpread({\n          symbol: comparisonChartSymbol\n        }, dataUpdate));\n      }\n    }\n  }, {\n    key: \"onMasterDataUpdate\",\n    value: function onMasterDataUpdate(callback) {\n      this._emitter.on(Feed.EVENT_MASTER_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"offMasterDataUpdate\",\n    value: function offMasterDataUpdate(callback) {\n      this._emitter.off(Feed.EVENT_MASTER_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"onMasterDataReinitialize\",\n    value: function onMasterDataReinitialize(callback) {\n      this._emitter.on(Feed.EVENT_MASTER_DATA_REINITIALIZE, callback);\n    }\n  }, {\n    key: \"offMasterDataReinitialize\",\n    value: function offMasterDataReinitialize(callback) {\n      this._emitter.off(Feed.EVENT_MASTER_DATA_REINITIALIZE, callback);\n    }\n  }, {\n    key: \"onComparisonDataUpdate\",\n    value: function onComparisonDataUpdate(callback) {\n      this._emitter.on(Feed.EVENT_COMPARISON_DATA_UPDATE, callback);\n    }\n  }, {\n    key: \"onPagination\",\n    value: function onPagination(callback) {\n      this._emitter.on(Feed.EVENT_ON_PAGINATION, callback);\n    }\n  }, {\n    key: \"offPagination\",\n    value: function offPagination(callback) {\n      this._emitter.off(Feed.EVENT_ON_PAGINATION, callback);\n    }\n  }, {\n    key: \"onStartPagination\",\n    value: function onStartPagination(callback) {\n      this._emitter.on(Feed.EVENT_START_PAGINATION, callback);\n    }\n  }, {\n    key: \"offStartPagination\",\n    value: function offStartPagination(callback) {\n      this._emitter.off(Feed.EVENT_START_PAGINATION, callback);\n    }\n  }, {\n    key: \"onConnectionChanged\",\n    value: function onConnectionChanged() {\n      var isOpened = this._mainStore.state.isConnectionOpened;\n\n      if (isOpened === undefined || isOpened === this._isConnectionOpened) {\n        return;\n      }\n\n      this._isConnectionOpened = isOpened;\n\n      if (isOpened) {\n        this._onConnectionReopened();\n      } else {\n        this._onConnectionClosed();\n      }\n    }\n  }, {\n    key: \"_onConnectionClosed\",\n    value: function _onConnectionClosed() {\n      for (var key in this._activeStreams) {\n        this._activeStreams[key].pause();\n      }\n\n      this._connectionClosedDate = new Date();\n    }\n  }, {\n    key: \"_onConnectionReopened\",\n    value: function _onConnectionReopened() {\n      var keys = Object.keys(this._activeStreams);\n\n      if (keys.length === 0) {\n        return;\n      }\n\n      var _this$_unpackKey = this._unpackKey(keys[0]),\n          granularity = _this$_unpackKey.granularity;\n\n      var elapsedSeconds = (new Date() - this._connectionClosedDate) / 1000 | 0;\n      var maxIdleSeconds = (granularity || 1) * this._stx.chart.maxTicks;\n\n      if (elapsedSeconds >= maxIdleSeconds) {\n        this._mainStore.chart.refreshChart();\n      } else {\n        for (var _i2 = 0; _i2 < keys.length; _i2++) {\n          var key = keys[_i2];\n\n          this._resumeStream(key);\n        }\n      }\n\n      this._connectionClosedDate = undefined;\n    }\n  }, {\n    key: \"_resumeStream\",\n    value: function _resumeStream(key) {\n      var _this3 = this;\n\n      var _this$_unpackKey2 = this._unpackKey(key),\n          symbol = _this$_unpackKey2.symbol;\n\n      var comparisonChartSymbol = this._stx.chart.symbol !== symbol ? symbol : undefined;\n\n      this._activeStreams[key].resume().then(function (quotes) {\n        if (_this3._stx.isDestroyed) return;\n\n        _this3._appendChartData(quotes, key, comparisonChartSymbol);\n      });\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(_ref2) {\n      var symbol = _ref2.symbol,\n          granularity = _ref2.granularity;\n      return \"\".concat(symbol, \"-\").concat(granularity);\n    }\n  }, {\n    key: \"_unpackKey\",\n    value: function _unpackKey(key) {\n      var _key$split = key.split('-'),\n          _key$split2 = _slicedToArray(_key$split, 2),\n          symbol = _key$split2[0],\n          granularity = _key$split2[1];\n\n      return {\n        symbol: symbol,\n        granularity: +granularity\n      };\n    }\n  }, {\n    key: \"_trimQuotes\",\n    value: function _trimQuotes() {\n      var _this4 = this;\n\n      var quotes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var startTickIndex = null;\n      var endTickIndex = null;\n      var trimmedQuotes = quotes;\n      if (!trimmedQuotes.length) return [];\n\n      if (this.startEpoch && this.margin) {\n        startTickIndex = trimmedQuotes.findIndex(function (tick) {\n          return CIQ.strToDateTime(tick.Date) >= CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this4.startEpoch));\n        });\n\n        if (startTickIndex > -1) {\n          trimmedQuotes = trimmedQuotes.slice(startTickIndex - 1);\n        }\n      }\n\n      if (this.endEpoch && this.margin) {\n        endTickIndex = trimmedQuotes.findIndex(function (tick) {\n          return CIQ.strToDateTime(tick.Date) >= CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(_this4.endEpoch));\n        });\n\n        if (endTickIndex > -1) {\n          var addon = trimmedQuotes[endTickIndex].Date === Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getUTCDate\"])(this.endEpoch) ? 2 : 1;\n          trimmedQuotes = trimmedQuotes.slice(0, endTickIndex + addon);\n        }\n      }\n\n      return trimmedQuotes;\n    }\n  }], [{\n    key: \"getFirstEpoch\",\n    value: function getFirstEpoch(_ref3) {\n      var candles = _ref3.candles,\n          history = _ref3.history;\n\n      if (candles && candles.length > 0) {\n        return candles[0].epoch;\n      }\n\n      if (history && history.times.length > 0) {\n        var times = history.times;\n        return +times[0];\n      }\n    }\n  }]);\n\n  return Feed;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Feed);\n\n/***/ }),\n\n/***/ \"./src/feed/TickHistoryFormatter.js\":\n/*!******************************************!*\\\n  !*** ./src/feed/TickHistoryFormatter.js ***!\n  \\******************************************/\n/*! exports provided: TickHistoryFormatter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TickHistoryFormatter\", function() { return TickHistoryFormatter; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar TickHistoryFormatter =\n/*#__PURE__*/\nfunction () {\n  function TickHistoryFormatter() {\n    _classCallCheck(this, TickHistoryFormatter);\n  }\n\n  _createClass(TickHistoryFormatter, null, [{\n    key: \"formatHistory\",\n    value: function formatHistory(response) {\n      var history = response.history,\n          candles = response.candles;\n\n      if (history) {\n        var times = history.times,\n            prices = history.prices;\n        var quotes = prices.map(function (p, idx) {\n          return {\n            Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+times[idx]),\n            Close: +p\n          };\n        });\n        return quotes;\n      }\n\n      if (candles) {\n        var _quotes = candles.map(function (c) {\n          return {\n            Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+c.epoch),\n            Open: +c.open,\n            High: +c.high,\n            Low: +c.low,\n            Close: +c.close\n          };\n        });\n\n        return _quotes;\n      }\n    }\n  }, {\n    key: \"formatTick\",\n    value: function formatTick(response) {\n      var tick = response.tick,\n          ohlc = response.ohlc;\n\n      if (tick) {\n        return {\n          Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+tick.epoch),\n          Close: +tick.quote\n        };\n      }\n\n      if (ohlc) {\n        return {\n          Date: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(+ohlc.open_time),\n          Open: +ohlc.open,\n          High: +ohlc.high,\n          Low: +ohlc.low,\n          Close: +ohlc.close\n        };\n      }\n    }\n  }]);\n\n  return TickHistoryFormatter;\n}();\n\n/***/ }),\n\n/***/ \"./src/feed/index.js\":\n/*!***************************!*\\\n  !*** ./src/feed/index.js ***!\n  \\***************************/\n/*! exports provided: Feed */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Feed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feed */ \"./src/feed/Feed.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Feed\", function() { return _Feed__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/DelayedSubscription.js\":\n/*!******************************************************!*\\\n  !*** ./src/feed/subscription/DelayedSubscription.js ***!\n  \\******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Subscription */ \"./src/feed/subscription/Subscription.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\nvar DelayedSubscription =\n/*#__PURE__*/\nfunction (_Subscription) {\n  _inherits(DelayedSubscription, _Subscription);\n\n  function DelayedSubscription(request, api, stx, delay) {\n    var _this;\n\n    _classCallCheck(this, DelayedSubscription);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DelayedSubscription).call(this, request, api, stx));\n    _this._timerId = void 0;\n    _this.UPDATE_INTERVAL = 3000;\n    _this.onUpdateDelayedFeed =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var tickHistoryRequest, response, quotes;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_this.lastStreamEpoch) {\n                _context.next = 9;\n                break;\n              }\n\n              tickHistoryRequest = _objectSpread({}, _this._request, {\n                start: _this.lastStreamEpoch,\n                // When updating delayed feeds, we don't want the\n                // start time to be offset by the delayed amount:\n                adjust_start_time: 0\n              });\n              _context.next = 4;\n              return _this._binaryApi.getTickHistory(tickHistoryRequest);\n\n            case 4:\n              response = _context.sent;\n              quotes = _this._processHistoryResponse(response);\n\n              _this._emitter.emit(_Subscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EVENT_CHART_DATA, quotes);\n\n              _context.next = 11;\n              break;\n\n            case 9:\n              console.error('Unable to update delayed feed without epoch from last tick');\n\n              _this._endTimer();\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this._request = _objectSpread({}, _this._request, {\n      // start times must be offset with delay because\n      // there is no data within delay intervals\n      start: _this._request.start - delay * 60\n    });\n    return _this;\n  }\n\n  _createClass(DelayedSubscription, [{\n    key: \"pause\",\n    value: function pause() {\n      this._endTimer();\n    }\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(tickHistoryRequest) {\n        var response, quotes;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._binaryApi.getTickHistory(tickHistoryRequest);\n\n              case 2:\n                response = _context2.sent;\n                quotes = this._processHistoryResponse(response);\n\n                this._startTimer();\n\n                return _context2.abrupt(\"return\", quotes);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function _startSubscribe(_x) {\n        return _startSubscribe2.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      this._endTimer();\n\n      _get(_getPrototypeOf(DelayedSubscription.prototype), \"forget\", this).call(this);\n    }\n  }, {\n    key: \"_startTimer\",\n    value: function _startTimer() {\n      if (!this._timerId) {\n        this._timerId = setInterval(this.onUpdateDelayedFeed, this.UPDATE_INTERVAL);\n      }\n    }\n  }, {\n    key: \"_endTimer\",\n    value: function _endTimer() {\n      if (this._timerId) {\n        clearInterval(this._timerId);\n        this._timerId = undefined;\n      }\n    }\n  }]);\n\n  return DelayedSubscription;\n}(_Subscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DelayedSubscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/RealtimeSubscription.js\":\n/*!*******************************************************!*\\\n  !*** ./src/feed/subscription/RealtimeSubscription.js ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _Subscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Subscription */ \"./src/feed/subscription/Subscription.js\");\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\nvar RealtimeSubscription =\n/*#__PURE__*/\nfunction (_Subscription) {\n  _inherits(RealtimeSubscription, _Subscription);\n\n  function RealtimeSubscription() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RealtimeSubscription);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RealtimeSubscription)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._tickCallback = void 0;\n    return _this;\n  }\n\n  _createClass(RealtimeSubscription, [{\n    key: \"pause\",\n    value: function pause() {\n      // prevent forget requests; active streams are invalid when connection closed\n      this._tickCallback = undefined;\n    }\n  }, {\n    key: \"resume\",\n    value: function () {\n      var _resume = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this._tickCallback) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error('You cannot resume an active stream!');\n\n              case 2:\n                return _context.abrupt(\"return\", _get(_getPrototypeOf(RealtimeSubscription.prototype), \"resume\", this).call(this));\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function resume() {\n        return _resume.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(tickHistoryRequest) {\n        var _this$_getProcessTick, _this$_getProcessTick2, tickHistoryPromise, processTickHistory, response, quotes;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$_getProcessTick = this._getProcessTickHistoryClosure(), _this$_getProcessTick2 = _slicedToArray(_this$_getProcessTick, 2), tickHistoryPromise = _this$_getProcessTick2[0], processTickHistory = _this$_getProcessTick2[1];\n\n                this._binaryApi.subscribeTickHistory(tickHistoryRequest, processTickHistory);\n\n                _context2.next = 4;\n                return tickHistoryPromise;\n\n              case 4:\n                response = _context2.sent;\n                quotes = this._processHistoryResponse(response);\n                this._tickCallback = processTickHistory;\n                return _context2.abrupt(\"return\", quotes);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function _startSubscribe(_x) {\n        return _startSubscribe2.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      if (this._tickCallback) {\n        var _this$_request = this._request,\n            symbol = _this$_request.symbol,\n            granularity = _this$_request.granularity;\n\n        this._binaryApi.forget({\n          symbol: symbol,\n          granularity: granularity\n        });\n\n        this._tickCallback = undefined;\n      }\n\n      _get(_getPrototypeOf(RealtimeSubscription.prototype), \"forget\", this).call(this);\n    }\n  }, {\n    key: \"_getProcessTickHistoryClosure\",\n    value: function _getProcessTickHistoryClosure() {\n      var _this2 = this;\n\n      var hasHistory = false;\n      var tickHistoryPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n      var processTickHistory = function processTickHistory(resp) {\n        if (_this2._stx.isDestroyed) {\n          var subscriptionId = resp.subscription.id;\n\n          _this2._binaryApi.forgetStream(subscriptionId);\n\n          return;\n        } // We assume that 1st response is the history, and subsequent\n        // responses are tick stream data.\n\n\n        if (hasHistory) {\n          _this2._onTick(resp);\n\n          return;\n        }\n\n        tickHistoryPromise.resolve(resp);\n        hasHistory = true;\n      };\n\n      return [tickHistoryPromise, processTickHistory];\n    }\n  }, {\n    key: \"_onTick\",\n    value: function _onTick(response) {\n      this.lastStreamEpoch = +_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEpochFromTick(response);\n      var quotes = [_TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_2__[\"TickHistoryFormatter\"].formatTick(response)];\n\n      this._emitter.emit(_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"].EVENT_CHART_DATA, quotes);\n    }\n  }]);\n\n  return RealtimeSubscription;\n}(_Subscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RealtimeSubscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/Subscription.js\":\n/*!***********************************************!*\\\n  !*** ./src/feed/subscription/Subscription.js ***!\n  \\***********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TickHistoryFormatter */ \"./src/feed/TickHistoryFormatter.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  _createClass(Subscription, null, [{\n    key: \"EVENT_CHART_DATA\",\n    get: function get() {\n      return 'EVENT_CHART_DATA';\n    }\n  }]);\n\n  function Subscription(request, api, stx) {\n    _classCallCheck(this, Subscription);\n\n    this.lastStreamEpoch = void 0;\n    this._binaryApi = api;\n    this._stx = stx;\n    this._request = request;\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(Subscription, [{\n    key: \"initialFetch\",\n    value: function () {\n      var _initialFetch = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var quotes;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._startSubscribe(this._request);\n\n              case 2:\n                quotes = _context.sent;\n                return _context.abrupt(\"return\", quotes);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function initialFetch() {\n        return _initialFetch.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"pause\",\n    value: function pause() {}\n  }, {\n    key: \"resume\",\n    value: function () {\n      var _resume = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var tickHistoryRequest, quotes;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.lastStreamEpoch) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                tickHistoryRequest = _objectSpread({}, this._request, {\n                  start: this.lastStreamEpoch\n                });\n                _context2.next = 4;\n                return this._startSubscribe(tickHistoryRequest);\n\n              case 4:\n                quotes = _context2.sent;\n                return _context2.abrupt(\"return\", quotes);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function resume() {\n        return _resume.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"forget\",\n    value: function forget() {\n      this.lastStreamEpoch = undefined;\n\n      this._emitter.off(Subscription.EVENT_CHART_DATA);\n    }\n  }, {\n    key: \"_startSubscribe\",\n    value: function () {\n      var _startSubscribe2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                throw new Error('Please override!');\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function _startSubscribe() {\n        return _startSubscribe2.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"_processHistoryResponse\",\n    value: function _processHistoryResponse(response) {\n      if (response.error) {\n        throw new Error(response.error);\n      }\n\n      var quotes = _TickHistoryFormatter__WEBPACK_IMPORTED_MODULE_1__[\"TickHistoryFormatter\"].formatHistory(response);\n\n      if (!quotes) {\n        var message = \"Unexpected response: \".concat(response);\n        throw new Error({\n          message: message\n        });\n      }\n\n      this.lastStreamEpoch = Subscription.getLatestEpoch(response);\n      return quotes;\n    }\n  }, {\n    key: \"onChartData\",\n    value: function onChartData(callback) {\n      this._emitter.on(Subscription.EVENT_CHART_DATA, callback);\n    }\n  }], [{\n    key: \"getLatestEpoch\",\n    value: function getLatestEpoch(_ref) {\n      var candles = _ref.candles,\n          history = _ref.history;\n\n      if (candles) {\n        return candles[candles.length - 1].epoch;\n      }\n\n      if (history) {\n        var times = history.times;\n        return times[times.length - 1];\n      }\n    }\n  }, {\n    key: \"getEpochFromTick\",\n    value: function getEpochFromTick(_ref2) {\n      var tick = _ref2.tick,\n          ohlc = _ref2.ohlc;\n      return tick ? tick.epoch : ohlc.open_time;\n    }\n  }]);\n\n  return Subscription;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Subscription);\n\n/***/ }),\n\n/***/ \"./src/feed/subscription/index.js\":\n/*!****************************************!*\\\n  !*** ./src/feed/subscription/index.js ***!\n  \\****************************************/\n/*! exports provided: DelayedSubscription, RealtimeSubscription */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DelayedSubscription__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DelayedSubscription */ \"./src/feed/subscription/DelayedSubscription.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DelayedSubscription\", function() { return _DelayedSubscription__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _RealtimeSubscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RealtimeSubscription */ \"./src/feed/subscription/RealtimeSubscription.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RealtimeSubscription\", function() { return _RealtimeSubscription__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: AssetInformation, Barrier, ChartSetting, ChartSize, ChartTitle, ChartTypes, Comparison, ComparisonList, createObjectFromLocalStorage, CrosshairToggle, DrawTools, Marker, PendingPromise, setSmartChartsPublicPath, Share, SmartChart, StudyLegend, Timeperiod, CurrentSpot, Views, logEvent, LogCategories, LogActions, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSmartChartsPublicPath\", function() { return setSmartChartsPublicPath; });\n/* harmony import */ var _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Barrier.jsx */ \"./src/components/Barrier.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Barrier\", function() { return _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PendingPromise\", function() { return _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/ChartTypes.jsx */ \"./src/components/ChartTypes.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartTypes\", function() { return _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/StudyLegend.jsx */ \"./src/components/StudyLegend.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StudyLegend\", function() { return _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _components_Comparison_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/Comparison.jsx */ \"./src/components/Comparison.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Comparison\", function() { return _components_Comparison_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/Views.jsx */ \"./src/components/Views.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Views\", function() { return _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/CrosshairToggle.jsx */ \"./src/components/CrosshairToggle.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CrosshairToggle\", function() { return _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/Timeperiod.jsx */ \"./src/components/Timeperiod.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Timeperiod\", function() { return _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/ChartSize.jsx */ \"./src/components/ChartSize.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartSize\", function() { return _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/DrawTools.jsx */ \"./src/components/DrawTools.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DrawTools\", function() { return _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/ChartSetting.jsx */ \"./src/components/ChartSetting.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartSetting\", function() { return _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/Share.jsx */ \"./src/components/Share.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Share\", function() { return _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/SmartChart.jsx */ \"./src/components/SmartChart.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SmartChart\", function() { return _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _components_ComparisonList_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/ComparisonList.jsx */ \"./src/components/ComparisonList.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ComparisonList\", function() { return _components_ComparisonList_jsx__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n/* harmony import */ var _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/ChartTitle.jsx */ \"./src/components/ChartTitle.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ChartTitle\", function() { return _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; });\n\n/* harmony import */ var _components_AssetInformation_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/AssetInformation.jsx */ \"./src/components/AssetInformation.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AssetInformation\", function() { return _components_AssetInformation_jsx__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; });\n\n/* harmony import */ var _components_Marker_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/Marker.jsx */ \"./src/components/Marker.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Marker\", function() { return _components_Marker_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; });\n\n/* harmony import */ var _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/FastMarker.jsx */ \"./src/components/FastMarker.jsx\");\n/* harmony import */ var _components_CurrentSpot_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/CurrentSpot.jsx */ \"./src/components/CurrentSpot.jsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CurrentSpot\", function() { return _components_CurrentSpot_jsx__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; });\n\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createObjectFromLocalStorage\", function() { return _utils__WEBPACK_IMPORTED_MODULE_19__[\"createObjectFromLocalStorage\"]; });\n\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/ga */ \"./src/utils/ga.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"logEvent\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"logEvent\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LogCategories\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"LogCategories\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LogActions\", function() { return _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"LogActions\"]; });\n\n/* eslint-disable no-new, react/jsx-indent, react/no-danger, react/jsx-indent-props */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction setSmartChartsPublicPath(path) {\n  __webpack_require__.p = path; // eslint-disable-line\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  AssetInformation: _components_AssetInformation_jsx__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  Barrier: _components_Barrier_jsx__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ChartSetting: _components_ChartSetting_jsx__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  ChartSize: _components_ChartSize_jsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  ChartTitle: _components_ChartTitle_jsx__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  ChartTypes: _components_ChartTypes_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  Comparison: _components_Comparison_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  ComparisonList: _components_ComparisonList_jsx__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  createObjectFromLocalStorage: _utils__WEBPACK_IMPORTED_MODULE_19__[\"createObjectFromLocalStorage\"],\n  CrosshairToggle: _components_CrosshairToggle_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  DrawTools: _components_DrawTools_jsx__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  Marker: _components_Marker_jsx__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n  // this is depricated in favor of FastMarker\n  FastMarker: _components_FastMarker_jsx__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n  PendingPromise: _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  setSmartChartsPublicPath: setSmartChartsPublicPath,\n  Share: _components_Share_jsx__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  SmartChart: _components_SmartChart_jsx__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  StudyLegend: _components_StudyLegend_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  Timeperiod: _components_Timeperiod_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  CurrentSpot: _components_CurrentSpot_jsx__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n  Views: _components_Views_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  logEvent: _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"logEvent\"],\n  LogCategories: _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"LogCategories\"],\n  LogActions: _utils_ga__WEBPACK_IMPORTED_MODULE_20__[\"LogActions\"]\n});\n\n/***/ }),\n\n/***/ \"./src/store/AnimatedPriceStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/AnimatedPriceStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AnimatedPriceStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _class, _descriptor, _descriptor2, _descriptor3;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\nvar AnimatedPriceStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function AnimatedPriceStore() {\n    var _this = this;\n\n    _classCallCheck(this, AnimatedPriceStore);\n\n    _initializerDefineProperty(this, \"price\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isIncrease\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"status\", _descriptor3, this);\n\n    this.oldPrice = '';\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        price: _this.price,\n        isIncrease: _this.isIncrease,\n        status: _this.status,\n        className: _this.className\n      };\n    });\n  }\n\n  _createClass(AnimatedPriceStore, [{\n    key: \"setPrice\",\n    value: function setPrice(val, prevPrice) {\n      var oldVal = prevPrice || +this.oldPrice;\n      var newVal = +val;\n      var isIncrease = false;\n\n      if (newVal > oldVal) {\n        isIncrease = true;\n        this.status = 'up';\n      } else if (newVal < oldVal) {\n        this.status = 'down';\n      } else {\n        this.status = '';\n        return;\n      }\n\n      this.price = val;\n      this.oldPrice = this.price;\n      this.isIncrease = isIncrease;\n    }\n  }]);\n\n  return AnimatedPriceStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"price\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isIncrease\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"status\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setPrice\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setPrice\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/AssetInformationStore.js\":\n/*!********************************************!*\\\n  !*** ./src/store/AssetInformationStore.js ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AssetInformationStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar AssetInformationStore =\n/*#__PURE__*/\nfunction () {\n  function AssetInformationStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, AssetInformationStore);\n\n    this.onContextReady = function () {\n      _this.stx.prepend('headsUpHR', _this.update);\n    };\n\n    this._container = null;\n    this._spot = null;\n    this._open = null;\n    this._close = null;\n    this._high = null;\n    this._low = null;\n\n    this.update = function () {\n      // do not query dom on each frame\n      if (!_this._container) {\n        _this._container = _this.context.topNode.querySelector('.ciq-asset-information');\n        _this._spot = _this._container.querySelector('.ciq-ai-spot');\n        _this._open = _this._container.querySelector('.ciq-ai-open');\n        _this._close = _this._container.querySelector('.ciq-ai-close');\n        _this._high = _this._container.querySelector('.ciq-ai-high');\n        _this._low = _this._container.querySelector('.ciq-ai-low');\n      }\n\n      var container = _this._container;\n\n      if (!_this.visible) {\n        container.style.visibility = 'hidden';\n        return;\n      }\n\n      var bar = _this.stx.barFromPixel(_this.stx.cx);\n\n      var prices = _this.stx.chart.xaxis[bar];\n\n      if (!prices) {\n        return;\n      }\n\n      var _ref = prices.data || {},\n          Open = _ref.Open,\n          High = _ref.High,\n          Low = _ref.Low,\n          Close = _ref.Close;\n\n      if (!Open && !High && !Low && !Close) {\n        container.style.visibility = 'hidden';\n        return;\n      }\n\n      container.style.visibility = 'visible';\n\n      if (_this.isTick) {\n        var children = container.children;\n        var visibility = _this.isTick ? 'hidden' : 'visible';\n\n        for (var idx = 1; idx < children.length; ++idx) {\n          children[idx].style.visibility = visibility;\n        }\n      }\n\n      if (_this._container) {\n        _this._open.textContent = Open && !_this.isTick ? Open.toFixed(_this.decimalPlaces) : '';\n        _this._high.textContent = High && !_this.isTick ? High.toFixed(_this.decimalPlaces) : '';\n        _this._low.textContent = Low && !_this.isTick ? Low.toFixed(_this.decimalPlaces) : '';\n        _this._close.textContent = Close && !_this.isTick ? Close.toFixed(_this.decimalPlaces) : '';\n        _this._spot.textContent = Close ? Close.toFixed(_this.decimalPlaces) : null;\n      }\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(AssetInformationStore, [{\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"isTick\",\n    get: function get() {\n      return this.mainStore.timeperiod.timeUnit === 'tick';\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"visible\",\n    get: function get() {\n      return !this.mainStore.chart.isMobile && this.mainStore.chartSetting.assetInformation;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return AssetInformationStore;\n}();\n\n\n\n/***/ }),\n\n/***/ \"./src/store/BarrierStore.js\":\n/*!***********************************!*\\\n  !*** ./src/store/BarrierStore.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BarrierStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PriceLineStore */ \"./src/store/PriceLineStore.js\");\n/* harmony import */ var _ShadeStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShadeStore */ \"./src/store/ShadeStore.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/PriceLine.jsx */ \"./src/components/PriceLine.jsx\");\n/* harmony import */ var _components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Shade.jsx */ \"./src/components/Shade.jsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\nvar BarrierStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  _createClass(BarrierStore, [{\n    key: \"pip\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"yAxisWidth\",\n    get: function get() {\n      return this.mainStore.chart.yAxiswidth;\n    }\n  }, {\n    key: \"priceLabelWidth\",\n    get: function get() {\n      return this.yAxisWidth + 1;\n    }\n  }], [{\n    key: \"SHADE_NONE_SINGLE\",\n    get: function get() {\n      return 'SHADE_NONE_SINGLE';\n    }\n  }, {\n    key: \"SHADE_NONE_DOUBLE\",\n    get: function get() {\n      return 'SHADE_NONE_DOUBLE';\n    }\n  }, {\n    key: \"SHADE_ABOVE\",\n    get: function get() {\n      return 'SHADE_ABOVE';\n    }\n  }, {\n    key: \"SHADE_BELOW\",\n    get: function get() {\n      return 'SHADE_BELOW';\n    }\n  }, {\n    key: \"SHADE_BETWEEN\",\n    get: function get() {\n      return 'SHADE_BETWEEN';\n    }\n  }, {\n    key: \"SHADE_OUTSIDE\",\n    get: function get() {\n      return 'SHADE_OUTSIDE';\n    }\n  }, {\n    key: \"BARRIER_CHANGED\",\n    get: function get() {\n      return 'BARRIER_CHANGED';\n    }\n  }]);\n\n  function BarrierStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, BarrierStore);\n\n    _initializerDefineProperty(this, \"shadeColor\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"color\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"foregroundColor\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"isBetweenShadeVisible\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"isTopShadeVisible\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isBottomShadeVisible\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"hidePriceLines\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"lineStyle\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"isInitialized\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"initializePromise\", _descriptor10, this);\n\n    this._shadeState = void 0;\n    this._onBarrierChange = null;\n\n    this._fireOnBarrierChange = function () {\n      var high = _this._high_barrier.visible ? +_this._high_barrier.price.toFixed(_this.pip) : undefined;\n      var low = _this._low_barrier.visible ? +_this._low_barrier.price.toFixed(_this.pip) : undefined;\n\n      if (_this._onBarrierChange) {\n        _this._onBarrierChange({\n          high: high,\n          low: low\n        });\n      }\n    };\n\n    this._drawShadedArea = function () {\n      if (!_this.isInitialized) {\n        return;\n      }\n\n      if (_this._shadeState === BarrierStore.SHADE_ABOVE) {\n        _this._shadeAbove();\n      } else if (_this._shadeState === BarrierStore.SHADE_BELOW) {\n        _this._shadeBelow();\n      } else if (_this._shadeState === BarrierStore.SHADE_BETWEEN) {\n        _this._shadeBetween();\n      } else if (_this._shadeState === BarrierStore.SHADE_OUTSIDE) {\n        _this._shadeOutside();\n      }\n\n      if (_this._low_barrier.visible && _this._isBarriersOffScreen()) {\n        var order = _this._high_barrier.top === 0 ? null : 101;\n        _this._high_barrier.zIndex = order;\n      }\n    };\n\n    this.mainStore = mainStore;\n    this._high_barrier = new _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mainStore);\n    this._low_barrier = new _PriceLineStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.mainStore);\n\n    this._high_barrier.onPriceChanged(this._drawShadedArea);\n\n    this._low_barrier.onPriceChanged(this._drawShadedArea);\n\n    this._high_barrier.onDragReleased(this._fireOnBarrierChange);\n\n    this._low_barrier.onDragReleased(this._fireOnBarrierChange);\n\n    this._injectionId = this.stx.append('draw', this._drawShadedArea);\n\n    this._setupConstrainBarrierPrices();\n\n    this._listenerId = this.stx.addEventListener('newChart', this.init);\n    this.aboveShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('top-shade');\n    this.betweenShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('between-shade');\n    this.belowShadeStore = new _ShadeStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('bottom-shade');\n    this.AboveShade = this.aboveShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.BetweenShade = this.betweenShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.BelowShade = this.belowShadeStore.connect(_components_Shade_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.shadeState = BarrierStore.SHADE_NONE_SINGLE;\n\n    if (this.context && this.stx.currentQuote()) {\n      this.init();\n    }\n\n    this.HighPriceLine = this._high_barrier.connect(_components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.LowPriceLine = this._low_barrier.connect(_components_PriceLine_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n  }\n\n  _createClass(BarrierStore, [{\n    key: \"init\",\n    value: function init() {\n      this.isInitialized = true;\n      this.initializePromise.resolve(); // Enable this to test barriers; high low values are mandatory\n      // for library user to provide\n      // this.setDefaultBarrier();\n    }\n  }, {\n    key: \"setDefaultBarrier\",\n    value: function setDefaultBarrier() {\n      var price = this.relative ? 0 : this.stx.currentQuote().Close;\n      var distance = this.chart.yAxis.priceTick;\n      this._high_barrier.price = price + distance;\n      this._low_barrier.price = price - distance;\n\n      this._high_barrier._updateTop();\n\n      this._low_barrier._updateTop();\n\n      this._drawShadedArea();\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var _this2 = this;\n\n      var color = _ref.color,\n          foregroundColor = _ref.foregroundColor,\n          shadeColor = _ref.shadeColor,\n          shade = _ref.shade,\n          high = _ref.high,\n          low = _ref.low,\n          relative = _ref.relative,\n          draggable = _ref.draggable,\n          onChange = _ref.onChange,\n          hidePriceLines = _ref.hidePriceLines,\n          lineStyle = _ref.lineStyle;\n      this.initializePromise.then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n        if (color) {\n          _this2.color = color;\n        }\n\n        if (foregroundColor) {\n          _this2.foregroundColor = foregroundColor;\n        }\n\n        if (shadeColor) {\n          _this2.shadeColor = shadeColor;\n        }\n\n        if (shade) {\n          _this2.shadeState = \"SHADE_\".concat(shade).toUpperCase();\n        }\n\n        if (relative !== undefined) {\n          _this2.relative = relative;\n        }\n\n        if (draggable !== undefined) {\n          _this2.draggable = draggable;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"isValidProp\"])(high)) {\n          _this2.high_barrier = high;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"isValidProp\"])(low)) {\n          _this2.low_barrier = low;\n        }\n\n        if (onChange) {\n          _this2.onBarrierChange = onChange;\n        }\n\n        _this2.lineStyle = lineStyle;\n        _this2.hidePriceLines = !!hidePriceLines;\n      }));\n    }\n  }, {\n    key: \"destructor\",\n    value: function destructor() {\n      this.stx.removeInjection(this._injectionId);\n      this.stx.removeEventListener(this._listenerId);\n\n      this._high_barrier.destructor();\n\n      this._low_barrier.destructor();\n    }\n  }, {\n    key: \"_setupConstrainBarrierPrices\",\n    value: function _setupConstrainBarrierPrices() {\n      var _this3 = this;\n\n      // barrier 1 cannot go below barrier 2\n      this._high_barrier.priceConstrainer = function (newPrice) {\n        var nextPrice = _this3._low_barrier.visible && newPrice < _this3._low_barrier.realPrice ? _this3._high_barrier.realPrice : newPrice;\n\n        _this3.mainStore.chart.calculateYaxisWidth(nextPrice);\n\n        return nextPrice;\n      }; // barrier 2 cannot go above barrier 1\n\n\n      this._low_barrier.priceConstrainer = function (newPrice) {\n        var nextPrice = newPrice > _this3._high_barrier.realPrice ? _this3._low_barrier.realPrice : newPrice;\n\n        _this3.mainStore.chart.calculateYaxisWidth(nextPrice);\n\n        return nextPrice;\n      };\n    }\n  }, {\n    key: \"_isBarriersOffScreen\",\n    value: function _isBarriersOffScreen() {\n      return this._high_barrier.offScreen && this._low_barrier.offScreen;\n    }\n  }, {\n    key: \"_shadeBetween\",\n    value: function _shadeBetween() {\n      this.betweenShadeStore.setPosition({\n        top: this._high_barrier.top,\n        bottom: this._low_barrier.top,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeBelow\",\n    value: function _shadeBelow() {\n      var barrier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._high_barrier;\n      this.belowShadeStore.setPosition({\n        top: barrier.top,\n        bottom: 0,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeAbove\",\n    value: function _shadeAbove() {\n      var barrier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._high_barrier;\n      this.aboveShadeStore.setPosition({\n        top: 0,\n        bottom: barrier.top,\n        right: this.yAxisWidth\n      });\n    }\n  }, {\n    key: \"_shadeOutside\",\n    value: function _shadeOutside() {\n      this._shadeAbove(this._high_barrier);\n\n      this._shadeBelow(this._low_barrier);\n    }\n  }, {\n    key: \"high_barrier\",\n    get: function get() {\n      return this._high_barrier.price;\n    },\n    set: function set(price) {\n      this._high_barrier.price = price;\n    }\n  }, {\n    key: \"low_barrier\",\n    get: function get() {\n      return this._low_barrier.price;\n    },\n    set: function set(price) {\n      this._low_barrier.price = price;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.stx.chart;\n    }\n  }, {\n    key: \"onBarrierChange\",\n    set: function set(callback) {\n      if (this._onBarrierChange !== callback) {\n        this._onBarrierChange = callback;\n      }\n    }\n  }, {\n    key: \"shadeState\",\n    get: function get() {\n      return this._shadeState;\n    },\n    set: function set(shadeState) {\n      if (this._shadeState === shadeState) {\n        return;\n      }\n\n      this._shadeState = shadeState;\n      var noShade = this._shadeState === BarrierStore.SHADE_NONE_SINGLE || this._shadeState === BarrierStore.SHADE_NONE_DOUBLE;\n\n      if (noShade) {\n        this.aboveShadeStore.visible = false;\n        this.betweenShadeStore.visible = false;\n        this.belowShadeStore.visible = false;\n      } else {\n        var aboveShadeEnable = this._shadeState === BarrierStore.SHADE_ABOVE || this._shadeState === BarrierStore.SHADE_OUTSIDE;\n        var belowShadeEnable = this._shadeState === BarrierStore.SHADE_BELOW || this._shadeState === BarrierStore.SHADE_OUTSIDE;\n        var betweenShadeEnable = this._shadeState === BarrierStore.SHADE_BETWEEN;\n        this.aboveShadeStore.visible = aboveShadeEnable;\n        this.betweenShadeStore.visible = betweenShadeEnable;\n        this.belowShadeStore.visible = belowShadeEnable;\n\n        this._drawShadedArea();\n      }\n\n      var showLowBarrier = this._shadeState === BarrierStore.SHADE_OUTSIDE || this._shadeState === BarrierStore.SHADE_BETWEEN || this._shadeState === BarrierStore.SHADE_NONE_DOUBLE;\n      var wasLowBarrierVisible = this._low_barrier.visible;\n      this._low_barrier.visible = showLowBarrier;\n\n      if (this.isInitialized && showLowBarrier && !wasLowBarrierVisible) {\n        if (this._low_barrier.realPrice >= this._high_barrier.realPrice) {\n          // fix position if _low_barrier above _high_barrier, since _low_barrier position is not updated when not visible\n          this._low_barrier.price = this._high_barrier.price - this.chart.yAxis.priceTick;\n        }\n      }\n    }\n  }, {\n    key: \"relative\",\n    get: function get() {\n      return this._high_barrier.relative;\n    },\n    set: function set(value) {\n      this._high_barrier.relative = value;\n      this._low_barrier.relative = value;\n    }\n  }, {\n    key: \"draggable\",\n    get: function get() {\n      return this._high_barrier.draggable;\n    },\n    set: function set(value) {\n      this._high_barrier.draggable = value;\n      this._low_barrier.draggable = value;\n    }\n  }]);\n\n  return BarrierStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"shadeColor\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"color\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"foregroundColor\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"isBetweenShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"isTopShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isBottomShadeVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"hidePriceLines\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"lineStyle\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"isInitialized\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"initializePromise\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"yAxisWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"yAxisWidth\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"priceLabelWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"priceLabelWidth\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"init\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destructor\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"destructor\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/BottomWidgetsContainerStore.js\":\n/*!**************************************************!*\\\n  !*** ./src/store/BottomWidgetsContainerStore.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BottomWidgetsContainerStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nvar _dec, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\nvar BottomWidgetsContainerStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  _createClass(BottomWidgetsContainerStore, [{\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  function BottomWidgetsContainerStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, BottomWidgetsContainerStore);\n\n    _initializerDefineProperty(this, \"bottom\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isReadyToShow\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"mainChartHeight\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"top\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"totalHeight\", _descriptor5, this);\n\n    this.initial = function () {\n      _this.stx.append('drawPanels', function () {\n        return _this.updateChartHeight();\n      });\n\n      _this.isReadyToShow = true;\n    };\n\n    this.updateChartMargin = function (margin) {\n      if (_this.context && _this.stx) {\n        var marginTop = 125;\n\n        if (margin === 200) {\n          if (_this.stx.chart.yAxis.height < 325) {\n            margin = 100;\n            var marginTopDiff = 325 - margin - _this.stx.chart.yAxis.height;\n            marginTop = marginTopDiff > 0 ? marginTopDiff : 0;\n          } else if (Object.keys(_this.stx.panels).length > 3) {\n            margin = 100;\n            marginTop = 10;\n          }\n        }\n\n        _this.stx.chart.yAxis.initialMarginTop = marginTop;\n        _this.stx.chart.yAxis.initialMarginBottom = margin;\n\n        _this.stx.calculateYAxisMargins(_this.stx.chart.panel.yAxis);\n\n        _this.stx.draw();\n\n        if (!_this.mainStore.state.shouldMinimiseLastDigits) {\n          _this.mainStore.state.setShouldMinimiseLastDigit(_this.stx.chart.panel.height < 460);\n        }\n      }\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.initial);\n  }\n\n  _createClass(BottomWidgetsContainerStore, [{\n    key: \"updateChartHeight\",\n    value: function updateChartHeight() {\n      var _this2 = this;\n\n      this.mainChartHeight = this.stx.panels.chart.height;\n      this.totalHeight = Object.keys(this.stx.panels).reduce(function (acc, key) {\n        return acc + (_this2.stx.panels[key].hidden ? 0 : _this2.stx.panels[key].height);\n      }, 0);\n      var margin = this.totalHeight > this.mainChartHeight ? 0 : 30;\n      var panelPosition = this.mainStore.chartSetting.position;\n      var chartControlsHeight = panelPosition === 'bottom' && this.mainStore.state.chartControlsWidgets ? 40 : 0;\n      this.top = this.mainChartHeight - margin - 200;\n      this.bottom = this.totalHeight - this.mainChartHeight + margin + chartControlsHeight;\n    }\n  }]);\n\n  return BottomWidgetsContainerStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"bottom\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isReadyToShow\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"mainChartHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"top\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"totalHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateChartHeight\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateChartHeight\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/CategoricalDisplayStore.js\":\n/*!**********************************************!*\\\n  !*** ./src/store/CategoricalDisplayStore.js ***!\n  \\**********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CategoricalDisplayStore; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SearchInput.jsx */ \"./src/components/SearchInput.jsx\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\nvar CategoricalDisplayStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function CategoricalDisplayStore(_ref) {\n    var _this = this;\n\n    var getCategoricalItems = _ref.getCategoricalItems,\n        onSelectItem = _ref.onSelectItem,\n        getIsShown = _ref.getIsShown,\n        getActiveCategory = _ref.getActiveCategory,\n        activeOptions = _ref.activeOptions,\n        placeholderText = _ref.placeholderText,\n        favoritesId = _ref.favoritesId,\n        mainStore = _ref.mainStore,\n        id = _ref.id,\n        getCurrentActiveCategory = _ref.getCurrentActiveCategory,\n        getCurrentActiveSubCategory = _ref.getCurrentActiveSubCategory,\n        searchInputClassName = _ref.searchInputClassName;\n\n    _classCallCheck(this, CategoricalDisplayStore);\n\n    _initializerDefineProperty(this, \"isShown\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"scrollPanel\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"filterText\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"activeCategoryKey\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"focusedCategoryKey\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"isScrollingDown\", _descriptor6, this);\n\n    this.scrollTop = undefined;\n\n    _initializerDefineProperty(this, \"activeHeadKey\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"activeHeadTop\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"activeHeadOffset\", _descriptor9, this);\n\n    this.isUserScrolling = true;\n    this.lastFilteredItems = [];\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        filteredItems: _this.filteredItems,\n        updateScrollSpy: _this.updateScrollSpy,\n        setScrollPanel: _this.setScrollPanel,\n        isScrollingDown: _this.isScrollingDown,\n        scrollUp: _this.scrollUp,\n        scrollDown: _this.scrollDown,\n        onSelectItem: _this.onSelectItem,\n        ResultsPanel: _this.ResultsPanel,\n        FilterPanel: _this.FilterPanel,\n        SearchInput: _this.SearchInput,\n        isMobile: _this.chart.isMobile,\n        height: _this.height\n      };\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(getIsShown, function () {\n      if (getIsShown()) {\n        _this.focusedCategoryKey = null;\n        _this.activeCategoryKey = _this.getCurrentActiveCategory ? _this.getCurrentActiveCategory() : 'favorite';\n        _this.activeSubCategory = _this.getCurrentActiveSubCategory ? _this.getCurrentActiveSubCategory() : '';\n        var el = _this.categoryElements[_this.activeCategoryKey];\n        var activeSubCategoryClassName = _this.id ? \".\".concat(_this.id, \"-subcategory-item-\").concat(_this.activeSubCategory) : \".subcategory-item-\".concat(_this.activeSubCategory);\n\n        var el_active_sub_category = _this.mainStore.chart.rootNode.querySelector(activeSubCategoryClassName);\n\n        _this.activeHeadKey = _this.activeCategoryKey || null;\n\n        if (el) {\n          _this.pauseScrollSpy = true;\n          _this.isUserScrolling = false;\n\n          _this.scrollPanel.scrollTop(el.offsetTop);\n\n          if (el_active_sub_category) {\n            _this.scrollPanel.scrollTop(el.offsetTop + el_active_sub_category.offsetTop - 40);\n          }\n\n          setTimeout(function () {\n            _this.pauseScrollSpy = false;\n          }, 20);\n        }\n\n        if (!_this.isInit) {\n          _this.init();\n        }\n\n        if (!mainStore.chart.isMobile) {\n          setTimeout(function () {\n            _this.searchInput.current.focus();\n          }, 0);\n        }\n      }\n    });\n    this.getCategoricalItems = getCategoricalItems;\n    this.onSelectItem = onSelectItem;\n    this.getActiveCategory = getActiveCategory;\n    this.favoritesId = favoritesId;\n    this.id = id;\n    this.categoryElements = {};\n    this.mainStore = mainStore;\n    this.getCurrentActiveCategory = getCurrentActiveCategory;\n    this.getCurrentActiveSubCategory = getCurrentActiveSubCategory;\n    this.isInit = false;\n    this.searchInput = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this.searchInputClassName = searchInputClassName;\n    var normalItem = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        favoritesId: favoritesId,\n        id: id\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"NormalItem\"]);\n    var activeItem = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        activeOptions: activeOptions,\n        favoritesId: favoritesId\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"ActiveItem\"]);\n\n    var getItemType = function getItemType(categoryId) {\n      if (categoryId === 'active' && _this.getActiveCategory !== undefined) {\n        return activeItem;\n      }\n\n      return normalItem;\n    };\n\n    this.ResultsPanel = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        filteredItems: _this.filteredItems,\n        setCategoryElement: _this.setCategoryElement,\n        getItemType: getItemType,\n        activeHeadTop: _this.activeHeadTop,\n        activeHeadKey: _this.activeHeadKey,\n        activeHeadOffset: _this.activeHeadOffset\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"ResultsPanel\"]);\n    this.FilterPanel = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function (_ref2) {\n      var chart = _ref2.chart;\n      return {\n        isMobile: chart.isMobile,\n        filteredItems: _this.filteredItems,\n        handleFilterClick: _this.handleFilterClick,\n        activeCategoryKey: _this.activeCategoryKey,\n        focusedCategoryKey: _this.focusedCategoryKey\n      };\n    })(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"FilterPanel\"]);\n    this.SearchInput = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        placeholder: placeholderText,\n        value: _this.filterText,\n        onChange: _this.setFilterText,\n        searchInput: _this.searchInput,\n        searchInputClassName: _this.searchInputClassName\n      };\n    })(_components_SearchInput_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n  }\n\n  _createClass(CategoricalDisplayStore, [{\n    key: \"updateScrollSpy\",\n    value: function updateScrollSpy() {\n      if (this.pauseScrollSpy || !this.scrollPanel) {\n        return;\n      }\n\n      if (this.filteredItems.length === 0) {\n        return;\n      }\n\n      var categoryTitleHeight = 40;\n      var scrollPanelTop = this.scrollPanel.container.getBoundingClientRect().top;\n      var activeHeadTop = 0;\n      var activeMenuId = null;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.filteredItems[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var category = _step.value;\n          var el = this.categoryElements[category.categoryId];\n\n          if (!el) {\n            return;\n          }\n\n          var r = el.getBoundingClientRect();\n          var top = r.top - scrollPanelTop;\n\n          if (top < 0) {\n            activeMenuId = category.categoryId;\n            var categorySwitchPoint = r.height + top - categoryTitleHeight;\n            activeHeadTop = categorySwitchPoint < 0 ? categorySwitchPoint : 0;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var scrollTop = this.scrollPanel.getValues().top;\n\n      if (this.scrollTop > scrollTop) {\n        this.scrollUp();\n      } else {\n        this.scrollDown();\n      }\n\n      this.activeHeadOffset = this.chart.isMobile ? this.scrollPanel.container.offsetTop : 0;\n      this.scrollTop = scrollTop;\n      this.focusedCategoryKey = activeMenuId || this.filteredItems[0].categoryId;\n      this.activeHeadTop = activeHeadTop;\n      this.activeHeadKey = this.scrollTop === 0 ? null : this.focusedCategoryKey;\n    }\n  }, {\n    key: \"scrollUp\",\n    value: function scrollUp() {\n      this.isScrollingDown = false;\n    }\n  }, {\n    key: \"scrollDown\",\n    value: function scrollDown() {\n      // This only affects when scrolling by mouse not by code\n      this.isScrollingDown = this.isUserScrolling;\n      this.isUserScrolling = true;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.isInit = true; // Select first non-empty category:\n\n      if (this.activeCategoryKey === '' && this.filteredItems.length > 0) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.filteredItems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var category = _step2.value;\n            var el = this.categoryElements[category.categoryId];\n\n            if (el) {\n              this.activeCategoryKey = category.categoryId;\n              break;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setCategoryElement\",\n    value: function setCategoryElement(element, id) {\n      this.categoryElements[id] = element;\n    }\n  }, {\n    key: \"setFilterText\",\n    value: function setFilterText(filterText) {\n      var _this2 = this;\n\n      this.filterText = filterText;\n      this.isUserScrolling = false;\n      setTimeout(function () {\n        _this2.updateScrollSpy();\n      }, 0);\n    }\n  }, {\n    key: \"handleFilterClick\",\n    value: function handleFilterClick(category) {\n      var _this3 = this;\n\n      var el = this.categoryElements[category.categoryId];\n\n      if (el) {\n        // TODO: Scroll animation\n        this.pauseScrollSpy = true;\n        this.isUserScrolling = false;\n        this.scrollPanel.scrollTop(el.offsetTop);\n        this.focusedCategoryKey = category.categoryId;\n        this.activeHeadKey = null; // scrollTop takes some time to take affect, so we need\n        // a slight delay before enabling the scroll spy again\n\n        setTimeout(function () {\n          _this3.pauseScrollSpy = false;\n        }, 20);\n      }\n    }\n  }, {\n    key: \"setScrollPanel\",\n    value: function setScrollPanel(element) {\n      this.scrollPanel = element;\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.chart.context;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.chart.chartContainerHeight - (this.chart.isMobile ? 0 : 120);\n    }\n  }, {\n    key: \"favoritesCategory\",\n    get: function get() {\n      var _this4 = this;\n\n      this.pauseScrollSpy = true;\n      var favoritesCategory = {\n        categoryName: t.translate('Favorites'),\n        categoryId: 'favorite',\n        hasSubcategory: false,\n        emptyDescription: t.translate('There are no favorites yet.'),\n        data: Object.keys(this.mainStore.favorites.favoritesMap[this.favoritesId]) || []\n      };\n      setTimeout(function () {\n        _this4.pauseScrollSpy = false;\n      }, 20);\n      return favoritesCategory;\n    }\n  }, {\n    key: \"filteredItems\",\n    get: function get() {\n      var filteredItems = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"cloneCategories\"])(this.getCategoricalItems());\n\n      if (this.favoritesId) {\n        var favsCategory = _objectSpread({}, this.favoritesCategory);\n\n        var findFavItem = function findFavItem(category) {\n          var foundItems = [];\n\n          if (category.hasSubcategory) {\n            category.data.forEach(function (subcategory) {\n              var foundSubItems = findFavItem(subcategory);\n              foundItems.push.apply(foundItems, _toConsumableArray(foundSubItems));\n            });\n          } else {\n            favsCategory.data.forEach(function (favItem) {\n              if (typeof favItem === 'string') {\n                var itemObj = category.data.find(function (item) {\n                  return item.itemId === favItem;\n                });\n\n                if (itemObj) {\n                  foundItems.push(itemObj);\n                }\n              }\n            });\n          }\n\n          return foundItems;\n        };\n\n        var favsCategoryItem = favsCategory.data.filter(function (favItem) {\n          return typeof favItem !== 'string';\n        });\n        filteredItems.forEach(function (category) {\n          var foundItems = findFavItem(category);\n          favsCategoryItem.push.apply(favsCategoryItem, _toConsumableArray(foundItems));\n        });\n        favsCategory.data = favsCategoryItem.filter(function (favItem) {\n          return favItem;\n        });\n        filteredItems.unshift(favsCategory);\n      }\n\n      if (this.getActiveCategory) {\n        var activeCategory = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"cloneCategory\"])(this.getActiveCategory());\n        filteredItems.unshift(activeCategory);\n      }\n\n      if (this.filterText === '') {\n        this.lastFilteredItems = filteredItems;\n        return filteredItems;\n      }\n\n      var searchHasResult = false;\n      var queries = this.filterText.split(' ').filter(function (x) {\n        return x !== '';\n      }).map(function (b) {\n        return b.toLowerCase().trim();\n      }); // regex to check all separate words by comma, should exist in the string\n\n      var hasSearchString = function hasSearchString(text) {\n        return queries.reduce(function (a, b) {\n          return text.toLowerCase().includes(b) && a;\n        }, true);\n      };\n\n      var filterCategory = function filterCategory(c) {\n        c.data = c.data.filter(function (item) {\n          return hasSearchString(item.display || _typeof(item.dataObject) === 'object' && item.dataObject.symbol);\n        });\n\n        if (c.data.length) {\n          searchHasResult = true;\n        }\n      };\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = filteredItems[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var category = _step3.value;\n\n          if (category.hasSubcategory) {\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n              for (var _iterator4 = category.data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var subcategory = _step4.value;\n                filterCategory(subcategory);\n              }\n            } catch (err) {\n              _didIteratorError4 = true;\n              _iteratorError4 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                  _iterator4.return();\n                }\n              } finally {\n                if (_didIteratorError4) {\n                  throw _iteratorError4;\n                }\n              }\n            }\n          } else {\n            filterCategory(category);\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      if (!searchHasResult) {\n        filteredItems = this.lastFilteredItems;\n      }\n\n      if (!this.pauseScrollSpy) {\n        this.lastFilteredItems = filteredItems;\n      }\n\n      return filteredItems;\n    }\n  }]);\n\n  return CategoricalDisplayStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isShown\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"scrollPanel\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"filterText\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"activeCategoryKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"focusedCategoryKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isScrollingDown\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadKey\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadTop\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"activeHeadOffset\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateScrollSpy\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateScrollSpy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollUp\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollUp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollDown\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollDown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"init\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"favoritesCategory\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"favoritesCategory\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"filteredItems\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"filteredItems\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCategoryElement\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setCategoryElement\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setFilterText\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setFilterText\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleFilterClick\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"handleFilterClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollPanel\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollPanel\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartSettingStore.js\":\n/*!****************************************!*\\\n  !*** ./src/store/ChartSettingStore.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartSettingStore; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\nvar ChartSettingStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ChartSettingStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartSettingStore);\n\n    this.languages = [{\n      key: 'en',\n      name: 'English',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].USD, null)\n    }, {\n      key: 'pt',\n      name: 'Portugus',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Portugal, null)\n    }, {\n      key: 'de',\n      name: 'Deutsch',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].German, null)\n    }, {\n      key: 'ru',\n      name: '',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Russia, null)\n    }, {\n      key: 'fr',\n      name: 'French',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].French, null)\n    }, {\n      key: 'th',\n      name: 'Thai',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Thailand, null)\n    }, {\n      key: 'id',\n      name: 'Indonesia',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Indonesia, null)\n    }, {\n      key: 'vi',\n      name: 'Ting Vit',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Vietnam, null)\n    }, {\n      key: 'it',\n      name: 'Italiano',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Italy, null)\n    }, {\n      key: 'zh_cn',\n      name: '',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Chinese, null)\n    }, {\n      key: 'pl',\n      name: 'Polish',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].Poland, null)\n    }, {\n      key: 'zh_tw',\n      name: '',\n      icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"FlagIcons\"].ChineseTraditional, null)\n    }];\n    this.defaultLanguage = {};\n    this.onSettingsChange = void 0;\n\n    _initializerDefineProperty(this, \"assetInformation\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"view\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"language\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"position\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"theme\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"countdown\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"historical\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"isAutoScale\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"isHighestLowestMarkerEnabled\", _descriptor9, this);\n\n    this.defaultLanguage = this.languages[0];\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore, {\n      route: 'setting'\n    });\n    this.ChartSettingMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"reaction\"])(function () {\n      return mainStore.state.settings;\n    }, function () {\n      _this.setSettings(mainStore.state.settings);\n    });\n  }\n\n  _createClass(ChartSettingStore, [{\n    key: \"setSettings\",\n    value: function setSettings(settings) {\n      if (settings === undefined) {\n        return;\n      }\n\n      var assetInformation = settings.assetInformation,\n          countdown = settings.countdown,\n          historical = settings.historical,\n          language = settings.language,\n          position = settings.position,\n          isAutoScale = settings.isAutoScale,\n          isHighestLowestMarkerEnabled = settings.isHighestLowestMarkerEnabled,\n          theme = settings.theme;\n\n      if (theme !== undefined) {\n        this.setTheme(theme);\n      }\n\n      if (position !== undefined) {\n        this.setPosition(position);\n      }\n\n      if (countdown !== undefined) {\n        this.showCountdown(countdown);\n      }\n\n      if (language !== undefined) {\n        this.setLanguage(language);\n      }\n\n      if (assetInformation !== undefined) {\n        this.setAssetInformation(assetInformation);\n      }\n\n      if (historical !== undefined) {\n        this.setHistorical(historical);\n      }\n\n      if (isAutoScale !== undefined) {\n        this.setAutoScale(isAutoScale);\n      }\n\n      if (isHighestLowestMarkerEnabled !== undefined) {\n        this.toggleHighestLowestMarker(isHighestLowestMarkerEnabled);\n      }\n    }\n  }, {\n    key: \"saveSetting\",\n    value: function saveSetting() {\n      if (this.onSettingsChange) {\n        this.onSettingsChange({\n          assetInformation: this.assetInformation,\n          countdown: this.countdown,\n          historical: this.historical,\n          language: this.language.key,\n          position: this.position,\n          isAutoScale: this.isAutoScale,\n          isHighestLowestMarkerEnabled: this.isHighestLowestMarkerEnabled,\n          theme: this.theme\n        });\n      }\n    }\n  }, {\n    key: \"setView\",\n    value: function setView(view) {\n      this.view = view || '';\n    }\n  }, {\n    key: \"setLanguage\",\n    value: function setLanguage(lng) {\n      if (lng === this.language.key) {\n        return;\n      }\n\n      this.language = this.languages.find(function (item) {\n        return item.key === lng;\n      });\n      t.setLanguage(lng);\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \"Change language to \".concat(lng));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setTheme\",\n    value: function setTheme(theme) {\n      if (this.theme === theme) {\n        return;\n      }\n\n      this.theme = theme;\n\n      if (this.context) {\n        this.mainStore.state.setChartTheme(theme);\n        this.mainStore.crosshair.setFloatPriceLabelStyle(theme);\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \"Change theme to \".concat(theme));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(value) {\n      var _this2 = this;\n\n      if (this.position === value) {\n        return;\n      }\n\n      this.position = value;\n\n      if (this.context) {\n        this.stx.clearStyles();\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, 'Change Position');\n      this.saveSetting();\n      /**\n      * Chart should fix its height & width after the position changed,\n      * for that purpose we stay some 10 ms so that position varaible update\n      * on chart context then ask chart to update itself hight & width\n      */\n\n      setTimeout(function () {\n        _this2.mainStore.chart.resizeScreen();\n      }, 10);\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"setAssetInformation\",\n    value: function setAssetInformation(value) {\n      if (this.assetInformation === value) {\n        return;\n      }\n\n      this.assetInformation = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \"\".concat(value ? 'Show' : 'Hide', \" Asset Information\"));\n      this.saveSetting();\n    }\n  }, {\n    key: \"showCountdown\",\n    value: function showCountdown(value) {\n      if (this.countdown === value) {\n        return;\n      }\n\n      this.countdown = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \"\".concat(value ? 'Show' : 'Hide', \" Countdown\"));\n      this.saveSetting();\n    }\n  }, {\n    key: \"setHistorical\",\n    value: function setHistorical(value) {\n      var _this3 = this;\n\n      if (this.historical === value) {\n        return;\n      }\n\n      this.historical = value;\n      this.isHighestLowestMarkerEnabled = !value;\n      this.saveSetting();\n      /**\n      * Chart should fix its height & width after the position changed,\n      * for that purpose we stay some 10 ms so that position varaible update\n      * on chart context then ask chart to update itself hight & width\n      */\n\n      setTimeout(function () {\n        _this3.mainStore.chart.resizeScreen();\n      }, 10);\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"setAutoScale\",\n    value: function setAutoScale(value) {\n      if (this.isAutoScale === value) {\n        return;\n      }\n\n      this.isAutoScale = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \" Change AutoScale to \".concat(value));\n      this.saveSetting();\n    }\n  }, {\n    key: \"toggleHighestLowestMarker\",\n    value: function toggleHighestLowestMarker(value) {\n      if (this.isHighestLowestMarkerEnabled === value) {\n        return;\n      }\n\n      this.isHighestLowestMarkerEnabled = value;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].ChartSetting, \" \".concat(value ? 'Show' : 'Hide', \" HighestLowestMarker.\"));\n      this.saveSetting();\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return ChartSettingStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"assetInformation\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"view\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"language\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return this.languages[0];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"position\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'bottom';\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"theme\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'light';\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"countdown\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"historical\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"isAutoScale\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"isHighestLowestMarkerEnabled\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setSettings\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setSettings\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setView\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setView\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setLanguage\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"setLanguage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setTheme\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"setTheme\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPosition\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setPosition\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setAssetInformation\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setAssetInformation\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showCountdown\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"showCountdown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setHistorical\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setHistorical\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setAutoScale\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"setAutoScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleHighestLowestMarker\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleHighestLowestMarker\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartSizeStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/ChartSizeStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartSizeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\nvar ChartSizeStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ChartSizeStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartSizeStore);\n\n    _initializerDefineProperty(this, \"stx\", _descriptor, this);\n\n    this.onContextReady = function () {\n      _this.stx = _this.mainStore.chart.context.stx;\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.mainStore.chart.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(ChartSizeStore, [{\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogActions\"].ChartSize, 'zoom In');\n\n      if (this.stx) {\n        this.stx.zoomIn();\n      }\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_1__[\"LogActions\"].ChartSize, 'zoom Out');\n\n      if (this.stx) {\n        this.stx.zoomOut();\n      }\n    }\n  }]);\n\n  return ChartSizeStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"stx\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"zoomIn\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"zoomIn\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"zoomOut\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"zoomOut\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ChartState.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ChartState.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/_themes.scss */ \"./sass/_themes.scss\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__);\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n/* eslint-disable no-new */\n\n\n\nvar ChartState = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  _createClass(ChartState, [{\n    key: \"comparisonStore\",\n    get: function get() {\n      return this.mainStore.comparison;\n    }\n  }, {\n    key: \"stxx\",\n    get: function get() {\n      return this.chartStore.stxx;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.chartStore.context;\n    }\n  }, {\n    key: \"chartTypeStore\",\n    get: function get() {\n      return this.mainStore.chartType;\n    }\n  }, {\n    key: \"timeperiodStore\",\n    get: function get() {\n      return this.mainStore.timeperiod;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }]);\n\n  function ChartState(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartState);\n\n    _initializerDefineProperty(this, \"granularity\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"chartType\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"startEpoch\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"startEpochMargin\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"endEpoch\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"endEpochMargin\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"symbol\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"isConnectionOpened\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"isChartReady\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"chartStatusListener\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"settings\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"showLastDigitStats\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"scrollToEpoch\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"onExportLayout\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"clearChart\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"importedLayout\", _descriptor16, this);\n\n    _initializerDefineProperty(this, \"isChartClosed\", _descriptor17, this);\n\n    _initializerDefineProperty(this, \"shouldMinimiseLastDigits\", _descriptor18, this);\n\n    _initializerDefineProperty(this, \"isStaticChart\", _descriptor19, this);\n\n    _initializerDefineProperty(this, \"shouldFetchTradingTimes\", _descriptor20, this);\n\n    _initializerDefineProperty(this, \"refreshActiveSymbols\", _descriptor21, this);\n\n    _initializerDefineProperty(this, \"hasReachedEndOfData\", _descriptor22, this);\n\n    this.chartControlsWidgets = void 0;\n\n    _initializerDefineProperty(this, \"onContextReady\", _descriptor23, this);\n\n    this.scrollChartToLeft = function () {\n      _this.stxx.chart.entryTick = null;\n\n      if (_this.scrollToEpoch && !_this.startEpoch) {\n        var startEntry = _this.stxx.chart.dataSet.find(function (entry) {\n          return entry.DT.valueOf() === CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCDate\"])(_this.scrollToEpoch)).valueOf();\n        });\n\n        if (!startEntry) {\n          startEntry = {\n            DT: CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCDate\"])(_this.scrollToEpoch)),\n            Close: null\n          };\n          /**\n           * Adding an invisible bar if the bar\n           * does not exist on the masterData\n           */\n\n          _this.stxx.updateChartData(startEntry, null, {\n            fillGaps: true\n          });\n\n          _this.stxx.createDataSet();\n        }\n\n        _this.stxx.maxMasterDataSize = 0;\n        _this.stxx.micropixels = 0;\n\n        _this.stxx.draw();\n\n        _this.stxx.chart.entryTick = _this.stxx.tickFromDate(startEntry.DT); // the calculation of entry tick should be done after draw\n\n        var scrollToTarget = _this.stxx.chart.dataSet.length - _this.stxx.chart.entryTick;\n\n        if (_this.stxx.animations.liveScroll && _this.stxx.animations.liveScroll.running) {\n          _this.stxx.animations.liveScroll.stop();\n        }\n\n        _this.stxx.scrollTo(_this.stxx.chart, scrollToTarget, function () {\n          _this.stxx.setMaxTicks(5);\n\n          _this.stxx.micropixels = 0;\n          _this.stxx.chart.lockAutoScroll = true;\n          _this.stxx.chart.isScrollLocationChanged = true; // set to true to draw markers\n\n          _this.stxx.draw();\n        });\n      } else if (_this.startEpoch) {\n        _this.stxx.chart.lockAutoScroll = true;\n        _this.stxx.chart.isScrollLocationChanged = true;\n      } else {\n        _this.stxx.chart.lockAutoScroll = false;\n        _this.stxx.chart.isScrollLocationChanged = false;\n\n        _this.stxx.home();\n\n        _this.stxx.draw();\n      }\n\n      _this.mainStore.chart.feed.offMasterDataReinitialize(_this.scrollChartToLeft);\n\n      _this.mainStore.chart.feed.offMasterDataUpdate(_this.scrollChartToLeft);\n    };\n\n    this.mainStore = mainStore;\n    this.chartStore = mainStore.chart;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(ChartState, [{\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var chartControlsWidgets = _ref.chartControlsWidgets,\n          chartStatusListener = _ref.chartStatusListener,\n          chartType = _ref.chartType,\n          clearChart = _ref.clearChart,\n          endEpoch = _ref.endEpoch,\n          id = _ref.id,\n          importedLayout = _ref.importedLayout,\n          _ref$isAnimationEnabl = _ref.isAnimationEnabled,\n          isAnimationEnabled = _ref$isAnimationEnabl === void 0 ? true : _ref$isAnimationEnabl,\n          isConnectionOpened = _ref.isConnectionOpened,\n          isStaticChart = _ref.isStaticChart,\n          granularity = _ref.granularity,\n          _ref$margin = _ref.margin,\n          margin = _ref$margin === void 0 ? 0 : _ref$margin,\n          onExportLayout = _ref.onExportLayout,\n          refreshActiveSymbols = _ref.refreshActiveSymbols,\n          removeAllComparisons = _ref.removeAllComparisons,\n          scrollToEpoch = _ref.scrollToEpoch,\n          _ref$scrollToEpochOff = _ref.scrollToEpochOffset,\n          scrollToEpochOffset = _ref$scrollToEpochOff === void 0 ? 0 : _ref$scrollToEpochOff,\n          settings = _ref.settings,\n          _ref$shouldFetchTradi = _ref.shouldFetchTradingTimes,\n          shouldFetchTradingTimes = _ref$shouldFetchTradi === void 0 ? true : _ref$shouldFetchTradi,\n          _ref$showLastDigitSta = _ref.showLastDigitStats,\n          showLastDigitStats = _ref$showLastDigitSta === void 0 ? false : _ref$showLastDigitSta,\n          startEpoch = _ref.startEpoch,\n          symbol = _ref.symbol,\n          zoom = _ref.zoom;\n      var isSymbolChanged = false;\n      var isGranularityChanged = false;\n      this.chartId = id;\n      this.chartStatusListener = chartStatusListener;\n      this.isAnimationEnabled = isAnimationEnabled;\n      this.isConnectionOpened = isConnectionOpened;\n      this.isStaticChart = isStaticChart;\n      this.margin = margin;\n      this.scrollToEpochOffset = scrollToEpochOffset;\n      this.settings = settings;\n      this.shouldFetchTradingTimes = shouldFetchTradingTimes;\n      this.showLastDigitStats = showLastDigitStats;\n\n      if (chartControlsWidgets !== this.chartControlsWidgets) {\n        this.chartControlsWidgets = chartControlsWidgets;\n        if (this.stxx) this.mainStore.chart.updateHeight();\n      }\n\n      if (symbol !== this.symbol) {\n        this.symbol = symbol;\n        isSymbolChanged = true;\n\n        if (this.mainStore.chart && this.mainStore.chart.feed) {\n          this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft);\n        }\n      }\n\n      if (onExportLayout !== this.onExportLayout) {\n        this.onExportLayout = onExportLayout;\n        this.exportLayout();\n      }\n\n      if (chartType !== this.chartType && this.context) {\n        this.setChartType(chartType);\n      }\n\n      if (granularity !== undefined && granularity !== this.granularity) {\n        this.setChartGranularity(granularity);\n        isGranularityChanged = true;\n\n        if (this.mainStore.chart && this.mainStore.chart.feed && !isSymbolChanged) {\n          this.mainStore.chart.feed.onMasterDataReinitialize(this.scrollChartToLeft);\n        }\n      }\n\n      if (this.chartStore.activeSymbols && refreshActiveSymbols !== this.refreshActiveSymbols) {\n        this.refreshActiveSymbols = refreshActiveSymbols;\n        this.chartStore.activeSymbols.retrieveActiveSymbols(this.refreshActiveSymbols);\n      }\n\n      if (clearChart !== this.clearChart) {\n        this.clearChart = clearChart;\n        this.cleanChart();\n      }\n\n      if (importedLayout && JSON.stringify(importedLayout) !== JSON.stringify(this.importedLayout)) {\n        this.importedLayout = importedLayout;\n        this.importLayout();\n      }\n\n      if (!isStaticChart && scrollToEpoch !== this.scrollToEpoch) {\n        this.scrollToEpoch = scrollToEpoch;\n\n        if (this.mainStore.chart && this.mainStore.chart.feed && !isSymbolChanged && !isGranularityChanged) {\n          this.mainStore.chart.feed.onMasterDataUpdate(this.scrollChartToLeft);\n        }\n      } // This if statement should be always after setting `this.scrollToEpoch` value\n\n\n      if (this.startEpoch !== startEpoch || this.endEpoch !== endEpoch) {\n        this.startEpoch = startEpoch;\n        this.endEpoch = endEpoch;\n\n        if (isStaticChart && this.stxx && this.granularity === this.mainStore.chart.granularity) {\n          // Reload the chart if it is a static chart and the granularity hasn't changed\n          this.mainStore.chart.newChart();\n        } else if (this.mainStore.chart.feed) {\n          /* When layout is importing and range is changing as the same time we dont need to set the range,\n             the imported layout witll take care of it. */\n          if (!this.importedLayout && !this.scrollToEpoch) {\n            this.mainStore.chart.feed.onRangeChanged(true);\n          }\n        }\n      }\n\n      if (removeAllComparisons) {\n        this.comparisonStore.removeAll();\n      }\n\n      if (zoom !== this.zoom) {\n        this.zoom = +zoom;\n\n        if (this.context && this.stxx && this.zoom) {\n          if (this.zoom >= 0) {// this.stxx.zoomIn(null, (Math.abs(100 - this.zoom) || 0.01) / 100);\n          } else {// this.stxx.zoomOut(null, (100 + Math.abs(this.zoom)) / 100);\n            }\n        }\n      }\n\n      if (this.stxx) {\n        this.stxx.chart.panel.yAxis.drawCurrentPriceLabel = !this.endEpoch;\n        this.stxx.preferences.currentPriceLine = !this.endEpoch;\n        this.stxx.isAutoScale = this.settings && this.settings.isAutoScale !== false;\n        this.stxx.draw();\n      }\n    }\n  }, {\n    key: \"hasReachedEndOfData\",\n    value: function hasReachedEndOfData(_hasReachedEndOfData) {\n      this.hasReachedEndOfData = _hasReachedEndOfData;\n    }\n  }, {\n    key: \"setChartClosed\",\n    value: function setChartClosed(isClosed) {\n      this.isChartClosed = isClosed;\n    }\n  }, {\n    key: \"setChartTheme\",\n    value: function setChartTheme(theme) {\n      var isChartClosed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.isChartClosed;\n      this.stxx.clearStyles();\n      this.stxx.setStyle('stx_grid', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartgrid\")]);\n      if (!this.rootNode) return;\n      this.rootNode.querySelector('.chartContainer').style.backgroundColor = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartbg\")];\n\n      if (isChartClosed) {\n        var closedChartColor = 'rgba(129, 133, 152, 0.35)';\n        this.stxx.setStyle('stx_mountain_chart', 'borderTopColor', closedChartColor);\n        this.stxx.setStyle('stx_mountain_chart', 'background-color', 'transparent');\n        this.stxx.setStyle('stx_mountain_chart', 'color', 'transparent'); // line chart\n\n        this.stxx.setStyle('stx_line_chart', 'color', closedChartColor);\n        this.stxx.setStyle('stx_line_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_line_down', 'color', closedChartColor);\n        this.stxx.setStyle('stx_line_even', 'color', closedChartColor); // bar chart\n\n        this.stxx.setStyle('stx_bar_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_bar_down', 'color', closedChartColor);\n        this.stxx.setStyle('stx_bar_even', 'color', closedChartColor); // candle chart\n\n        this.stxx.setStyle('stx_candle_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]);\n        this.stxx.setStyle('stx_candle_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]);\n        this.stxx.setStyle('stx_candle_even', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]); // candle wick\n\n        this.stxx.setStyle('stx_candle_shadow_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_candle_shadow_down', 'color', closedChartColor);\n        this.stxx.setStyle('stx_candle_shadow_even', 'color', closedChartColor); // hollow candle\n\n        this.stxx.setStyle('stx_hollow_candle_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]);\n        this.stxx.setStyle('stx_hollow_candle_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]);\n        this.stxx.setStyle('stx_hollow_candle_even', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartclosedcandle\")]); // baseline chart\n\n        this.stxx.setStyle('stx_baseline_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_baseline_down', 'color', closedChartColor);\n        this.stxx.setStyle('stx_baseline_even', 'color', closedChartColor); // kagi\n\n        this.stxx.setStyle('stx_kagi_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_kagi_down', 'color', closedChartColor); // this.stxx.setStyle('stx_kagi_even', 'color', closedChartColor);\n        // pandf\n\n        this.stxx.setStyle('stx_pandf_up', 'color', closedChartColor);\n        this.stxx.setStyle('stx_pandf_down', 'color', closedChartColor); // current price text color\n\n        this.stxx.setStyle('stx_current_hr_down', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"candletextclosed\")]);\n        this.stxx.setStyle('stx_current_hr_up', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"candletextclosed\")]); // current price bg color\n\n        this.stxx.setStyle('stx_current_hr_down', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"candlebgclosed\")]);\n        this.stxx.setStyle('stx_current_hr_up', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"candlebgclosed\")]);\n      } else {\n        this.stxx.setStyle('stx_mountain_chart', 'borderTopColor', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartmountainborder\")]);\n        this.stxx.setStyle('stx_line_chart', 'color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"chartmountainborder\")]);\n      }\n\n      this.stxx.draw();\n    }\n  }, {\n    key: \"setChartIsReady\",\n    value: function setChartIsReady(isChartReady) {\n      if (this.isChartReady !== isChartReady) {\n        this.isChartReady = isChartReady;\n\n        if (this.chartStatusListener && typeof this.chartStatusListener === 'function') {\n          this.chartStatusListener(isChartReady);\n        }\n      }\n    }\n  }, {\n    key: \"setChartGranularity\",\n    value: function setChartGranularity(granularity) {\n      var isTimeUnitSecond = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateTimeUnitInterval\"])(granularity).timeUnit === 'second';\n      var isChartTypeCandle = this.mainStore.chartType.isCandle || this.chartType && this.mainStore.chartType.isTypeCandle(this.chartType);\n\n      if (this.context && isTimeUnitSecond && isChartTypeCandle) {\n        this.setChartType('mountain'); // if granularity is zero, set the chartType to 'mountain'\n      }\n\n      this.granularity = granularity === null ? undefined : granularity;\n    }\n  }, {\n    key: \"setChartType\",\n    value: function setChartType(chartType) {\n      this.chartType = chartType;\n\n      if (this.chartTypeStore.onChartTypeChanged) {\n        this.chartTypeStore.onChartTypeChanged(chartType);\n      }\n    }\n  }, {\n    key: \"setShouldMinimiseLastDigit\",\n    value: function setShouldMinimiseLastDigit(status) {\n      this.shouldMinimiseLastDigits = status;\n    }\n  }, {\n    key: \"saveLayout\",\n    value: function saveLayout() {\n      if (!this.chartId) return;\n      var layoutData = this.stxx.exportLayout(true);\n      var json = JSON.stringify(layoutData);\n      CIQ.localStorageSetItem(\"layout-\".concat(this.chartId), json);\n    } // returns false if restoring layout fails\n\n  }, {\n    key: \"restoreLayout\",\n    value: function restoreLayout() {\n      var _this2 = this;\n\n      var layoutData = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])(\"layout-\".concat(this.chartId));\n      if (!layoutData || !layoutData.symbols.length) return false; // prop values will always take precedence\n\n      if (this.symbol !== undefined && this.symbol !== layoutData.symbols[0].symbol) {\n        // symbol prop takes precedence over local storage data\n        var symbolObject = this.chartStore.activeSymbols.getSymbolObj(this.symbol);\n        layoutData.symbols = [{\n          symbol: this.symbol,\n          symbolObject: symbolObject\n        }];\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layoutData.symbols[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var symbolDat = _step.value;\n          // Symbol from cache may be in different language, so replace it with server's\n          var cachedSymbol = symbolDat.symbol;\n          var updatedSymbol = this.chartStore.activeSymbols.getSymbolObj(cachedSymbol);\n          symbolDat.symbolObject = updatedSymbol;\n\n          if (symbolDat.parameters) {\n            symbolDat.parameters.display = updatedSymbol.name; // These gap settings are default when new comparisons are added,\n            // but for backward support we need to set them here.\n\n            symbolDat.parameters.fillGaps = true;\n            symbolDat.parameters.gapDisplayStyle = true;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (this.granularity !== undefined) {\n        var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateTimeUnitInterval\"])(this.granularity);\n        layoutData = _objectSpread({}, layoutData, periodicity);\n      } else {\n        // update this.granularity with chartLayout\n        var _layoutData = layoutData,\n            timeUnit = _layoutData.timeUnit,\n            interval = _layoutData.interval,\n            _periodicity = _layoutData.periodicity;\n        var period = timeUnit ? interval : _periodicity;\n        this.chartStore.granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateGranularity\"])(period, timeUnit || interval);\n      }\n\n      if (this.startEpoch || this.endEpoch) {\n        // already set in chart params\n        delete layoutData.span;\n        delete layoutData.range;\n      }\n\n      if (this.chartType !== undefined) {\n        layoutData.chartType = this.chartType;\n      }\n\n      this.stxx.importLayout(layoutData, {\n        managePeriodicity: true,\n        cb: function cb() {\n          if (layoutData.tension) {\n            _this2.stxx.chart.tension = layoutData.tension;\n          }\n\n          _this2.restoreDrawings(_this2.stxx, _this2.stxx.chart.symbol);\n\n          if (_this2.chartStore.loader) {\n            _this2.chartStore.loader.hide();\n\n            _this2.setChartIsReady(true);\n\n            _this2.stxx.home();\n          }\n\n          _this2.chartStore.setMainSeriesDisplay(_this2.stxx.chart.symbolObject.name);\n        }\n      });\n      this.chartStore.updateCurrentActiveSymbol();\n      return true;\n    }\n  }, {\n    key: \"saveDrawings\",\n    value: function saveDrawings() {\n      if (!this.chartId) return;\n      var obj = this.stxx.exportDrawings();\n      var symbol = this.stxx.chart.symbol;\n\n      if (obj.length === 0) {\n        CIQ.localStorage.removeItem(\"\".concat(symbol, \"-\").concat(this.chartId));\n      } else {\n        CIQ.localStorageSetItem(\"\".concat(symbol, \"-\").concat(this.chartId), JSON.stringify(obj));\n      }\n    }\n  }, {\n    key: \"restoreDrawings\",\n    value: function restoreDrawings() {\n      var drawings = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])(\"\".concat(this.stxx.chart.symbol, \"-\").concat(this.chartId));\n\n      if (drawings) {\n        this.stxx.importDrawings(drawings);\n        this.stxx.draw();\n      }\n    }\n  }, {\n    key: \"cleanChart\",\n    value: function cleanChart() {\n      if (!this.clearChart) return; // Remove comparsions\n\n      for (var field in this.stxx.chart.series) {\n        this.stxx.removeSeries(field);\n      } // Remove indiactors\n\n\n      for (var id in this.stxx.layout.studies) {\n        var sd = this.stxx.layout.studies[id];\n        CIQ.Studies.removeStudy(this.stxx, sd);\n      }\n\n      this.stxx.clearDrawings(); // TODO: use constant\n\n      this.mainStore.crosshair.setCrosshairState(2);\n    }\n  }, {\n    key: \"importLayout\",\n    value: function importLayout() {\n      var _this3 = this;\n\n      if (!this.stxx || !this.importedLayout || !Object.keys(this.importedLayout).length) return;\n      this.loader.show();\n      this.loader.setState('chart-data');\n      /* Clear current chart interval to make sure importedlayout works as expected\n      if it has same interval with previous state of chart but there is no stream for it */\n\n      if (Object.keys(this.mainStore.chart.feed._activeStreams).length === 0) {\n        this.stxx.layout.interval = undefined;\n      } // Clear start and end epoch before importing that layout\n\n\n      this.startEpoch = this.endEpoch = null;\n      this.stxx.importLayout(this.importedLayout, {\n        managePeriodicity: true,\n        preserveTicksAndCandleWidth: true,\n        cb: function cb() {\n          if (_this3.importedLayout && _this3.importedLayout.series) {\n            _this3.importedLayout.series.forEach(function (symbol) {\n              var symbolObject = _this3.chartStore.activeSymbols.getSymbolObj(symbol);\n\n              _this3.mainStore.comparison.onSelectItem(symbolObject);\n            });\n          }\n\n          var _this3$importedLayout = _this3.importedLayout,\n              timeUnit = _this3$importedLayout.timeUnit,\n              interval = _this3$importedLayout.interval,\n              periodicity = _this3$importedLayout.periodicity;\n          var period = timeUnit ? interval : periodicity;\n          var granularity = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"calculateGranularity\"])(period, timeUnit || interval);\n          _this3.chartStore.granularity = granularity;\n\n          if (_this3.timeperiodStore.onGranularityChange) {\n            _this3.timeperiodStore.onGranularityChange(granularity);\n          }\n\n          if (_this3.chartTypeStore.onChartTypeChanged) {\n            var chartType = _this3.chartTypeStore.getChartTypeFromLayout(_this3.importedLayout);\n\n            _this3.chartTypeStore.setChartTypeFromLayout(_this3.importedLayout);\n\n            _this3.chartTypeStore.onChartTypeChanged(chartType);\n          }\n\n          _this3.stxx.changeOccurred('layout');\n\n          _this3.mainStore.studies.updateActiveStudies();\n\n          setTimeout(function () {\n            if (_this3.importedLayout && _this3.importedLayout.drawings) {\n              _this3.stxx.importDrawings(_this3.importedLayout.drawings);\n\n              _this3.stxx.draw();\n            }\n\n            if (_this3.importedLayout && _this3.importedLayout.isDone) {\n              if (_this3.importedLayout.previousMaxTicks) {\n                _this3.stxx.setMaxTicks(_this3.importedLayout.previousMaxTicks);\n\n                _this3.stxx.home();\n\n                delete _this3.importLayout.previousMaxTicks;\n              } // Run the callback when layout import is done\n\n\n              _this3.importedLayout.isDone();\n\n              _this3.loader.hide();\n            }\n          }, 500);\n        }\n      });\n      this.mainStore.crosshair.setCrosshairState(this.importedLayout.crosshair);\n      this.stxx.chart.lockAutoScroll = false;\n      this.stxx.chart.entryTick = undefined;\n      this.stxx.maxMasterDataSize = 5000;\n    }\n  }, {\n    key: \"exportLayout\",\n    value: function exportLayout() {\n      if (!this.onExportLayout || !this.stxx) return;\n      var currentLayout = this.stxx.exportLayout();\n      currentLayout.drawings = this.stxx.exportDrawings();\n      currentLayout.series = [];\n\n      for (var field in this.stxx.chart.series) {\n        currentLayout.series.push(field);\n      }\n\n      currentLayout.previousMaxTicks = this.stxx.chart.maxTicks;\n      this.onExportLayout(currentLayout);\n    }\n  }, {\n    key: \"scrollListener\",\n    value: function scrollListener(_ref2) {\n      var grab = _ref2.grab;\n\n      if (grab && this.stxx.chart.lockAutoScroll) {\n        this.stxx.chart.lockAutoScroll = false;\n      }\n\n      if (this.stxx && this.stxx.chart) {\n        var dataSegment = this.stxx.chart.dataSegment;\n        var whiteSpace = this.chartStore.isMobile ? 50 : 150;\n\n        if (this.stxx.masterData.length < this.stxx.chart.maxTicks - whiteSpace) {\n          this.stxx.minimumLeftBars = this.stxx.chart.maxTicks - whiteSpace;\n        } else if (dataSegment) {\n          var hasReachedRight = this.stxx.chart.scroll <= this.stxx.chart.maxTicks - 1;\n          var noMoreScroll = this.hasReachedEndOfData || this.stxx.masterData.length === this.stxx.maxMasterDataSize;\n          this.stxx.minimumLeftBars = noMoreScroll && !hasReachedRight ? this.stxx.chart.maxTicks : 2;\n        }\n      }\n    }\n  }]);\n\n  return ChartState;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"granularity\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chartType\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"startEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"startEpochMargin\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"endEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"endEpochMargin\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"symbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"isConnectionOpened\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"isChartReady\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"chartStatusListener\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"settings\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"showLastDigitStats\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"scrollToEpoch\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"onExportLayout\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"clearChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"importedLayout\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"isChartClosed\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"shouldMinimiseLastDigits\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"isStaticChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"shouldFetchTradingTimes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"refreshActiveSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"hasReachedEndOfData\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"onContextReady\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function () {\n      _this4.stxx.addEventListener('layout', _this4.saveLayout.bind(_this4));\n\n      _this4.stxx.addEventListener('symbolChange', _this4.saveLayout.bind(_this4));\n\n      _this4.stxx.addEventListener('drawing', _this4.saveDrawings.bind(_this4));\n\n      _this4.stxx.addEventListener('move', _this4.scrollListener.bind(_this4));\n\n      _this4.rootNode = _this4.mainStore.chart.rootNode;\n      _this4.granularity = _this4.chartStore.granularity;\n      _this4.stxx.maxMasterDataSize = _this4.chartStore.getMaxMasterDataSize(_this4.granularity);\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hasReachedEndOfData\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"hasReachedEndOfData\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartClosed\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartClosed\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartTheme\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartTheme\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartIsReady\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartIsReady\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartGranularity\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartGranularity\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartType\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartType\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setShouldMinimiseLastDigit\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"setShouldMinimiseLastDigit\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartState);\n\n/***/ }),\n\n/***/ \"./src/store/ChartStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ChartStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _binaryapi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../binaryapi */ \"./src/binaryapi/index.js\");\n/* harmony import */ var _chartiq_injections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chartiq_injections */ \"./src/chartiq_injections/index.js\");\n/* harmony import */ var _components_ui_Context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ui/Context */ \"./src/components/ui/Context.js\");\n/* harmony import */ var _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ui/KeystrokeHub */ \"./src/components/ui/KeystrokeHub.js\");\n/* harmony import */ var _components_ui_Animation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ui/Animation */ \"./src/components/ui/Animation.js\");\n/* harmony import */ var _feed__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../feed */ \"./src/feed/index.js\");\n/* harmony import */ var _SplinePlotter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../SplinePlotter */ \"./src/SplinePlotter.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/PendingPromise */ \"./src/utils/PendingPromise.js\");\n/* harmony import */ var _sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../sass/icons/chart/resize-icon.svg */ \"./sass/icons/chart/resize-icon.svg\");\n/* harmony import */ var _sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../sass/icons/edit/ic-edit.svg */ \"./sass/icons/edit/ic-edit.svg\");\n/* harmony import */ var _sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../sass/icons/delete/ic-delete.svg */ \"./sass/icons/delete/ic-delete.svg\");\n/* harmony import */ var _sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../sass/icons/chart/ic-down.svg */ \"./sass/icons/chart/ic-down.svg\");\n/* harmony import */ var _sass_icons_chart_jump_to_today_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../sass/icons/chart/jump-to-today.svg */ \"./sass/icons/chart/jump-to-today.svg\");\n/* harmony import */ var _sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../sass/icons/chart/ic-maximize.svg */ \"./sass/icons/chart/ic-maximize.svg\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _class2, _temp;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import '../utils/raf';\n\nfunction renderSVGString(icon) {\n  var vb = icon.viewBox.split(' ').slice(2); // eslint-disable-next-line no-undef\n\n  return \"<svg width=\\\"\".concat(vb[0], \"\\\" height=\\\"\").concat(vb[1], \"\\\"><use xlink:href=\\\"\").concat(__webpack_require__.p + icon.url, \"\\\" /></svg>\");\n}\n\nvar ChartStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction () {\n  function ChartStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartStore);\n\n    this.RANGE_PADDING_PX = 125;\n    this.contextPromise = new _utils_PendingPromise__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n    this.rootNode = null;\n    this.stxx = null;\n    this.api = null;\n    this.defaults = {\n      granularity: 0,\n      chartType: 'mountain'\n    };\n    this.granularity = void 0;\n    this.enableRouting = null;\n    this.chartNode = null;\n    this.chartControlsNode = null;\n    this.holderStyle = void 0;\n    this.state = void 0;\n    this.onMessage = null;\n\n    _initializerDefineProperty(this, \"containerWidth\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"context\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"currentActiveSymbol\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"isChartAvailable\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"chartHeight\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"chartContainerHeight\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"isMobile\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"cursorInChart\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"shouldRenderDialogs\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"yAxiswidth\", _descriptor10, this);\n\n    this.updateCanvas = function () {\n      if (!_this.stxx) {\n        return;\n      }\n\n      if (_this.stxx.slider) {\n        _this.stxx.slider.display(_this.stxx.layout.rangeSlider);\n      }\n\n      _this.stxx.resizeChart();\n    };\n\n    this.init = function (rootNode, modalNode, props) {\n      _this.loader.show();\n\n      _this.mainStore.state.setChartIsReady(false);\n\n      _this.loader.setState('chart-engine');\n\n      if (window.CIQ) {\n        _this._initChart(rootNode, modalNode, props);\n      } else {\n        __webpack_require__.e(/*! import() | chartiq */ \"chartiq\").then(__webpack_require__.t.bind(null, /*! chartiq */ \"./chartiq/chartiq.js\", 7)).then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (_ref) {\n          var CIQ = _ref.CIQ,\n              SplinePlotter = _ref.SplinePlotter;\n          CIQ.ChartEngine.htmlControls.baselineHandle = \"<div class=\\\"stx-baseline-handle\\\" style=\\\"display: none;\\\">\".concat(renderSVGString(_sass_icons_chart_resize_icon_svg__WEBPACK_IMPORTED_MODULE_10__[\"default\"]), \"</div>\");\n          CIQ.ChartEngine.htmlControls.iconsTemplate = \"<div class=\\\"stx-panel-control\\\"><div class=\\\"stx-panel-title\\\"></div><div class=\\\"stx-btn-panel\\\"><span class=\\\"stx-ico-up\\\">\".concat(renderSVGString(_sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"]), \"</span></div><div class=\\\"stx-btn-panel\\\"><span class=\\\"stx-ico-focus\\\">\").concat(renderSVGString(_sass_icons_chart_ic_maximize_svg__WEBPACK_IMPORTED_MODULE_15__[\"default\"]), \"</span></div><div class=\\\"stx-btn-panel\\\"><span class=\\\"stx-ico-down\\\">\").concat(renderSVGString(_sass_icons_chart_ic_down_svg__WEBPACK_IMPORTED_MODULE_13__[\"default\"]), \"</span></div><div class=\\\"stx-btn-panel\\\"><span class=\\\"stx-ico-edit\\\">\").concat(renderSVGString(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"]), \"</span></div><div class=\\\"stx-btn-panel\\\"><span class=\\\"stx-ico-close\\\">\").concat(renderSVGString(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"]), \"</span></div></div>\");\n          CIQ.ChartEngine.htmlControls.mSticky = \"<div class=\\\"stx_sticky\\\"> <span class=\\\"mStickyInterior\\\"></span> <span class=\\\"mStickyRightClick\\\"><span class=\\\"overlayEdit stx-btn\\\" style=\\\"display:none\\\"><span class=\\\"ic-edit\\\">\".concat(renderSVGString(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"]), \"</span><span class=\\\"ic-delete\\\">\").concat(renderSVGString(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"]), \"</span></span> <span class=\\\"overlayTrashCan stx-btn\\\" style=\\\"display:none\\\"><span class=\\\"ic-edit\\\">\").concat(renderSVGString(_sass_icons_edit_ic_edit_svg__WEBPACK_IMPORTED_MODULE_11__[\"default\"]), \"</span><span class=\\\"ic-delete\\\">\").concat(renderSVGString(_sass_icons_delete_ic_delete_svg__WEBPACK_IMPORTED_MODULE_12__[\"default\"]), \"</span></span> <span class=\\\"mouseDeleteInstructions\\\"><span>(</span><span class=\\\"mouseDeleteText\\\">right-click to delete</span><span class=\\\"mouseManageText\\\">right-click to manage</span><span>)</span></span></span></div>\");\n          CIQ.ChartEngine.htmlControls.home = \"<div class=\\\"stx_jump_today\\\" style=\\\"display:none\\\">\".concat(renderSVGString(_sass_icons_chart_jump_to_today_svg__WEBPACK_IMPORTED_MODULE_14__[\"default\"]), \"</div>\");\n          window.CIQ = CIQ;\n          SplinePlotter.plotSpline = _SplinePlotter__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n\n          _this._initChart(rootNode, modalNode, props);\n        }));\n      }\n    };\n\n    this.onMarketOpenClosedChange = function (changes) {\n      var symbolObjects = _this.stxx.getSymbols().map(function (item) {\n        return item.symbolObject;\n      });\n\n      var shouldRefreshChart = false;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = symbolObjects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _step.value,\n              symbol = _step$value.symbol,\n              name = _step$value.name;\n\n          if (symbol in changes) {\n            if (changes[symbol]) {\n              shouldRefreshChart = true;\n\n              _this.mainStore.state.setChartTheme(_this.mainStore.chartSetting.theme, false);\n\n              _this.mainStore.state.setChartClosed(false);\n\n              _this.mainStore.notifier.notifyMarketOpen(name);\n            } else {\n              _this.mainStore.state.setChartTheme(_this.mainStore.chartSetting.theme, true);\n\n              _this.mainStore.state.setChartClosed(true);\n\n              _this.mainStore.notifier.notifyMarketClose(name);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (shouldRefreshChart) {\n        // refresh to stream opened market\n        _this.refreshChart();\n      }\n    };\n\n    _initializerDefineProperty(this, \"calculateYaxisWidth\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"updateYaxisWidth\", _descriptor12, this);\n\n    this.mainStore = mainStore;\n  }\n\n  _createClass(ChartStore, [{\n    key: \"updateHeight\",\n    value: function updateHeight(position) {\n      var historicalMobile = this.mainStore.chartSetting.historical && this.isMobile;\n      var panelPosition = position || this.mainStore.chartSetting.position; // TODO use constant here for chartcontrol height\n\n      var offsetHeight = panelPosition === 'bottom' && this.stateStore.chartControlsWidgets ? 40 : 0;\n      this.chartHeight = this.chartNode.offsetHeight;\n      this.chartContainerHeight = this.chartHeight - offsetHeight - (historicalMobile ? 45 : 0);\n    }\n  }, {\n    key: \"resizeScreen\",\n    value: function resizeScreen() {\n      if (!this.context) {\n        return;\n      }\n\n      if (this.modalNode.clientWidth >= 1280) {\n        this.containerWidth = 1280;\n      } else if (this.modalNode.clientWidth >= 900) {\n        this.containerWidth = 900;\n      } else {\n        this.containerWidth = 480;\n      }\n\n      this.updateHeight();\n      this.updateCanvas(); // Height updates are not immediate, so we must resize the canvas with\n      // a slight delay for it to pick up the correct chartContainer height.\n      // In mobile devices, a longer delay is given as DOM updates are slower.\n\n      setTimeout(this.updateCanvas, this.isMobile ? 500 : 100);\n    }\n  }, {\n    key: \"_initChart\",\n    value: function _initChart(rootNode, modalNode, props) {\n      var _this2 = this;\n\n      var _self = this; // Add custom injections to the CIQ\n\n\n      Object(_chartiq_injections__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n      /**\n       * only home button click part modified to avoid calling\n       * newChart() on home function while historical enable\n       */\n\n      CIQ.ChartEngine.prototype.registerHTMLElements = function () {\n        var c = this.chart.container;\n\n        for (var control in CIQ.ChartEngine.htmlControls) {\n          if (typeof this.chart[control] === 'undefined' && typeof this.controls[control] === 'undefined') {\n            if (!this.allowZoom && control === 'chartControls') continue;\n            var el = this.container.querySelector(\".\".concat(control), c);\n\n            if (el) {\n              this.chart[control] = el;\n              this.controls[control] = el;\n            } else {\n              var rawHTML = CIQ.ChartEngine.htmlControls[control];\n              if (!rawHTML) continue;\n              var div = document.createElement('DIV');\n              div.innerHTML = rawHTML;\n              el = div.firstChild;\n              c.appendChild(el);\n              this.chart[control] = el;\n              this.controls[control] = el;\n              CIQ.appendClassName(el, control);\n            }\n          }\n        }\n\n        var chartControls = this.controls.chartControls,\n            home = this.controls.home;\n\n        if (chartControls) {\n          var zoomIn = this.container.querySelector('.stx-zoom-in', chartControls);\n          var zoomOut = this.container.querySelector('.stx-zoom-out', chartControls);\n          CIQ.safeClickTouch(zoomIn, function (self) {\n            return function (e) {\n              self.zoomIn(e);\n              e.stopPropagation();\n            };\n          }(this));\n          CIQ.safeClickTouch(zoomOut, function (self) {\n            return function (e) {\n              self.zoomOut(e);\n              e.stopPropagation();\n            };\n          }(this));\n\n          if (!CIQ.touchDevice) {\n            this.makeModal(zoomIn);\n            this.makeModal(zoomOut);\n          }\n        }\n\n        if (home) {\n          CIQ.safeClickTouch(home, function (self) {\n            return function (e) {\n              e.stopPropagation();\n              self.home({\n                animate: true\n              });\n            };\n          }(this));\n\n          if (!CIQ.touchDevice) {\n            this.makeModal(home);\n          }\n        }\n      };\n\n      CIQ.ChartEngine.prototype.home = function (params) {\n        this.swipe.amplitude = 0;\n        var layout = this.layout;\n\n        if (_typeof(params) !== 'object') {\n          // backward compatibility\n          params = {\n            maintainWhitespace: params\n          };\n        }\n\n        function resetPanelZooms(stx) {\n          for (var p in stx.panels) {\n            var yAxes = stx.panels[p].yaxisLHS.concat(stx.panels[p].yaxisRHS);\n\n            for (var a = 0; a < yAxes.length; a++) {\n              stx.calculateYAxisMargins(yAxes[a]);\n            }\n          }\n        }\n\n        function scrollToCallback(self, chart, exactScroll) {\n          return function () {\n            resetPanelZooms(self);\n            chart.scroll = exactScroll;\n            self.draw();\n          };\n        }\n\n        if (typeof params.maintainWhitespace === 'undefined') params.maintainWhitespace = true; // maintain the whitespace unless set to false\n\n        this.cancelTouchSingleClick = true;\n\n        if (!this.chart.dataSet || !this.chart.dataSet.length) {\n          // to clear out anything that may have been on the screen. Otherwise we still show stale data.\n          this.draw();\n          return;\n        }\n\n        this.micropixels = 0;\n        var barsDisplayedOnScreen = Math.floor(this.chart.width / layout.candleWidth);\n\n        for (var chartName in this.charts) {\n          var chart = this.charts[chartName];\n          if (params.chart && params.chart !== chart) continue;\n          var whitespace = 0;\n          if (params.maintainWhitespace && this.preferences.whitespace >= 0) whitespace = this.preferences.whitespace;\n          if (params.whitespace || params.whitespace === 0) whitespace = params.whitespace;\n          var leftMargin = this.getLabelOffsetInPixels(chart, layout.chartType);\n          if (leftMargin > whitespace) whitespace = leftMargin;\n          var exactScroll = Math.min(barsDisplayedOnScreen, chart.dataSet.length); // the scroll must be the number of bars you want to see.\n\n          if (this.chart.allowScrollPast) exactScroll = barsDisplayedOnScreen; // If whitespace allowed on left of screen\n\n          this.micropixels = this.chart.width - exactScroll * layout.candleWidth - whitespace;\n          this.preferences.whitespace = whitespace;\n\n          while (this.micropixels > layout.candleWidth) {\n            // If micropixels is larger than a candle then scroll back further\n            exactScroll++;\n            this.micropixels -= layout.candleWidth;\n          }\n\n          while (this.micropixels < 0) {\n            exactScroll--;\n            this.micropixels += layout.candleWidth;\n          }\n\n          this.micropixels -= layout.candleWidth;\n          exactScroll++;\n          if ((!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) && !this.standaloneBars[layout.chartType]) this.micropixels += layout.candleWidth / 2; // bar charts display at beginning of candle\n\n          if (this.isHistoricalMode() && _self.isMobile) {\n            exactScroll = parseInt(exactScroll * 0.8, 10); // eslint-disable-line\n          } else if (this.isHistoricalMode()) {\n            exactScroll = parseInt(exactScroll * 0.9, 10); // eslint-disable-line\n          }\n\n          if (params.animate) {\n            var self = this;\n            this.scrollTo(chart, exactScroll, scrollToCallback(self, chart, exactScroll));\n          } else {\n            chart.scroll = exactScroll;\n            resetPanelZooms(this);\n          }\n        }\n\n        this.draw();\n      };\n\n      CIQ.ChartEngine.prototype.isHistoricalMode = function () {\n        return !!_self.stateStore.endEpoch;\n      };\n\n      this.rootNode = rootNode;\n      this.modalNode = modalNode;\n      this.chartNode = this.rootNode.querySelector('.ciq-chart-area');\n      this.chartControlsNode = this.rootNode.querySelector('.cq-chart-controls');\n\n      CIQ.Plotter.prototype.getYAxisWidth = function () {\n        return _this2.yAxiswidth;\n      }; // monkey patching to handle radius and height for `current price label`\n\n\n      CIQ.ChartEngine.prototype.createYAxisLabel = function (panel, txt, y, backgroundColor, color, ctx, yAxis) {\n        if (panel.yAxis.drawPriceLabels === false || panel.yAxis.noDraw) return;\n        var yax = yAxis || panel.yAxis;\n        if (yax.noDraw || !yax.width) return;\n        var context = ctx || this.chart.context; // SmartChart Team: this prop modified\n\n        var margin = 9;\n        var height = 24;\n        var radius = 0;\n        this.canvasFont('stx_price_label', context);\n        var tickWidth = this.drawBorders ? 3 : 0; // pixel width of tick off edge of border\n\n        var textWidth = context.measureText(txt).width;\n        var width;\n\n        try {\n          if (textWidth + margin > yax.width) {\n            width = textWidth + tickWidth + margin * 2;\n          } else {\n            width = yax.width + margin;\n          }\n        } catch (e) {\n          width = yax.width;\n        } // Firefox doesn't like this in hidden iframe\n        // some y-axis label has style of `roundRectArrow` and some has `rect`, we reduce\n        // 14px which is about the `roundRectArrow` style arrow to make the label all fit\n\n\n        width -= 14;\n\n        if (this.chart.yAxis.width < width) {\n          this.chart.yAxis.width = width;\n          this.calculateYAxisPositions();\n        } else {\n          width = this.chart.yAxis.width;\n        }\n\n        var x = this.width - this.chart.yAxis.width;\n        var left = (width - textWidth) / 2;\n        if (yax.width < 0) x += yax.width - width;\n        var position = yax.position === null ? panel.chart.yAxis.position : yax.position;\n\n        if (position === 'left') {\n          width *= -1;\n          if (yax.width < 0) x -= yax.width + width;\n          radius = -3;\n          context.textAlign = 'right';\n        }\n\n        if (y + height / 2 > yax.bottom) y = yax.bottom - height / 2;\n        if (y - height / 2 < yax.top) y = yax.top + height / 2;\n\n        if (typeof CIQ[this.yaxisLabelStyle] === 'undefined') {\n          this.yaxisLabelStyle = 'roundRectArrow'; // in case of user error, set a default.\n        }\n\n        var yaxisLabelStyle = this.yaxisLabelStyle;\n        if (yax.yaxisLabelStyle) yaxisLabelStyle = yax.yaxisLabelStyle; // as crosshair and countdown style is `rect`, so due to previous rule we should\n        // increase there x position to fit the y-axis\n\n        if (this.labelType !== 'crosshair' && this.labelType !== 'countdown') {\n          x += 14;\n          left -= 8;\n        }\n\n        var params = {\n          ctx: context,\n          x: x,\n          y: y,\n          top: y - height / 2,\n          width: width,\n          height: height,\n          radius: radius,\n          backgroundColor: backgroundColor,\n          fill: true,\n          stroke: false,\n          margin: {\n            left: left,\n            top: 1\n          },\n          txt: txt,\n          color: color\n        };\n        CIQ[yaxisLabelStyle](params);\n      };\n\n      var symbol = props.symbol,\n          chartType = props.chartType,\n          granularity = props.granularity,\n          requestAPI = props.requestAPI,\n          requestSubscribe = props.requestSubscribe,\n          requestForget = props.requestForget,\n          requestForgetStream = props.requestForgetStream,\n          isMobile = props.isMobile,\n          enableRouting = props.enableRouting,\n          onMessage = props.onMessage,\n          settings = props.settings,\n          onSettingsChange = props.onSettingsChange;\n      this.api = new _binaryapi__WEBPACK_IMPORTED_MODULE_1__[\"BinaryAPI\"](requestAPI, requestSubscribe, requestForget, requestForgetStream); // trading times and active symbols can be reused across multiple charts\n\n      this.tradingTimes = ChartStore.tradingTimes || (ChartStore.tradingTimes = new _binaryapi__WEBPACK_IMPORTED_MODULE_1__[\"TradingTimes\"](this.api, this.mainStore.state.shouldFetchTradingTimes));\n      this.activeSymbols = ChartStore.activeSymbols || (ChartStore.activeSymbols = new _binaryapi__WEBPACK_IMPORTED_MODULE_1__[\"ActiveSymbols\"](this.api, this.tradingTimes));\n      var chartSetting = this.mainStore.chartSetting;\n      chartSetting.setSettings(settings);\n      chartSetting.onSettingsChange = onSettingsChange;\n      this.isMobile = isMobile;\n      this.state = this.mainStore.state;\n      this.mainStore.notifier.onMessage = onMessage;\n      this.granularity = granularity !== undefined ? granularity : this.defaults.granularity;\n      var engineParams = {\n        maxMasterDataSize: this.getMaxMasterDataSize(this.granularity),\n        // cap size so tick_history requests do not become too large\n        markerDelay: null,\n        // disable 25ms delay for placement of markers\n        container: this.rootNode.querySelector('.chartContainer'),\n        controls: {\n          chartControls: null\n        },\n        // hide the default zoom buttons\n        preferences: {\n          currentPriceLine: true,\n          whitespace: isMobile ? 50 : 150\n        },\n        chart: {\n          yAxis: {\n            // Put some top margin so chart doesn't get blocked by chart title\n            initialMarginTop: 125,\n            initialMarginBottom: 100,\n            // position: 'left',\n            displayBorder: true,\n            justifyRight: false\n          },\n          xAxis: {\n            displayBorder: true\n          },\n          gaplines: true,\n          dynamicYAxis: true\n        },\n        minimumLeftBars: 2,\n        yTolerance: 999999 // disable vertical scrolling\n\n      };\n      var chartLayout = {\n        chartType: chartType || this.defaults.chartType\n      };\n\n      if (chartLayout.chartType === 'spline') {\n        // cause there's no such thing as spline chart in ChartIQ\n        chartLayout.chartType = 'mountain';\n        engineParams.chart.tension = chartLayout.tension = 0.5;\n      }\n\n      var rangeSpan = this.getRangeSpan();\n\n      if (rangeSpan) {\n        chartLayout = _objectSpread({}, chartLayout, rangeSpan);\n      }\n\n      engineParams.layout = chartLayout;\n      var stxx = this.stxx = new CIQ.ChartEngine(engineParams);\n      var tickAnimator = new CIQ.EaseMachine(Math.easeOutCubic, 500); // macos trackpad is so sensitive that it'll break our zoom animation.\n      // unfortunately there is no way to detect a trackpad from javascript,\n      // here we drop 'wheel' events shorter that 40ms\n      // TODO: email chartiq support to fix this.\n\n      var org_run = stxx.animations.zoom.run.bind(stxx.animations.zoom);\n      var wheelInMotion = false;\n\n      stxx.animations.zoom.run = function (fc, startValues, endValues) {\n        if (wheelInMotion) return;\n        wheelInMotion = true;\n        setTimeout(function () {\n          wheelInMotion = false;\n        }, 40);\n        return org_run(fc, startValues, endValues);\n      };\n\n      stxx.isAutoScale = settings && settings.isAutoScale !== false;\n      ChartStore.chartCount += 1;\n      var deleteElement = stxx.chart.panel.holder.parentElement.querySelector('.mouseDeleteText');\n      var manageElement = stxx.chart.panel.holder.parentElement.querySelector('.mouseManageText');\n      deleteElement.textContent = t.translate('right-click to delete');\n      manageElement.textContent = t.translate('right-click to manage');\n      if (this.state.isAnimationEnabled) Object(_components_ui_Animation__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(stxx, {\n        stayPut: true\n      }, tickAnimator);\n      stxx.chart.lockScroll = true; // connect chart to data\n\n      this.feed = new _feed__WEBPACK_IMPORTED_MODULE_6__[\"Feed\"](this.api, stxx, this.mainStore, this.tradingTimes);\n      stxx.attachQuoteFeed(this.feed, {\n        refreshInterval: null\n      });\n      this.enableRouting = enableRouting;\n\n      if (this.enableRouting) {\n        this.routingStore.handleRouting();\n      }\n\n      this.holderStyle = stxx.chart.panel.holder.style;\n      var context = new _components_ui_Context__WEBPACK_IMPORTED_MODULE_3__[\"default\"](stxx, this.rootNode); // only one instance of keystrokeHub should exist\n\n      if (ChartStore.keystrokeHub === undefined) {\n        ChartStore.keystrokeHub = new _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_4__[\"default\"](document.body, null, {\n          cb: _components_ui_KeystrokeHub__WEBPACK_IMPORTED_MODULE_4__[\"default\"].defaultHotKeys\n        });\n      } // TODO: excluded studies\n\n\n      var studiesStore = this.mainStore.studies;\n      stxx.callbacks.studyOverlayEdit = studiesStore.editStudy;\n      stxx.callbacks.studyPanelEdit = studiesStore.editStudy;\n      this.loader.setState('market-symbol');\n      this.activeSymbols.retrieveActiveSymbols().then(function () {\n        _this2.loader.setState('trading-time');\n\n        _this2.tradingTimes.initialize().then(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n          // In the odd event that chart is destroyed by the time\n          // the request finishes, just calmly return...\n          if (stxx.isDestroyed) {\n            return;\n          }\n\n          var isRestoreSuccess = _this2.state.restoreLayout();\n\n          if (!isRestoreSuccess) {\n            _this2.changeSymbol( // default to first available symbol\n            symbol || Object.keys(_this2.activeSymbols.symbolMap)[0], _this2.granularity);\n          }\n\n          _this2.context = context;\n\n          _this2.chartClosedOpenThemeChange(!_this2.currentActiveSymbol.exchange_is_open);\n\n          _this2.mainStore.chart.tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n            for (var sy in changes) {\n              if (_this2.currentActiveSymbol.symbol === sy) {\n                _this2.chartClosedOpenThemeChange(!changes[sy]);\n              }\n            }\n          }));\n\n          if (_this2.state.importedLayout) {\n            // Check if there is a layout set by importedLayout porp, import it here after chart is loaded\n            _this2.state.importLayout();\n          }\n\n          stxx.container.addEventListener('mouseenter', _this2.onMouseEnter);\n          stxx.container.addEventListener('mouseleave', _this2.onMouseLeave);\n\n          _this2.contextPromise.resolve(_this2.context);\n\n          _this2.resizeScreen();\n\n          Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n            return [_this2.state.symbol, _this2.state.granularity];\n          }, function () {\n            if (_this2.state.symbol !== undefined || _this2.state.granularity !== undefined && !_this2.state.importedLayout) {\n              _this2.changeSymbol(_this2.state.symbol, _this2.state.granularity);\n            }\n          });\n\n          _this2.tradingTimes.onMarketOpenCloseChanged(_this2.onMarketOpenClosedChange);\n\n          setTimeout(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function () {\n            // Defer the render of the dialogs and dropdowns; this enables\n            // considerable performance improvements for slower devices.\n            _this2.shouldRenderDialogs = true;\n          }), 500);\n        }));\n      });\n\n      if ('ResizeObserver' in window) {\n        this.resizeObserver = new ResizeObserver(this.resizeScreen);\n        this.resizeObserver.observe(modalNode);\n      } else {\n        __webpack_require__.e(/*! import() | resize-observer-polyfill */ \"vendors~resize-observer-polyfill\").then(__webpack_require__.bind(null, /*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\")).then(function (_ref2) {\n          var ResizeObserver = _ref2.default;\n          window.ResizeObserver = ResizeObserver;\n\n          if (stxx.isDestroyed || !modalNode) {\n            return;\n          }\n\n          _this2.resizeObserver = new ResizeObserver(_this2.resizeScreen);\n\n          _this2.resizeObserver.observe(modalNode);\n        });\n      }\n    }\n  }, {\n    key: \"getMaxMasterDataSize\",\n    value: function getMaxMasterDataSize(granularity) {\n      var maxMasterDataSize = 5000; // When granularity is 1 day\n\n      if (granularity === 86400) maxMasterDataSize = Math.floor(2.8 * 365); // When granularity is 8 hours\n      else if (granularity === 28800) maxMasterDataSize = Math.floor(2.8 * 365 * 3);\n      return maxMasterDataSize;\n    }\n  }, {\n    key: \"chartClosedOpenThemeChange\",\n    value: function chartClosedOpenThemeChange(isChartClosed) {\n      this.mainStore.state.setChartClosed(isChartClosed);\n      this.mainStore.state.setChartTheme(this.mainStore.chartSetting.theme, isChartClosed);\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      this.cursorInChart = true;\n      /*\n      * Disable key press events for chart until we can get it not to\n      * interfere with key presses outside the chart:\n      */\n      // ChartStore.keystrokeHub.setActiveContext(this.context);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.cursorInChart = false;\n      /*\n      * Disable key press events for chart until we can get it not to\n      * interfere with key presses outside the chart:\n      */\n      // ChartStore.keystrokeHub.setActiveContext(null);\n    }\n  }, {\n    key: \"updateCurrentActiveSymbol\",\n    value: function updateCurrentActiveSymbol() {\n      var symbolObject = this.stxx.chart.symbolObject;\n      this.currentActiveSymbol = symbolObject;\n      this.stxx.chart.yAxis.decimalPlaces = symbolObject.decimal_places;\n      this.setMainSeriesDisplay(symbolObject.name);\n    }\n  }, {\n    key: \"setChartAvailability\",\n    value: function setChartAvailability(status) {\n      this.isChartAvailable = status;\n    }\n  }, {\n    key: \"changeSymbol\",\n    value: function changeSymbol(symbolObj, granularity) {\n      if (typeof symbolObj === 'string') {\n        symbolObj = this.activeSymbols.getSymbolObj(symbolObj);\n      }\n\n      var isSymbolAvailable = symbolObj && this.currentActiveSymbol;\n\n      if (isSymbolAvailable && symbolObj.symbol === this.currentActiveSymbol.symbol && granularity !== undefined && granularity === this.granularity) {\n        return;\n      }\n\n      var params;\n\n      if (granularity !== undefined) {\n        this.granularity = granularity;\n        this.stxx.maxMasterDataSize = this.getMaxMasterDataSize(this.granularity);\n        params = {\n          periodicity: Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"calculateTimeUnitInterval\"])(granularity)\n        };\n      }\n\n      if (params === undefined && symbolObj) {\n        // Remove comparisons before symbol changes\n        for (var field in this.stxx.chart.series) {\n          this.stxx.removeSeries(field);\n        }\n      }\n\n      this.newChart(symbolObj, params);\n\n      if (symbolObj) {\n        this.updateCurrentActiveSymbol();\n      }\n    }\n  }, {\n    key: \"newChart\",\n    // Calling newChart with symbolObj as undefined refreshes the chart\n    value: function newChart() {\n      var _this3 = this;\n\n      var symbolObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentActiveSymbol;\n      var params = arguments.length > 1 ? arguments[1] : undefined;\n      if (!symbolObj) return;\n      this.stxx.chart.symbolDisplay = symbolObj.name;\n      this.loader.show();\n      this.mainStore.state.setChartIsReady(false);\n\n      var onChartLoad = function onChartLoad(err) {\n        _this3.setMainSeriesDisplay(symbolObj.name);\n\n        _this3.loader.hide();\n\n        _this3.mainStore.state.setChartIsReady(true);\n\n        if (err) {\n          /* TODO, symbol not found error */\n          return;\n        }\n\n        _this3.state.restoreDrawings();\n\n        _this3.mainStore.chart.feed.scaleChart();\n      };\n\n      this.yAxiswidth = 0;\n      var rangeSpan = this.getRangeSpan();\n      this.stxx.newChart(symbolObj, null, null, onChartLoad, _objectSpread({}, params, rangeSpan));\n      this.chartClosedOpenThemeChange(!symbolObj.exchange_is_open);\n    }\n  }, {\n    key: \"getRangeSpan\",\n    value: function getRangeSpan() {\n      var _this$state = this.state,\n          startEpoch = _this$state.startEpoch,\n          endEpoch = _this$state.endEpoch;\n      var range, span;\n      var paddingRatio = this.chartNode.clientWidth / this.RANGE_PADDING_PX;\n      var elapsedSeconds = (endEpoch || startEpoch) - (startEpoch || endEpoch);\n      var epochPadding = elapsedSeconds / paddingRatio | 0;\n\n      if (startEpoch || endEpoch) {\n        var dtLeft = startEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"getUTCDate\"])(startEpoch - epochPadding)) : undefined;\n        var dtRight = endEpoch ? CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"getUTCDate\"])(endEpoch + epochPadding)) : undefined;\n        var periodicity = Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"calculateTimeUnitInterval\"])(this.granularity);\n        range = {\n          dtLeft: dtLeft,\n          dtRight: dtRight,\n          periodicity: periodicity,\n          goIntoFuture: true,\n          goIntoPast: true\n        };\n\n        if (dtLeft) {\n          span = {\n            base: 'all',\n            periodicity: periodicity\n          };\n        }\n\n        return {\n          range: range,\n          span: span\n        };\n      }\n    }\n  }, {\n    key: \"setMainSeriesDisplay\",\n    value: function setMainSeriesDisplay(name) {\n      // Set display name of main series (to be shown in crosshair tooltip)\n      this.stxx.chart.seriesRenderers._main_series.seriesParams[0].display = name; // TODO, we use to use `field` field to recgnize main seris and show\n      // it's crosshair, as in ChartIQ 6.2.2 they are going to remove this field\n      // we should find another way of detecting main series price, till then\n      // we found this temporary solution.\n\n      this.stxx.chart.seriesRenderers._main_series.seriesParams[0].field = 'Close';\n    } // Makes requests to tick history API that will replace\n    // Existing chart tick/ohlc data\n\n  }, {\n    key: \"refreshChart\",\n    value: function refreshChart() {\n      this.newChart();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      ChartStore.chartCount -= 1;\n\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.tradingTimes && ChartStore.chartCount === 0) {\n        ChartStore.tradingTimes = null;\n        this.tradingTimes.destructor();\n      } // Destroying the chart does not unsubscribe the streams;\n      // we need to manually unsubscribe them.\n\n\n      if (this.feed) {\n        this.feed.unsubscribeAll();\n        this.feed = null;\n      }\n\n      if (ChartStore.keystrokeHub.context === this.context) {\n        ChartStore.keystrokeHub.setActiveContext(null);\n      }\n\n      if (this.stxx) {\n        this.stxx.container.removeEventListener('mouseenter', this.onMouseEnter);\n        this.stxx.container.removeEventListener('mouseleave', this.onMouseLeave);\n\n        this.stxx.updateChartData = function () {}; // prevent any data from entering the chart\n\n\n        this.stxx.isDestroyed = true;\n        this.stxx.destroy();\n        this.stxx = null;\n      }\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }, {\n    key: \"stateStore\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }, {\n    key: \"pip\",\n    get: function get() {\n      return this.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"categorizedSymbols\",\n    get: function get() {\n      var _this4 = this;\n\n      if (!this.activeSymbols || this.activeSymbols.categorizedSymbols.length === 0) return [];\n      var activeSymbols = this.activeSymbols.activeSymbols;\n      return Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"cloneCategories\"])(activeSymbols, function (item) {\n        var selected = item.dataObject.symbol === _this4.currentActiveSymbol.symbol;\n        return _objectSpread({}, item, {\n          selected: selected\n        });\n      });\n    }\n  }]);\n\n  return ChartStore;\n}(), _class2.keystrokeHub = void 0, _class2.chartCount = 0, _class2.tradingTimes = void 0, _class2.activeSymbols = void 0, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"containerWidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"context\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentActiveSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"isChartAvailable\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chartHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chartContainerHeight\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isMobile\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"cursorInChart\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"shouldRenderDialogs\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"yAxiswidth\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resizeScreen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"resizeScreen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_initChart\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_initChart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"categorizedSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"categorizedSymbols\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseEnter\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseLeave\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseLeave\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateCurrentActiveSymbol\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"updateCurrentActiveSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartAvailability\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartAvailability\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"changeSymbol\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"changeSymbol\"), _class.prototype), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"calculateYaxisWidth\", [_dec8], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this5 = this;\n\n    return function (price) {\n      if (!price) return;\n      var context = _this5.context.stx.chart.context;\n      var priceWidth = context.measureText(price.toFixed(_this5.pip)).width + 20;\n\n      if (priceWidth > _this5.yAxiswidth) {\n        _this5.yAxiswidth = priceWidth;\n        _this5.stxx.chart.yAxis.width = priceWidth;\n\n        _this5.stxx.calculateYAxisPositions();\n\n        _this5.stxx.draw();\n      }\n    };\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"updateYaxisWidth\", [_dec9], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this6 = this;\n\n    return function () {\n      if (_this6.stxx.masterData && _this6.stxx.masterData.length) {\n        var currentQuote = _this6.context.stx.currentQuote();\n\n        if (currentQuote && currentQuote.Close) {\n          _this6.calculateYaxisWidth(currentQuote.Close);\n        } else {\n          var lastDataWithClose = _this6.stxx.masterData.find(function (x) {\n            return x.Close;\n          });\n\n          if (lastDataWithClose) {\n            _this6.calculateYaxisWidth(lastDataWithClose.Close);\n          }\n        }\n      }\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"newChart\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"newChart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"refreshChart\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"refreshChart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destroy\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"destroy\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChartStore);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartTableStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/ChartTableStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartTableStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Dialog.jsx */ \"./src/components/Dialog.jsx\");\n/* harmony import */ var _DialogStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DialogStore */ \"./src/store/DialogStore.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\n\nvar ChartTableStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ChartTableStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartTableStore);\n\n    _initializerDefineProperty(this, \"tableData\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isTick\", _descriptor2, this);\n\n    this.mainStore = mainStore;\n    this.dialog = new _DialogStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore);\n    this.Dialog = this.dialog.connect(_components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.dialog.open;\n    }, this.loadTableData);\n  }\n\n  _createClass(ChartTableStore, [{\n    key: \"setOpen\",\n    value: function setOpen(value) {\n      return this.dialog.setOpen(value);\n    }\n  }, {\n    key: \"loadTableData\",\n    value: function loadTableData() {\n      var _this2 = this;\n\n      if (this.open) {\n        this.stx.masterData.forEach(function (row) {\n          return _this2.updateTableData(row);\n        });\n        this.mainStore.chart.feed.onMasterDataUpdate(this.updateTableData);\n      } else {\n        this.mainStore.chart.feed.offMasterDataUpdate(this.updateTableData);\n        this.tableData = [];\n      }\n    }\n  }, {\n    key: \"updateTableData\",\n    value: function updateTableData(_ref) {\n      var DT = _ref.DT,\n          Open = _ref.Open,\n          High = _ref.High,\n          Low = _ref.Low,\n          Close = _ref.Close;\n      this.isTick = this.mainStore.timeperiod.timeUnit === 'tick';\n      var year = DT.getFullYear();\n      var month = DT.getMonth() + 1;\n      var day = DT.getDate();\n      var hours = DT.getHours();\n      var minutes = DT.getMinutes();\n      var seconds = DT.getSeconds();\n      var date = \"\".concat(year, \"-\").concat(month > 9 ? month : \"0\".concat(month), \"-\").concat(day > 9 ? day : \"0\".concat(day));\n      var time = \"\".concat(hours > 9 ? hours : \"0\".concat(hours), \":\").concat(minutes > 9 ? minutes : \"0\".concat(minutes), \":\").concat(seconds > 9 ? seconds : \"0\".concat(seconds));\n      var dateTime = \"\".concat(date, \" \").concat(time);\n      var lastTick = this.tableData.length > 0 ? this.tableData[0] : {};\n      var change = Close - lastTick.Close || 0;\n      var status = '';\n      if (Math.sign(change) !== 0) status = Math.sign(change) === 1 ? 'up' : 'down';\n\n      if (this.isTick && Close) {\n        this.tableData.unshift({\n          Date: dateTime,\n          Close: Close,\n          Change: Math.abs(change).toFixed(this.decimalPlaces),\n          Status: status\n        });\n      } else if (!this.isTick && Open && High && Low && Close) {\n        if (lastTick.Date === dateTime) {\n          lastTick.Close = Close.toFixed(this.decimalPlaces);\n          lastTick.Change = Math.abs(Close - this.tableData[1].Close).toFixed(this.decimalPlaces);\n        } else {\n          this.tableData.unshift({\n            Date: dateTime,\n            Open: Open.toFixed(this.decimalPlaces),\n            High: High.toFixed(this.decimalPlaces),\n            Low: Low.toFixed(this.decimalPlaces),\n            Close: Close.toFixed(this.decimalPlaces),\n            Change: Math.abs(change).toFixed(this.decimalPlaces),\n            Status: status\n          });\n        }\n      }\n\n      this.tableData = this.tableData.slice(0); // force array update\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.dialog.open;\n    }\n  }, {\n    key: \"symbol\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol ? this.mainStore.chart.currentActiveSymbol : {};\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }]);\n\n  return ChartTableStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"open\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setOpen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setOpen\"), _class.prototype), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"tableData\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isTick\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"symbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"symbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"loadTableData\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"loadTableData\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateTableData\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateTableData\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ChartTitleStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/ChartTitleStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartTitleStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AnimatedPriceStore */ \"./src/store/AnimatedPriceStore.js\");\n/* harmony import */ var _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CategoricalDisplayStore */ \"./src/store/CategoricalDisplayStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\n/* harmony import */ var _components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/AnimatedPrice.jsx */ \"./src/components/AnimatedPrice.jsx\");\n/* harmony import */ var _components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SymbolSelectButton.jsx */ \"./src/components/SymbolSelectButton.jsx\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\n\n\n\nvar ChartTitleStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ChartTitleStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartTitleStore);\n\n    _initializerDefineProperty(this, \"todayChange\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"todayChangePercent\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"isVisible\", _descriptor3, this);\n\n    this.searchInputClassName = void 0;\n\n    this.onContextReady = function () {\n      _this.chart.feed.onMasterDataUpdate(_this.update);\n\n      _this.update();\n\n      _this.tradingTimes.onMarketOpenCloseChanged(Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"])(function (changes) {\n        for (var symbol in changes) {\n          if (_this.currentSymbol.symbol === symbol) {\n            _this.currentSymbol.exchange_is_open = changes[symbol];\n          }\n        }\n      }));\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'chart-title'\n    });\n    this.animatedPrice = new _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.categoricalDisplay = new _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      getCategoricalItems: function getCategoricalItems() {\n        return _this.mainStore.chart.categorizedSymbols;\n      },\n      getIsShown: function getIsShown() {\n        return _this.menu.open;\n      },\n      placeholderText: t.translate('Search...'),\n      favoritesId: 'chartTitle&Comparison',\n      mainStore: mainStore,\n      id: 'market_dropdown',\n      getCurrentActiveCategory: function getCurrentActiveCategory() {\n        return _this.mainStore.chart.currentActiveSymbol ? _this.mainStore.chart.currentActiveSymbol.market : 'favorite';\n      },\n      getCurrentActiveSubCategory: function getCurrentActiveSubCategory() {\n        return _this.mainStore.chart.currentActiveSymbol ? _this.mainStore.chart.currentActiveSymbol.symbol : '';\n      },\n      searchInputClassName: function searchInputClassName() {\n        return _this.searchInputClassName;\n      }\n    });\n    this.serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getInstance();\n    this.ChartTitleMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.MarketSelector = this.categoricalDisplay.connect(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_5__[\"CategoricalDisplay\"]);\n    var SpotPrice = this.animatedPrice.connect(_components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n    var PriceDisplay = Object(_Connect__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(function () {\n      return {\n        isVisible: _this.isVisible && _this.isShowChartPrice,\n        status: _this.animatedPrice.status,\n        todayChange: _this.todayChange,\n        todayChangePercent: _this.todayChangePercent,\n        SpotPrice: SpotPrice\n      };\n    })(_components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__[\"ChartPrice\"]);\n    this.SymbolSelectButton = Object(_Connect__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(function () {\n      return {\n        symbol: _this.currentSymbol,\n        ChartPrice: PriceDisplay,\n        isSymbolOpen: _this.isSymbolOpen,\n        symbolOpenTime: _this.symbolOpenTime\n      };\n    })(_components_SymbolSelectButton_jsx__WEBPACK_IMPORTED_MODULE_7__[\"SymbolSelectButton\"]);\n  }\n\n  _createClass(ChartTitleStore, [{\n    key: \"updateProps\",\n    value: function updateProps(searchInputClassName) {\n      this.searchInputClassName = searchInputClassName;\n    }\n  }, {\n    key: \"setSymbol\",\n    value: function setSymbol(symbolObj) {\n      if (this.mainStore.state.symbol !== undefined) {\n        console.error('Changing symbol does nothing because symbol prop is being set. Consider overriding the onChange prop in <ChartTitle />');\n        return;\n      }\n\n      this.chart.changeSymbol(symbolObj);\n    }\n  }, {\n    key: \"update\",\n    value: function update(quote) {\n      if (!this.currentSymbol) {\n        return;\n      }\n\n      this.isVisible = quote || !this.isShowChartPrice;\n\n      if (!this.isVisible) {\n        return;\n      }\n\n      var currentPrice = quote.Close;\n\n      if (currentPrice) {\n        currentPrice = currentPrice.toFixed(this.decimalPlaces);\n        var oldPrice = quote.prevClose || this.animatedPrice.price;\n        this.animatedPrice.setPrice(currentPrice, oldPrice);\n\n        if (oldPrice) {\n          this.todayChange = Math.abs(currentPrice - oldPrice).toFixed(this.decimalPlaces);\n          this.todayChangePercent = (this.todayChange / oldPrice * 100).toFixed(2);\n        }\n      }\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.mainStore.chart;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"currentSymbol\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol;\n    }\n  }, {\n    key: \"isSymbolOpen\",\n    get: function get() {\n      return this.currentSymbol.exchange_is_open;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"isShowChartPrice\",\n    get: function get() {\n      return this.mainStore.chart.isChartAvailable;\n    }\n  }, {\n    key: \"tradingTimes\",\n    get: function get() {\n      return this.mainStore.chart.tradingTimes;\n    }\n  }, {\n    key: \"symbolOpenTime\",\n    get: function get() {\n      var times = this.tradingTimes._tradingTimesMap && this.tradingTimes._tradingTimesMap.length ? this.tradingTimes._tradingTimesMap[this.currentSymbol.symbol].times : [];\n      var now = this.serverTime.getLocalDate().getTime();\n      var openTime = times ? times.find(function (time) {\n        return time.open.getTime() > now;\n      }) : null;\n\n      if (!(openTime instanceof Date)) {\n        openTime = null;\n      }\n\n      return {\n        openTime: openTime\n      };\n    }\n  }]);\n\n  return ChartTitleStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"todayChange\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"todayChangePercent\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"isVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"currentSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"currentSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isSymbolOpen\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isSymbolOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isShowChartPrice\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isShowChartPrice\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"tradingTimes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"tradingTimes\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"symbolOpenTime\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"symbolOpenTime\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setSymbol\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"update\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"update\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ChartTypeStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/ChartTypeStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChartTypeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _ListStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListStore */ \"./src/store/ListStore.js\");\n/* harmony import */ var _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Icons.jsx */ \"./src/components/Icons.jsx\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_List_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/List.jsx */ \"./src/components/List.jsx\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\n\n\n\nfunction getChartTypes() {\n  return [{\n    id: 'mountain',\n    text: t.translate('Line'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"LineIcon\"]\n  }, {\n    id: 'line',\n    text: t.translate('Dot'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"DotIcon\"]\n  }, {\n    id: 'colored_line',\n    text: t.translate('Colored Dot'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"LineDotIcon\"]\n  }, {\n    id: 'spline',\n    text: t.translate('Spline'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"SplineIcon\"]\n  }, {\n    id: 'baseline',\n    text: t.translate('Baseline'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"BaseLineIcon\"]\n  }, {\n    id: 'candle',\n    text: t.translate('Candle'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"CandleIcon\"]\n  }, {\n    id: 'colored_bar',\n    text: t.translate('OHLC'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"OHLCIcon\"]\n  }, {\n    id: 'hollow_candle',\n    text: t.translate('Hollow Candle'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"HollowCandleIcon\"]\n  }, {\n    id: 'heikinashi',\n    text: t.translate('Heikin Ashi'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"HeikinAshiIcon\"]\n  }, {\n    id: 'kagi',\n    text: t.translate('Kagi'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"KagiIcon\"],\n    settingsOnClick: true\n  }, {\n    id: 'linebreak',\n    text: t.translate('Line Break'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"LineBreakIcon\"],\n    settingsOnClick: true\n  }, {\n    id: 'renko',\n    text: t.translate('Renko'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"RenkoIcon\"],\n    settingsOnClick: true\n  }, {\n    id: 'rangebars',\n    text: t.translate('Range Bars'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"RangeBarsIcon\"],\n    settingsOnClick: true\n  }, {\n    id: 'pandf',\n    text: t.translate('Point & Figure'),\n    candleOnly: true,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"PointFigureIcon\"],\n    settingsOnClick: true\n  }, {\n    id: 'table',\n    text: t.translate('Table'),\n    candleOnly: false,\n    icon: _components_Icons_jsx__WEBPACK_IMPORTED_MODULE_3__[\"TableIcon\"]\n  }];\n}\n\nvar notCandles = getChartTypes().filter(function (t) {\n  return !t.candleOnly;\n}).map(function (t) {\n  return t.id;\n});\nvar aggregateCharts = getChartTypes().filter(function (t) {\n  return t.settingsOnClick;\n});\n\nfunction getAggregates() {\n  return {\n    heikinashi: true,\n    kagi: {\n      title: t.translate('Kagi'),\n      inputs: [{\n        id: 'kagi',\n        title: t.translate('Reversal Percentage'),\n        type: 'numericinput'\n      }]\n    },\n    renko: {\n      title: t.translate('Renko'),\n      inputs: [{\n        id: 'renko',\n        title: t.translate('Range'),\n        type: 'numericinput'\n      }]\n    },\n    linebreak: {\n      title: t.translate('Line Break'),\n      inputs: [{\n        id: 'priceLines',\n        title: t.translate('Price Lines'),\n        type: 'numericinput',\n        max: 10,\n        step: 1,\n        min: 1\n      }]\n    },\n    rangebars: {\n      title: t.translate('Range Bars'),\n      inputs: [{\n        id: 'range',\n        title: t.translate('Range'),\n        type: 'numericinput'\n      }]\n    },\n    pandf: {\n      title: t.translate('Point & Figure'),\n      inputs: [{\n        id: 'box',\n        title: t.translate('Box Size'),\n        type: 'numericinput'\n      }, {\n        id: 'reversal',\n        title: t.translate('Reversal'),\n        type: 'numericinput'\n      }]\n    }\n  };\n}\n\nvar ChartTypeStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ChartTypeStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ChartTypeStore);\n\n    _initializerDefineProperty(this, \"type\", _descriptor, this);\n\n    this.onChartTypeChanged = void 0;\n\n    this.onContextReady = function () {\n      _this.aggregates = getAggregates();\n      _this.chartTypes = getChartTypes();\n\n      _this.setChartTypeFromLayout(_this.stx.layout);\n\n      Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n        return _this.mainStore.state.chartType;\n      }, function () {\n        if (_this.mainStore.state.chartType !== undefined) {\n          _this.setType(_this.mainStore.state.chartType);\n        }\n      });\n    };\n\n    this.updateAggregate = function (items) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _step.value,\n              id = _step$value.id,\n              value = _step$value.value;\n          var tuple = CIQ.deriveFromObjectChain(_this.stx.layout, id);\n          tuple.obj[tuple.member] = value;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      _this.stx.changeOccurred('layout');\n\n      _this.stx.createDataSet();\n\n      _this.stx.draw();\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'chart-type'\n    });\n    this.list = new _ListStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      getContext: function getContext() {\n        return _this.context;\n      },\n      getItems: function getItems() {\n        return _this.types;\n      }\n    });\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      mainStore: mainStore,\n      onChanged: function onChanged(items) {\n        return _this.updateAggregate(items);\n      }\n    });\n    this.ChartTypeMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n    this.ChartTypeList = this.list.connect(_components_List_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.AggregateChartSettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n  }\n\n  _createClass(ChartTypeStore, [{\n    key: \"setTypeFromUI\",\n    value: function setTypeFromUI(type) {\n      if (this.chartTypeProp !== undefined) {\n        console.error('Changing chart type does nothing because chartType prop is being set. Consider overriding the onChange prop in <ChartTypes />');\n        return;\n      }\n\n      this.setType(type);\n    }\n  }, {\n    key: \"setType\",\n    value: function setType(type) {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_8__[\"LogActions\"].ChartType, type);\n\n      if (typeof type === 'string') {\n        type = this.types.find(function (t) {\n          return t.id === type;\n        });\n      }\n\n      if (type.id === this.type.id) {\n        return;\n      }\n\n      if (type.id === 'table') {\n        this.mainStore.chartTable.setOpen(true);\n        return;\n      }\n\n      if (type.id === 'spline') {\n        // Spline is just a line with tension\n        this.stx.chart.tension = this.stx.layout.tension = 0.5;\n        this.stx.setChartType('mountain');\n      } else {\n        this.stx.chart.tension = 0;\n        delete this.stx.layout.tension;\n\n        if (this.aggregates[type.id]) {\n          // Set baseline.userLevel to false so chart won't move up after AggregationType set.\n          this.stx.chart.baseline.userLevel = false;\n          this.stx.setAggregationType(type.id); // Reset baseline.userLevel to its default value\n\n          this.stx.chart.baseline.userLevel = null;\n        } else {\n          this.stx.setChartType(type.id);\n        }\n      }\n\n      this.type = type;\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(onChange) {\n      this.onChartTypeChanged = onChange;\n    }\n  }, {\n    key: \"showAggregateDialog\",\n    value: function showAggregateDialog(aggregateId) {\n      var _this2 = this;\n\n      if (aggregateId !== this.type.id) {\n        this.setType(aggregateId);\n      }\n\n      var aggregate = this.aggregates[aggregateId];\n      this.settingsDialog.title = aggregate.title;\n      var inputs = aggregate.inputs.map(function (_ref) {\n        var id = _ref.id,\n            agg = _objectWithoutProperties(_ref, [\"id\"]);\n\n        var name = id === 'box' || id === 'reversal' ? \"pandf.\".concat(id) : id;\n        var tuple = CIQ.deriveFromObjectChain(_this2.stx.layout, name);\n        var value = tuple.obj[tuple.member];\n        var defaultValue = _this2.stx.chart.defaultChartStyleConfig[id];\n        return _objectSpread({\n          id: name,\n          value: value != undefined ? value : defaultValue,\n          // eslint-disable-line eqeqeq\n          defaultValue: defaultValue\n        }, agg);\n      });\n      this.settingsDialog.items = inputs;\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"setChartTypeFromLayout\",\n    value: function setChartTypeFromLayout(layout) {\n      var chartType = this.getChartTypeFromLayout(layout);\n      var typeIdx = this.chartTypes.findIndex(function (t) {\n        return t.id === chartType;\n      });\n      this.type = this.chartTypes[typeIdx];\n    }\n  }, {\n    key: \"getChartTypeFromLayout\",\n    value: function getChartTypeFromLayout(layout) {\n      var chartType;\n\n      if (layout.tension) {\n        // We assume that if tension is set, spline is enabled\n        chartType = 'spline';\n      } else if (this.aggregates[layout.aggregationType]) {\n        chartType = layout.aggregationType;\n      } else {\n        chartType = layout.chartType;\n      }\n\n      return chartType;\n    }\n  }, {\n    key: \"isTypeCandle\",\n    value: function isTypeCandle(type) {\n      if (typeof type === 'string') {\n        type = this.types.find(function (t) {\n          return t.id === type;\n        });\n      }\n\n      return notCandles.indexOf(type.id) === -1;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chartTypeProp\",\n    get: function get() {\n      return this.mainStore.state.chartType;\n    }\n  }, {\n    key: \"isCandle\",\n    get: function get() {\n      return notCandles.indexOf(this.type.id) === -1;\n    }\n  }, {\n    key: \"isSpline\",\n    get: function get() {\n      return this.type.id === 'spline';\n    }\n  }, {\n    key: \"isAggregateChart\",\n    get: function get() {\n      var _this3 = this;\n\n      return !!aggregateCharts.find(function (t) {\n        return t.id === _this3.stx.layout.aggregationType;\n      });\n    }\n  }, {\n    key: \"types\",\n    get: function get() {\n      var _this4 = this;\n\n      var isTickSelected = this.mainStore.timeperiod.timeUnit === 'tick';\n\n      if (this.chartTypes === undefined) {\n        this.chartTypes = getChartTypes();\n      }\n\n      return this.chartTypes.map(function (t) {\n        return _objectSpread({}, t, {\n          active: t.id === _this4.type.id,\n          disabled: t.candleOnly ? isTickSelected : false\n        });\n      });\n    }\n  }]);\n\n  return ChartTypeStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"type\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'mountain';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setTypeFromUI\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setTypeFromUI\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setType\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"setType\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showAggregateDialog\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"showAggregateDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"types\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"types\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartTypeFromLayout\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartTypeFromLayout\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ComparisonListStore.js\":\n/*!******************************************!*\\\n  !*** ./src/store/ComparisonListStore.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ComparisonListStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimatedPriceStore */ \"./src/store/AnimatedPriceStore.js\");\n/* harmony import */ var _components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/AnimatedPrice.jsx */ \"./src/components/AnimatedPrice.jsx\");\nvar _dec, _dec2, _dec3, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\nvar ComparisonListStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ComparisonListStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ComparisonListStore);\n\n    _initializerDefineProperty(this, \"animatedPrices\", _descriptor, this);\n\n    this.animatedPriceStore = [];\n    this.mainStore = mainStore; // The order of setting the reaction is important. The animatedPrices array must match\n    // comparisonSymbols array _before_ updating the prices\n\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.comparisonSymbols.length;\n    }, this.syncAnimatedPricesWithComparisons);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.comparisonSymbols.map(function (s) {\n        return s.price;\n      });\n    }, this.updatePrices);\n  }\n\n  _createClass(ComparisonListStore, [{\n    key: \"syncAnimatedPricesWithComparisons\",\n    value: function syncAnimatedPricesWithComparisons() {\n      var diff = this.comparisonSymbols.length - this.animatedPrices.length;\n\n      if (diff > 0) {\n        while (diff-- !== 0) {\n          var store = new _AnimatedPriceStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n          this.animatedPriceStore.push(store);\n          this.animatedPrices = this.animatedPrices.concat([store.connect(_components_AnimatedPrice_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])]);\n        }\n      } else if (diff < 0) {\n        while (diff++ !== 0) {\n          this.animatedPrices.pop();\n          this.animatedPriceStore.pop();\n        }\n      }\n    }\n  }, {\n    key: \"updatePrices\",\n    value: function updatePrices() {\n      var _this2 = this;\n\n      this.comparisonSymbols.map(function (_ref, i) {\n        var price = _ref.price,\n            prevPrice = _ref.prevPrice;\n        var animatedPrice = _this2.animatedPriceStore[i];\n        animatedPrice.setPrice(price, prevPrice);\n      });\n    }\n  }, {\n    key: \"onDeleteItem\",\n    value: function onDeleteItem(symbolObject) {\n      this.mainStore.comparison.removeComparison(symbolObject);\n    }\n  }, {\n    key: \"comparisonSymbols\",\n    get: function get() {\n      return this.mainStore.comparison.comparisonSymbols;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }]);\n\n  return ComparisonListStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"animatedPrices\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"syncAnimatedPricesWithComparisons\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"syncAnimatedPricesWithComparisons\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updatePrices\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updatePrices\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleteItem\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteItem\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ComparisonStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/ComparisonStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ComparisonStore; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CategoricalDisplayStore */ \"./src/store/CategoricalDisplayStore.js\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\nvar swatchColors = ['#8ec648', '#00afed', '#ee652e', '#912a8e', '#fff126', '#e9088c', '#ea1d2c', '#00a553', '#00a99c', '#0056a4', '#f4932f', '#0073ba', '#66308f', '#323390'];\nvar ComparisonStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  // just used to track if symbol has changed\n  function ComparisonStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ComparisonStore);\n\n    _initializerDefineProperty(this, \"comparisonSymbols\", _descriptor, this);\n\n    this.currentActiveSymbol = void 0;\n    this.searchInputClassName = void 0;\n\n    this.onContextReady = function () {\n      var stx = _this.context.stx;\n      var feed = _this.mainStore.chart.feed;\n      _this.currentActiveSymbol = stx.chart.symbol;\n      stx.addEventListener('symbolChange', _this.onSymbolChange);\n      feed.onComparisonDataUpdate(_this.updateComparisonPrices);\n\n      _this.updateComparisons();\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore, {\n      route: 'comparison'\n    });\n    this.ComparisonMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.categoricalDisplay = new _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      getActiveCategory: function getActiveCategory() {\n        return _this.activeComparisons;\n      },\n      getCategoricalItems: function getCategoricalItems() {\n        return _this.mainStore.chart.categorizedSymbols;\n      },\n      getIsShown: function getIsShown() {\n        return _this.menu.open;\n      },\n      activeOptions: [{\n        id: 'cmp-color',\n        renderChild: function renderChild(item) {\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n            style: {\n              backgroundColor: item.dataObject.color\n            }\n          });\n        }\n      }, {\n        id: 'delete',\n        onClick: this.onDeleteItem\n      }],\n      onSelectItem: this.onSelectItem.bind(this),\n      placeholderText: t.translate('Search...'),\n      favoritesId: 'chartTitle&Comparison',\n      mainStore: mainStore,\n      searchInputClassName: function searchInputClassName() {\n        return _this.searchInputClassName;\n      }\n    });\n    this.ComparisonSelector = this.categoricalDisplay.connect(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_4__[\"CategoricalDisplay\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(ComparisonStore, [{\n    key: \"updateProps\",\n    value: function updateProps(searchInputClassName) {\n      this.searchInputClassName = searchInputClassName;\n    }\n  }, {\n    key: \"updateComparisonPrices\",\n    value: function updateComparisonPrices(data) {\n      var comparison = this.comparisonSymbols.find(function (x) {\n        return x.symbolObject.symbol === data.symbol;\n      });\n\n      if (comparison) {\n        comparison.price = data.Close;\n        comparison.prevPrice = data.prevClose;\n      } else {\n        this.updateComparisons();\n      }\n    }\n  }, {\n    key: \"removeComparison\",\n    value: function removeComparison(symbolObj) {\n      this.context.stx.removeSeries(symbolObj.symbol);\n    }\n  }, {\n    key: \"onDeleteItem\",\n    value: function onDeleteItem(_ref) {\n      var symbolObject = _ref.symbolObject;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"LogActions\"].Comparison, \"Remove \".concat(symbolObject.name));\n      this.removeComparison(symbolObject);\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      var _this2 = this;\n\n      this.comparisonSymbols.forEach(function (x) {\n        _this2.onDeleteItem(x);\n      });\n    }\n  }, {\n    key: \"onSelectItem\",\n    value: function onSelectItem(symbolObject) {\n      var _this3 = this;\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_6__[\"LogActions\"].Comparison, \"Add \".concat(symbolObject.name));\n      var context = this.context;\n      var pattern = null;\n      var width = 1;\n      var color = this.getSwatchColor() || 'auto';\n      var stx = context.stx;\n      var params = {\n        symbolObject: symbolObject,\n        isComparison: true,\n        display: symbolObject.name,\n        fillGaps: true,\n        gapDisplayStyle: true,\n        color: color,\n        pattern: pattern,\n        width: width,\n        data: {\n          useDefaultQuoteFeed: true\n        },\n        forceData: true\n      }; // don't allow symbol if same as main chart, comparison already exists, or just white space\n\n      var exists = stx.getSeries({\n        symbolObject: symbolObject\n      });\n\n      for (var i = 0; i < exists.length; i++) {\n        if (exists[i].parameters.isComparison) {\n          return;\n        }\n      } // don't allow symbol if same as main chart or just white space\n\n\n      if (context.stx.chart.symbol !== symbolObject.symbol) {\n        this.comparisonSymbols.push({\n          color: color,\n          symbolObject: symbolObject\n        });\n        stx.addSeries(symbolObject.symbol, params, function (err, series) {\n          if (err) {\n            _this3.removeComparison(series.parameters.symbolObject);\n\n            series.parameters.error = true;\n          }\n        });\n      }\n\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"getSwatchColor\",\n    value: function getSwatchColor() {\n      var stx = this.context.stx;\n      var selectedColor = '';\n      var usedColors = {};\n\n      for (var s in stx.chart.series) {\n        var series = stx.chart.series[s];\n\n        if (!series.parameters.isComparison) {\n          continue;\n        }\n\n        usedColors[series.parameters.color] = true;\n      }\n\n      for (var i = 0; i < swatchColors.length; i++) {\n        // find first unused color from available colors\n        if (!usedColors[swatchColors[i]]) {\n          selectedColor = swatchColors[i];\n          break;\n        }\n      }\n\n      return selectedColor;\n    }\n  }, {\n    key: \"onSymbolChange\",\n    value: function onSymbolChange(_ref2) {\n      var symbolAction = _ref2.action;\n\n      if (symbolAction === 'master') {\n        var stx = this.context.stx;\n\n        if (this.currentActiveSymbol !== stx.chart.symbol) {\n          this.comparisonSymbols = [];\n\n          for (var field in stx.chart.series) {\n            if (stx.chart.series[field].parameters.bucket !== 'study') {\n              stx.removeSeries(field);\n            }\n          }\n\n          this.currentActiveSymbol = stx.chart.symbol;\n        }\n      } else {\n        // symbolAction = 'add-series' or 'remove-series'\n        this.updateComparisons();\n      }\n    }\n  }, {\n    key: \"updateComparisons\",\n    value: function updateComparisons() {\n      if (!this.context) {\n        return;\n      }\n\n      var stx = this.context.stx;\n      var comparisonSymbolsKeys = Object.keys(stx.chart.series);\n\n      if (comparisonSymbolsKeys.length !== this.comparisonSymbols.length) {\n        var comparisons = [];\n        var q = stx.currentQuote();\n\n        if (q) {\n          for (var _i = 0; _i < comparisonSymbolsKeys.length; _i++) {\n            var sybl = comparisonSymbolsKeys[_i];\n            var srs = stx.chart.series[sybl];\n            var prm = srs.parameters;\n            var comp = q[sybl]; // Symbol from cache may be in different language, so replace it with server's\n\n            var symbolObject = this.mainStore.chart.activeSymbols.getSymbolObj(prm.symbolObject.symbol);\n            comparisons.push({\n              color: prm.color,\n              price: comp && comp.Close,\n              prevPrice: comp && comp.iqPrevClose,\n              symbolObject: symbolObject\n            });\n          }\n        }\n\n        this.comparisonSymbols = comparisons;\n      }\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"activeComparisons\",\n    get: function get() {\n      var result = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.comparisonSymbols[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var symbol = _step.value;\n          result.push({\n            enabled: true,\n            selected: false,\n            display: symbol.symbolObject.name,\n            itemId: symbol.symbolObject.symbol,\n            dataObject: symbol\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return {\n        categoryName: t.translate('Active'),\n        categoryId: 'active',\n        hasSubcategory: false,\n        emptyDescription: t.translate('There are no active comparisons yet.'),\n        data: result\n      };\n    }\n  }]);\n\n  return ComparisonStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"comparisonSymbols\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateComparisonPrices\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateComparisonPrices\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"activeComparisons\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeComparisons\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleteItem\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteItem\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeAll\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"removeAll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectItem\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectItem\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSymbolChange\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"onSymbolChange\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/Connect.js\":\n/*!******************************!*\\\n  !*** ./src/store/Connect.js ***!\n  \\******************************/\n/*! exports provided: connect */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connect\", function() { return connect; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx-react */ \"mobx-react\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx_react__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nfunction connectMainStore(mapperFunction) {\n  // Combine both stores and props, with props taking precedence\n  var mapStoresAndProps = function mapStoresAndProps(mainStore, props\n  /* , context */\n  ) {\n    return _objectSpread({}, mapperFunction(mainStore), props);\n  };\n\n  return function (WrappedComponent) {\n    return Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(mapStoresAndProps)(WrappedComponent);\n  };\n}\n\nfunction connectCustomStore(mapperFunction, CustomStore) {\n  return function (WrappedComponent) {\n    var StoredComponent =\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(StoredComponent, _Component);\n\n      function StoredComponent(props) {\n        var _this;\n\n        _classCallCheck(this, StoredComponent);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(StoredComponent).call(this, props));\n        var mainStore = _this.props.mainStore;\n        _this.store = new CustomStore(mainStore);\n\n        var mapStoresAndProps = function mapStoresAndProps(_mainStore, nextProps) {\n          return _objectSpread({}, mapperFunction(_this.store), nextProps);\n        };\n\n        if (_this.store.updateProps) {\n          _this.store.updateProps(props);\n        }\n\n        _this.injectedComponent = Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(mapStoresAndProps)(WrappedComponent);\n        return _this;\n      }\n\n      _createClass(StoredComponent, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n          if (this.store.updateProps) {\n            this.store.updateProps(nextProps);\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          if (this.store.destructor) {\n            this.store.destructor();\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(this.injectedComponent);\n        }\n      }]);\n\n      return StoredComponent;\n    }(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]); // make some nice names that will show up in the React Devtools\n\n\n    var wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || WrappedComponent.constructor && WrappedComponent.constructor.name || 'Unknown';\n    StoredComponent.displayName = \"unbox-\".concat(wrappedDisplayName);\n    return Object(mobx_react__WEBPACK_IMPORTED_MODULE_1__[\"inject\"])(function (mainStore) {\n      return {\n        mainStore: mainStore\n      };\n    })(StoredComponent);\n  };\n} // if store is not defined, main store is used\n\n\nfunction connect(mapperFunction, CustomStore) {\n  if (CustomStore === undefined) {\n    return connectMainStore(mapperFunction);\n  }\n\n  return connectCustomStore(mapperFunction, CustomStore);\n}\n\n/***/ }),\n\n/***/ \"./src/store/CrosshairStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/CrosshairStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../sass/_themes.scss */ \"./sass/_themes.scss\");\n/* harmony import */ var _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sass_themes_scss__WEBPACK_IMPORTED_MODULE_2__);\nvar _dec, _class, _descriptor;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\n\nvar MAX_TOOLTIP_WIDTH = 315;\nvar CrosshairStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function CrosshairStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, CrosshairStore);\n\n    _initializerDefineProperty(this, \"state\", _descriptor, this);\n\n    this.node = null;\n    this.lastBar = {};\n    this.showChange = false;\n    this.showSeries = true;\n    this.showStudies = true;\n\n    this.onContextReady = function () {\n      var storedState = _this.stx.layout.crosshair;\n      var state = typeof storedState !== 'number' ? 2 : storedState;\n\n      _this.setCrosshairState(state);\n\n      _this.stx.append('headsUpHR', _this.renderCrosshairTooltip);\n    };\n\n    this.renderCrosshairTooltip = function () {\n      // if no tooltip exists, then skip\n      if (_this.state !== 2) return;\n      var stx = _this.stx;\n      var _stx$controls = stx.controls,\n          crossX = _stx$controls.crossX,\n          crossY = _stx$controls.crossY; // crosshairs are not on\n\n      if (crossX && crossX.style.display === 'none' || crossY && crossY.style.display === 'none') {\n        return;\n      }\n\n      var bar = stx.barFromPixel(stx.cx);\n      var data = stx.chart.dataSegment[bar];\n\n      if (!data) {\n        _this.updateTooltipPosition({\n          left: -5000,\n          top: 0,\n          rows: null\n        });\n\n        return;\n      }\n\n      var showOverBarOnly = false;\n      var goodBar;\n      var overBar = true;\n      var highPx, lowPx;\n\n      if (data !== undefined && data && data.DT) {\n        goodBar = true;\n\n        if (data.High) {\n          highPx = stx.pixelFromPrice(data.High);\n        }\n\n        if (data.Low) {\n          lowPx = stx.pixelFromPrice(data.Low);\n        }\n\n        if (!stx.highLowBars[stx.layout.chartType]) {\n          if (data.Close) {\n            highPx = stx.pixelFromPrice(data.Close) - 15;\n            lowPx = stx.pixelFromPrice(data.Close) + 15;\n          }\n        }\n\n        if (showOverBarOnly && !(stx.cy >= highPx && stx.cy <= lowPx)) {\n          overBar = false;\n        }\n      }\n\n      if (!(CIQ.ChartEngine.insideChart && stx.layout.crosshair && stx.displayCrosshairs && !stx.overXAxis && !stx.overYAxis && !stx.openDialog && !stx.activeDrawing && !stx.grabbingScreen && goodBar && overBar)) {\n        _this.updateTooltipPosition({\n          left: -5000,\n          top: 0,\n          rows: null\n        });\n\n        _this.lastBar = {};\n        return;\n      }\n\n      var rows = null;\n\n      if (!(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"sameBar\"])(data, _this.lastBar) && bar !== stx.chart.dataSegment.length - 1)) {\n        rows = _this.calculateRows(data);\n        _this.lastBar = data;\n      }\n\n      _this.updateTooltipPosition({\n        left: CIQ.ChartEngine.crosshairX - _this.stx.left,\n        top: CIQ.ChartEngine.crosshairY - _this.stx.top,\n        rows: rows\n      });\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(CrosshairStore, [{\n    key: \"setFloatPriceLabelStyle\",\n    value: function setFloatPriceLabelStyle() {\n      var theme = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.mainStore.chartSetting.theme;\n      var crosshair = this.stx.container.querySelector('.cq-crosshair');\n\n      if (this.state === 2) {\n        this.stx.setStyle('stx-float-price', 'color', 'transparent');\n        this.stx.setStyle('stx-float-price', 'background-color', 'transparent');\n        this.stx.controls.floatDate.style.color = 'transparent';\n        this.stx.controls.floatDate.style.backgroundColor = 'transparent';\n        this.stx.controls.crossX.style.height = \"calc(100% - \".concat(this.stx.xaxisHeight, \"px)\");\n        crosshair.classList.add('active');\n      } else {\n        this.stx.setStyle('stx-float-price', 'color', '#fff');\n        this.stx.setStyle('stx-float-price', 'background-color', _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"floatlabelsbg\")]);\n        this.stx.controls.floatDate.style.color = '#fff';\n        this.stx.controls.floatDate.style.backgroundColor = _sass_themes_scss__WEBPACK_IMPORTED_MODULE_2___default.a[\"\".concat(theme, \"floatlabelsbg\")];\n        this.stx.controls.crossX.style.height = '100%';\n        crosshair.classList.remove('active');\n      }\n    }\n  }, {\n    key: \"toggleState\",\n    value: function toggleState() {\n      var state = (this.state + 1) % 3;\n      this.setCrosshairState(state);\n      this.mainStore.state.saveLayout();\n    }\n  }, {\n    key: \"setCrosshairState\",\n    value: function setCrosshairState(state) {\n      this.state = state;\n      this.setFloatPriceLabelStyle();\n      this.stx.layout.crosshair = state;\n      this.stx.doDisplayCrosshairs();\n    }\n  }, {\n    key: \"calculateRows\",\n    value: function calculateRows(data) {\n      var stx = this.stx;\n      var dupMap = {};\n      var fields = [];\n      {\n        // Access main chart panel and yAxis in this scope:\n        var panel = stx.chart.panel;\n        var yAxis = panel.yAxis;\n        fields.push({\n          member: 'DT',\n          display: 'DT',\n          panel: panel,\n          yAxis: yAxis\n        });\n        dupMap.DT = dupMap.Close = 1;\n\n        if (this.showChange && CIQ.ChartEngine.isDailyInterval(stx.layout.interval)) {\n          fields.push({\n            member: 'Change',\n            display: 'Change',\n            panel: panel,\n            yAxis: yAxis\n          });\n        }\n\n        if (this.showOhl) {\n          var _arr = ['Open', 'Close', 'High', 'Low'];\n\n          for (var _i = 0; _i < _arr.length; _i++) {\n            var el = _arr[_i];\n            fields.push({\n              member: el,\n              display: el,\n              panel: panel,\n              yAxis: yAxis\n            });\n          }\n\n          dupMap.Open = dupMap.High = dupMap.Low = 1;\n        }\n      }\n\n      if (this.showSeries) {\n        var renderers = stx.chart.seriesRenderers;\n\n        for (var renderer in renderers) {\n          var rendererToDisplay = renderers[renderer];\n          var _panel = stx.panels[rendererToDisplay.params.panel];\n          var _yAxis = rendererToDisplay.params.yAxis;\n\n          if (!_yAxis && rendererToDisplay.params.shareYAxis) {\n            _yAxis = _panel.yAxis;\n          }\n\n          for (var id = 0; id < rendererToDisplay.seriesParams.length; id++) {\n            var seriesParams = rendererToDisplay.seriesParams[id];\n\n            if (seriesParams.display === this.activeSymbol.symbol) {\n              var display = this.activeSymbol.name;\n              fields.push({\n                member: 'Close',\n                display: display,\n                panel: _panel,\n                yAxis: _yAxis\n              });\n              dupMap[display] = 1;\n            } else {\n              // if a series has a symbol and a field then it maybe a object chain\n              var sKey = seriesParams.symbol;\n              var subField = seriesParams.field;\n\n              if (!sKey) {\n                sKey = subField;\n              } else if (subField && sKey !== subField) {\n                sKey = CIQ.createObjectChainNames(sKey, subField)[0];\n              }\n\n              var _display = seriesParams.display || seriesParams.symbol || seriesParams.field;\n\n              if (sKey && (!dupMap[_display] || seriesParams.symbol === undefined)) {\n                fields.push({\n                  member: sKey,\n                  display: _display,\n                  panel: _panel,\n                  yAxis: _yAxis\n                });\n                dupMap[_display] = 1;\n              }\n            }\n          }\n        }\n      }\n\n      if (this.showStudies) {\n        var studies = stx.layout.studies;\n\n        for (var study in studies) {\n          var _panel2 = stx.panels[studies[study].panel];\n          var _yAxis2 = _panel2.yAxis;\n\n          for (var output in studies[study].outputMap) {\n            if (output && !dupMap[output]) {\n              fields.push({\n                member: output,\n                display: output,\n                panel: _panel2,\n                yAxis: _yAxis2\n              });\n              dupMap[output] = 1;\n            }\n          }\n\n          var hist = \"\".concat(study, \"_hist\");\n\n          if (!dupMap[hist]) {\n            fields.push({\n              member: hist,\n              display: hist,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            var hist1 = \"\".concat(study, \"_hist1\");\n            var hist2 = \"\".concat(study, \"_hist2\");\n            fields.push({\n              member: hist1,\n              display: hist1,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            fields.push({\n              member: hist2,\n              display: hist2,\n              panel: _panel2,\n              yAxis: _yAxis2\n            });\n            dupMap[hist] = 1;\n          }\n        }\n      }\n\n      var rows = [];\n\n      for (var _i2 = 0; _i2 < fields.length; _i2++) {\n        var obj = fields[_i2];\n        var name = obj.member,\n            displayName = obj.display,\n            _panel3 = obj.panel,\n            _yAxis3 = obj.yAxis;\n        var labelDecimalPlaces = this.decimalPlaces;\n\n        if (_yAxis3) {\n          if (_panel3 !== _panel3.chart.panel) {\n            // If a study panel, use yAxis settings to determine decimal places\n            if (_yAxis3.decimalPlaces || _yAxis3.decimalPlaces === 0) {\n              labelDecimalPlaces = _yAxis3.decimalPlaces;\n            } else if (_yAxis3.maxDecimalPlaces || _yAxis3.maxDecimalPlaces === 0) {\n              labelDecimalPlaces = _yAxis3.maxDecimalPlaces;\n            }\n          } else {\n            // If a chart panel, then always display at least the number of decimal places as calculated by masterData (panel.chart.decimalPlaces)\n            // but if we are zoomed to high granularity then expand all the way out to the y-axis significant digits (panel.yAxis.printDecimalPlaces)\n            labelDecimalPlaces = Math.max(_yAxis3.printDecimalPlaces, _panel3.chart.decimalPlaces); // ... and never display more decimal places than the symbol is supposed to be quoting at\n\n            if (_yAxis3.maxDecimalPlaces || _yAxis3.maxDecimalPlaces === 0) {\n              labelDecimalPlaces = Math.min(labelDecimalPlaces, _yAxis3.maxDecimalPlaces);\n            }\n          }\n        }\n\n        var dsField = null; // account for object chains\n\n        var tuple = CIQ.existsInObjectChain(data, name);\n\n        if (tuple) {\n          dsField = tuple.obj[tuple.member];\n        } else if (name === 'Change') {\n          dsField = data.Close - data.iqPrevClose;\n        }\n\n        var fieldName = displayName.replace(/^(Result )(.*)/, '$2');\n\n        if ((dsField || dsField === 0) && (name === 'DT' || _typeof(dsField) !== 'object' || dsField.Close || dsField.Close === 0)) {\n          var fieldValue = '';\n\n          if (dsField.Close || dsField.Close === 0) {\n            dsField = dsField.Close;\n          }\n\n          if (dsField.constructor === Number) {\n            if (!_yAxis3) {\n              // raw value\n              fieldValue = dsField.toFixed(labelDecimalPlaces);\n            } else if (_yAxis3.originalPriceFormatter && _yAxis3.originalPriceFormatter.func) {\n              // in comparison mode with custom formatter\n              fieldValue = _yAxis3.originalPriceFormatter.func(stx, _panel3, dsField, labelDecimalPlaces);\n            } else if (_yAxis3.priceFormatter && _yAxis3.priceFormatter !== CIQ.Comparison.priceFormat) {\n              // using custom formatter\n              fieldValue = _yAxis3.priceFormatter(stx, _panel3, dsField, labelDecimalPlaces);\n            } else {\n              fieldValue = stx.formatYAxisPrice(dsField, _panel3, labelDecimalPlaces, _yAxis3);\n            }\n          } else if (dsField.constructor === Date) {\n            var floatDate = stx.controls.floatDate;\n\n            if (name === 'DT' && floatDate && floatDate.innerHTML) {\n              if (stx.chart.xAxis.noDraw) {\n                continue;\n              } else {\n                fieldValue = floatDate.innerHTML;\n              }\n            } else {\n              fieldValue = CIQ.yyyymmdd(dsField);\n\n              if (!CIQ.ChartEngine.isDailyInterval(stx.layout.interval)) {\n                fieldValue += \" \".concat(dsField.toTimeString().substr(0, 8));\n              }\n            }\n          } else {\n            fieldValue = dsField;\n          }\n\n          rows.push({\n            name: fieldName.toUpperCase(),\n            value: fieldValue\n          });\n        }\n      }\n\n      return rows;\n    } // YES! we are manually patching DOM, Because we don't want to pay\n    // for react reconciler & mox tracking observables.\n\n  }, {\n    key: \"updateTooltipPosition\",\n    value: function updateTooltipPosition(_ref) {\n      var top = _ref.top,\n          left = _ref.left,\n          rows = _ref.rows;\n      var crosshair = this.stx.container.querySelector('.cq-crosshair');\n      crosshair.style.transform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n      var arrow = left <= MAX_TOOLTIP_WIDTH ? 'arrow-left' : 'arrow-right';\n\n      if (arrow !== this.prev_arrow) {\n        crosshair.classList.remove(this.prev_arrow);\n        crosshair.classList.add(arrow);\n        this.prev_arrow = arrow;\n      } // if there is a need to update the rows.\n\n\n      if (rows !== null) {\n        var content = crosshair.querySelector('.cq-crosshair-content');\n        content.innerHTML = rows.map(function (r) {\n          return \"\\n                <div class=\\\"row\\\">\\n                    <span>\".concat(r.name !== 'DT' ? r.name : r.value, \"</span>\\n                    <span>\").concat(r.name !== 'DT' ? r.value : '', \"</span>\\n                </div>\\n            \");\n        }).join('');\n      }\n    }\n  }, {\n    key: \"activeSymbol\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.activeSymbol.decimal_places;\n    }\n  }, {\n    key: \"showOhl\",\n    get: function get() {\n      return this.stx.layout.timeUnit !== 'second';\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return CrosshairStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"activeSymbol\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"activeSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"state\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 2;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"toggleState\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleState\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CrosshairStore);\n\n/***/ }),\n\n/***/ \"./src/store/CurrentSpotStore.js\":\n/*!***************************************!*\\\n  !*** ./src/store/CurrentSpotStore.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar CurrentSpotStore =\n/*#__PURE__*/\nfunction () {\n  function CurrentSpotStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, CurrentSpotStore);\n\n    this.onContextReady = function () {\n      if (_this.mainStore.state.isAnimationEnabled) _this.stx.append('draw', _this.updateSpot);\n    };\n\n    this.updateSpot = function () {\n      var stx = _this.stx;\n\n      var cq_spot = _this.context.topNode.querySelector('.cq-spot');\n\n      if (_this.state.endEpoch) {\n        cq_spot.style.display = 'none';\n        return;\n      }\n\n      var chart = stx.chart;\n      var layout = stx.layout;\n      var mainSeriesRenderer = stx.mainSeriesRenderer;\n      var top = 0,\n          left = 0,\n          show = true;\n\n      if (chart.dataSet && chart.dataSet.length && mainSeriesRenderer) {\n        var panel = chart.panel;\n        var currentQuote = stx.currentQuote();\n\n        if (!currentQuote) {\n          return;\n        }\n\n        var price = currentQuote.Close;\n        var x = stx.pixelFromTick(currentQuote.tick, chart) + (chart.lastTickOffset || 0);\n        var y = stx.pixelFromPrice(price, panel);\n\n        if (chart.yAxis.left > x && chart.yAxis.top <= y && chart.yAxis.bottom >= y) {\n          // Limit precision to reduce wobbly-ness in the spot:\n          top = +y;\n          left = Math.round(x);\n        } else {\n          show = false;\n        }\n      }\n\n      show = show && layout.chartType !== 'candle' && layout.chartType !== 'colored_bar' && layout.chartType !== 'hollow_candle' && !_this.state.endEpoch; // YES! we are manually patching DOM, Because we don't want to pay\n      // for react reconciler & mox tracking observables.\n\n      cq_spot.style.transform = \"translate(\".concat(left, \"px, \").concat(top, \"px)\");\n      cq_spot.style.display = show ? 'initial' : 'none';\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(CurrentSpotStore, [{\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.mainStore.state;\n    }\n  }]);\n\n  return CurrentSpotStore;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CurrentSpotStore);\n\n/***/ }),\n\n/***/ \"./src/store/DialogStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/DialogStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DialogStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.debounce */ \"./node_modules/lodash.debounce/index.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\nvar activeDialog;\nvar DialogStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function DialogStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, DialogStore);\n\n    _initializerDefineProperty(this, \"open\", _descriptor, this);\n\n    this.setOpen = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function (val) {\n      _this.openDialog(val);\n    }, 300, {\n      leading: true,\n      trailing: false\n    });\n\n    this.handleClickOutside = function (e) {\n      var isRightClick = false;\n\n      if ('which' in e) {\n        isRightClick = e.which === 3;\n      } else if ('button' in e) {\n        isRightClick = e.button === 2;\n      }\n\n      if (!e.isHandledByDialog && !isRightClick) {\n        _this.setOpen(false);\n      }\n    };\n\n    this.closeOnEscape = function (e) {\n      var ESCAPE = 27;\n\n      if (e.keyCode === ESCAPE) {\n        _this.setOpen(false);\n      }\n    };\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        open: _this.open,\n        setOpen: _this.setOpen,\n        onContainerClick: _this.onContainerClick,\n        chartHeight: _this.mainStore.chart.chartHeight,\n        chartContainerHeight: _this.mainStore.chart.chartContainerHeight,\n        isMobile: _this.mainStore.chart.isMobile\n      };\n    });\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, function () {\n      _this.routingStore.registerDialog(_this);\n    });\n  }\n\n  _createClass(DialogStore, [{\n    key: \"openDialog\",\n    value: function openDialog(val) {\n      if (this.open !== val) {\n        this.open = val;\n\n        if (this.open) {\n          this.register();\n        } else {\n          this.unregister();\n        }\n\n        if (val === true) {\n          // close active dialog.\n          if (activeDialog) {\n            activeDialog.openDialog(false);\n          }\n\n          activeDialog = this;\n        } else {\n          activeDialog = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      document.addEventListener('click', this.handleClickOutside, false);\n      document.addEventListener('keydown', this.closeOnEscape, false);\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister() {\n      document.removeEventListener('click', this.handleClickOutside);\n      document.removeEventListener('keydown', this.closeOnEscape);\n    }\n  }, {\n    key: \"onContainerClick\",\n    value: function onContainerClick(e) {\n      /* TODO: why stopPropagation() is not working _ */\n      // e.stopPropagation();\n      e.nativeEvent.isHandledByDialog = true;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }]);\n\n  return DialogStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"openDialog\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"openDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"register\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"register\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"unregister\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"unregister\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onContainerClick\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onContainerClick\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/DrawToolsStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/DrawToolsStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DrawToolsStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\n\n\n\n // camelCase to spaces separated capitalized string.\n\nvar formatCamelCase = function formatCamelCase(s) {\n  var capitalized = s.charAt(0).toUpperCase() + s.slice(1);\n  return capitalized.replace(/([a-z](?=[A-Z]))/g, '$1 ');\n};\n\nvar DrawToolsStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function DrawToolsStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, DrawToolsStore);\n\n    this.activeDrawing = null;\n    this.drawToolsItems = [];\n\n    this.onContextReady = function () {\n      document.addEventListener('keydown', _this.closeOnEscape, false);\n\n      _this.stx.addEventListener('drawing', _this.noTool);\n\n      _this.stx.prepend('deleteHighlighted', _this.onDeleteHighlighted);\n\n      _this.drawToolsItems = [{\n        id: 'annotation',\n        text: t.translate('Annotation')\n      }, {\n        id: 'average',\n        text: t.translate('Average Line')\n      }, {\n        id: 'callout',\n        text: t.translate('Callout')\n      }, {\n        id: 'channel',\n        text: t.translate('Channel')\n      }, {\n        id: 'continuous',\n        text: t.translate('Continuous')\n      }, {\n        id: 'crossline',\n        text: t.translate('Crossline')\n      }, {\n        id: 'freeform',\n        text: t.translate('Doodle')\n      }, {\n        id: 'ellipse',\n        text: t.translate('Ellipse')\n      }, {\n        id: 'retracement',\n        text: t.translate('Fib Retracement')\n      }, {\n        id: 'fibarc',\n        text: t.translate('Fib Arc')\n      }, {\n        id: 'fibfan',\n        text: t.translate('Fib Fan')\n      }, {\n        id: 'fibtimezone',\n        text: t.translate('Fib Time Zone')\n      }, {\n        id: 'gannfan',\n        text: t.translate('Gann Fan')\n      }, {\n        id: 'gartley',\n        text: t.translate('Gartley')\n      }, {\n        id: 'horizontal',\n        text: t.translate('Horizontal')\n      }, {\n        id: 'line',\n        text: t.translate('Line')\n      }, {\n        id: 'pitchfork',\n        text: t.translate('Pitchfork')\n      }, {\n        id: 'quadrant',\n        text: t.translate('Quadrant Lines')\n      }, {\n        id: 'ray',\n        text: t.translate('Ray')\n      }, {\n        id: 'rectangle',\n        text: t.translate('Rectangle')\n      }, {\n        id: 'regression',\n        text: t.translate('Regression Line')\n      }, {\n        id: 'segment',\n        text: t.translate('Segment')\n      }, {\n        id: 'arrow',\n        text: t.translate('Shape - Arrow')\n      }, {\n        id: 'check',\n        text: t.translate('Shape - Check')\n      }, {\n        id: 'xcross',\n        text: t.translate('Shape - Cross')\n      }, {\n        id: 'focusarrow',\n        text: t.translate('Shape - Focus')\n      }, {\n        id: 'heart',\n        text: t.translate('Shape - Heart')\n      }, {\n        id: 'star',\n        text: t.translate('Shape - Star')\n      }, {\n        id: 'speedarc',\n        text: t.translate('Speed Resistance Arc')\n      }, {\n        id: 'speedline',\n        text: t.translate('Speed Resistance Line')\n      }, {\n        id: 'timecycle',\n        text: t.translate('Time Cycle')\n      }, {\n        id: 'tirone',\n        text: t.translate('Tirone Levels')\n      }, {\n        id: 'vertical',\n        text: t.translate('Vertical')\n      }];\n    };\n\n    this.closeOnEscape = function (e) {\n      var ESCAPE = 27;\n\n      if (e.keyCode === ESCAPE) {\n        _this.stx.changeVectorType('');\n      }\n    };\n\n    this.noTool = function () {\n      var count = _this.stx.drawingObjects.length;\n\n      if (_this.menu.open && _this.context || _this._pervDrawingObjectCount !== count) {\n        _this.stx.changeVectorType('');\n      }\n\n      _this._pervDrawingObjectCount = count;\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'draw-tool'\n    });\n    this.DrawToolsMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      mainStore: mainStore,\n      onDeleted: this.onDeleted,\n      onChanged: this.onChanged\n    });\n    this.DrawToolsSettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.menu.open;\n    }, this.noTool);\n  }\n\n  _createClass(DrawToolsStore, [{\n    key: \"onDeleteHighlighted\",\n    value: function onDeleteHighlighted() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.stx.drawingObjects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var drawing = _step.value;\n\n          if (drawing.highlighted && !drawing.permanent) {\n            this.showDrawToolDialog(drawing);\n            return true; // Override default behaviour; prevent ChartIQ from deleting the drawing\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"showDrawToolDialog\",\n    value: function showDrawToolDialog(drawing) {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Edit \".concat(drawing.name));\n      var dontDeleteMe = drawing.abort(); // eslint-disable-line no-unused-vars\n\n      var parameters = CIQ.Drawing.getDrawingParameters(this.stx, drawing.name);\n      var typeMap = {\n        color: 'colorpicker',\n        fillColor: 'colorpicker',\n        pattern: 'pattern',\n        axisLabel: 'switch',\n        font: 'font',\n        lineWidth: 'none'\n      };\n      this.settingsDialog.items = Object.keys(parameters).filter(function (key) {\n        return !( // Remove pattern option from Fibonacci tools\n        (drawing.name.startsWith('fib') || drawing.name === 'retracement') && key === 'pattern');\n      }).map(function (key) {\n        return {\n          id: key,\n          title: formatCamelCase(key),\n          value: drawing[key],\n          defaultValue: parameters[key],\n          type: typeMap[key]\n        };\n      });\n      this.activeDrawing = drawing;\n      this.activeDrawing.highlighted = false;\n      this.settingsDialog.title = formatCamelCase(drawing.name);\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, 'Clear All');\n      this.stx.clearDrawings();\n    }\n  }, {\n    key: \"selectTool\",\n    value: function selectTool(id) {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Add \".concat(id));\n      var stx = this.context.stx;\n      stx.clearMeasure(); // TODO remove this line\n\n      stx.changeVectorType(id);\n      this.menu.setOpen(false); // let drawingParameters = CIQ.Drawing.getDrawingParameters(stx, id);\n    }\n  }, {\n    key: \"onChanged\",\n    value: function onChanged(items) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = items[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n          this.activeDrawing[item.id] = item.value;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.activeDrawing.highlighted = false;\n      this.activeDrawing.adjust();\n      this.mainStore.state.saveDrawings();\n    }\n  }, {\n    key: \"onDeleted\",\n    value: function onDeleted() {\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].DrawTools, \"Remove \".concat(this.activeDrawing.name));\n      this.stx.removeDrawing(this.activeDrawing);\n      this.activeDrawing = null;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return DrawToolsStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"onDeleteHighlighted\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteHighlighted\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clearAll\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"clearAll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectTool\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"selectTool\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChanged\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onChanged\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleted\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleted\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/DrawingCursorStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/DrawingCursorStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DrawingCursorStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\nvar DrawingCursorStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function DrawingCursorStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, DrawingCursorStore);\n\n    _initializerDefineProperty(this, \"isDrawing\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"top\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"left\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"display\", _descriptor4, this);\n\n    this.onContextReady = function () {\n      _this.stx.append('mousemoveinner', _this.onMouseMove);\n\n      _this.stx.container.addEventListener('touchend', _this.onTouchEnd);\n    };\n\n    _initializerDefineProperty(this, \"onMouseMove\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"onTouchEnd\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"updateDisplay\", _descriptor7, this);\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(DrawingCursorStore, [{\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }]);\n\n  return DrawingCursorStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isDrawing\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"top\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"left\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"display\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"onMouseMove\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return function (epX, epY) {\n      _this2.isDrawing = _this2.stx.currentVectorParameters.vectorType;\n\n      if (_this2.isDrawing) {\n        _this2.display = 'block';\n        _this2.left = epX - _this2.stx.left;\n        _this2.top = epY - _this2.stx.top - 16;\n      } else {\n        _this2.display = 'none';\n      }\n    };\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"onTouchEnd\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function () {\n      // A delay is needed to remove drawing cursor after drawing ends on touch end in mobile\n      setTimeout(_this3.updateDisplay, 500);\n    };\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"updateDisplay\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return function () {\n      _this4.isDrawing = _this4.stx.currentVectorParameters.vectorType;\n\n      if (!_this4.isDrawing) {\n        _this4.display = 'none';\n      }\n    };\n  }\n})), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/FavoriteStore.js\":\n/*!************************************!*\\\n  !*** ./src/store/FavoriteStore.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _class, _descriptor, _class2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\nfunction loadFavorites() {\n  var local = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"createObjectFromLocalStorage\"])('cq-favorites');\n\n  if (!local) {\n    return;\n  }\n\n  var favorites = {};\n\n  for (var categoryName in local) {\n    var category = {};\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = local[categoryName][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var id = _step.value;\n        category[id] = true;\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    favorites[categoryName] = category;\n  }\n\n  return favorites;\n}\n\nvar FavoriteStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction () {\n  _createClass(FavoriteStore, null, [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!FavoriteStore.instance) {\n        FavoriteStore.instance = new FavoriteStore();\n      }\n\n      return FavoriteStore.instance;\n    }\n  }, {\n    key: \"EVENT_FAVORITES_UPDATE\",\n    get: function get() {\n      return 'EVENT_FAVORITES_UPDATE';\n    }\n  }]);\n\n  function FavoriteStore() {\n    _classCallCheck(this, FavoriteStore);\n\n    _initializerDefineProperty(this, \"favoritesMap\", _descriptor, this);\n\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n  }\n\n  _createClass(FavoriteStore, [{\n    key: \"onFavoriteUpdate\",\n    value: function onFavoriteUpdate(callback) {\n      this._emitter.on(FavoriteStore.EVENT_FAVORITES_UPDATE, callback);\n    }\n  }, {\n    key: \"offFavoriteUpdate\",\n    value: function offFavoriteUpdate(callback) {\n      this._emitter.off(FavoriteStore.EVENT_FAVORITES_UPDATE, callback);\n    }\n  }, {\n    key: \"isFavorite\",\n    value: function isFavorite(category, id) {\n      return id in this.favoritesMap[category];\n    }\n  }, {\n    key: \"toggleFavorite\",\n    value: function toggleFavorite(category, id) {\n      var cat = this.favoritesMap[category];\n\n      if (cat[id]) {\n        delete cat[id];\n      } else {\n        cat[id] = true;\n      }\n\n      this._emitter.emit(FavoriteStore.EVENT_FAVORITES_UPDATE, {\n        category: category,\n        id: id,\n        value: cat[id] || false\n      }); // this.favoritesMap = { ...this.favoritesMap }; // force observable to update\n\n\n      this.saveFavorites();\n    }\n  }, {\n    key: \"saveFavorites\",\n    value: function saveFavorites() {\n      var favorites = {};\n\n      for (var categoryName in this.favoritesMap) {\n        var category = [];\n\n        for (var id in this.favoritesMap[categoryName]) {\n          category.push(id);\n        }\n\n        favorites[categoryName] = category;\n      }\n\n      CIQ.localStorageSetItem('cq-favorites', JSON.stringify(favorites));\n    }\n  }]);\n\n  return FavoriteStore;\n}(), _class2.instance = void 0, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"favoritesMap\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return loadFavorites() || {\n      indicators: {},\n      'chartTitle&Comparison': {}\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"isFavorite\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"isFavorite\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleFavorite\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleFavorite\"), _class.prototype)), _class));\n/* harmony default export */ __webpack_exports__[\"default\"] = (FavoriteStore);\n\n/***/ }),\n\n/***/ \"./src/store/HighestLowestStore.js\":\n/*!*****************************************!*\\\n  !*** ./src/store/HighestLowestStore.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar HighestLowestStore =\n/*#__PURE__*/\nfunction () {\n  _createClass(HighestLowestStore, [{\n    key: \"feed\",\n    get: function get() {\n      return this.mainStore.chart.feed;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.mainStore.chart.stxx;\n    }\n  }, {\n    key: \"isHighestLowestMarkerEnabled\",\n    get: function get() {\n      return this.mainStore.chartSetting.isHighestLowestMarkerEnabled;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places || 0;\n    }\n  }]);\n\n  function HighestLowestStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, HighestLowestStore);\n\n    this.highest = null;\n    this.lowest = null;\n    this.injectionId = null;\n\n    this.clearInjection = function () {\n      if (_this.injectionId) {\n        _this.highestRef = null;\n        _this.lowestRef = null;\n\n        _this.stx.removeInjection(_this.injectionId);\n\n        _this.injectionId = null;\n      }\n    };\n\n    this.enableMarker = function () {\n      if (_this.isHighestLowestMarkerEnabled) {\n        _this.injectionId = _this.stx.append('createDataSegment', _this.calculateHighestLowestByNewData);\n      } else {\n        _this.clearInjection();\n      }\n    };\n\n    this.setHighestRef = function (ref) {\n      _this.highestRef = ref;\n\n      if (ref !== null) {\n        _this.highestRef.value = ref.div.querySelector('.spot__value');\n      }\n    };\n\n    this.setLowestRef = function (ref) {\n      _this.lowestRef = ref;\n\n      if (ref !== null) {\n        _this.lowestRef.value = ref.div.querySelector('.spot__value');\n      }\n    };\n\n    this.onContextReady = this.enableMarker;\n\n    this.calculateHighestLowestByNewData = function () {\n      if (!_this.highestRef || !_this.lowestRef) {\n        return;\n      }\n\n      if (_this.stx.chart && _this.stx.chart.dataSegment.length) {\n        _this.highest = null;\n        _this.lowest = null;\n\n        _this.stx.chart.dataSegment.forEach(function (tick) {\n          if (!tick) {\n            return;\n          }\n\n          if (!_this.highest || _this.highest.Close <= tick.Close) {\n            _this.highest = tick;\n          }\n\n          if (!_this.lowest || _this.lowest.Close >= tick.Close) {\n            _this.lowest = tick;\n          }\n        });\n      }\n\n      if (!_this.highest || !_this.lowest || _this.highest.Close === _this.lowest.Close) {\n        _this.highestRef.setPosition({\n          epoch: null,\n          price: null\n        });\n\n        _this.lowestRef.setPosition({\n          epoch: null,\n          price: null\n        });\n\n        return;\n      }\n\n      if (_this.highest) {\n        var price = _this.highest.Close.toFixed(_this.decimalPlaces);\n\n        _this.highestRef.setPosition({\n          epoch: Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCEpoch\"])(CIQ.strToDateTime(_this.highest.Date)),\n          price: price\n        });\n\n        _this.highestRef.value.textContent = price;\n      }\n\n      if (_this.lowest) {\n        var _price = _this.lowest.Close.toFixed(_this.decimalPlaces);\n\n        _this.lowestRef.setPosition({\n          epoch: Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCEpoch\"])(CIQ.strToDateTime(_this.lowest.Date)),\n          price: _price\n        });\n\n        _this.lowestRef.value.textContent = _price;\n      }\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.isHighestLowestMarkerEnabled;\n    }, this.enableMarker);\n  }\n\n  return HighestLowestStore;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (HighestLowestStore);\n\n/***/ }),\n\n/***/ \"./src/store/LastDigitStatsStore.js\":\n/*!******************************************!*\\\n  !*** ./src/store/LastDigitStatsStore.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LastDigitStatsStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\nvar LastDigitStatsStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function LastDigitStatsStore(mainStore) {\n    _classCallCheck(this, LastDigitStatsStore);\n\n    this.count = 1000;\n    this.digits = [];\n    this.latestData = [];\n    this.symbolChanged = false;\n\n    _initializerDefineProperty(this, \"bars\", _descriptor, this);\n\n    this.mainStore = mainStore;\n  }\n\n  _createClass(LastDigitStatsStore, [{\n    key: \"changeSymbol\",\n    value: function changeSymbol() {\n      this.symbolChanged = true;\n    }\n  }, {\n    key: \"showLastDigitStats\",\n    value: function () {\n      var _showLastDigitStats = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var i, tickHistory;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.digits = [];\n                this.bars = [];\n                this.latestData = [];\n\n                if (this.mainStore.chart && this.mainStore.chart.feed && !this.mainStore.state.showLastDigitStats) {\n                  this.mainStore.chart.feed.offMasterDataUpdate(this.onMasterDataUpdate);\n                }\n\n                if (!this.mainStore.state.showLastDigitStats) {\n                  _context.next = 17;\n                  break;\n                }\n\n                for (i = 0; i < 10; i++) {\n                  this.digits.push(0);\n                  this.bars.push({\n                    height: 0,\n                    cName: ''\n                  });\n                }\n\n                if (!(this.stx.masterData && this.stx.masterData.length >= this.count)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                this.latestData = this.stx.masterData.slice(-this.count).map(function (x) {\n                  return x.Close.toFixed(_this.decimalPlaces);\n                });\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.next = 12;\n                return this.api.getTickHistory({\n                  symbol: this.mainStore.chart.currentActiveSymbol.symbol,\n                  count: this.count\n                });\n\n              case 12:\n                tickHistory = _context.sent;\n                this.latestData = tickHistory && tickHistory.history ? tickHistory.history.prices : [];\n\n              case 14:\n                this.latestData.forEach(function (price) {\n                  var lastDigit = (+price).toFixed(_this.decimalPlaces).slice(-1);\n                  _this.digits[lastDigit]++;\n                });\n                this.updateBars();\n\n                if (this.mainStore.chart.feed) {\n                  this.mainStore.chart.feed.onMasterDataUpdate(this.onMasterDataUpdate);\n                }\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function showLastDigitStats() {\n        return _showLastDigitStats.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"onMasterDataUpdate\",\n    value: function onMasterDataUpdate(_ref) {\n      var Close = _ref.Close;\n\n      if (this.symbolChanged) {\n        // Symbol has changed\n        this.showLastDigitStats();\n        this.symbolChanged = false;\n      } else if (this.latestData.length) {\n        var firstDigit = (+this.latestData.shift()).toFixed(this.decimalPlaces).slice(-1);\n        var price = (+Close).toFixed(this.decimalPlaces);\n        var lastDigit = price.slice(-1);\n        this.latestData.push(+price);\n        this.digits[lastDigit]++;\n        this.digits[firstDigit]--;\n        this.updateBars();\n      }\n    }\n  }, {\n    key: \"updateBars\",\n    value: function updateBars() {\n      var _this2 = this;\n\n      var min = Math.min.apply(Math, _toConsumableArray(this.digits));\n      var max = Math.max.apply(Math, _toConsumableArray(this.digits));\n      this.digits.forEach(function (digit, idx) {\n        _this2.bars[idx].height = digit * 100 / _this2.count;\n        if (digit === min) _this2.bars[idx].cName = 'min';else if (digit === max) _this2.bars[idx].cName = 'max';else _this2.bars[idx].cName = '';\n      });\n      this.bars = this.bars.slice(0); // force array update\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"api\",\n    get: function get() {\n      return this.mainStore.chart.api;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }, {\n    key: \"isVisible\",\n    get: function get() {\n      return this.mainStore.state.showLastDigitStats;\n    }\n  }, {\n    key: \"marketDisplayName\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol ? this.mainStore.chart.currentActiveSymbol.name : '';\n    }\n  }, {\n    key: \"shouldMinimiseLastDigits\",\n    get: function get() {\n      return this.mainStore.state.shouldMinimiseLastDigits;\n    }\n  }]);\n\n  return LastDigitStatsStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"bars\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isVisible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"isVisible\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"marketDisplayName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"marketDisplayName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"shouldMinimiseLastDigits\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"shouldMinimiseLastDigits\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"changeSymbol\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"changeSymbol\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showLastDigitStats\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"showLastDigitStats\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMasterDataUpdate\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onMasterDataUpdate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateBars\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateBars\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ListStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/ListStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ListStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\nvar ListStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ListStore(_ref) {\n    var _this = this;\n\n    var getContext = _ref.getContext,\n        getItems = _ref.getItems,\n        onItemSelected = _ref.onItemSelected;\n\n    _classCallCheck(this, ListStore);\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        items: _this.getItems(),\n        onItemClick: _this.onItemClick\n      };\n    });\n    this.getContext = getContext;\n    this.getItems = getItems; // items : [{id: '', text: '', disabled?: false, active?: false}]\n\n    this.onItemSelected = onItemSelected;\n  }\n\n  _createClass(ListStore, [{\n    key: \"onItemClick\",\n    value: function onItemClick(idx, item) {\n      this.onItemSelected(item);\n    }\n  }]);\n\n  return ListStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"onItemClick\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onItemClick\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/LoaderStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/LoaderStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LoaderStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\nvar LoaderStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function LoaderStore() {\n    _classCallCheck(this, LoaderStore);\n\n    _initializerDefineProperty(this, \"isActive\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"currentState\", _descriptor2, this);\n\n    this.states = {};\n    this.states = {\n      'chart-engine': t.translate('Retrieving Chart Engine...'),\n      'market-symbol': t.translate('Retrieving Market Symbols...'),\n      'trading-time': t.translate('Retrieving Trading Times...'),\n      'chart-data': t.translate('Retrieving Chart Data...')\n    };\n  }\n\n  _createClass(LoaderStore, [{\n    key: \"setState\",\n    value: function setState(state) {\n      if (!this.states[state]) {\n        console.error('Wrong state requested!');\n        return;\n      }\n\n      this.currentState = this.states[state];\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.isActive = true;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.isActive = false;\n    }\n  }]);\n\n  return LoaderStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentState\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setState\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"show\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"show\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hide\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"hide\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/MarkerStore.js\":\n/*!**********************************!*\\\n  !*** ./src/store/MarkerStore.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MarkerStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _descriptor3;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n // width here includes the size of the flag\n\nvar MARKER_MAX_WIDTH = 150;\nvar MarkerStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function MarkerStore(mainStore) {\n    _classCallCheck(this, MarkerStore);\n\n    this.yPositioner = 'value';\n    this.xPositioner = 'epoch';\n    this.tick = void 0;\n    this.isDistantFuture = void 0;\n    this.className = void 0;\n    this.children = void 0;\n    this.x = void 0;\n    this.y = void 0;\n\n    _initializerDefineProperty(this, \"display\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"left\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"bottom\", _descriptor3, this);\n\n    this.mainStore = mainStore;\n    this.chartStore = mainStore.chart;\n    this.stx = this.mainStore.chart.context.stx;\n    this.chart = this.stx.chart;\n    this.panel = this.chart.panel;\n    this.yAxis = this.panel.yAxis;\n    this.mainStore.chart.feed.onPagination(this.updateMarkerTick);\n    this._listenerId = this.stx.addEventListener('newChart', this.updateMarkerTick);\n    this._injectionId = this.stx.prepend('positionMarkers', this.updateMarkerTick);\n  }\n\n  _createClass(MarkerStore, [{\n    key: \"destructor\",\n    value: function destructor() {\n      if (this._injectionId) {\n        this.stx.removeInjection(this._injectionId);\n      }\n\n      if (this._listenerId) {\n        this.stx.removeEventListener(this._listenerId);\n      }\n\n      if (this.mainStore.chart.feed) {\n        this.mainStore.chart.feed.offPagination(this.updateMarkerTick);\n      }\n\n      this._injectionId = null;\n      this._listenerId = null;\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var children = _ref.children,\n          className = _ref.className,\n          y = _ref.y,\n          yPositioner = _ref.yPositioner,\n          x = _ref.x,\n          xPositioner = _ref.xPositioner;\n      this.className = className;\n      this.children = children;\n      var isUpdateMarkerTickRequired = false;\n      var isUpdatePositionRequired = false;\n      Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"updatePropIfChanged\"])(this, {\n        x: x,\n        xPositioner: xPositioner\n      }, function () {\n        isUpdateMarkerTickRequired = true;\n      });\n      Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"updatePropIfChanged\"])(this, {\n        y: y,\n        yPositioner: yPositioner\n      }, function () {\n        isUpdatePositionRequired = true;\n      }); // TODO this condition isn't needed any more if the current algorithm works.\n\n      if (isUpdateMarkerTickRequired) {\n        this.updateMarkerTick(); // also calls updatePosition\n      } else if (isUpdatePositionRequired) {\n        // this.updatePosition();\n        this.updateMarkerTick();\n      }\n    } // The update function here is more efficient than ChartIQ's default implementation\n    // in that it doesn't factor the marker width and height into the calculation.\n    // Considering how often this function is called, it made more sense to have the offset\n    // done in CSS.\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      // Don't position the markers when the chart hasn't been scrolled to the leftmost of the screen\n      if (!this.shouldDrawMarkers) return; // When the chart has not been initialized or there isn't any data in masterData it shouldn't position the markers.\n\n      if (!this.stx || !this.stx.masterData || this.stx.masterData.length <= 0) {\n        return;\n      }\n\n      if (this.isDistantFuture && this.chart.xaxis && this.chart.xaxis.length > 0) {\n        var dummyMarker = this.getDummyMarker();\n        this.stx.futureTickIfDisplayed(dummyMarker);\n\n        if (dummyMarker.tick) {\n          this.tick = dummyMarker.tick;\n          this.isDistantFuture = false;\n        }\n      } // X axis positioning logic\n      // const { dataSet } = this.chart;\n\n\n      var quote = null;\n      var left;\n\n      if (this.xPositioner !== 'none') {\n        var _dummyMarker = this.getDummyMarker();\n\n        if (this.yPositioner !== 'none' && this.tick === null) {\n          this.hideMarker();\n          return;\n        } // TODO: Temporary solution until ChartIQ can support displaying markers in dates with no tick data\n\n\n        if (_dummyMarker.params.xPositioner === 'date' && !this.isDistantFuture && this.stx.masterData[this.tick] && this.stx.masterData[this.tick].DT.valueOf() !== _dummyMarker.params.x.valueOf()) {\n          // if the marker is not distance future but it is greater than the last item in the masterData, it will be hidden.\n          if (this.yPositioner !== 'none' && this.stx.masterData[this.stx.masterData.length - 1].DT.valueOf() < _dummyMarker.params.x.valueOf()) {\n            this.hideMarker();\n            return;\n          }\n          /**\n           * Adding an invisible bar if the bar\n           * does not exist on the masterData\n           */\n\n\n          this.stx.updateChartData({\n            DT: _dummyMarker.params.x,\n            Close: null\n          }, null, {\n            fillGaps: true\n          });\n          this.stx.createDataSet(); // this.tick += 1;\n\n          this.stx.setMarkerTick(_dummyMarker);\n          this.tick = _dummyMarker.tick;\n\n          if (this.yPositioner !== 'value' && this.yPositioner !== 'on_candle' && this.yPositioner !== 'top') {\n            this.yPositioner = 'none';\n          }\n        }\n\n        if (this.xPositioner === 'bar' && this.x) {\n          if (this.x < this.chart.xaxis.length) {\n            var xaxis = this.chart.xaxis[this.x];\n            if (xaxis) quote = xaxis.data;\n          }\n\n          left = this.stx.pixelFromBar(this.x, this.chart);\n        } else {\n          if (this.tick < this.stx.chart.dataSet.length) quote = this.stx.chart.dataSet[this.tick];\n          left = this.stx.pixelFromTick(this.tick, this.chart) - this.chart.left;\n        }\n\n        if (!quote) quote = this.stx.chart.dataSet[this.stx.chart.dataSet.length - 1]; // Future ticks based off the value of the current quote\n\n        var isMarkerExceedRange = left < -MARKER_MAX_WIDTH || left > this.chart.width + MARKER_MAX_WIDTH;\n\n        if (isMarkerExceedRange) {\n          this.hideMarker();\n          return;\n        }\n      }\n\n      this.left = left || null;\n\n      if (!this.left) {\n        this.hideMarker();\n        return;\n      }\n\n      var val;\n      var showsHighs = this.stx.chart.highLowBars || this.stx.highLowBars[this.stx.layout.chartType];\n      var plotField = this.chart.defaultPlotField;\n      if (!plotField || showsHighs) plotField = 'Close';\n\n      if (this.yPositioner.indexOf('candle') > -1) {\n        // candle positioning, find the quote\n        if (this.left) {\n          var bar = this.stx.barFromPixel(this.left, this.chart);\n\n          if (bar >= 0) {\n            quote = this.chart.xaxis[bar].data;\n            if (!quote) quote = this.stx.chart.dataSet[this.stx.chart.dataSet.length - 1]; // Future ticks based off the value of the current quote\n          }\n        }\n      } // Y axis positioning logic\n\n\n      if (this.yPositioner.toLowerCase() === 'none') {\n        // set the bottom value if there's a bottomWidget, else set it to undefined\n        this.bottom = this.stx.chart.yAxis.initialMarginBottom === 200 ? 125 : 20;\n        this.showMarker();\n        return;\n      }\n\n      var height = this.panel.yAxis.bottom;\n      var bottom = 0;\n\n      if (this.yPositioner === 'value' && this.y) {\n        bottom = height - this.stx.pixelFromPrice(this.y, this.panel, this.yAxis);\n      } else if (this.yPositioner === 'under_candle' && quote) {\n        val = quote[plotField];\n        if (showsHighs) val = this.stx.getBarBounds(quote).low;\n        bottom = height - this.stx.pixelFromPrice(val, this.panel, this.yAxis);\n      } else if (this.yPositioner === 'on_candle' && quote) {\n        val = quote[plotField];\n        if (showsHighs) val = (quote.Low + quote.High) / 2;\n        bottom = height - this.stx.pixelFromPrice(val, this.panel, this.yAxis);\n      } else if (this.yPositioner === 'top') {\n        bottom = height;\n      } else if (quote) {\n        // above_candle\n        val = quote[plotField];\n        if (showsHighs) val = this.stx.getBarBounds(quote).high;\n        bottom = height - this.stx.pixelFromPrice(val, this.panel, this.yAxis);\n      }\n\n      if (bottom < 0 || bottom > height) {\n        this.hideMarker();\n        return;\n      }\n\n      this.bottom = bottom | 0;\n      this.showMarker();\n    }\n  }, {\n    key: \"updateMarkerTick\",\n    value: function updateMarkerTick() {\n      var dummyMarker = this.getDummyMarker();\n      this.stx.setMarkerTick(dummyMarker);\n      this.tick = dummyMarker.tick;\n\n      if (dummyMarker.params.future) {\n        this.isDistantFuture = true;\n\n        if (this.chart.xaxis && this.chart.xaxis.length) {\n          this.stx.futureTickIfDisplayed(dummyMarker);\n          this.tick = dummyMarker.tick;\n\n          if (this.tick !== null) {\n            this.isDistantFuture = false;\n          }\n        } else {\n          this.hideMarker();\n          return;\n        }\n      }\n\n      if (this.tick !== null) {\n        this.updatePosition();\n      } else {\n        /**\n         * Adding an invisible bar if the bar\n         * does not exist on the masterData\n         */\n        this.stx.updateChartData({\n          DT: dummyMarker.params.x,\n          Close: null\n        }, null, {\n          fillGaps: true\n        });\n        this.stx.createDataSet();\n        this.stx.setMarkerTick(dummyMarker);\n        this.tick = dummyMarker.tick;\n\n        if (this.tick !== null) {\n          if (this.yPositioner !== 'value' && this.yPositioner !== 'on_candle' && this.yPositioner !== 'top') {\n            this.yPositioner = 'none';\n          }\n\n          this.updatePosition();\n        } else {\n          this.hideMarker();\n        }\n      }\n    } // ChartIQ's marker functions wants markers. Let's give them markers.\n\n  }, {\n    key: \"getDummyMarker\",\n    value: function getDummyMarker() {\n      var x = this.x;\n      var xPositioner = this.xPositioner;\n\n      if (this.xPositioner === 'epoch') {\n        xPositioner = 'date';\n        x = CIQ.strToDateTime(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUTCDate\"])(x));\n      }\n\n      return {\n        chart: this.chart,\n        params: {\n          x: x,\n          xPositioner: xPositioner\n        }\n      };\n    }\n  }, {\n    key: \"hideMarker\",\n    value: function hideMarker() {\n      this.display = 'none';\n    }\n  }, {\n    key: \"showMarker\",\n    value: function showMarker() {\n      this.display = undefined;\n    }\n  }, {\n    key: \"shouldDrawMarkers\",\n    get: function get() {\n      // if this.y === null, we know line markers is passed, so check if chart has\n      // been scrolled to the leftmost of the screen\n      // else return true in order to show chart-loader when loading historical data\n      return this.y === null ? this.stx.chart.isScrollLocationChanged : true;\n    }\n  }]);\n\n  return MarkerStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"display\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"left\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"bottom\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"shouldDrawMarkers\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"shouldDrawMarkers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destructor\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"destructor\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updatePosition\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updatePosition\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateMarkerTick\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateMarkerTick\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/MenuStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/MenuStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MenuStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _DialogStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DialogStore */ \"./src/store/DialogStore.js\");\n/* harmony import */ var _components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Dialog.jsx */ \"./src/components/Dialog.jsx\");\nvar _dec, _dec2, _class, _descriptor, _descriptor2;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\nvar MenuStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function MenuStore(mainStore, options) {\n    var _this = this;\n\n    _classCallCheck(this, MenuStore);\n\n    this.onContextReady = function () {\n      _this.modalNode = _this.mainStore.chart.modalNode;\n    };\n\n    _initializerDefineProperty(this, \"modalNode\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"route\", _descriptor2, this);\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (_ref) {\n      var c = _ref.chart;\n      return {\n        setOpen: _this.setOpen,\n        open: _this.open,\n        onTitleClick: _this.onTitleClick,\n        DropdownDialog: _this.DropDownDialog,\n        modalNode: _this.modalNode,\n        isMobile: c.isMobile,\n        shouldRenderDialogs: c.shouldRenderDialogs\n      };\n    });\n    this.mainStore = mainStore;\n    this.dialog = new _DialogStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore);\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n      return _this.open;\n    }, function () {\n      return _this.blurInput();\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.mainStore.chart.context;\n    }, this.onContextReady);\n\n    if (options && options.route) {\n      this.route = options.route;\n    }\n\n    this.DropDownDialog = this.dialog.connect(_components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(MenuStore, [{\n    key: \"setOpen\",\n    value: function setOpen(val) {\n      this.dialog.setOpen(val);\n      /**\n       *  Update the url hash by considering the dialog `route` and `open`\n       */\n\n      this.routingStore.updateRoute(this.route, val);\n    }\n  }, {\n    key: \"blurInput\",\n    value: function blurInput() {\n      var stx = this.context.stx;\n\n      if (this.open === false) {\n        document.activeElement.blur();\n        stx.modalEnd();\n      } else {\n        stx.modalBegin();\n      }\n\n      stx.allowScroll = stx.allowZoom = !this.open;\n    }\n  }, {\n    key: \"onTitleClick\",\n    value: function onTitleClick(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n\n      this.setOpen(!this.open);\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"routingStore\",\n    get: function get() {\n      return this.mainStore.routing;\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.dialog.open;\n    }\n  }]);\n\n  return MenuStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modalNode\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"route\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"open\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setOpen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTitleClick\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onTitleClick\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/Notifier.js\":\n/*!*******************************!*\\\n  !*** ./src/store/Notifier.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Notifier =\n/*#__PURE__*/\nfunction () {\n  function Notifier() {\n    _classCallCheck(this, Notifier);\n\n    this.onMessage = void 0;\n  }\n\n  _createClass(Notifier, [{\n    key: \"notify\",\n\n    /*\n     * a Notification object has the following structure:\n     * {\n     *     text, // displayed messages\n     *     type, // message type; choose from `info`, `warning`, `success`, `error`. Defaults to `warning`\n     *     category, // choose from `activesymbol`\n     * }\n     */\n    value: function notify(notification) {\n      if (this.onMessage) {\n        this.onMessage(_objectSpread({\n          type: 'warning'\n        }, notification));\n      }\n    }\n  }, {\n    key: \"notifyMarketOpen\",\n    value: function notifyMarketOpen(symbol) {\n      this.notify({\n        text: t.translate('[symbol] market is now opened.', {\n          symbol: symbol\n        }),\n        type: 'info',\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyMarketClose\",\n    value: function notifyMarketClose(symbol) {\n      this.notify({\n        text: t.translate('[symbol] market is presently closed.', {\n          symbol: symbol\n        }),\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyDelayedMarket\",\n    value: function notifyDelayedMarket(symbol, delay) {\n      this.notify({\n        text: t.translate('[symbol] feed is delayed by [delay] minutes', {\n          symbol: symbol,\n          delay: delay\n        }),\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }, {\n    key: \"notifyFeedUnavailable\",\n    value: function notifyFeedUnavailable(symbol) {\n      this.notify({\n        text: t.translate('Streaming for [symbol] is not available due to license restrictions', {\n          symbol: symbol\n        }),\n        type: 'error',\n        category: Notifier.CATEGORY_ACTIVE_SYMBOL\n      });\n    }\n  }], [{\n    key: \"CATEGORY_ACTIVE_SYMBOL\",\n    get: function get() {\n      return 'activesymbol';\n    }\n  }]);\n\n  return Notifier;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Notifier);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/PaginationLoaderStore.js\":\n/*!********************************************!*\\\n  !*** ./src/store/PaginationLoaderStore.js ***!\n  \\********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar PaginationLoaderStore =\n/*#__PURE__*/\nfunction () {\n  _createClass(PaginationLoaderStore, [{\n    key: \"feed\",\n    get: function get() {\n      return this.mainStore.chart.feed;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.mainStore.chart.stxx;\n    }\n  }]);\n\n  function PaginationLoaderStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, PaginationLoaderStore);\n\n    this.isOnPagination = false;\n    this.paginationEndEpoch = null;\n\n    this.onContextReady = function () {\n      _this.feed.onStartPagination(_this.setOnPagination);\n\n      _this.feed.onPagination(_this.setOnPagination); // this injection will slows down the swiping and mouse wheel operations\n      // by ignoring requests that are too close from one another or\n      // when isOnPagination is true\n\n\n      _this.stx.prepend('mouseWheel', _this.onMouseWheel);\n    };\n\n    this.onMouseWheel = function (e) {\n      e.preventDefault();\n      var diff = null;\n      var timeLimit = 40;\n      if (_this.stx.lastMouseWheelEvent) diff = Date.now() - _this.stx.lastMouseWheelEvent;\n      if (diff && diff < timeLimit || _this.isOnPagination) return true; // skip swiping\n\n      return false; // continue swiping\n    };\n\n    this.setRef = function (ref) {\n      _this.ref = ref;\n\n      if (_this.ref !== null) {\n        _this.ref.setPosition({\n          epoch: _this.paginationEndEpoch,\n          price: 0\n        });\n      }\n    };\n\n    this.setOnPagination = function (_ref) {\n      var end = _ref.end;\n\n      if (!_this.ref) {\n        return;\n      }\n\n      _this.isOnPagination = !_this.isOnPagination;\n      _this.paginationEndEpoch = _this.isOnPagination ? end : null;\n\n      _this.ref.setPosition({\n        epoch: _this.paginationEndEpoch,\n        price: 0\n      });\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  return PaginationLoaderStore;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PaginationLoaderStore);\n\n/***/ }),\n\n/***/ \"./src/store/PriceLineStore.js\":\n/*!*************************************!*\\\n  !*** ./src/store/PriceLineStore.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PriceLineStore; });\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-emitter-es6 */ \"./node_modules/event-emitter-es6/index.js\");\n/* harmony import */ var event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_emitter_es6__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\nvar LINE_OFFSET_HEIGHT = 4;\nvar LINE_OFFSET_HEIGHT_HALF = LINE_OFFSET_HEIGHT >> 1;\nvar PriceLineStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_1__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  _createClass(PriceLineStore, [{\n    key: \"zIndex\",\n    // @observable top = 0;\n    // @observable zIndex;\n    // @observable uncentered = false;\n    set: function set(value) {\n      if (this._line) {\n        this._line.style.zIndex = value;\n      }\n    }\n  }, {\n    key: \"pip\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }]);\n\n  function PriceLineStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, PriceLineStore);\n\n    this._relative = false;\n\n    _initializerDefineProperty(this, \"draggable\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"isDragging\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"visible\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"_price\", _descriptor4, this);\n\n    this.offScreen = false;\n\n    this.onContextReady = function () {\n      _this._injectionId = _this.stx.append('draw', _this._draw);\n    };\n\n    this.init = function () {\n      var exitIfNotisDraggable = function exitIfNotisDraggable(e, callback) {\n        if (_this.visible && _this.draggable) {\n          callback.call(_this, e);\n        }\n      };\n\n      CIQ.safeDrag(_this._line, function (e) {\n        return exitIfNotisDraggable(e, _this._startDrag);\n      }, function (e) {\n        return exitIfNotisDraggable(e, _this._dragLine);\n      }, function (e) {\n        return exitIfNotisDraggable(e, _this._endDrag);\n      });\n    };\n\n    this._calculateTop = function () {\n      if (_this.stx.currentQuote() === null) {\n        return;\n      }\n\n      var top = _this._locationFromPrice(_this.realPrice); // keep line on chart even if price is off viewable area:\n\n\n      if (top < 0) {\n        // this.uncentered = true;\n        if (top < -LINE_OFFSET_HEIGHT_HALF) {\n          _this.offScreen = true;\n        }\n\n        top = 0;\n      } else if (top + LINE_OFFSET_HEIGHT > _this.chart.panel.height) {\n        // this.uncentered = true;\n        if (top + LINE_OFFSET_HEIGHT - _this.chart.panel.height > LINE_OFFSET_HEIGHT_HALF) {\n          _this.offScreen = true;\n        }\n\n        top = _this.chart.panel.height - LINE_OFFSET_HEIGHT;\n      } else {\n        // this.uncentered = false;\n        _this.offScreen = false;\n      }\n\n      if (top + 30 > _this.chart.panel.height) {\n        top = _this.chart.panel.height - 30;\n      } else if (top < 10) {\n        top = 10;\n      }\n\n      return Math.round(top) | 0;\n    };\n\n    this._draw = function () {\n      if (_this.visible && _this._line) {\n        _this.top = _this._calculateTop();\n      }\n    };\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_2__[\"connect\"])(function () {\n      return {\n        priceDisplay: _this.priceDisplay,\n        visible: _this.visible,\n        setDragLine: _this.setDragLine,\n        className: _this.className,\n        draggable: _this.draggable,\n        isDragging: _this.isDragging,\n        init: _this.init // zIndex: this.zIndex,\n\n      };\n    });\n    this.mainStore = mainStore;\n    this._emitter = new event_emitter_es6__WEBPACK_IMPORTED_MODULE_0___default.a({\n      emitDelay: 0\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_1__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n  }\n\n  _createClass(PriceLineStore, [{\n    key: \"destructor\",\n    value: function destructor() {\n      this.stx.removeInjection(this._injectionId);\n    }\n  }, {\n    key: \"setDragLine\",\n    value: function setDragLine(el) {\n      this._line = el;\n\n      if (this._line) {\n        this._draw();\n      }\n    }\n  }, {\n    key: \"_modalBegin\",\n    value: function _modalBegin() {\n      if (this.stx.grabbingScreen) {\n        return;\n      }\n\n      this.stx.editingAnnotation = true;\n      this.stx.modalBegin();\n    }\n  }, {\n    key: \"_modalEnd\",\n    value: function _modalEnd() {\n      this.stx.modalEnd();\n      this.stx.editingAnnotation = false;\n    }\n  }, {\n    key: \"_startDrag\",\n    value: function _startDrag() {\n      this._modalBegin();\n\n      this.isDragging = true;\n      this._initialPosition = this.top;\n      this._startDragPrice = this._price;\n    }\n  }, {\n    key: \"_dragLine\",\n    value: function _dragLine(e) {\n      if (!this._line) {\n        return;\n      }\n\n      var newTop = this._initialPosition + e.displacementY;\n      var newCenter = newTop + LINE_OFFSET_HEIGHT_HALF;\n\n      var newPrice = this._priceFromLocation(newCenter);\n\n      if (this._priceConstrainer) {\n        newPrice = this._priceConstrainer(newPrice);\n      }\n\n      if (this.relative) {\n        newPrice -= this.stx.currentQuote().Close;\n      }\n\n      this.price = newPrice;\n    }\n  }, {\n    key: \"_endDrag\",\n    value: function _endDrag() {\n      this._modalEnd();\n\n      this.isDragging = false;\n\n      if (this._startDragPrice.toFixed(this.pip) !== this._price.toFixed(this.pip)) {\n        this._emitter.emit(PriceLineStore.EVENT_DRAG_RELEASED, this._price);\n      }\n    }\n  }, {\n    key: \"_locationFromPrice\",\n    value: function _locationFromPrice(p) {\n      return this.stx.pixelFromPrice(p, this.chart.panel) - this.chart.panel.top;\n    }\n  }, {\n    key: \"_priceFromLocation\",\n    value: function _priceFromLocation(y) {\n      var price = this.stx.valueFromPixel(y + this.chart.panel.top, this.chart.panel);\n      return price;\n    }\n  }, {\n    key: \"onPriceChanged\",\n    value: function onPriceChanged(callback) {\n      this._emitter.on(PriceLineStore.EVENT_PRICE_CHANGED, callback);\n    }\n  }, {\n    key: \"onDragReleased\",\n    value: function onDragReleased(callback) {\n      this._emitter.on(PriceLineStore.EVENT_DRAG_RELEASED, callback);\n    }\n  }, {\n    key: \"priceDisplay\",\n    get: function get() {\n      var display = this._price.toFixed(this.pip);\n\n      if (this.relative && this._price > 0) {\n        display = \"+\".concat(display);\n      }\n\n      return display;\n    }\n  }, {\n    key: \"price\",\n    get: function get() {\n      return this._price;\n    },\n    set: function set(value) {\n      if (value !== this._price) {\n        this._price = value;\n\n        this._draw();\n\n        this._emitter.emit(PriceLineStore.EVENT_PRICE_CHANGED, this._price);\n      }\n    }\n  }, {\n    key: \"relative\",\n    get: function get() {\n      return this._relative;\n    },\n    set: function set(value) {\n      if (this._relative === value) {\n        return;\n      }\n\n      this._relative = value; // convert between relative and absolute\n\n      var currentQuote = this.stx.currentQuote();\n      var currentPrice = currentQuote ? currentQuote.Close : 0;\n\n      if (this._relative) {\n        currentPrice = -currentPrice;\n      }\n\n      this.price = this._price + currentPrice;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"chart\",\n    get: function get() {\n      return this.stx.chart;\n    }\n  }, {\n    key: \"priceConstrainer\",\n    set: function set(value) {\n      this._priceConstrainer = value;\n    }\n  }, {\n    key: \"realPrice\",\n    get: function get() {\n      return this.relative ? this.stx.currentQuote().Close + this._price : this._price;\n    }\n  }, {\n    key: \"top\",\n    // Mantually update the dop to improve performance.\n    // We don't pay for react reconciler and mobx observable tracking in animation frames.\n    set: function set(v) {\n      this.__top = v;\n      this._line.style.transform = \"translateY(\".concat(this.top, \"px)\");\n    },\n    get: function get() {\n      return this.__top;\n    }\n  }], [{\n    key: \"EVENT_PRICE_CHANGED\",\n    get: function get() {\n      return 'EVENT_PRICE_CHANGED';\n    }\n  }, {\n    key: \"EVENT_DRAG_RELEASED\",\n    get: function get() {\n      return 'EVENT_DRAG_RELEASED';\n    }\n  }]);\n\n  return PriceLineStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"draggable\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"isDragging\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"visible\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"_price\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"pip\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"pip\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"priceDisplay\", [mobx__WEBPACK_IMPORTED_MODULE_1__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"priceDisplay\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setDragLine\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setDragLine\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_startDrag\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_startDrag\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_dragLine\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"_dragLine\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_endDrag\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"_endDrag\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/RoutingStore.js\":\n/*!***********************************!*\\\n  !*** ./src/store/RoutingStore.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RoutingStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nvar _dec, _dec2, _dec3, _dec4, _class;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\nvar allDialogs = [];\nvar RoutingStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function RoutingStore(mainStore) {\n    _classCallCheck(this, RoutingStore);\n\n    this.mainStore = mainStore;\n  }\n\n  _createClass(RoutingStore, [{\n    key: \"handleRouting\",\n    value: function handleRouting() {\n      var _this = this;\n\n      window.addEventListener('hashchange', function () {\n        var hash = window.history.state.urlPath.replace('#', '');\n\n        if (hash === '') {\n          _this.closeAll();\n        }\n      }, false);\n    }\n  }, {\n    key: \"updateRoute\",\n    value: function updateRoute(route, dialogStatus) {\n      var enableRouting = this.mainStore.chart.enableRouting;\n\n      if (enableRouting && dialogStatus && route) {\n        window.history.replaceState({\n          urlPath: '#'\n        }, '', '#');\n        window.history.pushState({\n          urlPath: \"#\".concat(route)\n        }, '', \"#\".concat(route));\n      } else if (enableRouting && !dialogStatus && route) {\n        window.history.replaceState({\n          urlPath: '#'\n        }, '', '#');\n      }\n    }\n  }, {\n    key: \"registerDialog\",\n    value: function registerDialog(dialogStore) {\n      allDialogs.push(dialogStore);\n    }\n  }, {\n    key: \"closeAll\",\n    value: function closeAll() {\n      allDialogs.forEach(function (m) {\n        return m.setOpen(false);\n      });\n    }\n  }]);\n\n  return RoutingStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"handleRouting\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"handleRouting\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateRoute\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateRoute\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"registerDialog\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"registerDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeAll\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"closeAll\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/SettingsDialogStore.js\":\n/*!******************************************!*\\\n  !*** ./src/store/SettingsDialogStore.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SettingsDialogStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\n/* harmony import */ var _components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Dialog.jsx */ \"./src/components/Dialog.jsx\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\nvar SettingsDialogStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  _createClass(SettingsDialogStore, [{\n    key: \"showTabs\",\n    // [{id: '', title: '', value: ''}]\n    // 'settings' | 'description'\n    get: function get() {\n      return !!this.description;\n    }\n  }]);\n\n  function SettingsDialogStore(_ref) {\n    var _this = this;\n\n    var mainStore = _ref.mainStore,\n        getContext = _ref.getContext,\n        onDeleted = _ref.onDeleted,\n        favoritesId = _ref.favoritesId,\n        onChanged = _ref.onChanged;\n\n    _classCallCheck(this, SettingsDialogStore);\n\n    _initializerDefineProperty(this, \"items\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"title\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"description\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"id\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"activeTab\", _descriptor5, this);\n\n    this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n      return {\n        items: _this.items,\n        title: _this.title,\n        description: _this.description,\n        activeTab: _this.activeTab,\n        showTabs: _this.showTabs,\n        setOpen: _this.setOpen,\n        onTabClick: _this.onTabClick,\n        onDeleteClick: _this.onDeleted ? _this.onDeleteClick : undefined,\n        favoritesId: _this.favoritesId,\n        onResetClick: _this.onResetClick,\n        onItemChange: _this.onItemChange,\n        Dialog: _this.Dialog,\n        open: _this.open,\n        id: _this.id\n      };\n    });\n    this.getContext = getContext;\n    this.onDeleted = onDeleted;\n    this.favoritesId = favoritesId;\n    this.onChanged = onChanged;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"](mainStore, {\n      route: 'indicator-setting'\n    });\n    this.Dialog = this.menu.dialog.connect(_components_Dialog_jsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  }\n\n  _createClass(SettingsDialogStore, [{\n    key: \"setOpen\",\n    value: function setOpen(value) {\n      return this.menu.setOpen(value);\n    }\n  }, {\n    key: \"onDeleteClick\",\n    value: function onDeleteClick() {\n      this.onDeleted();\n      this.menu.setOpen(false);\n    }\n  }, {\n    key: \"onTabClick\",\n    value: function onTabClick(id) {\n      this.activeTab = id;\n    }\n  }, {\n    key: \"onResetClick\",\n    value: function onResetClick() {\n      var items = this.items.map(function (item) {\n        return _objectSpread({}, item, {\n          value: item.defaultValue\n        });\n      });\n      this.items = items;\n      this.onChanged(items);\n    }\n  }, {\n    key: \"onItemChange\",\n    value: function onItemChange(id, newValue) {\n      var item = this.items.find(function (x) {\n        return x.id === id;\n      });\n\n      if (item && item.value !== newValue) {\n        item.value = newValue;\n        this.items = this.items.slice(0); // force array update\n\n        this.onChanged(this.items);\n      }\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"open\",\n    get: function get() {\n      return this.menu.open;\n    }\n  }]);\n\n  return SettingsDialogStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"items\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"title\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"description\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"id\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"activeTab\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'settings';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"showTabs\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"showTabs\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"open\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"open\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setOpen\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleteClick\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTabClick\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onTabClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onResetClick\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"onResetClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onItemChange\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"onItemChange\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/ShadeStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ShadeStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ShadeStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connect */ \"./src/store/Connect.js\");\nvar _class, _descriptor, _descriptor2;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\nvar ShadeStore = (_class = function ShadeStore(className) {\n  var _this = this;\n\n  _classCallCheck(this, ShadeStore);\n\n  _initializerDefineProperty(this, \"className\", _descriptor, this);\n\n  _initializerDefineProperty(this, \"visible\", _descriptor2, this);\n\n  this.setPosition = function (_ref) {\n    var top = _ref.top,\n        bottom = _ref.bottom,\n        right = _ref.right;\n\n    if (_this._div) {\n      var pos = null;\n\n      if (bottom && top) {\n        // between shade\n        var y = (bottom + top) / 2 + 60; // manually scale from default 120px (_barrier.scss)\n\n        var scale = (bottom - top) / 120.0;\n        pos = \"translate(\".concat(-right, \"px, \").concat(y, \"px) scale(1, \").concat(scale, \")\");\n      } else if (bottom) {\n        // above shade\n        pos = \"translate(\".concat(-right, \"px, \").concat(bottom, \"px)\");\n      } else if (top) {\n        // below shade\n        pos = \"translate(\".concat(-right, \"px, \").concat(top + 120, \"px)\");\n      }\n\n      _this._div.style.transform = pos;\n    }\n  };\n\n  this.setShadeRef = function (ref) {\n    _this._div = ref;\n  };\n\n  this.connect = Object(_Connect__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function () {\n    return {\n      visible: _this.visible,\n      className: _this.className,\n      setShadeRef: _this.setShadeRef\n    };\n  });\n  this.className = className;\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"className\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"visible\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n})), _class);\n\n\n/***/ }),\n\n/***/ \"./src/store/ShareStore.js\":\n/*!*********************************!*\\\n  !*** ./src/store/ShareStore.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ShareStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\n\n\n\nvar ShareStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function ShareStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, ShareStore);\n\n    _initializerDefineProperty(this, \"isLoadingPNG\", _descriptor, this);\n\n    this.onContextReady = function () {\n      _this.screenshotArea = _this.context.topNode.querySelector('.ciq-chart');\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'download'\n    });\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.ShareMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(ShareStore, [{\n    key: \"createNewTab\",\n    value: function createNewTab() {\n      // Create a new tab for browsers that doesn't support HTML5 download attribute\n      return !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform) ? window.open() : null;\n    }\n  }, {\n    key: \"downloadPNG\",\n    value: function downloadPNG() {\n      var _this2 = this;\n\n      this.isLoadingPNG = true;\n      var newTab = this.createNewTab();\n      __webpack_require__.e(/*! import() | html2canvas */ \"html2canvas\").then(__webpack_require__.t.bind(null, /*! ../../chartiq/html2canvas.min.js */ \"./chartiq/html2canvas.min.js\", 7)).then(function (html2canvas) {\n        // since react rerenders is not immediate, we use CIQ.appendClassName to\n        // immediately append/unappend class name before taking screenshot.\n        CIQ.appendClassName(_this2.screenshotArea, 'ciq-screenshot');\n        html2canvas.default(_this2.screenshotArea).then(function (canvas) {\n          return _this2._onCanvasReady(canvas, newTab);\n        });\n      });\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Download, 'Download PNG');\n    }\n  }, {\n    key: \"_onCanvasReady\",\n    value: function _onCanvasReady(canvas, newTab) {\n      var content = canvas.toDataURL('image/png');\n      Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"downloadFileInBrowser\"])(\"\".concat(new Date().toUTCString(), \".png\"), content, 'image/png;', newTab);\n      this.isLoadingPNG = false;\n      CIQ.unappendClassName(this.screenshotArea, 'ciq-screenshot');\n    }\n  }, {\n    key: \"downloadCSV\",\n    value: function downloadCSV() {\n      var _this3 = this;\n\n      var isTick = this.timeUnit === 'tick';\n      var header = \"Date,Time,\".concat(isTick ? this.marketDisplayName : 'Open,High,Low,Close');\n      var lines = [header];\n      this.stx.masterData.forEach(function (_ref) {\n        var DT = _ref.DT,\n            Open = _ref.Open,\n            High = _ref.High,\n            Low = _ref.Low,\n            Close = _ref.Close;\n        var year = DT.getFullYear();\n        var month = DT.getMonth() + 1; // months from 1-12\n\n        var day = DT.getDate();\n        var hours = DT.getHours();\n        var minutes = DT.getMinutes();\n        var seconds = DT.getSeconds();\n        var formattedSeconds = seconds > 9 ? \":\".concat(seconds) : \":0\".concat(seconds);\n        var date = \"\".concat(year, \"-\").concat(month > 9 ? month : \"0\".concat(month), \"-\").concat(day > 9 ? day : \"0\".concat(day));\n        var time = \"\".concat(hours > 9 ? hours : \"0\".concat(hours), \":\").concat(minutes > 9 ? minutes : \"0\".concat(minutes)).concat(isTick ? formattedSeconds : '');\n\n        if (isTick && Close) {\n          lines.push(\"\".concat(date, \",\").concat(time, \",\").concat(Close));\n        }\n\n        if (!isTick && Open && High && Low && Close) {\n          lines.push([date, time, Open.toFixed(_this3.decimalPlaces), High.toFixed(_this3.decimalPlaces), Low.toFixed(_this3.decimalPlaces), Close.toFixed(_this3.decimalPlaces)].join(','));\n        }\n      });\n      Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"downloadFileInBrowser\"])(\"\".concat(this.marketDisplayName, \" (\").concat(this.timeperiodDisplay, \").csv\"), lines.join('\\n'), 'text/csv;charset=utf-8;', this.createNewTab());\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Download, 'Download CSV');\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"timeUnit\",\n    get: function get() {\n      return this.mainStore.timeperiod.timeUnit;\n    }\n  }, {\n    key: \"timeperiodDisplay\",\n    get: function get() {\n      return this.mainStore.timeperiod.display;\n    }\n  }, {\n    key: \"marketDisplayName\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.market_display_name;\n    }\n  }, {\n    key: \"decimalPlaces\",\n    get: function get() {\n      return this.mainStore.chart.currentActiveSymbol.decimal_places;\n    }\n  }]);\n\n  return ShareStore;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"timeUnit\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"timeUnit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"timeperiodDisplay\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"timeperiodDisplay\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"marketDisplayName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"marketDisplayName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decimalPlaces\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"decimalPlaces\"), _class.prototype), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"isLoadingPNG\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"downloadPNG\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"downloadPNG\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onCanvasReady\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"_onCanvasReady\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"downloadCSV\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"downloadCSV\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/StudyLegendStore.js\":\n/*!***************************************!*\\\n  !*** ./src/store/StudyLegendStore.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StudyLegendStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CategoricalDisplayStore */ \"./src/store/CategoricalDisplayStore.js\");\n/* harmony import */ var _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SettingsDialogStore */ \"./src/store/SettingsDialogStore.js\");\n/* harmony import */ var _components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SettingsDialog.jsx */ \"./src/components/SettingsDialog.jsx\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/categoricaldisplay */ \"./src/components/categoricaldisplay/index.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _descriptor, _descriptor2;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\n\n // TODO:\n// import StudyInfo from '../study-info';\n\nvar StudyLegendStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function StudyLegendStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, StudyLegendStore);\n\n    this.onContextReady = function () {\n      _this.stx.callbacks.studyOverlayEdit = _this.editStudy;\n      _this.stx.callbacks.studyPanelEdit = _this.editStudy; // to remove studies if user has already more than 5\n\n      _this.removeExtraStudies();\n\n      _this.stx.append('createDataSet', _this.renderLegend);\n\n      _this.stx.append('drawPanels', function () {\n        var panel = Object.keys(_this.stx.panels)[1];\n\n        if (panel) {\n          // Hide the up arrow from first indicator to prevent user\n          // from moving the indicator panel above the main chart\n          _this.stx.panels[panel].up.style.display = 'none';\n        }\n      });\n\n      _this.renderLegend();\n    };\n\n    this.previousStudies = {};\n    this.searchInputClassName = void 0;\n\n    _initializerDefineProperty(this, \"hasReachedLimits\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"activeStudies\", _descriptor2, this);\n\n    this.renderLegend = function () {\n      if (!_this.shouldRenderLegend()) {\n        return;\n      }\n\n      _this.updateActiveStudies(); // Temporary prevent user from adding more than 5 indicators\n      // All traces can be removed after new design for studies\n\n\n      _this.updateStyle();\n    };\n\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'indicators'\n    });\n    this.categoricalDisplay = new _CategoricalDisplayStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      activeOptions: [{\n        id: 'edit',\n        onClick: function onClick(item) {\n          return _this.editStudy(item);\n        }\n      }, {\n        id: 'delete',\n        onClick: function onClick(item) {\n          return _this.deleteStudy(item);\n        }\n      }],\n      getIsShown: function getIsShown() {\n        return _this.menu.open;\n      },\n      getCategoricalItems: function getCategoricalItems() {\n        return _this.categorizedStudies;\n      },\n      getActiveCategory: function getActiveCategory() {\n        return _this.activeStudies;\n      },\n      onSelectItem: this.onSelectItem.bind(this),\n      placeholderText: t.translate('\"Mass Index\" or \"Doji Star\"'),\n      favoritesId: 'indicators',\n      mainStore: mainStore,\n      searchInputClassName: function searchInputClassName() {\n        return _this.searchInputClassName;\n      },\n      limitInfo: t.translate('Up to 5 active indicators allowed.')\n    });\n    this.settingsDialog = new _SettingsDialogStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      mainStore: mainStore,\n      onDeleted: function onDeleted() {\n        return _this.deleteStudy(_this.helper);\n      },\n      favoritesId: 'indicators',\n      onChanged: function onChanged(items) {\n        return _this.updateStudy(_this.helper.sd, items);\n      }\n    });\n    this.StudyCategoricalDisplay = this.categoricalDisplay.connect(_components_categoricaldisplay__WEBPACK_IMPORTED_MODULE_6__[\"CategoricalDisplay\"]);\n    this.StudyMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.StudySettingsDialog = this.settingsDialog.connect(_components_SettingsDialog_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n  }\n\n  _createClass(StudyLegendStore, [{\n    key: \"removeExtraStudies\",\n    value: function removeExtraStudies() {\n      var _this2 = this;\n\n      if (this.stx.layout && this.stx.layout.studies) {\n        var studiesKeys = Object.keys(this.stx.layout.studies);\n\n        if (studiesKeys.length > 5) {\n          Object.keys(this.stx.layout.studies).forEach(function (study, idx) {\n            if (idx >= 5) {\n              setTimeout(function () {\n                CIQ.Studies.removeStudy(_this2.stx, _this2.stx.layout.studies[study]);\n\n                _this2.renderLegend();\n              }, 0);\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onSelectItem\",\n    value: function onSelectItem(item) {\n      if (this.stx.layout && Object.keys(this.stx.layout.studies || []).length < 5) {\n        var sd = CIQ.Studies.addStudy(this.stx, item);\n        this.changeStudyPanelTitle(sd);\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogActions\"].Indicator, \"Add \".concat(item));\n        this.menu.setOpen(false);\n      }\n    } // Temporary prevent user from adding more than 5 indicators\n    // TODO All traces can be removed after new design for studies\n\n  }, {\n    key: \"updateStyle\",\n    value: function updateStyle() {\n      var should_minimise_last_digit = Object.keys(this.stx.panels).length > 2;\n      this.mainStore.state.setShouldMinimiseLastDigit(should_minimise_last_digit);\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(_ref) {\n      var searchInputClassName = _ref.searchInputClassName;\n      this.searchInputClassName = searchInputClassName;\n    }\n  }, {\n    key: \"editStudy\",\n    value: function editStudy(study) {\n      var helper = new CIQ.Studies.DialogHelper(study);\n      this.helper = helper;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogActions\"].Indicator, \"Edit \".concat(helper.name));\n      var attributes = helper.attributes;\n      var inputs = helper.inputs.map(function (inp) {\n        return _objectSpread({\n          id: inp.name,\n          title: t.translate(inp.heading),\n          value: inp.value,\n          defaultValue: inp.defaultInput,\n          type: inp.type === 'checkbox' ? 'switch' : inp.type,\n          options: inp.options || null\n        }, attributes[inp.name], {\n          // {min:1, max: 20}\n          category: 'inputs'\n        });\n      });\n      var outputs = helper.outputs.map(function (out) {\n        return {\n          id: out.name,\n          title: t.translate(out.heading),\n          defaultValue: out.defaultOutput,\n          value: out.color,\n          type: 'colorpicker',\n          category: 'outputs'\n        };\n      });\n      var parameters = helper.parameters.map(function (par) {\n        var shared = _objectSpread({\n          title: t.translate(par.heading)\n        }, attributes[par.name], {\n          category: 'parameters'\n        });\n\n        if (par.defaultValue.constructor === Boolean) {\n          return _objectSpread({}, shared, {\n            id: \"\".concat(par.name, \"Enabled\"),\n            value: par.value,\n            defaultValue: par.defaultValue,\n            type: 'switch'\n          });\n        }\n\n        if (par.defaultValue.constructor === Number) {\n          return _objectSpread({}, shared, {\n            id: par.name,\n            type: 'numbercolorpicker',\n            defaultValue: {\n              Color: par.defaultColor,\n              Value: par.defaultValue\n            },\n            value: {\n              Color: par.color,\n              Value: par.value\n            }\n          });\n        }\n\n        throw new Error('Unrecognised parameter!');\n      });\n      this.settingsDialog.id = study.sd.type;\n      this.settingsDialog.items = _toConsumableArray(outputs).concat(_toConsumableArray(inputs), _toConsumableArray(parameters));\n      this.settingsDialog.title = t.translate(study.sd.libraryEntry.name); // TODO:\n      // const description = StudyInfo[study.sd.type];\n      // this.settingsDialog.description = description || t.translate(\"No description yet\");\n\n      this.settingsDialog.description = '';\n      this.settingsDialog.setOpen(true);\n    }\n  }, {\n    key: \"deleteStudy\",\n    value: function deleteStudy(study) {\n      var _this3 = this;\n\n      var sd = study.sd;\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_7__[\"LogActions\"].Indicator, \"Remove \".concat(sd.name));\n\n      if (!sd.permanent) {\n        // Need to run this in the nextTick because the study legend can be removed by this click\n        // causing the underlying chart to receive the mousedown (on IE win7)\n        setTimeout(function () {\n          CIQ.Studies.removeStudy(_this3.stx, sd);\n\n          _this3.renderLegend();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"updateStudy\",\n    value: function updateStudy(study, items) {\n      var updates = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _step.value,\n              id = _step$value.id,\n              category = _step$value.category,\n              value = _step$value.value,\n              type = _step$value.type;\n          var isChanged = void 0;\n\n          if (type === 'numbercolorpicker') {\n            isChanged = study[category][\"\".concat(id, \"Color\")] !== value.Color || study[category][\"\".concat(id, \"Value\")] !== value.Value;\n          } else {\n            isChanged = study[category][id] !== value;\n          }\n\n          if (isChanged) {\n            updates[category] = updates[category] || {};\n\n            if (_typeof(value) === 'object') {\n              for (var suffix in value) {\n                updates[category][\"\".concat(id).concat(suffix)] = value[suffix];\n              }\n            } else {\n              updates[category][id] = value;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (Object.keys(updates).length === 0) return;\n      this.helper.updateStudy(updates);\n      this.updateActiveStudies();\n      this.stx.draw();\n      this.changeStudyPanelTitle(this.helper.sd);\n      this.settingsDialog.title = t.translate(this.helper.sd.libraryEntry.name);\n    }\n  }, {\n    key: \"changeStudyPanelTitle\",\n    value: function changeStudyPanelTitle(sd) {\n      // Remove numbers from the end of indicator titles in mobile\n      if (this.mainStore.chart.isMobile) {\n        this.stx.panels[sd.panel].display = sd.type;\n        this.stx.draw();\n        this.mainStore.state.saveLayout();\n      }\n    }\n  }, {\n    key: \"shouldRenderLegend\",\n    value: function shouldRenderLegend() {\n      var stx = this.stx;\n\n      if (!stx.layout.studies) {\n        return false;\n      } // Logic to determine if the studies have changed, otherwise don't re-create the legend\n\n\n      if (CIQ.objLength(this.previousStudies) === CIQ.objLength(stx.layout.studies)) {\n        var foundAChange = false;\n\n        for (var id in stx.layout.studies) {\n          if (!this.previousStudies[id]) {\n            foundAChange = true;\n            break;\n          }\n        }\n\n        if (!foundAChange) {\n          return false;\n        }\n      }\n\n      this.previousStudies = CIQ.shallowClone(stx.layout.studies);\n      return true;\n    }\n    /**\n     * Gets called continually in the draw animation loop.\n     * Be careful not to render unnecessarily. */\n\n  }, {\n    key: \"setReachedLimit\",\n    value: function setReachedLimit() {\n      var hasReachedLimit = this.activeStudies.data.length >= 5;\n      this.hasReachedLimits = hasReachedLimit;\n    }\n  }, {\n    key: \"updateActiveStudies\",\n    value: function updateActiveStudies() {\n      var _this4 = this;\n\n      var stx = this.stx;\n      var studies = [];\n      Object.keys(stx.layout.studies || []).forEach(function (id) {\n        var sd = stx.layout.studies[id];\n\n        if (sd.customLegend) {\n          return;\n        }\n\n        studies.push({\n          enabled: true,\n          display: _this4.mainStore.chart.isMobile ? t.translate(sd.libraryEntry.name) : sd.inputs.display,\n          dataObject: {\n            stx: stx,\n            sd: sd,\n            inputs: sd.inputs,\n            outputs: sd.outputs,\n            parameters: sd.parameters\n          }\n        });\n      });\n      this.activeStudies.data = studies;\n      this.activeStudies.categoryNamePostfix = \"(\".concat(studies.length, \"/5)\");\n      this.setReachedLimit();\n    }\n  }, {\n    key: \"clearStudies\",\n    value: function clearStudies() {\n      if (this.context) {\n        this.context.advertised.Layout.clearStudies();\n      }\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"categorizedStudies\",\n    get: function get() {\n      var data = [];\n      var excludedStudies = {\n        Beta: true\n      };\n      Object.keys(CIQ.Studies.studyLibrary).forEach(function (studyId) {\n        if (!excludedStudies[studyId]) {\n          var study = CIQ.Studies.studyLibrary[studyId];\n          data.push({\n            enabled: true,\n            display: t.translate(study.name),\n            dataObject: studyId,\n            itemId: studyId\n          });\n        }\n      });\n      var categoryNamePostfix = \"(\".concat(this.activeStudies.data.length, \"/5)\");\n      var category = {\n        categoryName: t.translate('Indicators'),\n        categoryNamePostfix: categoryNamePostfix,\n        categoryNamePostfixShowIfActive: true,\n        categoryId: 'indicators',\n        categorySubtitle: t.translate('Up to 5 active indicators allowed.'),\n        hasSubcategory: false,\n        data: data\n      };\n      return [category];\n    }\n  }]);\n\n  return StudyLegendStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"hasReachedLimits\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"activeStudies\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      categoryName: t.translate('Active'),\n      categoryNamePostfix: '',\n      categoryId: 'active',\n      hasSubcategory: false,\n      emptyDescription: t.translate('There are no active indicators yet.'),\n      data: []\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"removeExtraStudies\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"removeExtraStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectItem\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectItem\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateStyle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"editStudy\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"editStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteStudy\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateStudy\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"updateStudy\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setReachedLimit\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setReachedLimit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateActiveStudies\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"updateActiveStudies\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clearStudies\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"clearStudies\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/TimeperiodStore.js\":\n/*!**************************************!*\\\n  !*** ./src/store/TimeperiodStore.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(t) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TimeperiodStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ServerTime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ServerTime */ \"./src/utils/ServerTime.js\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\n\n\n\n\n\n\nvar TimeperiodStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class =\n/*#__PURE__*/\nfunction () {\n  function TimeperiodStore(mainStore) {\n    var _this = this;\n\n    _classCallCheck(this, TimeperiodStore);\n\n    _initializerDefineProperty(this, \"timeUnit\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"interval\", _descriptor2, this);\n\n    this.onGranularityChange = void 0;\n    this.remain = null;\n\n    this.onContextReady = function () {\n      var _this$context$stx$lay = _this.context.stx.layout,\n          timeUnit = _this$context$stx$lay.timeUnit,\n          interval = _this$context$stx$lay.interval;\n      _this.timeUnit = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getTimeUnit\"])({\n        timeUnit: timeUnit,\n        interval: interval\n      });\n      _this.interval = interval;\n\n      _this.updateCountdown();\n\n      Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"reaction\"])(function () {\n        return [_this.timeUnit, _this.interval, _this.mainStore.chartSetting.countdown, _this.mainStore.chartType.type];\n      }, _this.updateCountdown.bind(_this));\n\n      _this.context.stx.addEventListener('newChart', _this.updateDisplay);\n    };\n\n    this.countdownInterval = null;\n    this.mainStore = mainStore;\n    Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"when\"])(function () {\n      return _this.context;\n    }, this.onContextReady);\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](mainStore, {\n      route: 'time-period'\n    });\n    this.TimePeriodMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    this._serverTime = _utils_ServerTime__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getInstance();\n  }\n\n  _createClass(TimeperiodStore, [{\n    key: \"clearCountdown\",\n    value: function clearCountdown() {\n      if (this.countdownInterval) {\n        clearInterval(this.countdownInterval);\n      }\n\n      if (this._injectionId) {\n        this.context.stx.removeInjection(this._injectionId);\n      }\n\n      this._injectionId = undefined;\n      this.countdownInterval = undefined;\n      this.context.stx.draw();\n    }\n  }, {\n    key: \"updateCountdown\",\n    value: function updateCountdown() {\n      var _this2 = this;\n\n      var stx = this.context.stx;\n      this.remain = null;\n      this.clearCountdown();\n\n      var setRemain = function setRemain() {\n        if (stx.isDestroyed || _this2.isTick) {\n          _this2.clearCountdown();\n\n          return;\n        }\n\n        var dataSet = stx.chart.dataSet;\n\n        if (dataSet && dataSet.length !== 0) {\n          var now = _this2._serverTime.getUTCDate();\n\n          var diff = now - dataSet[dataSet.length - 1].DT;\n          _this2.remain = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"displayMilliseconds\"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getIntervalInSeconds\"])(stx.layout) * 1000 - diff);\n          stx.draw();\n        }\n      };\n\n      var isCountdownChart = !this.mainStore.chartType.isAggregateChart;\n      var hasCountdown = this.mainStore.chartSetting.countdown && !this.isTick && isCountdownChart;\n\n      if (hasCountdown) {\n        if (!this._injectionId) {\n          this._injectionId = stx.append('draw', function () {\n            if (_this2.isTick) {\n              _this2.clearCountdown();\n\n              return;\n            }\n\n            if (_this2.remain && stx.currentQuote() !== null) {\n              stx.yaxisLabelStyle = 'rect';\n              stx.labelType = 'countdown';\n              stx.createYAxisLabel(stx.chart.panel, _this2.remain, _this2.remainLabelY, '#15212d', '#FFFFFF');\n              stx.labelType = null;\n              stx.yaxisLabelStyle = 'roundRectArrow';\n            }\n          });\n        }\n\n        if (!this.countdownInterval) {\n          this.countdownInterval = setInterval(setRemain, 1000);\n          setRemain();\n        }\n      }\n    }\n  }, {\n    key: \"setGranularity\",\n    value: function setGranularity(granularity) {\n      if (this.mainStore.state.granularity !== undefined) {\n        console.error('Setting granularity does nothing since granularity prop is set. Consider overriding the onChange prop in <TimePeriod />');\n        return;\n      }\n\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_5__[\"LogActions\"].Interval, granularity.toString());\n      this.mainStore.chart.changeSymbol(undefined, granularity);\n    }\n  }, {\n    key: \"updateProps\",\n    value: function updateProps(onChange) {\n      if (this.mainStore.state.granularity !== undefined) {\n        this.onGranularityChange = typeof onChange === 'function' ? onChange : function () {};\n        this.onGranularityChange(this.mainStore.state.granularity);\n      }\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      var stx = this.context.stx;\n      this.timeUnit = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getTimeUnit\"])(stx.layout);\n      this.interval = stx.layout.interval;\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }, {\n    key: \"isTick\",\n    get: function get() {\n      return this.timeUnit === 'tick';\n    }\n  }, {\n    key: \"remainLabelY\",\n    get: function get() {\n      var stx = this.context.stx;\n      var topPos = 36;\n      var labelHeight = 24;\n      var bottomPos = 66;\n      var y = stx.chart.currentPriceLabelY + labelHeight;\n\n      if (stx.chart.currentPriceLabelY > stx.chart.panel.bottom - bottomPos) {\n        y = stx.chart.panel.bottom - bottomPos;\n        y = y < stx.chart.currentPriceLabelY - labelHeight ? y : stx.chart.currentPriceLabelY - labelHeight;\n      } else if (stx.chart.currentPriceLabelY < stx.chart.panel.top) {\n        y = topPos;\n      }\n\n      return y;\n    }\n  }, {\n    key: \"timeUnit_display\",\n    get: function get() {\n      if (!this.timeUnit) {\n        return;\n      } // Convert to camel case:\n\n\n      return t.translate(this.timeUnit.replace(/(\\w)/, function (str) {\n        return str.toUpperCase();\n      }));\n    }\n  }, {\n    key: \"interval_display\",\n    get: function get() {\n      if (this.interval % 60 === 0) {\n        return this.interval / 60;\n      }\n\n      return +this.interval ? this.interval : 1;\n    }\n  }, {\n    key: \"display\",\n    get: function get() {\n      var t = this.timeUnit ? this.timeUnit[0] : '';\n      return this.interval_display + t; // 1d, 1t, 5m, 2h\n    }\n  }]);\n\n  return TimeperiodStore;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"timeUnit\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"interval\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setGranularity\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"setGranularity\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateProps\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"updateProps\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateDisplay\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"updateDisplay\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"remainLabelY\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"remainLabelY\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"timeUnit_display\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"timeUnit_display\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"interval_display\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"interval_display\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"display\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"computed\"]], Object.getOwnPropertyDescriptor(_class.prototype, \"display\"), _class.prototype)), _class));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./src/Translation.js */ \"./src/Translation.js\")[\"t\"]))\n\n/***/ }),\n\n/***/ \"./src/store/ViewStore.js\":\n/*!********************************!*\\\n  !*** ./src/store/ViewStore.js ***!\n  \\********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ViewStore; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _MenuStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MenuStore */ \"./src/store/MenuStore.js\");\n/* harmony import */ var _components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Menu.jsx */ \"./src/components/Menu.jsx\");\n/* harmony import */ var _utils_ga__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ga */ \"./src/utils/ga.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _init, _descriptor, _descriptor2, _descriptor3, _class2, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.'); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object['ke' + 'ys'](descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object['define' + 'Property'](target, property, desc); desc = null; } return desc; }\n\n\n\n\n\n\nvar ViewStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_0__[\"action\"].bound, (_class = (_temp = _class2 =\n/*#__PURE__*/\nfunction () {\n  function ViewStore(mainStore) {\n    _classCallCheck(this, ViewStore);\n\n    _initializerDefineProperty(this, \"templateName\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"currentRoute\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"routes\", _descriptor3, this);\n\n    this.inputRef = function (ref) {\n      if (ref) {\n        ref.focus();\n      }\n    };\n\n    this.mainStore = mainStore;\n    this.menu = new _MenuStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](mainStore, {\n      route: 'templates'\n    });\n    this.ViewsMenu = this.menu.connect(_components_Menu_jsx__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  }\n\n  _createClass(ViewStore, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.templateName = e.target.value;\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      if (e.keyCode === 13) {\n        this.saveViews();\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Save Template');\n      }\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.templateName = '';\n      this.updateRoute('main');\n    }\n  }, {\n    key: \"updateRoute\",\n    value: function updateRoute(name) {\n      this.currentRoute = name;\n    }\n  }, {\n    key: \"saveViews\",\n    value: function saveViews() {\n      var _this = this;\n\n      if (ViewStore.views.some(function (x) {\n        return x.name.toLowerCase() === _this.templateName.toLowerCase();\n      })) {\n        this.updateRoute('overwrite');\n      } else if (this.templateName.length > 0) {\n        this.updateRoute('main');\n        var layout = this.stx.exportLayout();\n        ViewStore.views.push({\n          name: this.templateName,\n          layout: layout\n        });\n        ViewStore.updateLocalStorage();\n        this.templateName = '';\n      }\n    }\n  }, {\n    key: \"overwrite\",\n    value: function overwrite() {\n      var _this2 = this;\n\n      var layout = this.stx.exportLayout();\n      var templateIndex = ViewStore.views.findIndex(function (x) {\n        return x.name.toLowerCase() === _this2.templateName.toLowerCase();\n      });\n      ViewStore.views[templateIndex].layout = layout;\n      ViewStore.views[templateIndex].name = this.templateName;\n      ViewStore.updateLocalStorage();\n      this.updateRoute('main');\n      this.templateName = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(idx, e) {\n      ViewStore.views = ViewStore.views.filter(function (x, index) {\n        return idx !== index;\n      });\n      e.nativeEvent.is_item_removed = true;\n      ViewStore.updateLocalStorage();\n      Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Remove Template');\n    }\n  }, {\n    key: \"applyLayout\",\n    value: function applyLayout(idx, e) {\n      var _this3 = this;\n\n      if (e.nativeEvent.is_item_removed) {\n        return;\n      }\n\n      if (this.loader) {\n        this.loader.show();\n      }\n\n      this.mainStore.state.setChartIsReady(false);\n      var stx = this.stx;\n\n      var importLayout = function importLayout() {\n        var finishImportLayout = function finishImportLayout() {\n          stx.changeOccurred('layout');\n\n          _this3.mainStore.studies.updateActiveStudies();\n\n          if (_this3.loader) {\n            _this3.loader.hide();\n          }\n\n          _this3.mainStore.state.setChartIsReady(true);\n        };\n\n        stx.importLayout(ViewStore.views[idx].layout, {\n          managePeriodicity: true,\n          preserveTicksAndCandleWidth: true,\n          cb: finishImportLayout\n        }); // This condition is to make spline chart appear as spline chart\n        // Both line chart and spline chart are of type mountain but with different tensions\n\n        var chartType = ViewStore.views[idx].layout.chartType;\n\n        if (chartType === 'mountain') {\n          var tension = ViewStore.views[idx].layout.tension;\n\n          if (tension === 0.5) {\n            chartType = 'spline';\n          }\n        }\n\n        _this3.mainStore.chartType.setType(chartType);\n\n        _this3.menu.setOpen(false);\n\n        Object(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"logEvent\"])(_utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogCategories\"].ChartControl, _utils_ga__WEBPACK_IMPORTED_MODULE_4__[\"LogActions\"].Template, 'Load Template');\n      };\n\n      setTimeout(importLayout, 100);\n    }\n  }, {\n    key: \"context\",\n    get: function get() {\n      return this.mainStore.chart.context;\n    }\n  }, {\n    key: \"stx\",\n    get: function get() {\n      return this.context.stx;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this.mainStore.loader;\n    }\n  }], [{\n    key: \"updateLocalStorage\",\n    value: function updateLocalStorage() {\n      CIQ.localStorageSetItem('cq-views', JSON.stringify(ViewStore.views));\n    }\n  }]);\n\n  return ViewStore;\n}(), _class2.views = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"createObjectFromLocalStorage\"])('cq-views') || [], _temp), (_applyDecoratedDescriptor(_class, \"views\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], (_init = Object.getOwnPropertyDescriptor(_class, \"views\"), _init = _init ? _init.value : undefined, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  initializer: function initializer() {\n    return _init;\n  }\n}), _class), _descriptor = _applyDecoratedDescriptor(_class.prototype, \"templateName\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentRoute\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'main';\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"routes\", [mobx__WEBPACK_IMPORTED_MODULE_0__[\"observable\"]], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this4 = this;\n\n    return {\n      add: function add() {\n        return _this4.saveViews();\n      },\n      main: function main() {\n        return _this4.updateRoute('add');\n      },\n      cancel: function cancel() {\n        return _this4.onCancel();\n      },\n      overwrite: function overwrite() {\n        return _this4.overwrite();\n      }\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"onChange\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"onChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSubmit\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"onSubmit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onCancel\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"onCancel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateRoute\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"updateRoute\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"saveViews\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"saveViews\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"overwrite\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"overwrite\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"remove\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"remove\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"applyLayout\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"applyLayout\"), _class.prototype)), _class));\n\n\n/***/ }),\n\n/***/ \"./src/store/index.js\":\n/*!****************************!*\\\n  !*** ./src/store/index.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MainStore; });\n/* harmony import */ var _BottomWidgetsContainerStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BottomWidgetsContainerStore */ \"./src/store/BottomWidgetsContainerStore.js\");\n/* harmony import */ var _TimeperiodStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TimeperiodStore */ \"./src/store/TimeperiodStore.js\");\n/* harmony import */ var _ChartStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChartStore */ \"./src/store/ChartStore.js\");\n/* harmony import */ var _ChartTypeStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartTypeStore */ \"./src/store/ChartTypeStore.js\");\n/* harmony import */ var _StudyLegendStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StudyLegendStore */ \"./src/store/StudyLegendStore.js\");\n/* harmony import */ var _ComparisonStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ComparisonStore */ \"./src/store/ComparisonStore.js\");\n/* harmony import */ var _DrawToolsStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DrawToolsStore */ \"./src/store/DrawToolsStore.js\");\n/* harmony import */ var _ChartTitleStore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ChartTitleStore */ \"./src/store/ChartTitleStore.js\");\n/* harmony import */ var _AssetInformationStore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AssetInformationStore */ \"./src/store/AssetInformationStore.js\");\n/* harmony import */ var _ComparisonListStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ComparisonListStore */ \"./src/store/ComparisonListStore.js\");\n/* harmony import */ var _ViewStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ViewStore */ \"./src/store/ViewStore.js\");\n/* harmony import */ var _CrosshairStore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CrosshairStore */ \"./src/store/CrosshairStore.js\");\n/* harmony import */ var _ShareStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ShareStore */ \"./src/store/ShareStore.js\");\n/* harmony import */ var _ChartSettingStore__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ChartSettingStore */ \"./src/store/ChartSettingStore.js\");\n/* harmony import */ var _LoaderStore__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LoaderStore */ \"./src/store/LoaderStore.js\");\n/* harmony import */ var _FavoriteStore__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./FavoriteStore */ \"./src/store/FavoriteStore.js\");\n/* harmony import */ var _ChartSizeStore__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ChartSizeStore */ \"./src/store/ChartSizeStore.js\");\n/* harmony import */ var _RoutingStore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./RoutingStore */ \"./src/store/RoutingStore.js\");\n/* harmony import */ var _CurrentSpotStore__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./CurrentSpotStore */ \"./src/store/CurrentSpotStore.js\");\n/* harmony import */ var _DrawingCursorStore__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./DrawingCursorStore */ \"./src/store/DrawingCursorStore.js\");\n/* harmony import */ var _ChartState__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ChartState */ \"./src/store/ChartState.js\");\n/* harmony import */ var _Notifier__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Notifier */ \"./src/store/Notifier.js\");\n/* harmony import */ var _ChartTableStore__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ChartTableStore */ \"./src/store/ChartTableStore.js\");\n/* harmony import */ var _LastDigitStatsStore__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./LastDigitStatsStore */ \"./src/store/LastDigitStatsStore.js\");\n/* harmony import */ var _HighestLowestStore__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./HighestLowestStore */ \"./src/store/HighestLowestStore.js\");\n/* harmony import */ var _PaginationLoaderStore__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./PaginationLoaderStore */ \"./src/store/PaginationLoaderStore.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MainStore = function MainStore() {\n  _classCallCheck(this, MainStore);\n\n  this.notifier = new _Notifier__WEBPACK_IMPORTED_MODULE_21__[\"default\"]();\n  this.favorites = _FavoriteStore__WEBPACK_IMPORTED_MODULE_15__[\"default\"].getInstance();\n  this.chart = new _ChartStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this);\n  this.state = new _ChartState__WEBPACK_IMPORTED_MODULE_20__[\"default\"](this);\n  this.chartType = new _ChartTypeStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this);\n  this.studies = new _StudyLegendStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this);\n  this.comparison = new _ComparisonStore__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this);\n  this.drawTools = new _DrawToolsStore__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this);\n  this.chartTitle = new _ChartTitleStore__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this);\n  this.timeperiod = new _TimeperiodStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this);\n  this.assetInformation = new _AssetInformationStore__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this);\n  this.comparisonList = new _ComparisonListStore__WEBPACK_IMPORTED_MODULE_9__[\"default\"](this);\n  this.view = new _ViewStore__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this);\n  this.crosshair = new _CrosshairStore__WEBPACK_IMPORTED_MODULE_11__[\"default\"](this);\n  this.share = new _ShareStore__WEBPACK_IMPORTED_MODULE_12__[\"default\"](this);\n  this.chartSetting = new _ChartSettingStore__WEBPACK_IMPORTED_MODULE_13__[\"default\"](this);\n  this.loader = new _LoaderStore__WEBPACK_IMPORTED_MODULE_14__[\"default\"]();\n  this.chartSize = new _ChartSizeStore__WEBPACK_IMPORTED_MODULE_16__[\"default\"](this);\n  this.routing = new _RoutingStore__WEBPACK_IMPORTED_MODULE_17__[\"default\"](this);\n  this.currentSpot = new _CurrentSpotStore__WEBPACK_IMPORTED_MODULE_18__[\"default\"](this);\n  this.drawingCursor = new _DrawingCursorStore__WEBPACK_IMPORTED_MODULE_19__[\"default\"](this);\n  this.chartTable = new _ChartTableStore__WEBPACK_IMPORTED_MODULE_22__[\"default\"](this);\n  this.lastDigitStats = new _LastDigitStatsStore__WEBPACK_IMPORTED_MODULE_23__[\"default\"](this);\n  this.bottomWidgetsContainer = new _BottomWidgetsContainerStore__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\n  this.highestLowest = new _HighestLowestStore__WEBPACK_IMPORTED_MODULE_24__[\"default\"](this);\n  this.paginationLoader = new _PaginationLoaderStore__WEBPACK_IMPORTED_MODULE_25__[\"default\"](this);\n};\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/PendingPromise.js\":\n/*!*************************************!*\\\n  !*** ./src/utils/PendingPromise.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PendingPromise; });\nfunction PendingPromise() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var resolve;\n  var reject;\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  });\n\n  promise.resolve = function (res) {\n    promise.isPending = false;\n    resolve(res);\n  };\n\n  promise.reject = function (error) {\n    promise.isPending = false;\n    reject(error);\n  };\n\n  promise.data = data;\n  return promise;\n}\n\n/***/ }),\n\n/***/ \"./src/utils/ServerTime.js\":\n/*!*********************************!*\\\n  !*** ./src/utils/ServerTime.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"./src/utils/index.js\");\n/* harmony import */ var _PendingPromise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PendingPromise */ \"./src/utils/PendingPromise.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar ServerTime =\n/*#__PURE__*/\nfunction () {\n  function ServerTime() {\n    var _this = this;\n\n    _classCallCheck(this, ServerTime);\n\n    this.clockStarted = false;\n    this.clockStartedPromise = new _PendingPromise__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    this._timeResponse = function (response) {\n      if (response.error) {\n        _this.clockStarted = false;\n      }\n\n      if (!_this.clockStarted) {\n        _this.init();\n\n        return;\n      }\n\n      var serverTime = response.time;\n      var clientTimeAtResponse = Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCEpoch\"])(new Date());\n      _this.serverTimeAtResponse = serverTime + (clientTimeAtResponse - _this.clientTimeAtRequest) / 2;\n\n      var updateTime = function updateTime() {\n        _this.serverTimeAtResponse += 1;\n      };\n\n      clearInterval(_this.updateTimeInterval);\n      _this.updateTimeInterval = setInterval(updateTime, 1000);\n    };\n  }\n\n  _createClass(ServerTime, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(api) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._api = api;\n\n                if (this.clockStarted) {\n                  _context.next = 9;\n                  break;\n                }\n\n                this.clockStarted = true;\n                clearInterval(this.getTimeInterval);\n                _context.next = 6;\n                return this.requestTime();\n\n              case 6:\n                this.getTimeInterval = setInterval(this.requestTime.bind(this), 30000);\n                _context.next = 10;\n                break;\n\n              case 9:\n                return _context.abrupt(\"return\", this.clockStartedPromise);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function init(_x) {\n        return _init.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"requestTime\",\n    value: function () {\n      var _requestTime = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.clientTimeAtRequest = Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCEpoch\"])(new Date());\n                _context2.next = 3;\n                return this._api.getServerTime().then(this._timeResponse);\n\n              case 3:\n                this.clockStartedPromise.resolve();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function requestTime() {\n        return _requestTime.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getEpoch\",\n    value: function getEpoch() {\n      if (this.serverTimeAtResponse) {\n        return this.serverTimeAtResponse;\n      }\n\n      throw new Error('Server time is undefined!');\n    }\n  }, {\n    key: \"getLocalDate\",\n    value: function getLocalDate() {\n      return Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getLocalDate\"])(this.getEpoch());\n    }\n  }, {\n    key: \"getUTCDate\",\n    value: function getUTCDate() {\n      return CIQ.strToDateTime(Object(_index__WEBPACK_IMPORTED_MODULE_0__[\"getUTCDate\"])(this.getEpoch()));\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!this._instance) {\n        this._instance = new ServerTime();\n      }\n\n      return this._instance;\n    }\n  }]);\n\n  return ServerTime;\n}();\n\nServerTime._instance = void 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServerTime);\n\n/***/ }),\n\n/***/ \"./src/utils/ga.js\":\n/*!*************************!*\\\n  !*** ./src/utils/ga.js ***!\n  \\*************************/\n/*! exports provided: LogCategories, LogActions, initGA, logPageView, logEvent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LogCategories\", function() { return LogCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LogActions\", function() { return LogActions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initGA\", function() { return initGA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logPageView\", function() { return logPageView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logEvent\", function() { return logEvent; });\nvar LogCategories = Object.freeze({\n  ChartTitle: 'Chart Title',\n  CategoricalDisplay: 'Categorical Display',\n  ChartControl: 'Chart Control'\n});\nvar LogActions = Object.freeze({\n  MarketSelector: 'Market Selector',\n  Favorite: 'Favorite',\n  ChartSetting: 'Chart Setting',\n  ChartSize: 'Chart Size',\n  ChartType: 'Chart Type',\n  Comparison: 'Comparison',\n  DrawTools: 'Draw Tools',\n  Download: 'Download',\n  Indicator: 'Indicator',\n  Interval: 'Interval',\n  Template: 'Template'\n});\n/* eslint-disable */\n\nfunction initGA() {}\nfunction logPageView() {}\nfunction logEvent(category, action, label) {}\n\n/***/ }),\n\n/***/ \"./src/utils/index.js\":\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/*! exports provided: createObjectFromLocalStorage, isValidProp, getTimeUnit, getIntervalInSeconds, stableSort, sameBar, downloadFileInBrowser, stxtap, getUTCEpoch, getUTCDate, getLocalDate, updatePropIfChanged, calculateTimeUnitInterval, calculateGranularity, displayMilliseconds, cloneCategory, cloneCategories */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createObjectFromLocalStorage\", function() { return createObjectFromLocalStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isValidProp\", function() { return isValidProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTimeUnit\", function() { return getTimeUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIntervalInSeconds\", function() { return getIntervalInSeconds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stableSort\", function() { return stableSort; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sameBar\", function() { return sameBar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"downloadFileInBrowser\", function() { return downloadFileInBrowser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stxtap\", function() { return stxtap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUTCEpoch\", function() { return getUTCEpoch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUTCDate\", function() { return getUTCDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLocalDate\", function() { return getLocalDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updatePropIfChanged\", function() { return updatePropIfChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateTimeUnitInterval\", function() { return calculateTimeUnitInterval; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateGranularity\", function() { return calculateGranularity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"displayMilliseconds\", function() { return displayMilliseconds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneCategory\", function() { return cloneCategory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneCategories\", function() { return cloneCategories; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createObjectFromLocalStorage(key) {\n  var val = localStorage.getItem(key);\n  var isValid = val !== null;\n\n  if (isValid) {\n    try {\n      return JSON.parse(val);\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  return undefined;\n}\nfunction isValidProp(p) {\n  return p !== undefined && !isNaN(p); // eslint-disable-line no-restricted-globals\n}\nvar getTimeUnit = function getTimeUnit(_ref) {\n  var timeUnit = _ref.timeUnit,\n      interval = _ref.interval;\n\n  if (timeUnit === null && interval === 'day') {\n    return 'day';\n  }\n\n  if (timeUnit === 'minute' && interval % 60 === 0) {\n    return 'hour';\n  }\n\n  if (timeUnit === 'second') {\n    return 'tick';\n  }\n\n  return timeUnit;\n};\nvar getIntervalInSeconds = function getIntervalInSeconds(_ref2) {\n  var timeUnit = _ref2.timeUnit,\n      interval = _ref2.interval;\n  var unit = timeUnit;\n  var interv = interval;\n\n  if (interv === 'day') {\n    unit = 86400;\n    interv = 1;\n  } else if (timeUnit === 'minute') {\n    unit = 60;\n  } else if (timeUnit === 'second') {\n    unit = 1;\n  }\n\n  return unit * interv;\n};\nfunction stableSort(arr) {\n  var compare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (a, b) {\n    return a < b;\n  };\n  var original = arr.slice(0);\n  arr.sort(function (a, b) {\n    var result = compare(a, b);\n    return result === 0 ? original.indexOf(a) - original.indexOf(b) : result;\n  });\n  return arr;\n}\nfunction sameBar(bar1, bar2) {\n  return !(!bar1 || !bar2 || +bar1.DT !== +bar2.DT || bar1.Close !== bar2.Close || bar1.Open !== bar2.Open || bar1.Volume !== bar2.Volume);\n}\nfunction downloadFileInBrowser(filename, content, type, newTab) {\n  var blob = new Blob([content], {\n    type: type\n  });\n\n  if (navigator.msSaveBlob) {\n    // IE 10+\n    navigator.msSaveBlob(blob, filename);\n    return;\n  }\n\n  var url = type === 'image/png;' ? content : URL.createObjectURL(blob);\n  var link = document.createElement('a');\n\n  if (link.download !== undefined) {\n    // Browsers that support HTML5 download attribute\n    link.setAttribute('href', url);\n    link.setAttribute('download', filename);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    return;\n  }\n\n  if (newTab) {\n    if (type === 'image/png;') {\n      newTab.document.write(\"<iframe src=\\\"\".concat(url, \"\\\" frameborder=\\\"0\\\" style=\\\"border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;\\\" allowfullscreen></iframe>\"));\n    } else {\n      var lines = content.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        newTab.document.write(\"\".concat(lines[i], \"<br/>\"));\n      }\n    }\n  }\n}\nfunction stxtap(el, func) {\n  if (el && !el.safeClickTouchEvents) {\n    CIQ.installTapEvent(el);\n    el.addEventListener('stxtap', func);\n  }\n}\nfunction getUTCEpoch(date) {\n  return date.getTime() / 1000 - date.getTimezoneOffset() * 60 | 0;\n}\nfunction getUTCDate(epoch) {\n  var UTCdate = new Date(epoch * 1000).toISOString();\n  return UTCdate.substring(0, 19);\n}\nfunction getLocalDate(epoch) {\n  return new Date(epoch * 1000);\n}\nfunction updatePropIfChanged(source, props, onChanged) {\n  var isChanged = false;\n\n  for (var attr in props) {\n    if (props[attr] !== undefined && source[attr] !== props[attr]) {\n      source[attr] = props[attr];\n      isChanged = true;\n    }\n  }\n\n  if (isChanged && onChanged) {\n    onChanged();\n  }\n}\nfunction calculateTimeUnitInterval(granularity) {\n  var interval = 1;\n  var timeUnit = 'second';\n\n  if (granularity === 86400) {\n    timeUnit = 'day';\n  } else if (granularity > 0) {\n    interval = granularity / 60;\n    timeUnit = 'minute';\n  }\n\n  return {\n    interval: interval,\n    timeUnit: timeUnit\n  };\n}\nfunction calculateGranularity(period, interval) {\n  var toSeconds = {\n    second: 0,\n    minute: 60,\n    day: 24 * 60 * 60\n  };\n  return toSeconds[interval] * period;\n}\nfunction displayMilliseconds(ms) {\n  var totalSec = ms / 1000;\n\n  if (totalSec <= 0) {\n    return null;\n  }\n\n  var padNum = function padNum(n) {\n    return \"0\".concat(n).slice(-2);\n  };\n\n  var seconds = padNum(Math.trunc(totalSec % 60));\n  var minutes = padNum(Math.trunc(totalSec / 60 % 60));\n  var hours = Math.trunc(totalSec / 3600 % 24);\n  hours = hours ? \"\".concat(hours, \":\") : '';\n  return \"\".concat(hours).concat(minutes, \":\").concat(seconds);\n}\nfunction cloneCategory(category) {\n  var transformItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n    return x;\n  };\n  var categoryData = [];\n\n  var categoryCopy = _objectSpread({}, category, {\n    data: categoryData\n  });\n\n  if (category.hasSubcategory) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = category.data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var subcategory = _step.value;\n        var subcategoryData = [];\n\n        var subcategoryCopy = _objectSpread({}, subcategory, {\n          data: subcategoryData\n        });\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = subcategory.data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var item = _step2.value;\n            subcategoryData.push(transformItem(item));\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        categoryData.push(subcategoryCopy);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else {\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = category.data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var _item = _step3.value;\n        categoryData.push(transformItem(_item));\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  }\n\n  return categoryCopy;\n}\nfunction cloneCategories(categories) {\n  var transformItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (x) {\n    return x;\n  };\n  var categorized = [];\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = categories[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var category = _step4.value;\n      categorized.push(cloneCategory(category, transformItem));\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  return categorized;\n}\n\n/***/ }),\n\n/***/ \"./translation lazy recursive ^\\\\.\\\\/.*\\\\.po$\":\n/*!********************************************************!*\\\n  !*** ./translation lazy ^\\.\\/.*\\.po$ namespace object ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./de.po\": [\n\t\t\"./translation/de.po\",\n\t\t\"de-po\"\n\t],\n\t\"./es.po\": [\n\t\t\"./translation/es.po\",\n\t\t\"es-po\"\n\t],\n\t\"./fr.po\": [\n\t\t\"./translation/fr.po\",\n\t\t\"fr-po\"\n\t],\n\t\"./id.po\": [\n\t\t\"./translation/id.po\",\n\t\t\"id-po\"\n\t],\n\t\"./it.po\": [\n\t\t\"./translation/it.po\",\n\t\t\"it-po\"\n\t],\n\t\"./nl.po\": [\n\t\t\"./translation/nl.po\",\n\t\t\"nl-po\"\n\t],\n\t\"./pl.po\": [\n\t\t\"./translation/pl.po\",\n\t\t\"pl-po\"\n\t],\n\t\"./pt.po\": [\n\t\t\"./translation/pt.po\",\n\t\t\"pt-po\"\n\t],\n\t\"./ru.po\": [\n\t\t\"./translation/ru.po\",\n\t\t\"ru-po\"\n\t],\n\t\"./th.po\": [\n\t\t\"./translation/th.po\",\n\t\t\"th-po\"\n\t],\n\t\"./vi.po\": [\n\t\t\"./translation/vi.po\",\n\t\t\"vi-po\"\n\t],\n\t\"./zh_cn.po\": [\n\t\t\"./translation/zh_cn.po\",\n\t\t\"zh_cn-po\"\n\t],\n\t\"./zh_tw.po\": [\n\t\t\"./translation/zh_tw.po\",\n\t\t\"zh_tw-po\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./translation lazy recursive ^\\\\.\\\\/.*\\\\.po$\";\nmodule.exports = webpackAsyncContext;\n\n/***/ }),\n\n/***/ \"./translation/messages.pot\":\n/*!**********************************!*\\\n  !*** ./translation/messages.pot ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = {\" already exists.\":0,\"[symbol] feed is delayed by [delay] minutes\":1,\"[symbol] market is now opened.\":2,\"[symbol] market is presently closed.\":3,\"\\\"Mass Index\\\" or \\\"Doji Star\\\"\":4,\"Active\":5,\"Add New\":6,\"Annotation\":7,\"Asset Information\":8,\"Auto Scale\":9,\"Average Line\":10,\"Baseline\":11,\"Box Size\":12,\"C\":13,\"Callout\":14,\"CANCEL\":15,\"Candle\":16,\"Change\":17,\"Channel\":18,\"Chart data is not available for this symbol.\":19,\"Chart Table\":20,\"Chart types\":21,\"Clear All\":22,\"Close\":23,\"CLOSE\":24,\"CLOSED\":25,\"Colored Dot\":26,\"Comparison\":27,\"Continuous\":28,\"Countdown\":29,\"Crosshair\":30,\"Crossline\":31,\"Dark Mode\":32,\"Date\":33,\"Day\":34,\"DONE\":35,\"Doodle\":36,\"Dot\":37,\"Download\":38,\"Download as CSV\":39,\"Download as PNG\":40,\"Download Chart\":41,\"Draw tools\":42,\"Ellipse\":43,\"Favorites\":44,\"Fib Arc\":45,\"Fib Fan\":46,\"Fib Retracement\":47,\"Fib Time Zone\":48,\"Gann Fan\":49,\"Gartley\":50,\"H\":51,\"Heikin Ashi\":52,\"High\":53,\"HIGH\":54,\"Historical Data Mode\":55,\"Hollow Candle\":56,\"Horizontal\":57,\"Hour\":58,\"Indicators\":59,\"Interval\":60,\"Kagi\":61,\"L\":62,\"Language\":63,\"Last digits stats for latest 1000 ticks on \":64,\"Line\":65,\"Line Break\":66,\"Low\":67,\"LOW\":68,\"Measure\":69,\"Minute\":70,\"O\":71,\"OHLC\":72,\"Open\":73,\"OPEN\":74,\"OVERWRITE\":75,\"Pitchfork\":76,\"Point & Figure\":77,\"Position\":78,\"Price Lines\":79,\"Quadrant Lines\":80,\"Range\":81,\"Range Bars\":82,\"Ray\":83,\"Rectangle\":84,\"Regression Line\":85,\"Renko\":86,\"RESET\":87,\"Retrieving Chart Data...\":88,\"Retrieving Chart Engine...\":89,\"Retrieving Market Symbols...\":90,\"Retrieving Trading Times...\":91,\"Reversal\":92,\"Reversal Percentage\":93,\"right-click to delete\":94,\"right-click to manage\":95,\"Search...\":96,\"Segment\":97,\"Settings\":98,\"Shape - Arrow\":99,\"Shape - Check\":100,\"Shape - Cross\":101,\"Shape - Focus\":102,\"Shape - Heart\":103,\"Shape - Star\":104,\"Speed Resistance Arc\":105,\"Speed Resistance Line\":106,\"Spline\":107,\"SPOT\":108,\"Streaming for [symbol] is not available due to license restrictions\":109,\"Table\":110,\"Template name\":111,\"Templates\":112,\"There are no active comparisons yet.\":113,\"There are no active indicators yet.\":114,\"There are no favorites yet.\":115,\"Tick\":116,\"Time Cycle\":117,\"Tirone Levels\":118,\"Underlying Assets\":119,\"Vertical\":120,\"Would you like to overwrite it?\":121,\"Zoom in\":122,\"Zoom out\":123,\"RSI\":124,\"Period\":125,\"Show Zones\":126,\"OverBought\":127,\"OverSold\":128,\"Moving Average\":129,\"Field\":130,\"Type\":131,\"Offset\":132,\"MA\":133,\"MACD\":134,\"Fast MA Period\":135,\"Slow MA Period\":136,\"Signal Period\":137,\"Signal\":138,\"Increasing Bar\":139,\"Decreasing Bar\":140,\"Stochastics\":141,\"Smooth\":142,\"Fast\":143,\"Slow\":144,\"Aroon\":145,\"Aroon Up\":146,\"Aroon Down\":147,\"Aroon Oscillator\":148,\"Linear Reg R2\":149,\"RSquared\":150,\"Linear Reg Forecast\":151,\"Forecast\":152,\"Linear Reg Intercept\":153,\"Intercept\":154,\"Time Series Forecast\":155,\"Vertical Horizontal Filter\":156,\"Result\":157,\"TRIX\":158,\"Standard Deviation\":159,\"Standard Deviations\":160,\"Moving Average Type\":161,\"Trade Volume Index\":162,\"Min Tick Value\":163,\"Swing Index\":164,\"Limit Move Value\":165,\"Accumulative Swing Index\":166,\"Price Rate of Change\":167,\"Volume Rate of Change\":168,\"Momentum Indicator\":169,\"Price Volume Trend\":170,\"Positive Volume Index\":171,\"Index\":172,\"Negative Volume Index\":173,\"On Balance Volume\":174,\"Stochastic Momentum Index\":175,\"%K Periods\":176,\"%K Smoothing Periods\":177,\"%K Double Smoothing Periods\":178,\"%D Periods\":179,\"%D Moving Average Type\":180,\"%K\":181,\"%D\":182,\"Historical Volatility\":183,\"Days Per Year\":184,\"Pretty Good Oscillator\":185,\"Ultimate Oscillator\":186,\"Cycle 1\":187,\"Cycle 2\":188,\"Cycle 3\":189,\"Volume Oscillator\":190,\"Short Cycle\":191,\"Long Cycle\":192,\"Points Or Percent\":193,\"Twiggs Money Flow\":194,\"Chaikin Money Flow\":195,\"Chaikin Volatility\":196,\"Rate Of Change\":197,\"Price Oscillator\":198,\"Ease of Movement\":199,\"Commodity Channel Index\":200,\"Detrended Price Oscillator\":201,\"True Range\":202,\"Average True Range\":203,\"ATR\":204,\"Ehler Fisher Transform\":205,\"EF\":206,\"EF Trigger\":207,\"Schaff Trend Cycle\":208,\"QStick\":209,\"Coppock Curve\":210,\"Short RoC\":211,\"Long RoC\":212,\"Chande Momentum Oscillator\":213,\"Chande Forecast Oscillator\":214,\"Intraday Momentum Index\":215,\"RAVI\":216,\"Random Walk Index\":217,\"Random Walk High\":218,\"Random Walk Low\":219,\"ADX/DMS\":220,\"Smoothing Period\":221,\"Series\":222,\"Shading\":223,\"Histogram\":224,\"+DI\":225,\"-DI\":226,\"ADX\":227,\"Positive Bar\":228,\"Negative Bar\":229,\"High Low Bands\":230,\"Shift Percentage\":231,\"Channel Fill\":232,\"High Low Top\":233,\"High Low Median\":234,\"High Low Bottom\":235,\"High Minus Low\":236,\"Median Price\":237,\"Moving Average Envelope\":238,\"Shift Type\":239,\"Shift\":240,\"MA Env Top\":241,\"MA Env Median\":242,\"MA Env Bottom\":243,\"Fractal Chaos Bands\":244,\"Fractal High\":245,\"Fractal Low\":246,\"Fractal Channel\":247,\"Fractal Chaos Oscillator\":248,\"Gopalakrishnan Range Index\":249,\"Prime Number Bands\":250,\"Prime Bands Top\":251,\"Prime Bands Bottom\":252,\"Prime Bands Channel\":253,\"Prime Number Oscillator\":254,\"Tolerance Percentage\":255,\"Bollinger Bands\":256,\"Bollinger Bands Top\":257,\"Bollinger Bands Median\":258,\"Bollinger Bands Bottom\":259,\"Donchian Channel\":260,\"High Period\":261,\"Low Period\":262,\"Donchian High\":263,\"Donchian Median\":264,\"Donchian Low\":265,\"Highest High Value\":266,\"Lowest Low Value\":267,\"Mass Index\":268,\"Bulge Threshold\":269,\"Keltner Channel\":270,\"Keltner Top\":271,\"Keltner Median\":272,\"Keltner Bottom\":273,\"Parabolic SAR\":274,\"Minimum AF\":275,\"Maximum AF\":276,\"Klinger Volume Oscillator\":277,\"Signal Periods\":278,\"Klinger\":279,\"KlingerSignal\":280,\"Elder Ray Index\":281,\"Elder Bull Power\":282,\"Elder Bear Power\":283,\"Elder Force Index\":284,\"Linear Reg Slope\":285,\"Slope\":286,\"Center Of Gravity\":287,\"Typical Price\":288,\"Weighted Close\":289,\"Money Flow Index\":290,\"Williams %R\":291,\"Accumulation/Distribution\":292,\"Use Volume\":293,\"Volume Chart\":294,\"Up Volume\":295,\"Down Volume\":296,\"Volume Underlay\":297,\"Valuation Lines\":298,\"Average Type\":299,\"Display Average\":300,\"Display 1 Standard Deviation (1)\":301,\"Display 2 Standard Deviation (2)\":302,\"Display 3 Standard Deviation (3)\":303,\"Average\":304,\"1 Standard Deviation (1)\":305,\"2 Standard Deviation (2)\":306,\"3 Standard Deviation (3)\":307,\"Correlation Coefficient\":308,\"Price Momentum Oscillator\":309,\"Double Smoothing Period\":310,\"PMO\":311,\"PMOSignal\":312,\"Relative Volatility\":313,\"STD Period\":314,\"Rel Vol\":315,\"Awesome Oscillator\":316,\"Market Facilitation Index\":317,\"Scale Factor\":318,\"Green\":319,\"Fade\":320,\"Fake\":321,\"Squat\":322,\"ATR Bands\":323,\"ATR Bands Top\":324,\"ATR Bands Bottom\":325,\"ATR Bands Channel\":326,\"STARC Bands\":327,\"MA Period\":328,\"Multiplier\":329,\"STARC Bands Top\":330,\"STARC Bands Median\":331,\"STARC Bands Bottom\":332,\"ATR Trailing Stops\":333,\"Plot Type\":334,\"HighLow\":335,\"Buy Stops\":336,\"Sell Stops\":337,\"Bollinger %b\":338,\"%b\":339,\"Bollinger Bandwidth\":340,\"Bandwidth\":341,\"Donchian Width\":342,\"Relative Vigor Index\":343,\"Rel Vig\":344,\"RelVigSignal\":345,\"Elder Impulse System\":346,\"Bullish\":347,\"Bearish\":348,\"Neutral\":349,\"Pivot Points\":350,\"Pivot\":351,\"Resistance 1\":352,\"Support 1\":353,\"Resistance 2\":354,\"Support 2\":355,\"Resistance 3\":356,\"Support 3\":357,\"VWAP\":358,\"Alligator\":359,\"Jaw Period\":360,\"Jaw Offset\":361,\"Teeth Period\":362,\"Teeth Offset\":363,\"Lips Period\":364,\"Lips Offset\":365,\"Show Fractals\":366,\"Jaw\":367,\"Teeth\":368,\"Lips\":369,\"Gator Oscillator\":370,\"Ichimoku Clouds\":371,\"Conversion Line Period\":372,\"Base Line Period\":373,\"Leading Span B Period\":374,\"Lagging Span Period\":375,\"Conversion Line\":376,\"Base Line\":377,\"Leading Span A\":378,\"Leading Span B\":379,\"Lagging Span\":380,\"Price Relative\":381,\"Comparison Symbol\":382,\"Performance Index\":383,\"Gain\":384,\"Loss\":385,\"Beta\":386,\"Ulcer Index\":387,\"Balance of Power\":388,\"Trend Intensity Index\":389,\"TII\":390,\"Choppiness Index\":391,\"Disparity Index\":392,\"Rainbow Moving Average\":393,\"SMA1\":394,\"SMA2\":395,\"SMA3\":396,\"SMA4\":397,\"SMA5\":398,\"SMA6\":399,\"SMA7\":400,\"SMA8\":401,\"SMA9\":402,\"SMA10\":403,\"Rainbow Oscillator\":404,\"HHV/LLV Lookback\":405,\"Pring's Know Sure Thing\":406,\"Lightest Rate of Change Period\":407,\"Lightest SMA Period\":408,\"Light Rate of Change Period\":409,\"Light SMA Period\":410,\"Heavy Rate of Change Period\":411,\"Heavy SMA Period\":412,\"Heaviest Rate of Change Period\":413,\"Heaviest SMA Period\":414,\"KST\":415,\"KSTSignal\":416,\"Pring's Special K\":417,\"Darvas Box\":418,\"ATH Lookback Period\":419,\"Exit Field\":420,\"Ghost Boxes\":421,\"Stop Levels\":422,\"Level Offset\":423,\"Price Minimum\":424,\"Volume Spike\":425,\"Volume % of Avg\":426,\"Darvas\":427,\"Ghost\":428,\"Levels\":429,\"Supertrend\":430,\"Uptrend\":431,\"Downtrend\":432,\"Volume Profile\":433,\"Bars Color\":434,\"Vortex Indicator\":435,\"+VI\":436,\"-VI\":437,\"ZigZag\":438,\"Distance(%)\":439,\"Psychological Line\":440,\"Moving Average Deviation\":441,\"Shinohara Intensity Ratio\":442,\"Strong Ratio\":443,\"Weak Ratio\":444,\"Closed\":445,\"Opens in:\":446,\"Up to 5 active indicators allowed.\":447}\n\n/***/ }),\n\n/***/ \"mobx\":\n/*!***********************!*\\\n  !*** external \"mobx\" ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_mobx__;\n\n/***/ }),\n\n/***/ \"mobx-react\":\n/*!**************************************************************************************!*\\\n  !*** external {\"commonjs\":\"mobx-react\",\"commonjs2\":\"mobx-react\",\"root\":\"mobxReact\"} ***!\n  \\**************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_mobx_react__;\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************************************************************!*\\\n  !*** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\"} ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ }),\n\n/***/ \"react-dom\":\n/*!***********************************************************************************!*\\\n  !*** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"root\":\"ReactDOM\"} ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;\n\n/***/ }),\n\n/***/ \"react-transition-group\":\n/*!*************************************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"react-transition-group\",\"commonjs2\":\"react-transition-group\",\"root\":\"ReactTransitionGroup\"} ***!\n  \\*************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react_transition_group__;\n\n/***/ })\n\n/******/ })[\"default\"];\n});\n//# sourceMappingURL=smartcharts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3NtYXJ0Y2hhcnRzLWJldGEvZGlzdC9zbWFydGNoYXJ0cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc21hcnRjaGFydHMtYmV0YS9kaXN0L3NtYXJ0Y2hhcnRzLmpzP2QwN2EiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSwgcmVxdWlyZShcIm1vYnhcIiksIHJlcXVpcmUoXCJtb2J4LXJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoWywgLCBcIm1vYnhcIiwgLCBdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInNtYXJ0Y2hhcnRzXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSwgcmVxdWlyZShcIm1vYnhcIiksIHJlcXVpcmUoXCJtb2J4LXJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInNtYXJ0Y2hhcnRzXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RUcmFuc2l0aW9uR3JvdXBcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSwgcm9vdFtcIm1vYnhcIl0sIHJvb3RbXCJtb2J4UmVhY3RcIl0sIHJvb3RbXCJSZWFjdFwiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X2RvbV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX21vYnhfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9tb2J4X3JlYWN0X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbi8qKioqKiovIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuLyoqKioqKi8gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbi8qKioqKiovIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuLyoqKioqKi8gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4vKioqKioqLyBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbi8qKioqKiovIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4vKioqKioqLyBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLyoqKioqKi8gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8qKioqKiovIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbi8qKioqKiovIFx0XHRcIm1haW5cIjogMFxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBzY3JpcHQgcGF0aCBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4vKioqKioqLyBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyAoe1wiY2hhcnRpcVwiOlwiY2hhcnRpcVwiLFwiZGUtcG9cIjpcImRlLXBvXCIsXCJlcy1wb1wiOlwiZXMtcG9cIixcImZyLXBvXCI6XCJmci1wb1wiLFwiaHRtbDJjYW52YXNcIjpcImh0bWwyY2FudmFzXCIsXCJpZC1wb1wiOlwiaWQtcG9cIixcIml0LXBvXCI6XCJpdC1wb1wiLFwibmwtcG9cIjpcIm5sLXBvXCIsXCJwbC1wb1wiOlwicGwtcG9cIixcInB0LXBvXCI6XCJwdC1wb1wiLFwicnUtcG9cIjpcInJ1LXBvXCIsXCJ0aC1wb1wiOlwidGgtcG9cIixcInZlbmRvcnN+cmVzaXplLW9ic2VydmVyLXBvbHlmaWxsXCI6XCJ2ZW5kb3JzfnJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbFwiLFwidmktcG9cIjpcInZpLXBvXCIsXCJ6aF9jbi1wb1wiOlwiemhfY24tcG9cIixcInpoX3R3LXBvXCI6XCJ6aF90dy1wb1wifVtjaHVua0lkXXx8Y2h1bmtJZCkgKyBcIi1cIiArIHtcImNoYXJ0aXFcIjpcIjU4NzFjYVwiLFwiZGUtcG9cIjpcIjBjMTM4NVwiLFwiZXMtcG9cIjpcIjE5ZTkwYVwiLFwiZnItcG9cIjpcIjMyZGNlM1wiLFwiaHRtbDJjYW52YXNcIjpcImNmZGFmNlwiLFwiaWQtcG9cIjpcIjY4NGFkZlwiLFwiaXQtcG9cIjpcIjZmYjUyMVwiLFwibmwtcG9cIjpcImRiYzA1OVwiLFwicGwtcG9cIjpcImRkYjI1ZFwiLFwicHQtcG9cIjpcIjk0ZDc3YlwiLFwicnUtcG9cIjpcImFmZWEyMVwiLFwidGgtcG9cIjpcImY5MjIxYVwiLFwidmVuZG9yc35yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIjpcIjM1OGY1OVwiLFwidmktcG9cIjpcIjQ3ZTA4YlwiLFwiemhfY24tcG9cIjpcImU2YTUxM1wiLFwiemhfdHctcG9cIjpcIjQ4YjIzN1wifVtjaHVua0lkXSArIFwiLnNtYXJ0Y2hhcnRzLmpzXCJcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vKioqKioqLyBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSBmdW5jdGlvbiByZXF1aXJlRW5zdXJlKGNodW5rSWQpIHtcbi8qKioqKiovIFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcbi8qKioqKiovXG4vKioqKioqLyBcdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG4vKioqKioqL1xuLyoqKioqKi8gXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cbi8qKioqKiovIFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuLyoqKioqKi8gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xuLyoqKioqKi8gXHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4vKioqKioqLyBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4vKioqKioqLyBcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG4vKioqKioqLyBcdFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4vKioqKioqLyBcdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbi8qKioqKiovIFx0XHRcdFx0dmFyIG9uU2NyaXB0Q29tcGxldGU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdFx0XHRzY3JpcHQuY2hhcnNldCA9ICd1dGYtOCc7XG4vKioqKioqLyBcdFx0XHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuLyoqKioqKi8gXHRcdFx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdFx0XHRvblNjcmlwdENvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuLyoqKioqKi8gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4vKioqKioqLyBcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbi8qKioqKiovIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoY2h1bmspIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJyk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjaHVua1sxXShlcnJvcik7XG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHR9O1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbi8qKioqKiovIFx0XHRcdFx0XHRvblNjcmlwdENvbXBsZXRlKHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KTtcbi8qKioqKiovIFx0XHRcdFx0fSwgMTIwMDAwKTtcbi8qKioqKiovIFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZTtcbi8qKioqKiovIFx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucHNtYXJ0Y2hhcnRzXCJdID0gd2luZG93W1wid2VicGFja0pzb25wc21hcnRjaGFydHNcIl0gfHwgW107XG4vKioqKioqLyBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4vKioqKioqLyBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuLyoqKioqKi8gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuLyoqKioqKi8gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4vKioqKioqLyBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9hZGQtcHgtdG8tc3R5bGUvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2FkZC1weC10by1zdHlsZS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogVGhlIGZvbGxvd2luZyBsaXN0IGlzIGRlZmluZWQgaW4gUmVhY3QncyBjb3JlICovXG52YXIgSVNfVU5JVExFU1MgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhSVNfVU5JVExFU1NbbmFtZV0pIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZG9tLWNzcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2RvbS1jc3MvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcHJlZml4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcHJlZml4LXN0eWxlICovIFwiLi9ub2RlX21vZHVsZXMvcHJlZml4LXN0eWxlL2luZGV4LmpzXCIpO1xuXG52YXIgdG9DYW1lbENhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0by1jYW1lbC1jYXNlICovIFwiLi9ub2RlX21vZHVsZXMvdG8tY2FtZWwtY2FzZS9pbmRleC5qc1wiKTtcblxudmFyIGNhY2hlID0ge1xuICAnZmxvYXQnOiAnY3NzRmxvYXQnXG59O1xuXG52YXIgYWRkUHhUb1N0eWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYWRkLXB4LXRvLXN0eWxlICovIFwiLi9ub2RlX21vZHVsZXMvYWRkLXB4LXRvLXN0eWxlL2luZGV4LmpzXCIpO1xuXG5mdW5jdGlvbiBzdHlsZShlbGVtZW50LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgdmFyIGNhbWVsID0gY2FjaGVbcHJvcGVydHldO1xuXG4gIGlmICh0eXBlb2YgY2FtZWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY2FtZWwgPSBkZXRlY3QocHJvcGVydHkpO1xuICB9IC8vIG1heSBiZSBmYWxzZSBpZiBDU1MgcHJvcCBpcyB1bnN1cHBvcnRlZFxuXG5cbiAgaWYgKGNhbWVsKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW2NhbWVsXTtcbiAgICB9XG5cbiAgICBlbGVtZW50LnN0eWxlW2NhbWVsXSA9IGFkZFB4VG9TdHlsZShjYW1lbCwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVhY2goZWxlbWVudCwgcHJvcGVydGllcykge1xuICBmb3IgKHZhciBrIGluIHByb3BlcnRpZXMpIHtcbiAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgc3R5bGUoZWxlbWVudCwgaywgcHJvcGVydGllc1trXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRldGVjdChjc3NQcm9wKSB7XG4gIHZhciBjYW1lbCA9IHRvQ2FtZWxDYXNlKGNzc1Byb3ApO1xuICB2YXIgcmVzdWx0ID0gcHJlZml4KGNhbWVsKTtcbiAgY2FjaGVbY2FtZWxdID0gY2FjaGVbY3NzUHJvcF0gPSBjYWNoZVtyZXN1bHRdID0gcmVzdWx0O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzZXQoKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBhcmd1bWVudHNbMF0uc3R5bGUuY3NzVGV4dCA9IGFyZ3VtZW50c1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWFjaChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0eWxlKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0O1xubW9kdWxlLmV4cG9ydHMuc2V0ID0gc2V0O1xuXG5tb2R1bGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydGllcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBwcm9wKSB7XG4gICAgICBvYmpbcHJvcF0gPSBzdHlsZShlbGVtZW50LCBwcm9wIHx8ICcnKTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHlsZShlbGVtZW50LCBwcm9wZXJ0aWVzIHx8ICcnKTtcbiAgfVxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxudmFyIERFRkFVTFRfVkFMVUVTID0ge1xuICBlbWl0RGVsYXk6IDEwLFxuICBzdHJpY3RNb2RlOiBmYWxzZVxufTtcbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gRXZlbnRFbWl0dGVyTGlzdGVuZXJGdW5jXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9uY2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGZuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgRXZlbnRFbWl0dGVyXG4gKlxuICogQHByaXZhdGVcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIEV2ZW50RW1pdHRlckxpc3RlbmVyRnVuY1tdPn0gX2xpc3RlbmVyc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXZlbnRzXG4gKi9cblxudmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3t9fSAgICAgIFtvcHRzXVxuICAgKiBAcGFyYW0ge251bWJlcn0gIFtvcHRzLmVtaXREZWxheSA9IDEwXSAtIE51bWJlciBpbiBtcy4gU3BlY2lmaWVzIHdoZXRoZXIgZW1pdCB3aWxsIGJlIHN5bmMgb3IgYXN5bmMuIEJ5IGRlZmF1bHQgLSAxMG1zLiBJZiAwIC0gZmlyZXMgc3luY1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN0cmljdE1vZGUgPSBmYWxzZV0gLSBpcyB0cnVlLCBFbWl0dGVyIHRocm93cyBlcnJvciBvbiBlbWl0IGVycm9yIHdpdGggbm8gbGlzdGVuZXJzXG4gICAqL1xuICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBERUZBVUxUX1ZBTFVFUyA6IGFyZ3VtZW50c1swXTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdmFyIGVtaXREZWxheSA9IHZvaWQgMCxcbiAgICAgICAgc3RyaWN0TW9kZSA9IHZvaWQgMDtcblxuICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KCdlbWl0RGVsYXknKSkge1xuICAgICAgZW1pdERlbGF5ID0gb3B0cy5lbWl0RGVsYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXREZWxheSA9IERFRkFVTFRfVkFMVUVTLmVtaXREZWxheTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbWl0RGVsYXkgPSBlbWl0RGVsYXk7XG5cbiAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eSgnc3RyaWN0TW9kZScpKSB7XG4gICAgICBzdHJpY3RNb2RlID0gb3B0cy5zdHJpY3RNb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJpY3RNb2RlID0gREVGQVVMVF9WQUxVRVMuc3RyaWN0TW9kZTtcbiAgICB9XG5cbiAgICB0aGlzLl9zdHJpY3RNb2RlID0gc3RyaWN0TW9kZTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2UgPSBmYWxzZV1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbe1xuICAgIGtleTogJ19hZGRMaXN0ZW5uZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkTGlzdGVubmVyKHR5cGUsIGxpc3RlbmVyLCBvbmNlKSB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmV2ZW50cy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSBbe1xuICAgICAgICAgIG9uY2U6IG9uY2UsXG4gICAgICAgICAgZm46IGxpc3RlbmVyXG4gICAgICAgIH1dO1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzW3R5cGVdLnB1c2goe1xuICAgICAgICAgIG9uY2U6IG9uY2UsXG4gICAgICAgICAgZm46IGxpc3RlbmVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIG9uIGV2ZW50IHR5cGUgc3BlY2lmaWVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLl9hZGRMaXN0ZW5uZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyBvbiBldmVudCB0eXBlIHNwZWNpZmllZCBmdW5jdGlvbiB0byBmaXJlIG9ubHkgb25jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX2FkZExpc3Rlbm5lcih0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgd2l0aCBzcGVjaWZpZWQgdHlwZS4gSWYgc3BlY2lmaWVkIGxpc3RlbmVyRnVuYyAtIGRlbGV0ZXMgb25seSBvbmUgbGlzdGVuZXIgb2Ygc3BlY2lmaWVkIHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2xpc3RlbmVyRnVuY11cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb2ZmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50VHlwZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgdHlwZUluZGV4ID0gdGhpcy5ldmVudHMuaW5kZXhPZihldmVudFR5cGUpO1xuICAgICAgdmFyIGhhc1R5cGUgPSBldmVudFR5cGUgJiYgdHlwZUluZGV4ICE9PSAtMTtcblxuICAgICAgaWYgKGhhc1R5cGUpIHtcbiAgICAgICAgaWYgKCFsaXN0ZW5lckZ1bmMpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV07XG4gICAgICAgICAgdGhpcy5ldmVudHMuc3BsaWNlKHR5cGVJbmRleCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZW1vdmVkRXZlbnRzID0gW107XG4gICAgICAgICAgICB2YXIgdHlwZUxpc3RlbmVycyA9IF90aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcbiAgICAgICAgICAgIHR5cGVMaXN0ZW5lcnMuZm9yRWFjaChcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEVtaXR0ZXJMaXN0ZW5lckZ1bmN9IGZuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaWR4XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChmbiwgaWR4KSB7XG4gICAgICAgICAgICAgIGlmIChmbi5mbiA9PT0gbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEV2ZW50cy51bnNoaWZ0KGlkeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVtb3ZlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgdHlwZUxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXR5cGVMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5zcGxpY2UodHlwZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhcmd1bWVudHMgdG8gc3BlY2lmaWVkIGV2ZW50IHR5cGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHsqW119IGV2ZW50QXJndW1lbnRzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYXBwbHlFdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwbHlFdmVudHMoZXZlbnRUeXBlLCBldmVudEFyZ3VtZW50cykge1xuICAgICAgdmFyIHR5cGVMaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnRUeXBlXTtcblxuICAgICAgaWYgKCF0eXBlTGlzdGVuZXJzIHx8ICF0eXBlTGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5fc3RyaWN0TW9kZSkge1xuICAgICAgICAgIHRocm93ICdObyBsaXN0ZW5lcnMgc3BlY2lmaWVkIGZvciBldmVudDogJyArIGV2ZW50VHlwZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJlbW92YWJsZUxpc3RlbmVycyA9IFtdO1xuICAgICAgdHlwZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChlZUxpc3RlbmVyLCBpZHgpIHtcbiAgICAgICAgZWVMaXN0ZW5lci5mbi5hcHBseShudWxsLCBldmVudEFyZ3VtZW50cyk7XG5cbiAgICAgICAgaWYgKGVlTGlzdGVuZXIub25jZSkge1xuICAgICAgICAgIHJlbW92YWJsZUxpc3RlbmVycy51bnNoaWZ0KGlkeCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVtb3ZhYmxlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICB0eXBlTGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGV2ZW50IHdpdGggc3BlY2lmaWVkIHR5cGUgYW5kIHBhcmFtcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSBldmVudEFyZ3NcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZW1pdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBldmVudEFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGV2ZW50QXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9lbWl0RGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLl9hcHBseUV2ZW50cy5jYWxsKF90aGlzMiwgdHlwZSwgZXZlbnRBcmdzKTtcbiAgICAgICAgfSwgdGhpcy5fZW1pdERlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FwcGx5RXZlbnRzKHR5cGUsIGV2ZW50QXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGV2ZW50IHdpdGggc3BlY2lmaWVkIHR5cGUgYW5kIHBhcmFtcyBzeW5jaHJvbm91c2x5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIGV2ZW50QXJnc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdlbWl0U3luYycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXRTeW5jKHR5cGUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZXZlbnRBcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBldmVudEFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FwcGx5RXZlbnRzKHR5cGUsIGV2ZW50QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIEV2ZW50RW1pdHRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmRlYm91bmNlL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cblxudmFyIE5BTiA9IDAgLyAwO1xuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG5cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG5cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG5cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG5cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xuXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblxudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5cblxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cblxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcblxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTsgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cblxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7IC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7IC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG5cbiAgICByZXR1cm4gbGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgdGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA8IDAgfHwgbWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuXG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9IC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuXG5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkOyAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuXG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cblxuXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8IGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cblxuXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cblxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gb3RoZXIgKyAnJyA6IG90aGVyO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG5cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KSA6IHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi8uLi93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcbiAgaWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cblxuICAgIHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXG4gICAgdGVzdDFbNV0gPSAnZGUnO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cblxuICAgIHZhciB0ZXN0MiA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICB0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG4gICAgfVxuXG4gICAgdmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiB0ZXN0MltuXTtcbiAgICB9KTtcblxuICAgIGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXG5cbiAgICB2YXIgdGVzdDMgPSB7fTtcbiAgICAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcbiAgICAgIHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG4gICAgfSk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgZnJvbTtcbiAgdmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIHN5bWJvbHM7XG5cbiAgZm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcbiAgICBmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG4gICAgICAgICAgdG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuMlxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lLCBtb2R1bGVMb2FkVGltZSwgbm9kZUxvYWRUaW1lLCB1cFRpbWU7XG5cbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIG5vZGVMb2FkVGltZSkgLyAxZTY7XG4gICAgfTtcblxuICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuXG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaHI7XG4gICAgICBociA9IGhydGltZSgpO1xuICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG4gICAgfTtcblxuICAgIG1vZHVsZUxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgICB1cFRpbWUgPSBwcm9jZXNzLnVwdGltZSgpICogMWU5O1xuICAgIG5vZGVMb2FkVGltZSA9IG1vZHVsZUxvYWRUaW1lIC0gdXBUaW1lO1xuICB9IGVsc2UgaWYgKERhdGUubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuICAgIH07XG5cbiAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcbiAgICB9O1xuXG4gICAgbG9hZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxufSkuY2FsbCh0aGlzKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uL3Byb2Nlc3MvYnJvd3Nlci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiKSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3ByZWZpeC1zdHlsZS9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJlZml4LXN0eWxlL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgZGl2ID0gbnVsbDtcbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdPJywgJ21zJ107XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlZml4U3R5bGUocHJvcCkge1xuICAvLyByZS11c2UgYSBkdW1teSBkaXZcbiAgaWYgKCFkaXYpIHtcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IGRpdi5zdHlsZTsgLy8gcHJvcCBleGlzdHMgd2l0aG91dCBwcmVmaXhcblxuICBpZiAocHJvcCBpbiBzdHlsZSkge1xuICAgIHJldHVybiBwcm9wO1xuICB9IC8vIGJvcmRlclJhZGl1cyAtPiBCb3JkZXJSYWRpdXNcblxuXG4gIHZhciB0aXRsZUNhc2UgPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKTsgLy8gZmluZCB0aGUgdmVuZG9yLXByZWZpeGVkIHByb3BcblxuICBmb3IgKHZhciBpID0gcHJlZml4ZXMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBuYW1lID0gcHJlZml4ZXNbaV0gKyB0aXRsZUNhc2U7IC8vIGUuZy4gV2Via2l0Qm9yZGVyUmFkaXVzIG9yIHdlYmtpdEJvcmRlclJhZGl1c1xuXG4gICAgaWYgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsgLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gIH1cblxuICB0cnkge1xuICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgfVxufSkoKTtcblxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9IC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgfSAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgfVxuICB9XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkcmFpbmluZyA9IGZhbHNlO1xuXG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cblxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgZHJhaW5RdWV1ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG5cbiAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG5cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cbiAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICB9XG59OyAvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cblxuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIFtdO1xufTtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnLyc7XG59O1xuXG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1wiKTtcblxuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuICBpZiAodHJ1ZSkge1xuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmICEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJyArIGxvY2F0aW9uICsgJyBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ZhaWxlZCAnICsgbG9jYXRpb24gKyAnIHR5cGU6ICcgKyBlcnJvci5tZXNzYWdlICsgKHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5jaGVja1Byb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRydWUpIHtcbiAgICBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG52YXIgUmVhY3RJcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWlzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanNcIik7XG5cbnZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBvYmplY3QtYXNzaWduICovIFwiLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qc1wiKTtcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1wiKTtcblxudmFyIGNoZWNrUHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jaGVja1Byb3BUeXBlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanNcIik7XG5cbnZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG5cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nOyAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBlbGVtZW50VHlwZTogY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpLFxuICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXG4gICAgbm9kZTogY3JlYXRlTm9kZUNoZWNrZXIoKSxcbiAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlVW5pb25UeXBlQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcbiAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlclxuICB9O1xuICAvKipcbiAgICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICovXG5cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIC8qKlxuICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG4gICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cbiAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH0gLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuXG5cbiAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcbiAgICBpZiAodHJ1ZSkge1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlID0ge307XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgKyAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICsgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnKTtcbiAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJkZXZlbG9wbWVudFwiICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuXG4gICAgICAgICAgaWYgKCFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiYgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgKyAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuIFRoaXMgaXMgZGVwcmVjYXRlZCAnICsgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICsgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArICdsaWJyYXJ5LiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWRvbnQtY2FsbC1wcm9wdHlwZXMgJyArICdmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJywgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAoIVJlYWN0SXMuaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50IHR5cGUuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudHMgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LCBnb3QgJyArIGFyZ3VtZW50cy5sZW5ndGggKyAnIGFyZ3VtZW50cy4gJyArICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBTdHJpbmcocHJvcFZhbHVlKSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChoYXMocHJvcFZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgICB0cnVlID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgKyAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLicpO1xuICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9IC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cblxuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICsgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICsgJ1xcblZhbGlkIGtleXM6ICcgKyBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblxuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gZmFsc3kgdmFsdWUgY2FuJ3QgYmUgYSBTeW1ib2xcblxuXG4gICAgaWYgKCFwcm9wVmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cblxuICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuXG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cblxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG5cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH0gLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cblxuXG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH0gLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuXG5cbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG5cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdyZWdleHAnOlxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfSAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXG5cbiAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuICBSZWFjdFByb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5pZiAodHJ1ZSkge1xuICB2YXIgUmVhY3RJcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWlzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanNcIik7IC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cblxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNcIikoUmVhY3RJcy5pc0VsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHt9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yYWYvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JhZi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge3ZhciBub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwZXJmb3JtYW5jZS1ub3cgKi8gXCIuL25vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qc1wiKSxcbiAgICByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3csXG4gICAgdmVuZG9ycyA9IFsnbW96JywgJ3dlYmtpdCddLFxuICAgIHN1ZmZpeCA9ICdBbmltYXRpb25GcmFtZScsXG4gICAgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdLFxuICAgIGNhZiA9IHJvb3RbJ2NhbmNlbCcgKyBzdWZmaXhdIHx8IHJvb3RbJ2NhbmNlbFJlcXVlc3QnICsgc3VmZml4XTtcblxuZm9yICh2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XTtcbiAgY2FmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbCcgKyBzdWZmaXhdIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF07XG59IC8vIFNvbWUgdmVyc2lvbnMgb2YgRkYgaGF2ZSByQUYgYnV0IG5vdCBjQUZcblxuXG5pZiAoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMCxcbiAgICAgIGlkID0gMCxcbiAgICAgIHF1ZXVlID0gW10sXG4gICAgICBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwO1xuXG4gIHJhZiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KCksXG4gICAgICAgICAgbmV4dCA9IE1hdGgubWF4KDAsIGZyYW1lRHVyYXRpb24gLSAoX25vdyAtIGxhc3QpKTtcblxuICAgICAgbGFzdCA9IG5leHQgKyBfbm93O1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApOyAvLyBDbGVhciBxdWV1ZSBoZXJlIHRvIHByZXZlbnRcbiAgICAgICAgLy8gY2FsbGJhY2tzIGZyb20gYXBwZW5kaW5nIGxpc3RlbmVyc1xuICAgICAgICAvLyB0byB0aGUgY3VycmVudCBmcmFtZSdzIHF1ZXVlXG5cbiAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFjcFtpXS5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIE1hdGgucm91bmQobmV4dCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnB1c2goe1xuICAgICAgaGFuZGxlOiArK2lkLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgY2FuY2VsbGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICBjYWYgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHF1ZXVlW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG4gICAgICAgIHF1ZXVlW2ldLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbikge1xuICAvLyBXcmFwIGluIGEgbmV3IGZ1bmN0aW9uIHRvIHByZXZlbnRcbiAgLy8gYGNhbmNlbGAgcG90ZW50aWFsbHkgYmVpbmcgYXNzaWduZWRcbiAgLy8gdG8gdGhlIG5hdGl2ZSByQUYgZnVuY3Rpb25cbiAgcmV0dXJuIHJhZi5jYWxsKHJvb3QsIGZuKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5wb2x5ZmlsbCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgaWYgKCFvYmplY3QpIHtcbiAgICBvYmplY3QgPSByb290O1xuICB9XG5cbiAgb2JqZWN0LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJhZjtcbiAgb2JqZWN0LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2FmO1xufTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi44LjNcbiAqIHJlYWN0LWlzLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG5pZiAodHJ1ZSkge1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7IC8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4gICAgLy8gbm9yIHBvbHlmaWxsLCB0aGVuIGEgcGxhaW4gbnVtYmVyIGlzIHVzZWQgZm9yIHBlcmZvcm1hbmNlLlxuXG4gICAgdmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xuICAgIHZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xuICAgIHZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbiAgICB2YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG4gICAgdmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpIDogMHhlYWQyO1xuICAgIHZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbiAgICB2YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlO1xuICAgIHZhciBSRUFDVF9BU1lOQ19NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5hc3luY19tb2RlJykgOiAweGVhY2Y7XG4gICAgdmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG4gICAgdmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xuICAgIHZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKSA6IDB4ZWFkMTtcbiAgICB2YXIgUkVBQ1RfTUVNT19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubWVtbycpIDogMHhlYWQzO1xuICAgIHZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICAgICAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ya2VkIGZyb20gZmJqcy93YXJuaW5nOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICAgICAqXG4gICAgICogT25seSBjaGFuZ2UgaXMgd2UgdXNlIGNvbnNvbGUud2FybiBpbnN0ZWFkIG9mIGNvbnNvbGUuZXJyb3IsXG4gICAgICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKiBUaGlzIHJlYWxseSBzaW1wbGlmaWVzIHRoZSBjb2RlLlxuICAgICAqIC0tLVxuICAgICAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gICAgICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAgICAgKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAgICAgKi9cblxuXG4gICAgdmFyIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAge1xuICAgICAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgIH07XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bsb3dQcmlvcml0eVdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG4gICAgZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgJCR0eXBlb2YgPSBvYmplY3QuJCR0eXBlb2Y7XG5cbiAgICAgICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICgkJHR5cGVvZlR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSAvLyBBc3luY01vZGUgaXMgZGVwcmVjYXRlZCBhbG9uZyB3aXRoIGlzQXN5bmNNb2RlXG5cblxuICAgIHZhciBBc3luY01vZGUgPSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG4gICAgdmFyIENvbmN1cnJlbnRNb2RlID0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU7XG4gICAgdmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbiAgICB2YXIgQ29udGV4dFByb3ZpZGVyID0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbiAgICB2YXIgRWxlbWVudCA9IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgICB2YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG4gICAgdmFyIEZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICB2YXIgTGF6eSA9IFJFQUNUX0xBWllfVFlQRTtcbiAgICB2YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbiAgICB2YXIgUG9ydGFsID0gUkVBQ1RfUE9SVEFMX1RZUEU7XG4gICAgdmFyIFByb2ZpbGVyID0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbiAgICB2YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgdmFyIFN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICB2YXIgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUgPSBmYWxzZTsgLy8gQXN5bmNNb2RlIHNob3VsZCBiZSBkZXByZWNhdGVkXG5cbiAgICBmdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSkge1xuICAgICAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTtcbiAgICAgICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ1RoZSBSZWFjdElzLmlzQXN5bmNNb2RlKCkgYWxpYXMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIFJlYWN0IDE3Ky4gVXBkYXRlIHlvdXIgY29kZSB0byB1c2UgJyArICdSZWFjdElzLmlzQ29uY3VycmVudE1vZGUoKSBpbnN0ZWFkLiBJdCBoYXMgdGhlIGV4YWN0IHNhbWUgQVBJLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTlRFWFRfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRm9yd2FyZFJlZihvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ZyYWdtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTGF6eShvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTEFaWV9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTWVtbyhvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTUVNT19UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUG9ydGFsKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Byb2ZpbGVyKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU3RyaWN0TW9kZShvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1N1c3BlbnNlKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIH1cblxuICAgIGV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuICAgIGV4cG9ydHMuQXN5bmNNb2RlID0gQXN5bmNNb2RlO1xuICAgIGV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbiAgICBleHBvcnRzLkNvbnRleHRDb25zdW1lciA9IENvbnRleHRDb25zdW1lcjtcbiAgICBleHBvcnRzLkNvbnRleHRQcm92aWRlciA9IENvbnRleHRQcm92aWRlcjtcbiAgICBleHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuICAgIGV4cG9ydHMuRm9yd2FyZFJlZiA9IEZvcndhcmRSZWY7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IEZyYWdtZW50O1xuICAgIGV4cG9ydHMuTGF6eSA9IExhenk7XG4gICAgZXhwb3J0cy5NZW1vID0gTWVtbztcbiAgICBleHBvcnRzLlBvcnRhbCA9IFBvcnRhbDtcbiAgICBleHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG4gICAgZXhwb3J0cy5TdHJpY3RNb2RlID0gU3RyaWN0TW9kZTtcbiAgICBleHBvcnRzLlN1c3BlbnNlID0gU3VzcGVuc2U7XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGU7XG4gICAgZXhwb3J0cy5pc0FzeW5jTW9kZSA9IGlzQXN5bmNNb2RlO1xuICAgIGV4cG9ydHMuaXNDb25jdXJyZW50TW9kZSA9IGlzQ29uY3VycmVudE1vZGU7XG4gICAgZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lciA9IGlzQ29udGV4dENvbnN1bWVyO1xuICAgIGV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBpc0NvbnRleHRQcm92aWRlcjtcbiAgICBleHBvcnRzLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBleHBvcnRzLmlzRm9yd2FyZFJlZiA9IGlzRm9yd2FyZFJlZjtcbiAgICBleHBvcnRzLmlzRnJhZ21lbnQgPSBpc0ZyYWdtZW50O1xuICAgIGV4cG9ydHMuaXNMYXp5ID0gaXNMYXp5O1xuICAgIGV4cG9ydHMuaXNNZW1vID0gaXNNZW1vO1xuICAgIGV4cG9ydHMuaXNQb3J0YWwgPSBpc1BvcnRhbDtcbiAgICBleHBvcnRzLmlzUHJvZmlsZXIgPSBpc1Byb2ZpbGVyO1xuICAgIGV4cG9ydHMuaXNTdHJpY3RNb2RlID0gaXNTdHJpY3RNb2RlO1xuICAgIGV4cG9ydHMuaXNTdXNwZW5zZSA9IGlzU3VzcGVuc2U7XG4gIH0pKCk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmlmIChmYWxzZSkge30gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcIik7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3RvLWNhbWVsLWNhc2UvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90by1jYW1lbC1jYXNlL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHNwYWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdG8tc3BhY2UtY2FzZSAqLyBcIi4vbm9kZV9tb2R1bGVzL3RvLXNwYWNlLWNhc2UvaW5kZXguanNcIik7XG4vKipcbiAqIEV4cG9ydC5cbiAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gdG9DYW1lbENhc2U7XG4vKipcbiAqIENvbnZlcnQgYSBgc3RyaW5nYCB0byBjYW1lbCBjYXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHJpbmcpIHtcbiAgcmV0dXJuIHNwYWNlKHN0cmluZykucmVwbGFjZSgvXFxzKFxcdykvZywgZnVuY3Rpb24gKG1hdGNoZXMsIGxldHRlcikge1xuICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3RvLW5vLWNhc2UvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90by1uby1jYXNlL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBFeHBvcnQuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gdG9Ob0Nhc2U7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHN0cmluZyBpcyBjYW1lbC1jYXNlLlxuICovXG5cbnZhciBoYXNTcGFjZSA9IC9cXHMvO1xudmFyIGhhc1NlcGFyYXRvciA9IC8oX3wtfFxcLnw6KS87XG52YXIgaGFzQ2FtZWwgPSAvKFthLXpdW0EtWl18W0EtWl1bYS16XSkvO1xuLyoqXG4gKiBSZW1vdmUgYW55IHN0YXJ0aW5nIGNhc2UgZnJvbSBhIGBzdHJpbmdgLCBsaWtlIGNhbWVsIG9yIHNuYWtlLCBidXQga2VlcFxuICogc3BhY2VzIGFuZCBwdW5jdHVhdGlvbiB0aGF0IG1heSBiZSBpbXBvcnRhbnQgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB0b05vQ2FzZShzdHJpbmcpIHtcbiAgaWYgKGhhc1NwYWNlLnRlc3Qoc3RyaW5nKSkgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaGFzU2VwYXJhdG9yLnRlc3Qoc3RyaW5nKSkgcmV0dXJuICh1bnNlcGFyYXRlKHN0cmluZykgfHwgc3RyaW5nKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoaGFzQ2FtZWwudGVzdChzdHJpbmcpKSByZXR1cm4gdW5jYW1lbGl6ZShzdHJpbmcpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKTtcbn1cbi8qKlxuICogU2VwYXJhdG9yIHNwbGl0dGVyLlxuICovXG5cblxudmFyIHNlcGFyYXRvclNwbGl0dGVyID0gL1tcXFdfXSsoLnwkKS9nO1xuLyoqXG4gKiBVbi1zZXBhcmF0ZSBhIGBzdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB1bnNlcGFyYXRlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uoc2VwYXJhdG9yU3BsaXR0ZXIsIGZ1bmN0aW9uIChtLCBuZXh0KSB7XG4gICAgcmV0dXJuIG5leHQgPyAnICcgKyBuZXh0IDogJyc7XG4gIH0pO1xufVxuLyoqXG4gKiBDYW1lbGNhc2Ugc3BsaXR0ZXIuXG4gKi9cblxuXG52YXIgY2FtZWxTcGxpdHRlciA9IC8oLikoW0EtWl0rKS9nO1xuLyoqXG4gKiBVbi1jYW1lbGNhc2UgYSBgc3RyaW5nYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gdW5jYW1lbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGNhbWVsU3BsaXR0ZXIsIGZ1bmN0aW9uIChtLCBwcmV2aW91cywgdXBwZXJzKSB7XG4gICAgcmV0dXJuIHByZXZpb3VzICsgJyAnICsgdXBwZXJzLnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpLmpvaW4oJyAnKTtcbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3RvLXNwYWNlLWNhc2UvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90by1zcGFjZS1jYXNlL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsZWFuID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdG8tbm8tY2FzZSAqLyBcIi4vbm9kZV9tb2R1bGVzL3RvLW5vLWNhc2UvaW5kZXguanNcIik7XG4vKipcbiAqIEV4cG9ydC5cbiAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gdG9TcGFjZUNhc2U7XG4vKipcbiAqIENvbnZlcnQgYSBgc3RyaW5nYCB0byBzcGFjZSBjYXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB0b1NwYWNlQ2FzZShzdHJpbmcpIHtcbiAgcmV0dXJuIGNsZWFuKHN0cmluZykucmVwbGFjZSgvW1xcV19dKygufCQpL2csIGZ1bmN0aW9uIChtYXRjaGVzLCBtYXRjaCkge1xuICAgIHJldHVybiBtYXRjaCA/ICcgJyArIG1hdGNoIDogJyc7XG4gIH0pLnRyaW0oKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL1Njcm9sbGJhcnMvZGVmYXVsdFJlbmRlckVsZW1lbnRzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9kZWZhdWx0UmVuZGVyRWxlbWVudHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5leHBvcnRzLnJlbmRlclZpZXdEZWZhdWx0ID0gcmVuZGVyVmlld0RlZmF1bHQ7XG5leHBvcnRzLnJlbmRlclRyYWNrSG9yaXpvbnRhbERlZmF1bHQgPSByZW5kZXJUcmFja0hvcml6b250YWxEZWZhdWx0O1xuZXhwb3J0cy5yZW5kZXJUcmFja1ZlcnRpY2FsRGVmYXVsdCA9IHJlbmRlclRyYWNrVmVydGljYWxEZWZhdWx0O1xuZXhwb3J0cy5yZW5kZXJUaHVtYkhvcml6b250YWxEZWZhdWx0ID0gcmVuZGVyVGh1bWJIb3Jpem9udGFsRGVmYXVsdDtcbmV4cG9ydHMucmVuZGVyVGh1bWJWZXJ0aWNhbERlZmF1bHQgPSByZW5kZXJUaHVtYlZlcnRpY2FsRGVmYXVsdDtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykge1xuICB2YXIgdGFyZ2V0ID0ge307XG5cbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlO1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlO1xuICAgIHRhcmdldFtpXSA9IG9ialtpXTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5cblxuZnVuY3Rpb24gcmVuZGVyVmlld0RlZmF1bHQocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVHJhY2tIb3Jpem9udGFsRGVmYXVsdChfcmVmKSB7XG4gIHZhciBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ3N0eWxlJ10pO1xuXG4gIHZhciBmaW5hbFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCB7XG4gICAgcmlnaHQ6IDIsXG4gICAgYm90dG9tOiAyLFxuICAgIGxlZnQ6IDIsXG4gICAgYm9yZGVyUmFkaXVzOiAzXG4gIH0pO1xuXG4gIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7XG4gICAgc3R5bGU6IGZpbmFsU3R5bGVcbiAgfSwgcHJvcHMpKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQoX3JlZjIpIHtcbiAgdmFyIHN0eWxlID0gX3JlZjIuc3R5bGUsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgWydzdHlsZSddKTtcblxuICB2YXIgZmluYWxTdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwge1xuICAgIHJpZ2h0OiAyLFxuICAgIGJvdHRvbTogMixcbiAgICB0b3A6IDIsXG4gICAgYm9yZGVyUmFkaXVzOiAzXG4gIH0pO1xuXG4gIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7XG4gICAgc3R5bGU6IGZpbmFsU3R5bGVcbiAgfSwgcHJvcHMpKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGh1bWJIb3Jpem9udGFsRGVmYXVsdChfcmVmMykge1xuICB2YXIgc3R5bGUgPSBfcmVmMy5zdHlsZSxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYzLCBbJ3N0eWxlJ10pO1xuXG4gIHZhciBmaW5hbFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCB7XG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgYm9yZGVyUmFkaXVzOiAnaW5oZXJpdCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwuMiknXG4gIH0pO1xuXG4gIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7XG4gICAgc3R5bGU6IGZpbmFsU3R5bGVcbiAgfSwgcHJvcHMpKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGh1bWJWZXJ0aWNhbERlZmF1bHQoX3JlZjQpIHtcbiAgdmFyIHN0eWxlID0gX3JlZjQuc3R5bGUsXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmNCwgWydzdHlsZSddKTtcblxuICB2YXIgZmluYWxTdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwge1xuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGJvcmRlclJhZGl1czogJ2luaGVyaXQnLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsLjIpJ1xuICB9KTtcblxuICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoe1xuICAgIHN0eWxlOiBmaW5hbFN0eWxlXG4gIH0sIHByb3BzKSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9TY3JvbGxiYXJzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9TY3JvbGxiYXJzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG52YXIgX3JhZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByYWYgKi8gXCIuL25vZGVfbW9kdWxlcy9yYWYvaW5kZXguanNcIik7XG5cbnZhciBfcmFmMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZjIpO1xuXG52YXIgX2RvbUNzcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRvbS1jc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9kb20tY3NzL2luZGV4LmpzXCIpO1xuXG52YXIgX2RvbUNzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21Dc3MpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwcm9wLXR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfaXNTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9pc1N0cmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9pc1N0cmluZy5qc1wiKTtcblxudmFyIF9pc1N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1N0cmluZyk7XG5cbnZhciBfZ2V0U2Nyb2xsYmFyV2lkdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXRTY3JvbGxiYXJXaWR0aCAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9nZXRTY3JvbGxiYXJXaWR0aC5qc1wiKTtcblxudmFyIF9yZXR1cm5GYWxzZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL3JldHVybkZhbHNlICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL3V0aWxzL3JldHVybkZhbHNlLmpzXCIpO1xuXG52YXIgX3JldHVybkZhbHNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JldHVybkZhbHNlKTtcblxudmFyIF9nZXRJbm5lcldpZHRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2V0SW5uZXJXaWR0aCAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9nZXRJbm5lcldpZHRoLmpzXCIpO1xuXG52YXIgX2dldElubmVyV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SW5uZXJXaWR0aCk7XG5cbnZhciBfZ2V0SW5uZXJIZWlnaHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXRJbm5lckhlaWdodCAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9nZXRJbm5lckhlaWdodC5qc1wiKTtcblxudmFyIF9nZXRJbm5lckhlaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJbm5lckhlaWdodCk7XG5cbnZhciBfc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdHlsZXMgKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9zdHlsZXMuanNcIik7XG5cbnZhciBfZGVmYXVsdFJlbmRlckVsZW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWZhdWx0UmVuZGVyRWxlbWVudHMgKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9kZWZhdWx0UmVuZGVyRWxlbWVudHMuanNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7XG4gIHZhciB0YXJnZXQgPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgUE9MTF9TQ1JPTExCQVJfV0lEVEhfSU5URVJWQUwgPSAzMDAwO1xuXG52YXIgU2Nyb2xsYmFycyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTY3JvbGxiYXJzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTY3JvbGxiYXJzKHByb3BzKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsYmFycyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gU2Nyb2xsYmFycy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNjcm9sbGJhcnMpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzLCBwcm9wc10uY29uY2F0KHJlc3QpKSk7XG5cbiAgICBfdGhpcy5nZXRTY3JvbGxMZWZ0ID0gX3RoaXMuZ2V0U2Nyb2xsTGVmdC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5nZXRTY3JvbGxUb3AgPSBfdGhpcy5nZXRTY3JvbGxUb3AuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZ2V0U2Nyb2xsV2lkdGggPSBfdGhpcy5nZXRTY3JvbGxXaWR0aC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5nZXRTY3JvbGxIZWlnaHQgPSBfdGhpcy5nZXRTY3JvbGxIZWlnaHQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZ2V0Q2xpZW50V2lkdGggPSBfdGhpcy5nZXRDbGllbnRXaWR0aC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5nZXRDbGllbnRIZWlnaHQgPSBfdGhpcy5nZXRDbGllbnRIZWlnaHQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZ2V0UGFkZGluZ1dpZHRoID0gX3RoaXMuZ2V0UGFkZGluZ1dpZHRoLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldFBhZGRpbmdIZWlnaHQgPSBfdGhpcy5nZXRQYWRkaW5nSGVpZ2h0LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldFZhbHVlcyA9IF90aGlzLmdldFZhbHVlcy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCA9IF90aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldFRodW1iVmVydGljYWxIZWlnaHQgPSBfdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldFNjcm9sbExlZnRGb3JPZmZzZXQgPSBfdGhpcy5nZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldCA9IF90aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zY3JvbGxMZWZ0ID0gX3RoaXMuc2Nyb2xsTGVmdC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zY3JvbGxUb3AgPSBfdGhpcy5zY3JvbGxUb3AuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2Nyb2xsVG9MZWZ0ID0gX3RoaXMuc2Nyb2xsVG9MZWZ0LmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNjcm9sbFRvVG9wID0gX3RoaXMuc2Nyb2xsVG9Ub3AuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2Nyb2xsVG9SaWdodCA9IF90aGlzLnNjcm9sbFRvUmlnaHQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2Nyb2xsVG9Cb3R0b20gPSBfdGhpcy5zY3JvbGxUb0JvdHRvbS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIgPSBfdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlID0gX3RoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmhhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93biA9IF90aGlzLmhhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93bi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVWZXJ0aWNhbFRyYWNrTW91c2VEb3duID0gX3RoaXMuaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93bi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24gPSBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93biA9IF90aGlzLmhhbmRsZVZlcnRpY2FsVGh1bWJNb3VzZURvd24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlV2luZG93UmVzaXplID0gX3RoaXMuaGFuZGxlV2luZG93UmVzaXplLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmhhbmRsZVNjcm9sbCA9IF90aGlzLmhhbmRsZVNjcm9sbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVEcmFnID0gX3RoaXMuaGFuZGxlRHJhZy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVEcmFnRW5kID0gX3RoaXMuaGFuZGxlRHJhZ0VuZC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5wb2xsU2Nyb2xsYmFyV2lkdGggPSBfdGhpcy5wb2xsU2Nyb2xsYmFyV2lkdGguYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkaWRNb3VudFVuaXZlcnNhbDogZmFsc2UsXG4gICAgICBzY3JvbGxiYXJXaWR0aDogMTdcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGxiYXJzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMuY29tcG9uZW50RGlkTW91bnRVbml2ZXJzYWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudFVuaXZlcnNhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50VW5pdmVyc2FsKCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9zb3J0LWNvbXBcbiAgICAgIHZhciB1bml2ZXJzYWwgPSB0aGlzLnByb3BzLnVuaXZlcnNhbDtcbiAgICAgIGlmICghdW5pdmVyc2FsKSByZXR1cm47XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlkTW91bnRVbml2ZXJzYWw6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAoMCwgX3JhZjIuY2FuY2VsKSh0aGlzLnJlcXVlc3RGcmFtZSk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVHJhY2tzVGltZW91dCk7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuZGV0ZWN0U2Nyb2xsaW5nSW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNjcm9sbExlZnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0KCkge1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIHRoaXMudmlldy5zY3JvbGxMZWZ0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNjcm9sbFRvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpIHtcbiAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcuc2Nyb2xsVG9wO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNjcm9sbFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsV2lkdGgoKSB7XG4gICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LnNjcm9sbFdpZHRoIC0gdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTY3JvbGxIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxIZWlnaHQoKSB7XG4gICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LnNjcm9sbEhlaWdodCAtIHRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldENsaWVudFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xpZW50V2lkdGgoKSB7XG4gICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LmNsaWVudFdpZHRoIC0gdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDbGllbnRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnRIZWlnaHQoKSB7XG4gICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LmNsaWVudEhlaWdodCAtIHRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFBhZGRpbmdXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZGRpbmdXaWR0aCgpIHtcbiAgICAgIHJldHVybiBfc3R5bGVzLnNjcm9sbGJhclNpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0UGFkZGluZ0hlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhZGRpbmdIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gX3N0eWxlcy5zY3JvbGxiYXJTaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcbiAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm4gbnVsbDtcblxuICAgICAgdmFyIF9yZWYyID0gdGhpcy52aWV3IHx8IHt9LFxuICAgICAgICAgIF9yZWYyJG9mZnNldFdpZHRoID0gX3JlZjIub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgb2Zmc2V0V2lkdGggPSBfcmVmMiRvZmZzZXRXaWR0aCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJG9mZnNldFdpZHRoLFxuICAgICAgICAgIF9yZWYyJHNjcm9sbExlZnQgPSBfcmVmMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfcmVmMiRzY3JvbGxMZWZ0ID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjIkc2Nyb2xsTGVmdCxcbiAgICAgICAgICBfcmVmMiRzY3JvbGxUb3AgPSBfcmVmMi5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjIkc2Nyb2xsVG9wID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjIkc2Nyb2xsVG9wLFxuICAgICAgICAgIF9yZWYyJHNjcm9sbFdpZHRoID0gX3JlZjIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgcmVhbFNjcm9sbFdpZHRoID0gX3JlZjIkc2Nyb2xsV2lkdGggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRzY3JvbGxXaWR0aCxcbiAgICAgICAgICBfcmVmMiRzY3JvbGxIZWlnaHQgPSBfcmVmMi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgcmVhbFNjcm9sbEhlaWdodCA9IF9yZWYyJHNjcm9sbEhlaWdodCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJHNjcm9sbEhlaWdodCxcbiAgICAgICAgICBfcmVmMiRjbGllbnRXaWR0aCA9IF9yZWYyLmNsaWVudFdpZHRoLFxuICAgICAgICAgIHJlYWxDbGllbnRXaWR0aCA9IF9yZWYyJGNsaWVudFdpZHRoID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjIkY2xpZW50V2lkdGgsXG4gICAgICAgICAgX3JlZjIkY2xpZW50SGVpZ2h0ID0gX3JlZjIuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIHJlYWxDbGllbnRIZWlnaHQgPSBfcmVmMiRjbGllbnRIZWlnaHQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRjbGllbnRIZWlnaHQ7XG5cbiAgICAgIHZhciBzY3JvbGxXaWR0aCA9IHJlYWxTY3JvbGxXaWR0aCAtIHRoaXMuZ2V0UGFkZGluZ1dpZHRoKCk7XG4gICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gcmVhbFNjcm9sbEhlaWdodCAtIHRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpO1xuICAgICAgdmFyIGNsaWVudFdpZHRoID0gcmVhbENsaWVudFdpZHRoIC0gdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTtcbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSByZWFsQ2xpZW50SGVpZ2h0IC0gdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBzY3JvbGxMZWZ0IC8gKHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGgpIHx8IDAsXG4gICAgICAgIHRvcDogc2Nyb2xsVG9wIC8gKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkgfHwgMCxcbiAgICAgICAgb2Zmc2V0V2lkdGg6IG9mZnNldFdpZHRoLFxuICAgICAgICByZWFsQ2xpZW50V2lkdGg6IHJlYWxDbGllbnRXaWR0aCxcbiAgICAgICAgcmVhbENsaWVudEhlaWdodDogcmVhbENsaWVudEhlaWdodCxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbFdpZHRoOiBzY3JvbGxXaWR0aCxcbiAgICAgICAgc2Nyb2xsSGVpZ2h0OiBzY3JvbGxIZWlnaHQsXG4gICAgICAgIGNsaWVudFdpZHRoOiBjbGllbnRXaWR0aCxcbiAgICAgICAgY2xpZW50SGVpZ2h0OiBjbGllbnRIZWlnaHRcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VGh1bWJIb3Jpem9udGFsV2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaHVtYkhvcml6b250YWxXaWR0aCgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRodW1iU2l6ZSA9IF9wcm9wcy50aHVtYlNpemUsXG4gICAgICAgICAgdGh1bWJNaW5TaXplID0gX3Byb3BzLnRodW1iTWluU2l6ZTtcbiAgICAgIHZhciBfdmlldyA9IHRoaXMudmlldyxcbiAgICAgICAgICByZWFsU2Nyb2xsV2lkdGggPSBfdmlldy5zY3JvbGxXaWR0aCxcbiAgICAgICAgICByZWFsQ2xpZW50V2lkdGggPSBfdmlldy5jbGllbnRXaWR0aDtcbiAgICAgIHZhciBzY3JvbGxXaWR0aCA9IHJlYWxTY3JvbGxXaWR0aCAtIHRoaXMuZ2V0UGFkZGluZ1dpZHRoKCk7XG4gICAgICB2YXIgY2xpZW50V2lkdGggPSByZWFsQ2xpZW50V2lkdGggLSB0aGlzLmdldFBhZGRpbmdXaWR0aCgpO1xuICAgICAgdmFyIHRyYWNrV2lkdGggPSAoMCwgX2dldElubmVyV2lkdGgyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwpO1xuICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNsaWVudFdpZHRoIC8gc2Nyb2xsV2lkdGggKiB0cmFja1dpZHRoKTtcbiAgICAgIGlmIChzY3JvbGxXaWR0aCA8PSBjbGllbnRXaWR0aCkgcmV0dXJuIDA7XG4gICAgICBpZiAodGh1bWJTaXplKSByZXR1cm4gdGh1bWJTaXplO1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHdpZHRoLCB0aHVtYk1pblNpemUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRodW1iVmVydGljYWxIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaHVtYlZlcnRpY2FsSGVpZ2h0KCkge1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRodW1iU2l6ZSA9IF9wcm9wczIudGh1bWJTaXplLFxuICAgICAgICAgIHRodW1iTWluU2l6ZSA9IF9wcm9wczIudGh1bWJNaW5TaXplO1xuICAgICAgdmFyIF92aWV3MiA9IHRoaXMudmlldyxcbiAgICAgICAgICByZWFsU2Nyb2xsSGVpZ2h0ID0gX3ZpZXcyLnNjcm9sbEhlaWdodCxcbiAgICAgICAgICByZWFsQ2xpZW50SGVpZ2h0ID0gX3ZpZXcyLmNsaWVudEhlaWdodDtcbiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSByZWFsU2Nyb2xsSGVpZ2h0IC0gdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCk7XG4gICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gcmVhbENsaWVudEhlaWdodCAtIHRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpO1xuICAgICAgdmFyIHRyYWNrSGVpZ2h0ID0gKDAsIF9nZXRJbm5lckhlaWdodDJbXCJkZWZhdWx0XCJdKSh0aGlzLnRyYWNrVmVydGljYWwpO1xuICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChjbGllbnRIZWlnaHQgLyBzY3JvbGxIZWlnaHQgKiB0cmFja0hlaWdodCk7XG4gICAgICBpZiAoc2Nyb2xsSGVpZ2h0IDw9IGNsaWVudEhlaWdodCkgcmV0dXJuIDA7XG4gICAgICBpZiAodGh1bWJTaXplKSByZXR1cm4gdGh1bWJTaXplO1xuICAgICAgcmV0dXJuIE1hdGgubWF4KGhlaWdodCwgdGh1bWJNaW5TaXplKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsTGVmdEZvck9mZnNldChvZmZzZXQpIHtcbiAgICAgIHZhciBfdmlldzMgPSB0aGlzLnZpZXcsXG4gICAgICAgICAgcmVhbFNjcm9sbFdpZHRoID0gX3ZpZXczLnNjcm9sbFdpZHRoLFxuICAgICAgICAgIHJlYWxDbGllbnRXaWR0aCA9IF92aWV3My5jbGllbnRXaWR0aDtcbiAgICAgIHZhciBzY3JvbGxXaWR0aCA9IHJlYWxTY3JvbGxXaWR0aCAtIHRoaXMuZ2V0UGFkZGluZ1dpZHRoKCk7XG4gICAgICB2YXIgY2xpZW50V2lkdGggPSByZWFsQ2xpZW50V2lkdGggLSB0aGlzLmdldFBhZGRpbmdXaWR0aCgpO1xuICAgICAgdmFyIHRyYWNrV2lkdGggPSAoMCwgX2dldElubmVyV2lkdGgyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwpO1xuICAgICAgdmFyIHRodW1iV2lkdGggPSB0aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCk7XG4gICAgICByZXR1cm4gb2Zmc2V0IC8gKHRyYWNrV2lkdGggLSB0aHVtYldpZHRoKSAqIChzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTY3JvbGxUb3BGb3JPZmZzZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxUb3BGb3JPZmZzZXQob2Zmc2V0KSB7XG4gICAgICB2YXIgX3ZpZXc0ID0gdGhpcy52aWV3LFxuICAgICAgICAgIHJlYWxTY3JvbGxIZWlnaHQgPSBfdmlldzQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIHJlYWxDbGllbnRIZWlnaHQgPSBfdmlldzQuY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IHJlYWxTY3JvbGxIZWlnaHQgLSB0aGlzLmdldFBhZGRpbmdIZWlnaHQoKTtcbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSByZWFsQ2xpZW50SGVpZ2h0IC0gdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCk7XG4gICAgICB2YXIgdHJhY2tIZWlnaHQgPSAoMCwgX2dldElubmVySGVpZ2h0MltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tWZXJ0aWNhbCk7XG4gICAgICB2YXIgdGh1bWJIZWlnaHQgPSB0aGlzLmdldFRodW1iVmVydGljYWxIZWlnaHQoKTtcbiAgICAgIHJldHVybiBvZmZzZXQgLyAodHJhY2tIZWlnaHQgLSB0aHVtYkhlaWdodCkgKiAoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxMZWZ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsTGVmdCgpIHtcbiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUb3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb3AoKSB7XG4gICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxUb3AgPSB0b3A7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9MZWZ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9MZWZ0KCkge1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUb1RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvVG9wKCkge1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxUb3AgPSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvUmlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1JpZ2h0KCkge1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxMZWZ0ID0gdGhpcy52aWV3LnNjcm9sbFdpZHRoIC0gdGhpcy5nZXRQYWRkaW5nV2lkdGgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUb0JvdHRvbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxUb3AgPSB0aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkTGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhdGhpcy52aWV3KSByZXR1cm47XG4gICAgICB2YXIgdmlldyA9IHRoaXMudmlldyxcbiAgICAgICAgICB0cmFja0hvcml6b250YWwgPSB0aGlzLnRyYWNrSG9yaXpvbnRhbCxcbiAgICAgICAgICB0cmFja1ZlcnRpY2FsID0gdGhpcy50cmFja1ZlcnRpY2FsLFxuICAgICAgICAgIHRodW1iSG9yaXpvbnRhbCA9IHRoaXMudGh1bWJIb3Jpem9udGFsLFxuICAgICAgICAgIHRodW1iVmVydGljYWwgPSB0aGlzLnRodW1iVmVydGljYWw7XG4gICAgICB2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgICAgIHRyYWNrSG9yaXpvbnRhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgdHJhY2tIb3Jpem9udGFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZSk7XG4gICAgICB0cmFja0hvcml6b250YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24pO1xuICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5oYW5kbGVUcmFja01vdXNlTGVhdmUpO1xuICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd24pO1xuICAgICAgdGh1bWJIb3Jpem9udGFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duKTtcbiAgICAgIHRodW1iVmVydGljYWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSk7XG4gICAgICB0aGlzLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyID0gc2V0VGltZW91dCh0aGlzLnBvbGxTY3JvbGxiYXJXaWR0aCwgUE9MTF9TQ1JPTExCQVJfV0lEVEhfSU5URVJWQUwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZUxpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXRoaXMudmlldykgcmV0dXJuO1xuICAgICAgdmFyIHZpZXcgPSB0aGlzLnZpZXcsXG4gICAgICAgICAgdHJhY2tIb3Jpem9udGFsID0gdGhpcy50cmFja0hvcml6b250YWwsXG4gICAgICAgICAgdHJhY2tWZXJ0aWNhbCA9IHRoaXMudHJhY2tWZXJ0aWNhbCxcbiAgICAgICAgICB0aHVtYkhvcml6b250YWwgPSB0aGlzLnRodW1iSG9yaXpvbnRhbCxcbiAgICAgICAgICB0aHVtYlZlcnRpY2FsID0gdGhpcy50aHVtYlZlcnRpY2FsO1xuICAgICAgaWYgKHZpZXcpIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuXG4gICAgICBpZiAodHJhY2tIb3Jpem9udGFsKSB7XG4gICAgICAgIHRyYWNrSG9yaXpvbnRhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgICB0cmFja0hvcml6b250YWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlKTtcbiAgICAgICAgdHJhY2tIb3Jpem9udGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlSG9yaXpvbnRhbFRyYWNrTW91c2VEb3duKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRyYWNrVmVydGljYWwpIHtcbiAgICAgICAgdHJhY2tWZXJ0aWNhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgICB0cmFja1ZlcnRpY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZSk7XG4gICAgICAgIHRyYWNrVmVydGljYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVWZXJ0aWNhbFRyYWNrTW91c2VEb3duKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRodW1iSG9yaXpvbnRhbCkgdGh1bWJIb3Jpem9udGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duKTtcbiAgICAgIGlmICh0aHVtYlZlcnRpY2FsKSB0aHVtYlZlcnRpY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93bik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUpO1xuICAgICAgaWYgKHRoaXMucG9sbFNjcm9sbGJhcldpZHRoVGltZXIpIGNsZWFyVGltZW91dCh0aGlzLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyKTsgLy8gUG9zc2libHkgc2V0dXAgYnkgYGhhbmRsZURyYWdTdGFydGBcblxuICAgICAgdGhpcy50ZWFyZG93bkRyYWdnaW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9sbFNjcm9sbGJhcldpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9sbFNjcm9sbGJhcldpZHRoKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMucmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5kZXRlY3RTY3JvbGxiYXJXaWR0aENoYW5nZShfdGhpczIuZ2V0VmFsdWVzKCkpKSB7XG4gICAgICAgICAgX3RoaXMyLl91cGRhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyID0gc2V0VGltZW91dChfdGhpczIucG9sbFNjcm9sbGJhcldpZHRoLCBQT0xMX1NDUk9MTEJBUl9XSURUSF9JTlRFUlZBTCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMyLnBvbGxTY3JvbGxiYXJXaWR0aFRpbWVyID0gc2V0VGltZW91dChfdGhpczIucG9sbFNjcm9sbGJhcldpZHRoLCBQT0xMX1NDUk9MTEJBUl9XSURUSF9JTlRFUlZBTCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGVjdFNjcm9sbGJhcldpZHRoQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0ZWN0U2Nyb2xsYmFyV2lkdGhDaGFuZ2UodmFsdWVzKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSB2YWx1ZXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSB2YWx1ZXMuc2Nyb2xsVG9wO1xuICAgICAgKDAsIF9nZXRTY3JvbGxiYXJXaWR0aC5pbnZhbGlkYXRlU2Nyb2xsYmFyV2lkdGgpKCk7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSAoMCwgX2dldFNjcm9sbGJhcldpZHRoLmdldFNjcm9sbGJhcldpZHRoKSh2YWx1ZXMpO1xuICAgICAgdmFyIGlzQ2hhbmdlZCA9IHNjcm9sbGJhcldpZHRoICE9PSB0aGlzLnN0YXRlLnNjcm9sbGJhcldpZHRoICYmIHNjcm9sbGJhcldpZHRoICE9PSB0aGlzLnN0YXRlLnNjcm9sbGJhcldpZHRoICsgMTtcblxuICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogc2Nyb2xsYmFyV2lkdGhcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfZ2V0VmFsdWVzID0gX3RoaXMzLmdldFZhbHVlcygpLFxuICAgICAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfZ2V0VmFsdWVzLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX2dldFZhbHVlcy5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgICAgICB2YXIgbmVhckJvdHRvbSA9IE1hdGguYWJzKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCAtIHNjcm9sbFRvcCkgPD0gc2Nyb2xsYmFyV2lkdGg7XG5cbiAgICAgICAgICBfdGhpczMuc2Nyb2xsTGVmdChzY3JvbGxMZWZ0KTtcblxuICAgICAgICAgIGlmIChuZWFyQm90dG9tKSB7XG4gICAgICAgICAgICBfdGhpczMuc2Nyb2xsVG9wKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzMy5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNDaGFuZ2VkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChldmVudCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBvblNjcm9sbCA9IF9wcm9wczMub25TY3JvbGwsXG4gICAgICAgICAgb25TY3JvbGxGcmFtZSA9IF9wcm9wczMub25TY3JvbGxGcmFtZTtcbiAgICAgIGlmIChvblNjcm9sbCkgb25TY3JvbGwoZXZlbnQpO1xuICAgICAgdGhpcy51cGRhdGUoZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IHZhbHVlcy5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gdmFsdWVzLnNjcm9sbFRvcDtcbiAgICAgICAgX3RoaXM0LnZpZXdTY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgX3RoaXM0LnZpZXdTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIGlmIChvblNjcm9sbEZyYW1lKSBvblNjcm9sbEZyYW1lKHZhbHVlcyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGV0ZWN0U2Nyb2xsaW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlU2Nyb2xsU3RhcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxTdGFydCgpIHtcbiAgICAgIHZhciBvblNjcm9sbFN0YXJ0ID0gdGhpcy5wcm9wcy5vblNjcm9sbFN0YXJ0O1xuICAgICAgaWYgKG9uU2Nyb2xsU3RhcnQpIG9uU2Nyb2xsU3RhcnQoKTtcbiAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnRBdXRvSGlkZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVNjcm9sbFN0YXJ0QXV0b0hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxTdGFydEF1dG9IaWRlKCkge1xuICAgICAgdmFyIGF1dG9IaWRlID0gdGhpcy5wcm9wcy5hdXRvSGlkZTtcbiAgICAgIGlmICghYXV0b0hpZGUpIHJldHVybjtcbiAgICAgIHRoaXMuc2hvd1RyYWNrcygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVNjcm9sbFN0b3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxTdG9wKCkge1xuICAgICAgdmFyIG9uU2Nyb2xsU3RvcCA9IHRoaXMucHJvcHMub25TY3JvbGxTdG9wO1xuICAgICAgaWYgKG9uU2Nyb2xsU3RvcCkgb25TY3JvbGxTdG9wKCk7XG4gICAgICB0aGlzLmhhbmRsZVNjcm9sbFN0b3BBdXRvSGlkZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVNjcm9sbFN0b3BBdXRvSGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbFN0b3BBdXRvSGlkZSgpIHtcbiAgICAgIHZhciBhdXRvSGlkZSA9IHRoaXMucHJvcHMuYXV0b0hpZGU7XG4gICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICB0aGlzLmhpZGVUcmFja3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVXaW5kb3dSZXNpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93bihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICAgICAgY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XG5cbiAgICAgIHZhciBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgdGFyZ2V0TGVmdCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbC5sZWZ0O1xuXG4gICAgICB2YXIgdGh1bWJXaWR0aCA9IHRoaXMuZ2V0VGh1bWJIb3Jpem9udGFsV2lkdGgoKTtcbiAgICAgIHZhciBvZmZzZXQgPSBNYXRoLmFicyh0YXJnZXRMZWZ0IC0gY2xpZW50WCkgLSB0aHVtYldpZHRoIC8gMjtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxMZWZ0ID0gdGhpcy5nZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0KG9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICAgIGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsMiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICB0YXJnZXRUb3AgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wyLnRvcDtcblxuICAgICAgdmFyIHRodW1iSGVpZ2h0ID0gdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0KCk7XG4gICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0VG9wIC0gY2xpZW50WSkgLSB0aHVtYkhlaWdodCAvIDI7XG4gICAgICB0aGlzLnZpZXcuc2Nyb2xsVG9wID0gdGhpcy5nZXRTY3JvbGxUb3BGb3JPZmZzZXQob2Zmc2V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmhhbmRsZURyYWdTdGFydChldmVudCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICAgIGNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgdmFyIG9mZnNldFdpZHRoID0gdGFyZ2V0Lm9mZnNldFdpZHRoO1xuXG4gICAgICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsMyA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBsZWZ0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsMy5sZWZ0O1xuXG4gICAgICB0aGlzLnByZXZQYWdlWCA9IG9mZnNldFdpZHRoIC0gKGNsaWVudFggLSBsZWZ0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVmVydGljYWxUaHVtYk1vdXNlRG93bihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KTtcbiAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICB2YXIgb2Zmc2V0SGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodDtcblxuICAgICAgdmFyIF90YXJnZXQkZ2V0Qm91bmRpbmdDbDQgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgdG9wID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsNC50b3A7XG5cbiAgICAgIHRoaXMucHJldlBhZ2VZID0gb2Zmc2V0SGVpZ2h0IC0gKGNsaWVudFkgLSB0b3ApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldHVwRHJhZ2dpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cERyYWdnaW5nKCkge1xuICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkoZG9jdW1lbnQuYm9keSwgX3N0eWxlcy5kaXNhYmxlU2VsZWN0U3R5bGUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVEcmFnKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZURyYWdFbmQpO1xuICAgICAgZG9jdW1lbnQub25zZWxlY3RzdGFydCA9IF9yZXR1cm5GYWxzZTJbXCJkZWZhdWx0XCJdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RlYXJkb3duRHJhZ2dpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZWFyZG93bkRyYWdnaW5nKCkge1xuICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkoZG9jdW1lbnQuYm9keSwgX3N0eWxlcy5kaXNhYmxlU2VsZWN0U3R5bGVSZXNldCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZURyYWcpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlRHJhZ0VuZCk7XG4gICAgICBkb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZURyYWdTdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyYWdTdGFydChldmVudCkge1xuICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2V0dXBEcmFnZ2luZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZURyYWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcmFnKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5wcmV2UGFnZVgpIHtcbiAgICAgICAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYO1xuXG4gICAgICAgIHZhciBfdHJhY2tIb3Jpem9udGFsJGdldEIgPSB0aGlzLnRyYWNrSG9yaXpvbnRhbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIHRyYWNrTGVmdCA9IF90cmFja0hvcml6b250YWwkZ2V0Qi5sZWZ0O1xuXG4gICAgICAgIHZhciB0aHVtYldpZHRoID0gdGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCgpO1xuICAgICAgICB2YXIgY2xpY2tQb3NpdGlvbiA9IHRodW1iV2lkdGggLSB0aGlzLnByZXZQYWdlWDtcbiAgICAgICAgdmFyIG9mZnNldCA9IC10cmFja0xlZnQgKyBjbGllbnRYIC0gY2xpY2tQb3NpdGlvbjtcbiAgICAgICAgdGhpcy52aWV3LnNjcm9sbExlZnQgPSB0aGlzLmdldFNjcm9sbExlZnRGb3JPZmZzZXQob2Zmc2V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJldlBhZ2VZKSB7XG4gICAgICAgIHZhciBjbGllbnRZID0gZXZlbnQuY2xpZW50WTtcblxuICAgICAgICB2YXIgX3RyYWNrVmVydGljYWwkZ2V0Qm91ID0gdGhpcy50cmFja1ZlcnRpY2FsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgdHJhY2tUb3AgPSBfdHJhY2tWZXJ0aWNhbCRnZXRCb3UudG9wO1xuXG4gICAgICAgIHZhciB0aHVtYkhlaWdodCA9IHRoaXMuZ2V0VGh1bWJWZXJ0aWNhbEhlaWdodCgpO1xuXG4gICAgICAgIHZhciBfY2xpY2tQb3NpdGlvbiA9IHRodW1iSGVpZ2h0IC0gdGhpcy5wcmV2UGFnZVk7XG5cbiAgICAgICAgdmFyIF9vZmZzZXQgPSAtdHJhY2tUb3AgKyBjbGllbnRZIC0gX2NsaWNrUG9zaXRpb247XG5cbiAgICAgICAgdGhpcy52aWV3LnNjcm9sbFRvcCA9IHRoaXMuZ2V0U2Nyb2xsVG9wRm9yT2Zmc2V0KF9vZmZzZXQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlRHJhZ0VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoKSB7XG4gICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnByZXZQYWdlWCA9IHRoaXMucHJldlBhZ2VZID0gMDtcbiAgICAgIHRoaXMudGVhcmRvd25EcmFnZ2luZygpO1xuICAgICAgdGhpcy5oYW5kbGVEcmFnRW5kQXV0b0hpZGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVEcmFnRW5kQXV0b0hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcmFnRW5kQXV0b0hpZGUoKSB7XG4gICAgICB2YXIgYXV0b0hpZGUgPSB0aGlzLnByb3BzLmF1dG9IaWRlO1xuICAgICAgaWYgKCFhdXRvSGlkZSkgcmV0dXJuO1xuICAgICAgdGhpcy5oaWRlVHJhY2tzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUVudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVHJhY2tNb3VzZUVudGVyKCkge1xuICAgICAgdGhpcy50cmFja01vdXNlT3ZlciA9IHRydWU7XG4gICAgICB0aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlckF1dG9IaWRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUVudGVyQXV0b0hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUcmFja01vdXNlRW50ZXJBdXRvSGlkZSgpIHtcbiAgICAgIHZhciBhdXRvSGlkZSA9IHRoaXMucHJvcHMuYXV0b0hpZGU7XG4gICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICB0aGlzLnNob3dUcmFja3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVUcmFja01vdXNlTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUcmFja01vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLnRyYWNrTW91c2VPdmVyID0gZmFsc2U7XG4gICAgICB0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZUF1dG9IaWRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUxlYXZlQXV0b0hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUcmFja01vdXNlTGVhdmVBdXRvSGlkZSgpIHtcbiAgICAgIHZhciBhdXRvSGlkZSA9IHRoaXMucHJvcHMuYXV0b0hpZGU7XG4gICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICB0aGlzLmhpZGVUcmFja3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93VHJhY2tzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1RyYWNrcygpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUcmFja3NUaW1lb3V0KTtcbiAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tIb3Jpem9udGFsLCB7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH0pO1xuICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja1ZlcnRpY2FsLCB7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGVUcmFja3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlVHJhY2tzKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5zY3JvbGxpbmcpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnRyYWNrTW91c2VPdmVyKSByZXR1cm47XG4gICAgICB2YXIgYXV0b0hpZGVUaW1lb3V0ID0gdGhpcy5wcm9wcy5hdXRvSGlkZVRpbWVvdXQ7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVHJhY2tzVGltZW91dCk7XG4gICAgICB0aGlzLmhpZGVUcmFja3NUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKF90aGlzNS50cmFja0hvcml6b250YWwsIHtcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pO1xuICAgICAgICAoMCwgX2RvbUNzczJbXCJkZWZhdWx0XCJdKShfdGhpczUudHJhY2tWZXJ0aWNhbCwge1xuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG4gICAgICB9LCBhdXRvSGlkZVRpbWVvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGVjdFNjcm9sbGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVjdFNjcm9sbGluZygpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zY3JvbGxpbmcpIHJldHVybjtcbiAgICAgIHRoaXMuc2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnQoKTtcbiAgICAgIHRoaXMuZGV0ZWN0U2Nyb2xsaW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczYubGFzdFZpZXdTY3JvbGxMZWZ0ID09PSBfdGhpczYudmlld1Njcm9sbExlZnQgJiYgX3RoaXM2Lmxhc3RWaWV3U2Nyb2xsVG9wID09PSBfdGhpczYudmlld1Njcm9sbFRvcCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM2LmRldGVjdFNjcm9sbGluZ0ludGVydmFsKTtcbiAgICAgICAgICBfdGhpczYuc2Nyb2xsaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpczYuaGFuZGxlU2Nyb2xsU3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM2Lmxhc3RWaWV3U2Nyb2xsTGVmdCA9IF90aGlzNi52aWV3U2Nyb2xsTGVmdDtcbiAgICAgICAgX3RoaXM2Lmxhc3RWaWV3U2Nyb2xsVG9wID0gX3RoaXM2LnZpZXdTY3JvbGxUb3A7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JhZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJhZihjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnJlcXVlc3RGcmFtZSkgX3JhZjNbXCJkZWZhdWx0XCJdLmNhbmNlbCh0aGlzLnJlcXVlc3RGcmFtZSk7XG4gICAgICB0aGlzLnJlcXVlc3RGcmFtZSA9ICgwLCBfcmFmM1tcImRlZmF1bHRcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM3LnJlcXVlc3RGcmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIHRoaXMucmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM4Ll91cGRhdGUoZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgIF90aGlzOC5kZXRlY3RTY3JvbGxiYXJXaWR0aENoYW5nZSh2YWx1ZXMpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuICAgICAgICAgIGNhbGxiYWNrKHZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBvblVwZGF0ZSA9IF9wcm9wczQub25VcGRhdGUsXG4gICAgICAgICAgaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQgPSBfcHJvcHM0LmhpZGVUcmFja3NXaGVuTm90TmVlZGVkO1xuICAgICAgdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgICAgIHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuXG4gICAgICBpZiAoIXRoaXMudmlldykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmdldFZhbHVlcygpO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSB2YWx1ZXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBjbGllbnRXaWR0aCA9IHZhbHVlcy5jbGllbnRXaWR0aCxcbiAgICAgICAgICBzY3JvbGxXaWR0aCA9IHZhbHVlcy5zY3JvbGxXaWR0aDtcbiAgICAgIHZhciB0cmFja0hvcml6b250YWxXaWR0aCA9ICgwLCBfZ2V0SW5uZXJXaWR0aDJbXCJkZWZhdWx0XCJdKSh0aGlzLnRyYWNrSG9yaXpvbnRhbCk7XG4gICAgICB2YXIgdGh1bWJIb3Jpem9udGFsV2lkdGggPSB0aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCk7XG4gICAgICB2YXIgdGh1bWJIb3Jpem9udGFsWCA9IHNjcm9sbExlZnQgLyAoc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCkgKiAodHJhY2tIb3Jpem9udGFsV2lkdGggLSB0aHVtYkhvcml6b250YWxXaWR0aCk7XG4gICAgICB2YXIgdGh1bWJIb3Jpem9udGFsU3R5bGUgPSB7XG4gICAgICAgIHdpZHRoOiB0aHVtYkhvcml6b250YWxXaWR0aCxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgnICsgdGh1bWJIb3Jpem9udGFsWCArICdweCknXG4gICAgICB9O1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IHZhbHVlcy5zY3JvbGxUb3AsXG4gICAgICAgICAgY2xpZW50SGVpZ2h0ID0gdmFsdWVzLmNsaWVudEhlaWdodCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQgPSB2YWx1ZXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgdmFyIHRyYWNrVmVydGljYWxIZWlnaHQgPSAoMCwgX2dldElubmVySGVpZ2h0MltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tWZXJ0aWNhbCk7XG4gICAgICB2YXIgdGh1bWJWZXJ0aWNhbEhlaWdodCA9IHRoaXMuZ2V0VGh1bWJWZXJ0aWNhbEhlaWdodCgpO1xuICAgICAgdmFyIHRodW1iVmVydGljYWxZID0gc2Nyb2xsVG9wIC8gKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkgKiAodHJhY2tWZXJ0aWNhbEhlaWdodCAtIHRodW1iVmVydGljYWxIZWlnaHQpO1xuICAgICAgdmFyIHRodW1iVmVydGljYWxTdHlsZSA9IHtcbiAgICAgICAgaGVpZ2h0OiB0aHVtYlZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKCcgKyB0aHVtYlZlcnRpY2FsWSArICdweCknXG4gICAgICB9O1xuXG4gICAgICBpZiAoaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQpIHtcbiAgICAgICAgdmFyIHRyYWNrSG9yaXpvbnRhbFN0eWxlID0ge1xuICAgICAgICAgIHZpc2liaWxpdHk6IHNjcm9sbFdpZHRoID4gY2xpZW50V2lkdGggPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJhY2tWZXJ0aWNhbFN0eWxlID0ge1xuICAgICAgICAgIHZpc2liaWxpdHk6IHNjcm9sbEhlaWdodCA+IGNsaWVudEhlaWdodCA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nXG4gICAgICAgIH07XG4gICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tIb3Jpem9udGFsLCB0cmFja0hvcml6b250YWxTdHlsZSk7XG4gICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tWZXJ0aWNhbCwgdHJhY2tWZXJ0aWNhbFN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkodGhpcy50aHVtYkhvcml6b250YWwsIHRodW1iSG9yaXpvbnRhbFN0eWxlKTtcbiAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudGh1bWJWZXJ0aWNhbCwgdGh1bWJWZXJ0aWNhbFN0eWxlKTtcbiAgICAgIGlmIChvblVwZGF0ZSkgb25VcGRhdGUodmFsdWVzKTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHJldHVybjtcbiAgICAgIGNhbGxiYWNrKHZhbHVlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5cbiAgICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBvblNjcm9sbCA9IF9wcm9wczUub25TY3JvbGwsXG4gICAgICAgICAgb25TY3JvbGxGcmFtZSA9IF9wcm9wczUub25TY3JvbGxGcmFtZSxcbiAgICAgICAgICBvblNjcm9sbFN0YXJ0ID0gX3Byb3BzNS5vblNjcm9sbFN0YXJ0LFxuICAgICAgICAgIG9uU2Nyb2xsU3RvcCA9IF9wcm9wczUub25TY3JvbGxTdG9wLFxuICAgICAgICAgIG9uVXBkYXRlID0gX3Byb3BzNS5vblVwZGF0ZSxcbiAgICAgICAgICByZW5kZXJWaWV3ID0gX3Byb3BzNS5yZW5kZXJWaWV3LFxuICAgICAgICAgIHJlbmRlclRyYWNrSG9yaXpvbnRhbCA9IF9wcm9wczUucmVuZGVyVHJhY2tIb3Jpem9udGFsLFxuICAgICAgICAgIHJlbmRlclRyYWNrVmVydGljYWwgPSBfcHJvcHM1LnJlbmRlclRyYWNrVmVydGljYWwsXG4gICAgICAgICAgcmVuZGVyVGh1bWJIb3Jpem9udGFsID0gX3Byb3BzNS5yZW5kZXJUaHVtYkhvcml6b250YWwsXG4gICAgICAgICAgcmVuZGVyVGh1bWJWZXJ0aWNhbCA9IF9wcm9wczUucmVuZGVyVGh1bWJWZXJ0aWNhbCxcbiAgICAgICAgICB0YWdOYW1lID0gX3Byb3BzNS50YWdOYW1lLFxuICAgICAgICAgIGhpZGVUcmFja3NXaGVuTm90TmVlZGVkID0gX3Byb3BzNS5oaWRlVHJhY2tzV2hlbk5vdE5lZWRlZCxcbiAgICAgICAgICBhdXRvSGlkZSA9IF9wcm9wczUuYXV0b0hpZGUsXG4gICAgICAgICAgYXV0b0hpZGVUaW1lb3V0ID0gX3Byb3BzNS5hdXRvSGlkZVRpbWVvdXQsXG4gICAgICAgICAgYXV0b0hpZGVEdXJhdGlvbiA9IF9wcm9wczUuYXV0b0hpZGVEdXJhdGlvbixcbiAgICAgICAgICB0aHVtYlNpemUgPSBfcHJvcHM1LnRodW1iU2l6ZSxcbiAgICAgICAgICB0aHVtYk1pblNpemUgPSBfcHJvcHM1LnRodW1iTWluU2l6ZSxcbiAgICAgICAgICB1bml2ZXJzYWwgPSBfcHJvcHM1LnVuaXZlcnNhbCxcbiAgICAgICAgICBhdXRvSGVpZ2h0ID0gX3Byb3BzNS5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGF1dG9IZWlnaHRNaW4gPSBfcHJvcHM1LmF1dG9IZWlnaHRNaW4sXG4gICAgICAgICAgYXV0b0hlaWdodE1heCA9IF9wcm9wczUuYXV0b0hlaWdodE1heCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczUuc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHM1LmNoaWxkcmVuLFxuICAgICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczUsIFsnb25TY3JvbGwnLCAnb25TY3JvbGxGcmFtZScsICdvblNjcm9sbFN0YXJ0JywgJ29uU2Nyb2xsU3RvcCcsICdvblVwZGF0ZScsICdyZW5kZXJWaWV3JywgJ3JlbmRlclRyYWNrSG9yaXpvbnRhbCcsICdyZW5kZXJUcmFja1ZlcnRpY2FsJywgJ3JlbmRlclRodW1iSG9yaXpvbnRhbCcsICdyZW5kZXJUaHVtYlZlcnRpY2FsJywgJ3RhZ05hbWUnLCAnaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQnLCAnYXV0b0hpZGUnLCAnYXV0b0hpZGVUaW1lb3V0JywgJ2F1dG9IaWRlRHVyYXRpb24nLCAndGh1bWJTaXplJywgJ3RodW1iTWluU2l6ZScsICd1bml2ZXJzYWwnLCAnYXV0b0hlaWdodCcsICdhdXRvSGVpZ2h0TWluJywgJ2F1dG9IZWlnaHRNYXgnLCAnc3R5bGUnLCAnY2hpbGRyZW4nXSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cblxuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZGlkTW91bnRVbml2ZXJzYWwgPSBfc3RhdGUuZGlkTW91bnRVbml2ZXJzYWwsXG4gICAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBfc3RhdGUuc2Nyb2xsYmFyV2lkdGg7XG5cbiAgICAgIHZhciBjb250YWluZXJTdHlsZSA9IF9leHRlbmRzKHt9LCBfc3R5bGVzLmNvbnRhaW5lclN0eWxlRGVmYXVsdCwgYXV0b0hlaWdodCAmJiBfZXh0ZW5kcyh7fSwgX3N0eWxlcy5jb250YWluZXJTdHlsZUF1dG9IZWlnaHQsIHtcbiAgICAgICAgbWluSGVpZ2h0OiBhdXRvSGVpZ2h0TWluLFxuICAgICAgICBtYXhIZWlnaHQ6IGF1dG9IZWlnaHRNYXhcbiAgICAgIH0pLCBzdHlsZSk7XG5cbiAgICAgIHZhciB2aWV3U3R5bGUgPSBfZXh0ZW5kcyh7fSwgX3N0eWxlcy52aWV3U3R5bGVEZWZhdWx0LCB7XG4gICAgICAgIC8vIEhpZGUgc2Nyb2xsYmFycyBieSBzZXR0aW5nIGEgbmVnYXRpdmUgbWFyZ2luXG4gICAgICAgIG1hcmdpblJpZ2h0OiAtdGhpcy5nZXRQYWRkaW5nV2lkdGgoKSArIChzY3JvbGxiYXJXaWR0aCA/IC1zY3JvbGxiYXJXaWR0aCA6IDApLFxuICAgICAgICBtYXJnaW5Cb3R0b206IC10aGlzLmdldFBhZGRpbmdIZWlnaHQoKSArIChzY3JvbGxiYXJXaWR0aCA/IC1zY3JvbGxiYXJXaWR0aCA6IDApLFxuICAgICAgICB3aWR0aDogJ2NhbGMoMTAwJSArICcgKyAoX3N0eWxlcy5zY3JvbGxiYXJTaXplICsgc2Nyb2xsYmFyV2lkdGgpICsgJ3B4KSdcbiAgICAgIH0sIGF1dG9IZWlnaHQgJiYgX2V4dGVuZHMoe30sIF9zdHlsZXMudmlld1N0eWxlQXV0b0hlaWdodCwge1xuICAgICAgICAvLyBBZGQgcGFkZGluZ0hlaWdodCBhbmQgc2Nyb2xsYmFyV2lkdGggdG8gYXV0b0hlaWdodCBpbiBvcmRlciB0byBjb21wZW5zYXRlIG5lZ2F0aXZlIG1hcmdpbnNcbiAgICAgICAgbWluSGVpZ2h0OiAoMCwgX2lzU3RyaW5nMltcImRlZmF1bHRcIl0pKGF1dG9IZWlnaHRNaW4pID8gJ2NhbGMoJyArIGF1dG9IZWlnaHRNaW4gKyAnICsgJyArICh0aGlzLmdldFBhZGRpbmdIZWlnaHQoKSArIHNjcm9sbGJhcldpZHRoKSArICdweCknIDogYXV0b0hlaWdodE1pbiArIHRoaXMuZ2V0UGFkZGluZ0hlaWdodCgpICsgc2Nyb2xsYmFyV2lkdGgsXG4gICAgICAgIG1heEhlaWdodDogKDAsIF9pc1N0cmluZzJbXCJkZWZhdWx0XCJdKShhdXRvSGVpZ2h0TWF4KSA/ICdjYWxjKCcgKyBhdXRvSGVpZ2h0TWF4ICsgJyArICcgKyAodGhpcy5nZXRQYWRkaW5nSGVpZ2h0KCkgKyBzY3JvbGxiYXJXaWR0aCkgKyAncHgpJyA6IGF1dG9IZWlnaHRNYXggKyB0aGlzLmdldFBhZGRpbmdIZWlnaHQoKSArIHNjcm9sbGJhcldpZHRoXG4gICAgICB9KSwgYXV0b0hlaWdodCAmJiB1bml2ZXJzYWwgJiYgIWRpZE1vdW50VW5pdmVyc2FsICYmIHtcbiAgICAgICAgbWluSGVpZ2h0OiBhdXRvSGVpZ2h0TWluLFxuICAgICAgICBtYXhIZWlnaHQ6IGF1dG9IZWlnaHRNYXhcbiAgICAgIH0sIHVuaXZlcnNhbCAmJiAhZGlkTW91bnRVbml2ZXJzYWwgJiYgX3N0eWxlcy52aWV3U3R5bGVVbml2ZXJzYWxJbml0aWFsKTtcblxuICAgICAgdmFyIHZpZXdXcmFwcGVyU3R5bGUgPSBfZXh0ZW5kcyh7fSwgX3N0eWxlcy52aWV3V3JhcHBlclN0eWxlRGVmYXVsdCwgYXV0b0hlaWdodCAmJiBfZXh0ZW5kcyh7fSwgX3N0eWxlcy52aWV3V3JhcHBlclN0eWxlQXV0b0hlaWdodCkpO1xuXG4gICAgICB2YXIgdmlld1dyYXBwZWRTdHlsZSA9IF9leHRlbmRzKHt9LCBfc3R5bGVzLnZpZXdXcmFwcGVkU3R5bGVEZWZhdWx0KTtcblxuICAgICAgdmFyIHRyYWNrQXV0b0hlaWdodFN0eWxlID0ge1xuICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgYXV0b0hpZGVEdXJhdGlvbiArICdtcycsXG4gICAgICAgIG9wYWNpdHk6IDBcbiAgICAgIH07XG5cbiAgICAgIHZhciB0cmFja0hvcml6b250YWxTdHlsZSA9IF9leHRlbmRzKHt9LCBfc3R5bGVzLnRyYWNrSG9yaXpvbnRhbFN0eWxlRGVmYXVsdCwgYXV0b0hpZGUgJiYgdHJhY2tBdXRvSGVpZ2h0U3R5bGUsIHVuaXZlcnNhbCAmJiAhZGlkTW91bnRVbml2ZXJzYWwgJiYge1xuICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdHJhY2tWZXJ0aWNhbFN0eWxlID0gX2V4dGVuZHMoe30sIF9zdHlsZXMudHJhY2tWZXJ0aWNhbFN0eWxlRGVmYXVsdCwgYXV0b0hpZGUgJiYgdHJhY2tBdXRvSGVpZ2h0U3R5bGUsIHVuaXZlcnNhbCAmJiAhZGlkTW91bnRVbml2ZXJzYWwgJiYge1xuICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSh0YWdOYW1lLCB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJvcHMuY2xhc3NOYW1lID8gcHJvcHMuY2xhc3NOYW1lIDogJycsXG4gICAgICAgIHN0eWxlOiBjb250YWluZXJTdHlsZSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjMpIHtcbiAgICAgICAgICBfdGhpczkuY29udGFpbmVyID0gX3JlZjM7XG4gICAgICAgIH1cbiAgICAgIH0sIFsoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKCdkaXYnLCB7XG4gICAgICAgIHN0eWxlOiB2aWV3U3R5bGUsXG4gICAgICAgIGtleTogJ3ZpZXcnLFxuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmNCkge1xuICAgICAgICAgIF90aGlzOS52aWV3ID0gX3JlZjQ7XG4gICAgICAgIH1cbiAgICAgIH0sIFsoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKCdkaXYnLCB7XG4gICAgICAgIHN0eWxlOiB2aWV3V3JhcHBlclN0eWxlLFxuICAgICAgICBrZXk6ICd2aWV3V3JhcHBlcicsXG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWY1KSB7XG4gICAgICAgICAgX3RoaXM5LnZpZXdXcmFwcGVyID0gX3JlZjU7XG4gICAgICAgIH1cbiAgICAgIH0sIFsoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkocmVuZGVyVmlldyh7XG4gICAgICAgIHN0eWxlOiB2aWV3V3JhcHBlZFN0eWxlXG4gICAgICB9KSwge1xuICAgICAgICBrZXk6ICd2aWV3V3JhcHBlZCcsXG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWY2KSB7XG4gICAgICAgICAgX3RoaXM5LnZpZXdXcmFwcGVkID0gX3JlZjY7XG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKV0pXSksICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShyZW5kZXJUcmFja0hvcml6b250YWwoe1xuICAgICAgICBzdHlsZTogdHJhY2tIb3Jpem9udGFsU3R5bGVcbiAgICAgIH0pLCB7XG4gICAgICAgIGtleTogJ3RyYWNrSG9yaXpvbnRhbCcsXG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWY3KSB7XG4gICAgICAgICAgX3RoaXM5LnRyYWNrSG9yaXpvbnRhbCA9IF9yZWY3O1xuICAgICAgICB9XG4gICAgICB9LCAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkocmVuZGVyVGh1bWJIb3Jpem9udGFsKHtcbiAgICAgICAgc3R5bGU6IF9zdHlsZXMudGh1bWJIb3Jpem9udGFsU3R5bGVEZWZhdWx0XG4gICAgICB9KSwge1xuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmOCkge1xuICAgICAgICAgIF90aGlzOS50aHVtYkhvcml6b250YWwgPSBfcmVmODtcbiAgICAgICAgfVxuICAgICAgfSkpLCAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkocmVuZGVyVHJhY2tWZXJ0aWNhbCh7XG4gICAgICAgIHN0eWxlOiB0cmFja1ZlcnRpY2FsU3R5bGVcbiAgICAgIH0pLCB7XG4gICAgICAgIGtleTogJ3RyYWNrVmVydGljYWwnLFxuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmOSkge1xuICAgICAgICAgIF90aGlzOS50cmFja1ZlcnRpY2FsID0gX3JlZjk7XG4gICAgICAgIH1cbiAgICAgIH0sICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShyZW5kZXJUaHVtYlZlcnRpY2FsKHtcbiAgICAgICAgc3R5bGU6IF9zdHlsZXMudGh1bWJWZXJ0aWNhbFN0eWxlRGVmYXVsdFxuICAgICAgfSksIHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjEwKSB7XG4gICAgICAgICAgX3RoaXM5LnRodW1iVmVydGljYWwgPSBfcmVmMTA7XG4gICAgICAgIH1cbiAgICAgIH0pKV0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxiYXJzO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTY3JvbGxiYXJzO1xuU2Nyb2xsYmFycy5wcm9wVHlwZXMgPSB7XG4gIG9uU2Nyb2xsOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgb25TY3JvbGxGcmFtZTogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmZ1bmMsXG4gIG9uU2Nyb2xsU3RhcnQ6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICBvblNjcm9sbFN0b3A6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICBvblVwZGF0ZTogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmZ1bmMsXG4gIHJlbmRlclZpZXc6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICByZW5kZXJUcmFja0hvcml6b250YWw6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICByZW5kZXJUcmFja1ZlcnRpY2FsOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgcmVuZGVyVGh1bWJIb3Jpem9udGFsOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgcmVuZGVyVGh1bWJWZXJ0aWNhbDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmZ1bmMsXG4gIHRhZ05hbWU6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5zdHJpbmcsXG4gIHRodW1iU2l6ZTogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm51bWJlcixcbiAgdGh1bWJNaW5TaXplOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLFxuICBoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmJvb2wsXG4gIGF1dG9IaWRlOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uYm9vbCxcbiAgYXV0b0hpZGVUaW1lb3V0OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLFxuICBhdXRvSGlkZUR1cmF0aW9uOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLFxuICBhdXRvSGVpZ2h0OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uYm9vbCxcbiAgYXV0b0hlaWdodE1pbjogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm51bWJlciwgX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLnN0cmluZ10pLFxuICBhdXRvSGVpZ2h0TWF4OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLCBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uc3RyaW5nXSksXG4gIHVuaXZlcnNhbDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmJvb2wsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm5vZGVcbn07XG5TY3JvbGxiYXJzLmRlZmF1bHRQcm9wcyA9IHtcbiAgcmVuZGVyVmlldzogX2RlZmF1bHRSZW5kZXJFbGVtZW50cy5yZW5kZXJWaWV3RGVmYXVsdCxcbiAgcmVuZGVyVHJhY2tIb3Jpem9udGFsOiBfZGVmYXVsdFJlbmRlckVsZW1lbnRzLnJlbmRlclRyYWNrSG9yaXpvbnRhbERlZmF1bHQsXG4gIHJlbmRlclRyYWNrVmVydGljYWw6IF9kZWZhdWx0UmVuZGVyRWxlbWVudHMucmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQsXG4gIHJlbmRlclRodW1iSG9yaXpvbnRhbDogX2RlZmF1bHRSZW5kZXJFbGVtZW50cy5yZW5kZXJUaHVtYkhvcml6b250YWxEZWZhdWx0LFxuICByZW5kZXJUaHVtYlZlcnRpY2FsOiBfZGVmYXVsdFJlbmRlckVsZW1lbnRzLnJlbmRlclRodW1iVmVydGljYWxEZWZhdWx0LFxuICB0YWdOYW1lOiAnZGl2JyxcbiAgdGh1bWJNaW5TaXplOiAzMCxcbiAgaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQ6IGZhbHNlLFxuICBhdXRvSGlkZTogZmFsc2UsXG4gIGF1dG9IaWRlVGltZW91dDogMTAwMCxcbiAgYXV0b0hpZGVEdXJhdGlvbjogMjAwLFxuICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgYXV0b0hlaWdodE1pbjogMCxcbiAgYXV0b0hlaWdodE1heDogMjAwLFxuICB1bml2ZXJzYWw6IGZhbHNlXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9zdHlsZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9TY3JvbGxiYXJzL3N0eWxlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBzY3JvbGxiYXJTaXplID0gZXhwb3J0cy5zY3JvbGxiYXJTaXplID0gMTAwO1xudmFyIGNvbnRhaW5lclN0eWxlRGVmYXVsdCA9IGV4cG9ydHMuY29udGFpbmVyU3R5bGVEZWZhdWx0ID0ge1xuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB3aWR0aDogJzEwMCUnLFxuICBoZWlnaHQ6ICcxMDAlJ1xufTtcbnZhciB2aWV3V3JhcHBlclN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudmlld1dyYXBwZXJTdHlsZURlZmF1bHQgPSB7XG4gIHBhZGRpbmdSaWdodDogc2Nyb2xsYmFyU2l6ZSxcbiAgcGFkZGluZ0JvdHRvbTogc2Nyb2xsYmFyU2l6ZSxcbiAgd2lkdGg6ICdhdXRvJyxcbiAgbWluV2lkdGg6ICcxMDAlJyxcbiAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xufTtcbnZhciB2aWV3V3JhcHBlZFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudmlld1dyYXBwZWRTdHlsZURlZmF1bHQgPSB7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBkaXNwbGF5OiAnYmxvY2snLFxuICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgd2lkdGg6ICcxMDAlJyxcbiAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbn07IC8vIE92ZXJyaWRlcyBjb250YWluZXJTdHlsZURlZmF1bHQgcHJvcGVydGllc1xuXG52YXIgY29udGFpbmVyU3R5bGVBdXRvSGVpZ2h0ID0gZXhwb3J0cy5jb250YWluZXJTdHlsZUF1dG9IZWlnaHQgPSB7XG4gIGhlaWdodDogJ2F1dG8nXG59O1xudmFyIHZpZXdTdHlsZURlZmF1bHQgPSBleHBvcnRzLnZpZXdTdHlsZURlZmF1bHQgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICBib3R0b206IDAsXG4gIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgTXNPdmVyZmxvd1N0eWxlOiAnc2Nyb2xsYmFyJyxcbiAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gIGhlaWdodDogJ2F1dG8nLFxuICBib3hTaXppbmc6ICdjb250ZW50LWJveCdcbn07IC8vIE92ZXJyaWRlcyB2aWV3U3R5bGVEZWZhdWx0IHByb3BlcnRpZXNcblxudmFyIHZpZXdTdHlsZUF1dG9IZWlnaHQgPSBleHBvcnRzLnZpZXdTdHlsZUF1dG9IZWlnaHQgPSB7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICB0b3A6IHVuZGVmaW5lZCxcbiAgbGVmdDogdW5kZWZpbmVkLFxuICByaWdodDogdW5kZWZpbmVkLFxuICBib3R0b206IHVuZGVmaW5lZFxufTtcbnZhciB2aWV3U3R5bGVVbml2ZXJzYWxJbml0aWFsID0gZXhwb3J0cy52aWV3U3R5bGVVbml2ZXJzYWxJbml0aWFsID0ge1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIG1hcmdpblJpZ2h0OiAwLFxuICBtYXJnaW5Cb3R0b206IDBcbn07XG52YXIgdHJhY2tIb3Jpem9udGFsU3R5bGVEZWZhdWx0ID0gZXhwb3J0cy50cmFja0hvcml6b250YWxTdHlsZURlZmF1bHQgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICBoZWlnaHQ6IDZcbn07XG52YXIgdHJhY2tWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudHJhY2tWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHdpZHRoOiA2XG59O1xudmFyIHRodW1iSG9yaXpvbnRhbFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudGh1bWJIb3Jpem9udGFsU3R5bGVEZWZhdWx0ID0ge1xuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgaGVpZ2h0OiAnMTAwJSdcbn07XG52YXIgdGh1bWJWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudGh1bWJWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIGRpc3BsYXk6ICdibG9jaycsXG4gIHdpZHRoOiAnMTAwJSdcbn07XG52YXIgZGlzYWJsZVNlbGVjdFN0eWxlID0gZXhwb3J0cy5kaXNhYmxlU2VsZWN0U3R5bGUgPSB7XG4gIHVzZXJTZWxlY3Q6ICdub25lJ1xufTtcbnZhciBkaXNhYmxlU2VsZWN0U3R5bGVSZXNldCA9IGV4cG9ydHMuZGlzYWJsZVNlbGVjdFN0eWxlUmVzZXQgPSB7XG4gIHVzZXJTZWxlY3Q6ICcnXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU2Nyb2xsYmFycyA9IHVuZGVmaW5lZDtcblxudmFyIF9TY3JvbGxiYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TY3JvbGxiYXJzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL1Njcm9sbGJhcnMvaW5kZXguanNcIik7XG5cbnZhciBfU2Nyb2xsYmFyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JvbGxiYXJzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1Njcm9sbGJhcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuU2Nyb2xsYmFycyA9IF9TY3JvbGxiYXJzMltcImRlZmF1bHRcIl07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9nZXRJbm5lckhlaWdodC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL3V0aWxzL2dldElubmVySGVpZ2h0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRJbm5lckhlaWdodDtcblxuZnVuY3Rpb24gZ2V0SW5uZXJIZWlnaHQoZWwpIHtcbiAgdmFyIGNsaWVudEhlaWdodCA9IGVsLmNsaWVudEhlaWdodDtcblxuICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKSxcbiAgICAgIHBhZGRpbmdUb3AgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wLFxuICAgICAgcGFkZGluZ0JvdHRvbSA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b207XG5cbiAgcmV0dXJuIGNsaWVudEhlaWdodCAtIHBhcnNlRmxvYXQocGFkZGluZ1RvcCkgLSBwYXJzZUZsb2F0KHBhZGRpbmdCb3R0b20pO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvZ2V0SW5uZXJXaWR0aC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvZ2V0SW5uZXJXaWR0aC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRJbm5lcldpZHRoO1xuXG5mdW5jdGlvbiBnZXRJbm5lcldpZHRoKGVsKSB7XG4gIHZhciBjbGllbnRXaWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpLFxuICAgICAgcGFkZGluZ0xlZnQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nTGVmdCxcbiAgICAgIHBhZGRpbmdSaWdodCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdSaWdodDtcblxuICByZXR1cm4gY2xpZW50V2lkdGggLSBwYXJzZUZsb2F0KHBhZGRpbmdMZWZ0KSAtIHBhcnNlRmxvYXQocGFkZGluZ1JpZ2h0KTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL3V0aWxzL2dldFNjcm9sbGJhcldpZHRoLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvZ2V0U2Nyb2xsYmFyV2lkdGguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmludmFsaWRhdGVTY3JvbGxiYXJXaWR0aCA9IGludmFsaWRhdGVTY3JvbGxiYXJXaWR0aDtcbnZhciBzY3JvbGxiYXJXaWR0aCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBpbnZhbGlkYXRlU2Nyb2xsYmFyV2lkdGgoKSB7XG4gIHNjcm9sbGJhcldpZHRoID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKHZhbHVlcykge1xuICBpZiAoc2Nyb2xsYmFyV2lkdGggIT09IGZhbHNlKSByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG5cbiAgaWYgKHZhbHVlcyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2Nyb2xsYmFyV2lkdGggPSB2YWx1ZXMub2Zmc2V0V2lkdGggLSB2YWx1ZXMucmVhbENsaWVudFdpZHRoO1xuICB9IGVsc2Uge1xuICAgIHNjcm9sbGJhcldpZHRoID0gMDtcbiAgfVxuXG4gIHJldHVybiBzY3JvbGxiYXJXaWR0aCB8fCAwO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldFNjcm9sbGJhcldpZHRoO1xuZXhwb3J0cy5nZXRTY3JvbGxiYXJXaWR0aCA9IGdldFNjcm9sbGJhcldpZHRoO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvaXNTdHJpbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9pc1N0cmluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKG1heWJlKSB7XG4gIHJldHVybiB0eXBlb2YgbWF5YmUgPT09ICdzdHJpbmcnO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvcmV0dXJuRmFsc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9yZXR1cm5GYWxzZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcmV0dXJuRmFsc2U7XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQgKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanNcIik7XG5cbiAgdmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuXG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSB2YWx1ZXMgbWF0Y2ggd2l0aCB0aGUgdHlwZSBzcGVjcy5cbiAqIEVycm9yIG1lc3NhZ2VzIGFyZSBtZW1vcml6ZWQgYW5kIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0eXBlU3BlY3MgTWFwIG9mIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzIFJ1bnRpbWUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSB0eXBlLWNoZWNrZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcGFyYW0gez9GdW5jdGlvbn0gZ2V0U3RhY2sgUmV0dXJucyB0aGUgY29tcG9uZW50IHN0YWNrLlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcbiAgaWYgKHRydWUpIHtcbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yOyAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICsgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZygoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAnICsgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICcgKyB0eXBlb2YgZXJyb3IgKyAnLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuICAgICAgICAgIHByaW50V2FybmluZygnRmFpbGVkICcgKyBsb2NhdGlvbiArICcgdHlwZTogJyArIGVycm9yLm1lc3NhZ2UgKyAoc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG52YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgb2JqZWN0LWFzc2lnbiAqLyBcIi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanNcIik7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0ICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzXCIpO1xuXG52YXIgY2hlY2tQcm9wVHlwZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NoZWNrUHJvcFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanNcIik7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7fTtcblxuaWYgKHRydWUpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG5cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcbiAgICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuICAgKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuICAgKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG4gICAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAgICpcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG4gICAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAgICogICAgIH0sXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG4gICAqXG4gICAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cbiAgICpcbiAgICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICBwcm9wVHlwZXM6IHtcbiAgICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gICAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAgICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAqICAgICAgICAgICk7XG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LFxuICAgKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAgICogIH0pO1xuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG5cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nOyAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzYC5cblxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG4gICAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcbiAgICBlbGVtZW50OiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXJcbiAgfTtcbiAgLyoqXG4gICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAqL1xuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIFByb3BUeXBlRXJyb3IobWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9ICcnO1xuICB9IC8vIE1ha2UgYGluc3RhbmNlb2YgRXJyb3JgIHN0aWxsIHdvcmsgZm9yIHJldHVybmVkIGVycm9ycy5cblxuXG4gIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblxuICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgICAgICAgICAvLyBOZXcgYmVoYXZpb3Igb25seSBmb3IgdXNlcnMgb2YgYHByb3AtdHlwZXNgIHBhY2thZ2VcbiAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICsgJ1VzZSBgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKClgIHRvIGNhbGwgdGhlbS4gJyArICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJyk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKFwiZGV2ZWxvcG1lbnRcIiAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIE9sZCBiZWhhdmlvciBmb3IgcGVvcGxlIHVzaW5nIFJlYWN0LlByb3BUeXBlc1xuICAgICAgICAgIHZhciBjYWNoZUtleSA9IGNvbXBvbmVudE5hbWUgKyAnOicgKyBwcm9wTmFtZTtcblxuICAgICAgICAgIGlmICghbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldICYmIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgMykge1xuICAgICAgICAgICAgcHJpbnRXYXJuaW5nKCdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICsgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgKyAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJyk7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYHVuZGVmaW5lZGAuJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcbiAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcbiAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG4gICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgICAgIHRydWUgPyBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgICB0cnVlID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgKyAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLicpO1xuICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9IC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cblxuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICsgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICsgJ1xcblZhbGlkIGtleXM6ICcgKyBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblxuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCdcblxuXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG5cblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cblxuXG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG5cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cblxuICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdzeW1ib2wnO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfSAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuXG5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cblxuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG5cbiAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfSAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG4gIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG5cblxuICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcblxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9IC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG5cblxuICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5pZiAodHJ1ZSkge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yICYmIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB8fCAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07IC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG5cblxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycyAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzXCIpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7fVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIGc7IC8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5cbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSgpO1xuXG50cnkge1xuICAvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcbiAgZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG4gIC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufSAvLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL190aGVtZXMuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9fdGhlbWVzLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NhdGVnb3JpY2FsLWRpc3BsYXkuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jYXRlZ29yaWNhbC1kaXNwbGF5LnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC1jb250cm9scy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jaGFydC1jb250cm9scy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXNpemUuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jaGFydC1zaXplLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC10aXRsZS5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jaGFydC10aXRsZS5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXR5cGVzLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXR5cGVzLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWFzc2V0LWluZm9ybWF0aW9uLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jaXEtYXNzZXQtaW5mb3JtYXRpb24uc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWNoYXJ0LXNldHRpbmcuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWNoYXJ0LXNldHRpbmcuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtY2hhcnQtdGFibGUuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1jaGFydC10YWJsZS5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtY3Jvc3NoYWlyLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWNyb3NzaGFpci5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWRpYWxvZy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1kaWFsb2cuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1kb3dubG9hZC5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWRvd25sb2FkLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1mb3JtLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1mb3JtLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWxpc3Quc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWxpc3Quc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtc2V0dGluZ3MtZGlhbG9nLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fY2lxLXNldHRpbmdzLWRpYWxvZy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY29tcGFyaXNvbi1saXN0LnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19jb21wYXJpc29uLWxpc3Quc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fZHJhdy10b29scy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2RyYXctdG9vbHMuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2RyYXdpbmctY3Vyc29yLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2NvbXBvbmVudHMvX2RyYXdpbmctY3Vyc29yLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9faGlnaGVzdC1sb3dlc3QtbWFya2VyLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19oaWdoZXN0LWxvd2VzdC1tYXJrZXIuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9faWNvbnMuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9faWNvbnMuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19sYXN0LWRpZ2l0cy5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19sYXN0LWRpZ2l0cy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX21hcmtlcnMuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19tYXJrZXJzLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19wYWdpbmF0aW9uLWxvYWRlci5zY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL19wYWdpbmF0aW9uLWxvYWRlci5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJsaWdodGNoYXJ0Z3JpZFwiOlwicmdiYSgwLCAwLCAwLCAwLjA0KVwiLFwiZGFya2NoYXJ0Z3JpZFwiOlwiIzE5MWMzMVwiLFwibGlnaHRjaGFydG1vdW50YWluYm9yZGVyXCI6XCIjOTk5Y2FjXCIsXCJkYXJrY2hhcnRtb3VudGFpbmJvcmRlclwiOlwid2hpdGVcIixcImxpZ2h0Y2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgwLCAwLCAwLCAwLjE2KVwiLFwiZGFya2NhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC4zKVwiLFwibGlnaHRjYW5kbGViZ2Nsb3NlZFwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NhbmRsZWJnY2xvc2VkXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2hhcnRjbG9zZWRjYW5kbGVcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRiZ1wiOlwiI2ZmZmZmZlwiLFwiZGFya2NoYXJ0YmdcIjpcIiMxMDEzMjBcIixcImxpZ2h0ZmxvYXRsYWJlbHNiZ1wiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjg4KVwiLFwiZGFya2Zsb2F0bGFiZWxzYmdcIjpcIiMyYTMwNTJcIn07XG4gICAgaWYoZmFsc2UpIHsgdmFyIGNzc1JlbG9hZDsgfVxuICBcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3RpbWVwZXJpb2Quc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9jb21wb25lbnRzL190aW1lcGVyaW9kLnNjc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wibGlnaHRjaGFydGdyaWRcIjpcInJnYmEoMCwgMCwgMCwgMC4wNClcIixcImRhcmtjaGFydGdyaWRcIjpcIiMxOTFjMzFcIixcImxpZ2h0Y2hhcnRtb3VudGFpbmJvcmRlclwiOlwiIzk5OWNhY1wiLFwiZGFya2NoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIndoaXRlXCIsXCJsaWdodGNhbmRsZXRleHRjbG9zZWRcIjpcInJnYmEoMCwgMCwgMCwgMC4xNilcIixcImRhcmtjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuMylcIixcImxpZ2h0Y2FuZGxlYmdjbG9zZWRcIjpcIiNkNmQ2ZDZcIixcImRhcmtjYW5kbGViZ2Nsb3NlZFwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGNsb3NlZGNhbmRsZVwiOlwiI2Q2ZDZkNlwiLFwiZGFya2NoYXJ0Y2xvc2VkY2FuZGxlXCI6XCIjMzAzMzQyXCIsXCJsaWdodGNoYXJ0YmdcIjpcIiNmZmZmZmZcIixcImRhcmtjaGFydGJnXCI6XCIjMTAxMzIwXCIsXCJsaWdodGZsb2F0bGFiZWxzYmdcIjpcInJnYmEoMTI3LCAxMzEsIDE1MSwgMC44OClcIixcImRhcmtmbG9hdGxhYmVsc2JnXCI6XCIjMmEzMDUyXCJ9O1xuICAgIGlmKGZhbHNlKSB7IHZhciBjc3NSZWxvYWQ7IH1cbiAgXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9jb21wb25lbnRzL192aWV3LnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvY29tcG9uZW50cy9fdmlldy5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvZW5lcmd5L29pbCB1c2QvaWMtb2lsdXNkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvZW5lcmd5L29pbCB1c2QvaWMtb2lsdXNkLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1vaWx1c2QtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtb2lsdXNkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1vdGNiYWRnZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvaWMtb3RjYmFkZ2Uuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtb3RjYmFkZ2UtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEzIDlcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vdGNiYWRnZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvaWMtc21hcnRmeC1wbGFjZWhvbGRlci5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1zbWFydGZ4LXBsYWNlaG9sZGVyLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtc21hcnRmeC1wbGFjZWhvbGRlci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1zbWFydGZ4LXBsYWNlaG9sZGVyLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9tZXRhbHMvaWMtbWV0YWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9tZXRhbHMvaWMtbWV0YWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLW1ldGFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLW1ldGFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwIGluZGV4L2ljLTEwLWluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMTAgaW5kZXgvaWMtMTAtaW5kZXguc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy0xMC1pbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy0xMC1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMDAgaW5kZXgvaWMtMTAwLWluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMDAgaW5kZXgvaWMtMTAwLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy0xMDAtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtMTAwLWluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzI1IGluZGV4L2ljLTI1LWluZGV4LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy0yNS1pbmRleC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy0yNS1pbmRleC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS81MCBpbmRleC9pYy01MC1pbmRleC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzUwIGluZGV4L2ljLTUwLWluZGV4LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtNTAtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtNTAtaW5kZXgtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvNzUgaW5kZXgvaWMtNzUtaW5kZXguc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS83NSBpbmRleC9pYy03NS1pbmRleC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLTc1LWluZGV4LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLTc1LWluZGV4LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L2JlYXIgbWFya2V0L2ljLW1hcmtldGJlYXIuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L2JlYXIgbWFya2V0L2ljLW1hcmtldGJlYXIuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLW1hcmtldGJlYXItdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtbWFya2V0YmVhci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9idWxsIG1hcmtldC9pYy1tYXJrZXRidWxsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9idWxsIG1hcmtldC9pYy1tYXJrZXRidWxsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1tYXJrZXRidWxsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLW1hcmtldGJ1bGwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9lcnJvci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImVycm9yLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2Vycm9yLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImluZm8tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaW5mby11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9zdWNjZXNzLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9zdWNjZXNzLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJzdWNjZXNzLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI3N1Y2Nlc3MtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvd2FybmluZy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvd2FybmluZy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwid2FybmluZy11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyN3YXJuaW5nLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWJhY2stdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtYmFjay11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdGVtcGxhdGUvaWMtY2hhcnR0ZW1wbGF0ZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHRlbXBsYXRlL2ljLWNoYXJ0dGVtcGxhdGUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWNoYXJ0dGVtcGxhdGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWNoYXJ0dGVtcGxhdGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9iYXNlbGluZS9pYy1iYXNlbGluZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9iYXNlbGluZS9pYy1iYXNlbGluZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWJhc2VsaW5lLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1iYXNlbGluZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2NhbmRsZS9pYy1jYW5kbGUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9jYW5kbGUvaWMtY2FuZGxlLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1jYW5kbGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWNhbmRsZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2RvdC9pYy1kb3Qtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9kb3QvaWMtZG90LW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1kb3Qtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2hvbGxvdyBjYW5kbGUvaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2hvbGxvdyBjYW5kbGUvaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtaG9sbG93Y2FuZGxlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1ob2xsb3djYW5kbGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1oZWlraW4tYXNoaS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1oZWlraW4tYXNoaS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWhlaWtpbi1hc2hpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1oZWlraW4tYXNoaS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLWthZ2ktbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1rYWdpLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1rYWdpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1rYWdpLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtbGluZWJyZWFrLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1saW5lYnJlYWstbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtbGluZWJyZWFrLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1saW5lYnJlYWstbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1wb2ludGZpZ3VyZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1wb2ludGZpZ3VyZS1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLXBvaW50ZmlndXJlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wb2ludGZpZ3VyZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXJhbmdlYmFycy1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcmFuZ2ViYXJzLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLXJhbmdlYmFycy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtcmFuZ2ViYXJzLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcmVua28tbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcmVua28tbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1yZW5rby1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtcmVua28tbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9saW5lIGRvdC9pYy1saW5lZG90LW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvbGluZSBkb3QvaWMtbGluZWRvdC1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtbGluZWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtbGluZWRvdC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvbGluZS9pYy1saW5lLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWxpbmUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWxpbmUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9vaGxjL2ljLW9obGMtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL29obGMvaWMtb2hsYy1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1vaGxjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1vaGxjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvc3BsaW5lL2ljLXNwbGluZS1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3NwbGluZS9pYy1zcGxpbmUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLXNwbGluZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtc3BsaW5lLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvdGFibGUvdGFibGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3RhYmxlL3RhYmxlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcInRhYmxlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI3RhYmxlLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jb21wYXJpc29uL2ljLWNvbXBhcmlzb24tbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NvbXBhcmlzb24vaWMtY29tcGFyaXNvbi1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1jb21wYXJpc29uLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jb21wYXJpc29uLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci1vZmYuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb2ZmLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWNyb3NzaGFpci1vZmYtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtY3Jvc3NoYWlyLW9mZi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci1vbi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jcm9zc2hhaXIvaWMtY3Jvc3NoYWlyLW9uLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtY3Jvc3NoYWlyLW9uLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWNyb3NzaGFpci1vbi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci10b29sdGlwLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci10b29sdGlwLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1jcm9zc2hhaXItdG9vbHRpcC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jcm9zc2hhaXItdG9vbHRpcC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvZHJhd2luZyB0b29scy9pYy1kcmF3aW5ndG9vbHMtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvZHJhd2luZyB0b29scy9pYy1kcmF3aW5ndG9vbHMtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1kcmF3aW5ndG9vbHMtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWRyYXdpbmd0b29scy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2luZGljYXRvcnMvaWMtaW5kaWNhdG9yLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2luZGljYXRvcnMvaWMtaW5kaWNhdG9yLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtaW5kaWNhdG9yLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1pbmRpY2F0b3Itbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9zZXR0aW5nL2ljLXBvc2l0aW9uLWJvdHRvbS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1ib3R0b20uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtcG9zaXRpb24tYm90dG9tLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLXBvc2l0aW9uLWJvdHRvbS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1wb3NpdGlvbi1sZWZ0LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLXBvc2l0aW9uLWxlZnQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20taW4vaWMtem9vbWluLWxpZ2h0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLWluL2ljLXpvb21pbi1saWdodC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy16b29taW4tbGlnaHQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtem9vbWluLWxpZ2h0LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLW91dC9pYy16b29tb3V0LWxpZ2h0LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20tb3V0L2ljLXpvb21vdXQtbGlnaHQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy16b29tb3V0LWxpZ2h0LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLXpvb21vdXQtbGlnaHQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L2ljLWRvd24uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQvaWMtZG93bi5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWRvd24tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtZG93bi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQvaWMtbWF4aW1pemUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0L2ljLW1heGltaXplLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLW1heGltaXplLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLW1heGltaXplLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9qdW1wLXRvLXRvZGF5LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NoYXJ0L2p1bXAtdG8tdG9kYXkuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJqdW1wLXRvLXRvZGF5LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNS4xIDEzLjRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNqdW1wLXRvLXRvZGF5LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9yZXNpemUtaWNvbi5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvY2hhcnQvcmVzaXplLWljb24uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwicmVzaXplLWljb24tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDYgMTRcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNyZXNpemUtaWNvbi11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvY2xlYXIvaWMtY2xlYXIuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2NsZWFyL2ljLWNsZWFyLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWNsZWFyLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWNsZWFyLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS1jaXJjbGUuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS1jaXJjbGUuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWNsb3NlLWNpcmNsZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jbG9zZS1jaXJjbGUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2Nsb3NlL2ljLWNsb3NlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1jbG9zZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1jbG9zZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9kZWxldGUvaWMtZGVsZXRlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtZGVsZXRlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWRlbGV0ZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtY3N2LnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtY3N2LnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1jc3YtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtY3N2LXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1kb3dubG9hZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtZG93bmxvYWQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtZG93bmxvYWQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtZG93bmxvYWQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLXBuZy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLXBuZy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtcG5nLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLXBuZy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZHJvcGRvd24vaWMtZHJvcGRvd24uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2Ryb3Bkb3duL2ljLWRyb3Bkb3duLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWRyb3Bkb3duLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWRyb3Bkb3duLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9lZGl0L2ljLWVkaXQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9lZGl0L2ljLWVkaXQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWVkaXQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtZWRpdC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmF2b3JpdGUvaWMtZmF2b3JpdGUtbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmF2b3JpdGUvaWMtZmF2b3JpdGUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1mYXZvcml0ZS1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtZmF2b3JpdGUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9hdWQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9hdWQuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImF1ZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNhdWQtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2NhZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2NhZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiY2FkLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2NhZC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hmLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hmLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJjaGYtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjY2hmLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9jaGluZXNlLXRyYWRpdGlvbmFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2NoaW5lc2UtdHJhZGl0aW9uYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJjaGluZXNlLXRyYWRpdGlvbmFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2NoaW5lc2UtdHJhZGl0aW9uYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2NoaW5lc2Uuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImNoaW5lc2UtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjY2hpbmVzZS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZHV0Y2guc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2R1dGNoLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImR1dGNoLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2R1dGNoLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9ldXIuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9ldXIuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImV1ci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNldXItdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2ZyZW5jaC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2ZyZW5jaC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiZnJlbmNoLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ZyZW5jaC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZ2JwLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvZ2JwLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJnYnAtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjZ2JwLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9nZXJtYW4uc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9nZXJtYW4uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImdlcm1hbi11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNnZXJtYW4tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2hvbmcga29uZy5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2hvbmcga29uZy5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaG9uZyBrb25nLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2hvbmcga29uZy11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaW5kb25lc2lhLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvaW5kb25lc2lhLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpbmRvbmVzaWEtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaW5kb25lc2lhLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9pdGFseS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvaXRhbHkuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaXRhbHktdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaXRhbHktdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2pweS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL2pweS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwianB5LXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2pweS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvbXhuLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvbXhuLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJteG4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjbXhuLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9ub2suc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy9ub2suc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcIm5vay11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNub2stdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL256ZC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL256ZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwibnpkLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI256ZC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvcGxuLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvcGxuLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJwbG4tdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjcGxuLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9wb3J0dWdhbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvcG9ydHVnYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwicG9ydHVnYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjcG9ydHVnYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3J1c3NpYS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL3J1c3NpYS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwicnVzc2lhLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI3J1c3NpYS11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvc2VrLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3Mvc2VrLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJzZWstdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjc2VrLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9zcGFuaXNoLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL3NwYW5pc2guc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJzcGFuaXNoLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI3NwYW5pc2gtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3RoYWlsYW5kLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9mbGFncy90aGFpbGFuZC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJ0aGFpbGFuZC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMjQgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyN0aGFpbGFuZC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvdXNkLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3MvdXNkLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJ1c2QtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjdXNkLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy92aWV0bmFtLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL2ZsYWdzL3ZpZXRuYW0uc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJ2aWV0bmFtLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAyNCAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI3ZpZXRuYW0tdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3dhbGxzdHJlZXQuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcIndhbGxzdHJlZXQtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDI0IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjd2FsbHN0cmVldC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvbWVhc3VyZS9pYy1tZWFzdXJlLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvbWVhc3VyZS9pYy1tZWFzdXJlLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1tZWFzdXJlLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLW1lYXN1cmUtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3BlbmNpbC9pYy1wZW5jaWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvcGVuY2lsL2ljLXBlbmNpbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLXBlbmNpbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wZW5jaWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3BsYWNlaG9sZGVyL2ljLXBsYWNlaG9sZGVyLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9wbGFjZWhvbGRlci9pYy1wbGFjZWhvbGRlci5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy1wbGFjZWhvbGRlci11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1wbGFjZWhvbGRlci11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2VhcmNoL2ljLXNlYXJjaC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NlYXJjaC9pYy1zZWFyY2gtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLXNlYXJjaC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtc2VhcmNoLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9hY3RpdmUvaWMtYWN0aXZlLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2Fzcy9pY29ucy9zaWRlYmFyL2FjdGl2ZS9pYy1hY3RpdmUtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtYWN0aXZlLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1hY3RpdmUtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9pY29ucy9zaWRlYmFyL2NvbW1vZGl0aWVzL2ljLWNvbW1vZGl0aWVzLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2lkZWJhci9jb21tb2RpdGllcy9pYy1jb21tb2RpdGllcy1ub3JtYWwuc3ZnICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtY29tbW9kaXRpZXMtbm9ybWFsLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLWNvbW1vZGl0aWVzLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci9mb3JleC9pYy1mb3JleC1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvZm9yZXgvaWMtZm9yZXgtbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLWZvcmV4LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy1mb3JleC1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvaW5kaWNlcy9pYy1pbmRpY2VzLW5vcm1hbC5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3NpZGViYXIvaW5kaWNlcy9pYy1pbmRpY2VzLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtaW5kaWNlcy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtaW5kaWNlcy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvb3RjL2ljLW90Yy1ub3JtYWwuc3ZnXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2lkZWJhci9vdGMvaWMtb3RjLW5vcm1hbC5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgICAgIGlkOiBcImljLW90Yy1ub3JtYWwtdXNhZ2VcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICB1cmw6IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwic3ByaXRlLTYwNmYzYy5zbWFydGNoYXJ0cy5zdmcjaWMtb3RjLW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvc2lkZWJhci92b2xhdGlsaXR5L2ljLXZvbGF0aWxpdHktbm9ybWFsLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvc2lkZWJhci92b2xhdGlsaXR5L2ljLXZvbGF0aWxpdHktbm9ybWFsLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy12b2xhdGlsaXR5LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy12b2xhdGlsaXR5LW5vcm1hbC11c2FnZVwiLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsO1xuICAgICAgfVxuICAgIH0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Nhc3MvaWNvbnMvdGljay9pYy10aWNrLnN2Z1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvaWNvbnMvdGljay9pYy10aWNrLnN2ZyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gICAgICBpZDogXCJpYy10aWNrLXVzYWdlXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgICAgdXJsOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcInNwcml0ZS02MDZmM2Muc21hcnRjaGFydHMuc3ZnI2ljLXRpY2stdXNhZ2VcIixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zYXNzL2ljb25zL3RpbWUvaWMtdGltZS5zdmdcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zYXNzL2ljb25zL3RpbWUvaWMtdGltZS5zdmcgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICAgICAgaWQ6IFwiaWMtdGltZS11c2FnZVwiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTIgMTJcIixcbiAgICAgIHVybDogX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJzcHJpdGUtNjA2ZjNjLnNtYXJ0Y2hhcnRzLnN2ZyNpYy10aW1lLXVzYWdlXCIsXG4gICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICB9XG4gICAgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2Fzcy9tYWluLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3Nhc3MvbWFpbi5zY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxpZ2h0Y2hhcnRncmlkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXCJkYXJrY2hhcnRncmlkXCI6XCIjMTkxYzMxXCIsXCJsaWdodGNoYXJ0bW91bnRhaW5ib3JkZXJcIjpcIiM5OTljYWNcIixcImRhcmtjaGFydG1vdW50YWluYm9yZGVyXCI6XCJ3aGl0ZVwiLFwibGlnaHRjYW5kbGV0ZXh0Y2xvc2VkXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXCJkYXJrY2FuZGxldGV4dGNsb3NlZFwiOlwicmdiYSgxMjcsIDEzMSwgMTUxLCAwLjMpXCIsXCJsaWdodGNhbmRsZWJnY2xvc2VkXCI6XCIjZDZkNmQ2XCIsXCJkYXJrY2FuZGxlYmdjbG9zZWRcIjpcIiMzMDMzNDJcIixcImxpZ2h0Y2hhcnRjbG9zZWRjYW5kbGVcIjpcIiNkNmQ2ZDZcIixcImRhcmtjaGFydGNsb3NlZGNhbmRsZVwiOlwiIzMwMzM0MlwiLFwibGlnaHRjaGFydGJnXCI6XCIjZmZmZmZmXCIsXCJkYXJrY2hhcnRiZ1wiOlwiIzEwMTMyMFwiLFwibGlnaHRmbG9hdGxhYmVsc2JnXCI6XCJyZ2JhKDEyNywgMTMxLCAxNTEsIDAuODgpXCIsXCJkYXJrZmxvYXRsYWJlbHNiZ1wiOlwiIzJhMzA1MlwifTtcbiAgICBpZihmYWxzZSkgeyB2YXIgY3NzUmVsb2FkOyB9XG4gIFxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9TcGxpbmVQbG90dGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvU3BsaW5lUGxvdHRlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBsb3RTcGxpbmU7IH0pO1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzLG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllcyAqL1xuZnVuY3Rpb24gcGxvdFNwbGluZShwb2ludHMsIHRlbnNpb24sIGNvbnRleHQsIGNvbG9yUGF0dGVybkNoYW5nZXMpIHtcbiAgZnVuY3Rpb24gZ2V0Q29udHJvbFBvaW50cyhpKSB7XG4gICAgdmFyIHgwID0gcG9pbnRzW2ldO1xuICAgIHZhciB5MCA9IHBvaW50c1tpICsgMV07XG4gICAgdmFyIHgxID0gcG9pbnRzW2kgKyAyXTtcbiAgICB2YXIgeTEgPSBwb2ludHNbaSArIDNdO1xuICAgIHZhciB4MiA9IHBvaW50c1tpICsgNF07XG4gICAgdmFyIHkyID0gcG9pbnRzW2kgKyA1XTtcblxuICAgIGlmIChpc05hTih4MCkgfHwgaXNOYU4oeDEpIHx8IGlzTmFOKHgyKSB8fCBpc05hTih5MCkgfHwgaXNOYU4oeTEpIHx8IGlzTmFOKHkyKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyB4MCx5MCx4MSx5MSBhcmUgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBlbmQgKGtub3QpIHBvaW50cyBvZiB0aGlzIHNlZ21lbnRcbiAgICAvLyB4Mix5MiBpcyB0aGUgbmV4dCBrbm90IC0tIG5vdCBjb25uZWN0ZWQgaGVyZSBidXQgbmVlZGVkIHRvIGNhbGN1bGF0ZSBwMlxuICAgIC8vIHAxIGlzIHRoZSBjb250cm9sIHBvaW50IGNhbGN1bGF0ZWQgaGVyZSwgZnJvbSB4MSBiYWNrIHRvd2FyZCB4MC5cbiAgICAvLyBwMiBpcyB0aGUgbmV4dCBjb250cm9sIHBvaW50LCBjYWxjdWxhdGVkIGhlcmUgYW5kIHJldHVybmVkIHRvIGJlY29tZSB0aGVcbiAgICAvLyBuZXh0IHNlZ21lbnQncyBwMS5cbiAgICAvLyB0ZW5zaW9uIGNvbnRyb2xzIGhvdyBmYXIgdGhlIGNvbnRyb2wgcG9pbnRzIHNwcmVhZC5cbiAgICAvLyBTY2FsaW5nIGZhY3RvcnM6IGRpc3RhbmNlcyBmcm9tIHRoaXMga25vdCB0byB0aGUgcHJldmlvdXMgYW5kIGZvbGxvd2luZyBrbm90cy5cblxuXG4gICAgdmFyIGQwMSA9IE1hdGguc3FydChNYXRoLnBvdyh4MSAtIHgwLCAyKSArIE1hdGgucG93KHkxIC0geTAsIDIpKTtcbiAgICB2YXIgZDEyID0gTWF0aC5zcXJ0KE1hdGgucG93KHgyIC0geDEsIDIpICsgTWF0aC5wb3coeTIgLSB5MSwgMikpO1xuICAgIHZhciBmYSA9IHRlbnNpb24gKiBkMDEgLyAoZDAxICsgZDEyKTtcbiAgICB2YXIgZmIgPSB0ZW5zaW9uIC0gZmE7XG4gICAgdmFyIHAxeCA9IHgxICsgZmEgKiAoeDAgLSB4Mik7XG4gICAgdmFyIHAxeSA9IHkxICsgZmEgKiAoeTAgLSB5Mik7XG4gICAgdmFyIHAyeCA9IHgxIC0gZmIgKiAoeDAgLSB4Mik7XG4gICAgdmFyIHAyeSA9IHkxIC0gZmIgKiAoeTAgLSB5Mik7XG4gICAgcmV0dXJuIFtwMXgsIHAxeSwgcDJ4LCBwMnldO1xuICB9XG5cbiAgaWYgKCF0ZW5zaW9uIHx8IHRlbnNpb24gPCAwKSB7XG4gICAgdGVuc2lvbiA9IDA7XG4gIH1cblxuICB2YXIgY3AgPSBbXTsgLy8gYXJyYXkgb2YgY29udHJvbCBwb2ludHMsIGFzIHgwLHkwLHgxLHkxLC4uLlxuXG4gIHZhciBuID0gcG9pbnRzLmxlbmd0aDsgLy8gRHJhdyBhbiBvcGVuIGN1cnZlLCBub3QgY29ubmVjdGVkIGF0IHRoZSBlbmRzXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuIC0gNDsgaSArPSAyKSB7XG4gICAgY3AgPSBjcC5jb25jYXQoZ2V0Q29udHJvbFBvaW50cyhpKSk7XG4gIH1cblxuICBpZiAoY3AgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWNvbG9yUGF0dGVybkNoYW5nZXMpIHtcbiAgICBjb2xvclBhdHRlcm5DaGFuZ2VzID0gW107XG4gIH1cblxuICB2YXIgY29sb3JQYXR0ZXJuSW5kZXggPSAwO1xuXG4gIGZ1bmN0aW9uIHNlZUlmU3Ryb2tlTmVlZGVkKGkpIHtcbiAgICBpZiAoY29sb3JQYXR0ZXJuSW5kZXggPT09IGNvbG9yUGF0dGVybkNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbG9yUGF0dGVybkNoYW5nZSA9IGNvbG9yUGF0dGVybkNoYW5nZXNbY29sb3JQYXR0ZXJuSW5kZXhdO1xuXG4gICAgaWYgKGNvbG9yUGF0dGVybkNoYW5nZS5jb29yZFswXSA9PT0gcG9pbnRzW2ldICYmIGNvbG9yUGF0dGVybkNoYW5nZS5jb29yZFsxXSA9PT0gcG9pbnRzW2kgKyAxXSkge1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvclBhdHRlcm5DaGFuZ2UuY29sb3I7XG4gICAgICBjb250ZXh0LnNldExpbmVEYXNoKGNvbG9yUGF0dGVybkNoYW5nZS5wYXR0ZXJuKTtcbiAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSAwO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBjb2xvclBhdHRlcm5DaGFuZ2Uud2lkdGg7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTsgLy8gcmVzZXQgYmFjayB0byBsYXN0IHBvaW50XG5cbiAgICAgIGNvbG9yUGF0dGVybkluZGV4Kys7XG4gICAgfVxuICB9IC8vIHBsb3QgdGhlIGZpcnN0IHNlZ21lbnRcblxuXG4gIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgc2VlSWZTdHJva2VOZWVkZWQoMCk7XG4gIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjcFswXSwgY3BbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdKTtcblxuICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgbiAtIDU7IF9pICs9IDIpIHtcbiAgICBzZWVJZlN0cm9rZU5lZWRlZChfaSk7XG4gICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGNwWzIgKiBfaSAtIDJdLCBjcFsyICogX2kgLSAxXSwgY3BbMiAqIF9pXSwgY3BbMiAqIF9pICsgMV0sIHBvaW50c1tfaSArIDJdLCBwb2ludHNbX2kgKyAzXSk7XG4gIH0gLy8gcGxvdCB0aGUgbGFzdCBzZWdtZW50XG5cblxuICBzZWVJZlN0cm9rZU5lZWRlZChuIC0gNCk7XG4gIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjcFsyICogbiAtIDEwXSwgY3BbMiAqIG4gLSA5XSwgcG9pbnRzW24gLSAyXSwgcG9pbnRzW24gLSAxXSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL1RyYW5zbGF0aW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFRyYW5zbGF0aW9uLCB0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRyYW5zbGF0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVHJhbnNsYXRpb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0OyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNsYXRpb25fbWVzc2FnZXNfcG90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc2xhdGlvbi9tZXNzYWdlcy5wb3QgKi8gXCIuL3RyYW5zbGF0aW9uL21lc3NhZ2VzLnBvdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNsYXRpb25fbWVzc2FnZXNfcG90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3RyYW5zbGF0aW9uX21lc3NhZ2VzX3BvdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG52YXIgbGFuZ19tYXAgPSB7fTtcbnZhciBUcmFuc2xhdGlvbiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyYW5zbGF0aW9uKCkge1xuICAgIHZhciBsYW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnZW4nO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zbGF0aW9uKTtcblxuICAgIHRoaXMubGFuZyA9IGxhbmc7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNsYXRpb24sIFt7XG4gICAga2V5OiBcInNldExhbmd1YWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExhbmd1YWdlKGxhbmcpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChsYW5nX21hcFtsYW5nXSB8fCBsYW5nID09PSAnZW4nKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi90cmFuc2xhdGlvbiBsYXp5IHJlY3Vyc2l2ZSBeXFxcXC5cXFxcLy4qXFxcXC5wbyRcIikoXCIuL1wiLmNvbmNhdChsYW5nLCBcIi5wb1wiKSkudGhlbihmdW5jdGlvbiAoaW1wb3J0ZWRfbGFuZykge1xuICAgICAgICAgIGlmIChpbXBvcnRlZF9sYW5nKSB7XG4gICAgICAgICAgICBsYW5nX21hcFtsYW5nXSA9IGltcG9ydGVkX2xhbmc7XG4gICAgICAgICAgICBfdGhpcy5sYW5nID0gbGFuZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgbGFuZ3VhZ2U6JywgbGFuZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGFyZ3MgaW5jbHVkZSBzdHJpbmcgdG8gYmUgdHJhbnNsYXRlZCwgaXRzIHBsdXJhbCBmb3JtLFxuICAgICAqIGFuZCBvYmplY3QgY29udGFpbmluZyBrZXkgdmFsdWUgcGFpciBmb3IgcmVwbGFjZW1lbnQgaW4gdHJhbnNsYXRlZCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgZWc6IHRyYW5zbGF0ZSgnX24gSG91cicsJ19uIEhvdXJzJyx7J19uJzoyfSlcbiAgICAgKiBOb3RlOiBUaGUgZmlyc3Qga2V5LXZhbHVlIHBhaXIgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcGx1cmFsIGZvcm0uXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zbGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUoKSB7XG4gICAgICB2YXIgY3Vycl9sYW5nID0gbGFuZ19tYXBbdGhpcy5sYW5nXTtcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmICghY3Vycl9sYW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHIgPSBfdHJhbnNsYXRpb25fbWVzc2FnZXNfcG90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hW2FyZ3NbMF1dO1xuICAgICAgdmFyIHJ0X3N0cjtcblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBQbHVyYWwgY29udmVyc2lvblxuICAgICAgICAvLyBUT0RPOiBjdXJyZW50bHkgdGhlcmUgYXJlIG5vIHBsdXJhbHMgaW4gU21hcnRDaGFydHMgc28gcHV0IHRoaXMgb2ZmIGZvciBub3cuLi5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVyYWwgY29udmVyc2lvbiBub3Qgd29ya2luZyEnKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG5cbiAgICAgICAgdmFyIHJlcGxhY2VyID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHByb3AgPSBPYmplY3Qua2V5cyhyZXBsYWNlcik7XG5cbiAgICAgICAgaWYgKHJlcGxhY2VyW3Byb3BbMF1dID09PSAwIHx8IHJlcGxhY2VyW3Byb3BbMF1dID4gMSkge1xuICAgICAgICAgIGlmIChjdXJyX2xhbmdbc3RyXSAmJiBjdXJyX2xhbmdbc3RyXVsyXSkge1xuICAgICAgICAgICAgcnRfc3RyID0gY3Vycl9sYW5nW3N0cl1bMl07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJ0X3N0ciA9IGN1cnJfbGFuZ1tzdHJdICYmIGN1cnJfbGFuZ1tzdHJdWzBdID8gY3Vycl9sYW5nW3N0cl1bMF0gOiBhcmdzWzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBydF9zdHIgPSBjdXJyX2xhbmdbc3RyXSAmJiBjdXJyX2xhbmdbc3RyXVsxXSA/IGN1cnJfbGFuZ1tzdHJdWzFdIDogc3RyO1xuICAgICAgICB9IC8vIFJlcGxhY2UgdmFyaWFibGVzIGluIHN0cmluZyB3aXRoIHZhbHVlcy5cblxuXG4gICAgICAgIHJ0X3N0ciA9IHRoaXMucmVwbGFjZShydF9zdHIsIHJlcGxhY2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJ0X3N0ciA9IGN1cnJfbGFuZ1tzdHJdOyAvLyBSZXBsYWNlIHZhcmlhYmxlcyBpbiBzdHJpbmcgd2l0aCB2YWx1ZXMuXG5cbiAgICAgICAgcnRfc3RyID0gdGhpcy5yZXBsYWNlKHJ0X3N0ciwgYXJnc1sxXSkgfHwgYXJnc1swXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJ0X3N0cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVwbGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXBsYWNlKHN0ciwgb2JqKSB7XG4gICAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcCA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAgICAgIHdoaWxlIChwcm9wLmxlbmd0aCkge1xuICAgICAgICB2YXIgc3RyX3ZhciA9IHByb3Auc2hpZnQoKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoXCJbXCIuY29uY2F0KHN0cl92YXIsIFwiXVwiKSwgb2JqW3N0cl92YXJdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJhbnNsYXRpb247XG59KCk7XG52YXIgdHJhbnMgPSBuZXcgVHJhbnNsYXRpb24oKTtcbnZhciB0ID0gdHJhbnM7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2JpbmFyeWFwaS9BY3RpdmVTeW1ib2xzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2JpbmFyeWFwaS9BY3RpdmVTeW1ib2xzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFjdGl2ZVN5bWJvbHM7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG52YXIgX2RlYywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyO1xuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxudmFyIEFjdGl2ZVN5bWJvbHMgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFjdGl2ZVN5bWJvbHMoYXBpLCB0cmFkaW5nVGltZXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWN0aXZlU3ltYm9scyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYW5nZXNcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjYXRlZ29yaXplZFN5bWJvbHNcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMuc3ltYm9sTWFwID0ge307XG4gICAgdGhpcy5zeW1ib2xzUHJvbWlzZSA9IG5ldyBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oKTtcbiAgICB0aGlzLmlzUmV0cmlldmluZ1N5bWJvbHMgPSBmYWxzZTtcbiAgICB0aGlzLl9hcGkgPSBhcGk7XG4gICAgdGhpcy5fdHJhZGluZ1RpbWVzID0gdHJhZGluZ1RpbWVzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFjdGl2ZVN5bWJvbHMsIFt7XG4gICAga2V5OiBcInJldHJpZXZlQWN0aXZlU3ltYm9sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JldHJpZXZlQWN0aXZlU3ltYm9scyA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgcmV0cmlldmVOZXdBY3RpdmVTeW1ib2xzLFxuICAgICAgICAgICAgX3JlZixcbiAgICAgICAgICAgIGFjdGl2ZV9zeW1ib2xzLFxuICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbixcbiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yLFxuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IsXG4gICAgICAgICAgICBfaXRlcmF0b3IsXG4gICAgICAgICAgICBfc3RlcCxcbiAgICAgICAgICAgIHN5bWJvbE9iaixcbiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXRyaWV2ZU5ld0FjdGl2ZVN5bWJvbHMgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc1JldHJpZXZpbmdTeW1ib2xzICYmICFyZXRyaWV2ZU5ld0FjdGl2ZVN5bWJvbHMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN5bWJvbHNQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuYWN0aXZlU3ltYm9scyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXRyaWV2aW5nU3ltYm9scyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FwaS5nZXRBY3RpdmVTeW1ib2xzKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIGFjdGl2ZV9zeW1ib2xzID0gX3JlZi5hY3RpdmVfc3ltYm9scztcbiAgICAgICAgICAgICAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicnVuSW5BY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLnByb2Nlc3NlZFN5bWJvbHMgPSBfdGhpcy5fcHJvY2Vzc1N5bWJvbHMoYWN0aXZlX3N5bWJvbHMpO1xuICAgICAgICAgICAgICAgICAgX3RoaXMuY2F0ZWdvcml6ZWRTeW1ib2xzID0gX3RoaXMuX2NhdGVnb3JpemVBY3RpdmVTeW1ib2xzKF90aGlzLnByb2Nlc3NlZFN5bWJvbHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0O1xuXG4gICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IgPSB0aGlzLnByb2Nlc3NlZFN5bWJvbHNbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHN5bWJvbE9iaiA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgdGhpcy5zeW1ib2xNYXBbc3ltYm9sT2JqLnN5bWJvbF0gPSBzeW1ib2xPYmo7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE4O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxNCk7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gX2NvbnRleHQudDA7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIzO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNTtcblxuICAgICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgyNSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDIyKTtcblxuICAgICAgICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWRpbmdUaW1lcy5vbk1hcmtldE9wZW5DbG9zZUNoYW5nZWQoT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXSkoZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHN5bWJvbCBpbiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzeW1PYmogPSBfdGhpcy5zeW1ib2xNYXBbc3ltYm9sXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ltT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3ltT2JqLmV4Y2hhbmdlX2lzX29wZW4gPSBjaGFuZ2VzW3N5bWJvbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zeW1ib2xzUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmFjdGl2ZVN5bWJvbHMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1sxNCwgMTgsIDIyLCAzMF0sIFsyMywsIDI1LCAyOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJldHJpZXZlQWN0aXZlU3ltYm9scygpIHtcbiAgICAgICAgcmV0dXJuIF9yZXRyaWV2ZUFjdGl2ZVN5bWJvbHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U3ltYm9sT2JqXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN5bWJvbE9iaihzeW1ib2wpIHtcbiAgICAgIHJldHVybiB0aGlzLnN5bWJvbE1hcFtzeW1ib2xdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfcHJvY2Vzc1N5bWJvbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NTeW1ib2xzKHN5bWJvbHMpIHtcbiAgICAgIHZhciBwcm9jZXNzZWRTeW1ib2xzID0gW107IC8vIFN0YWJsZSBzb3J0IGlzIHJlcXVpcmVkIHRvIHJldGFpbiB0aGUgb3JkZXIgb2YgdGhlIHN5bWJvbCBuYW1lXG5cbiAgICAgIE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInN0YWJsZVNvcnRcIl0pKHN5bWJvbHMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnN1Ym1hcmtldF9kaXNwbGF5X25hbWUubG9jYWxlQ29tcGFyZShiLnN1Ym1hcmtldF9kaXNwbGF5X25hbWUpO1xuICAgICAgfSk7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHN5bWJvbHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgcyA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICBwcm9jZXNzZWRTeW1ib2xzLnB1c2goe1xuICAgICAgICAgICAgc3ltYm9sOiBzLnN5bWJvbCxcbiAgICAgICAgICAgIG5hbWU6IHMuZGlzcGxheV9uYW1lLFxuICAgICAgICAgICAgbWFya2V0OiBzLm1hcmtldCxcbiAgICAgICAgICAgIG1hcmtldF9kaXNwbGF5X25hbWU6IHMubWFya2V0X2Rpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgIHN1Ym1hcmtldF9kaXNwbGF5X25hbWU6IHMuc3VibWFya2V0X2Rpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgIGV4Y2hhbmdlX2lzX29wZW46ICEhcy5leGNoYW5nZV9pc19vcGVuLFxuICAgICAgICAgICAgZGVjaW1hbF9wbGFjZXM6IHMucGlwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIENhdGVnb3JpemUgc3ltYm9scyBpbiBvcmRlciBkZWZpbmVkIGJ5IGFub3RoZXIgYXJyYXk7IHRoZXJlJ3MgcHJvYmFibHkgYSBtb3JlXG4gICAgICAgIC8vIGVmZmljaWVudCBhbGdvIGZvciB0aGlzLCBidXQgZm9yIGp1c3QgfjEwMCBpdGVtcyBpdCdzIG5vdCB3b3J0aCB0aGUgZWZmb3J0XG5cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgb3JkZXIgPSBbJ2ZvcmV4JywgJ2luZGljZXMnLCAnc3RvY2tzJywgJ2NvbW1vZGl0aWVzJywgJ3ZvbGlkeCddO1xuICAgICAgdmFyIG9yZGVyZWRTeW1ib2xzID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBvcmRlci5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG8gPSBvcmRlcltfaV07XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgcHJvY2Vzc2VkU3ltYm9scy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgdmFyIHAgPSBwcm9jZXNzZWRTeW1ib2xzW19pMl07XG5cbiAgICAgICAgICBpZiAobyA9PT0gcC5tYXJrZXQpIHtcbiAgICAgICAgICAgIG9yZGVyZWRTeW1ib2xzLnB1c2gocCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmRlcmVkU3ltYm9scztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NhdGVnb3JpemVBY3RpdmVTeW1ib2xzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jYXRlZ29yaXplQWN0aXZlU3ltYm9scyhhY3RpdmVTeW1ib2xzKSB7XG4gICAgICB2YXIgY2F0ZWdvcml6ZWRTeW1ib2xzID0gW107XG4gICAgICB2YXIgZmlyc3QgPSBhY3RpdmVTeW1ib2xzWzBdO1xuXG4gICAgICB2YXIgZ2V0U3ViY2F0ZWdvcnkgPSBmdW5jdGlvbiBnZXRTdWJjYXRlZ29yeShkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3ViY2F0ZWdvcnlOYW1lOiBkLnN1Ym1hcmtldF9kaXNwbGF5X25hbWUsXG4gICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBnZXRDYXRlZ29yeSA9IGZ1bmN0aW9uIGdldENhdGVnb3J5KGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjYXRlZ29yeU5hbWU6IGQubWFya2V0X2Rpc3BsYXlfbmFtZSxcbiAgICAgICAgICBjYXRlZ29yeUlkOiBkLm1hcmtldCxcbiAgICAgICAgICBoYXNTdWJjYXRlZ29yeTogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXVxuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgdmFyIHN1YmNhdGVnb3J5ID0gZ2V0U3ViY2F0ZWdvcnkoZmlyc3QpO1xuICAgICAgdmFyIGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoZmlyc3QpO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBhY3RpdmVTeW1ib2xzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHN5bWJvbCA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgIGlmIChjYXRlZ29yeS5jYXRlZ29yeU5hbWUgIT09IHN5bWJvbC5tYXJrZXRfZGlzcGxheV9uYW1lKSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5kYXRhLnB1c2goc3ViY2F0ZWdvcnkpO1xuICAgICAgICAgICAgY2F0ZWdvcml6ZWRTeW1ib2xzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgc3ViY2F0ZWdvcnkgPSBnZXRTdWJjYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdWJjYXRlZ29yeS5zdWJjYXRlZ29yeU5hbWUgIT09IHN5bWJvbC5zdWJtYXJrZXRfZGlzcGxheV9uYW1lKSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5kYXRhLnB1c2goc3ViY2F0ZWdvcnkpO1xuICAgICAgICAgICAgc3ViY2F0ZWdvcnkgPSBnZXRTdWJjYXRlZ29yeShzeW1ib2wpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN1YmNhdGVnb3J5LmRhdGEucHVzaCh7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgaXRlbUlkOiBzeW1ib2wuc3ltYm9sLFxuICAgICAgICAgICAgZGlzcGxheTogc3ltYm9sLm5hbWUsXG4gICAgICAgICAgICBkYXRhT2JqZWN0OiBzeW1ib2xcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhdGVnb3J5LmRhdGEucHVzaChzdWJjYXRlZ29yeSk7XG4gICAgICBjYXRlZ29yaXplZFN5bWJvbHMucHVzaChjYXRlZ29yeSk7XG4gICAgICByZXR1cm4gY2F0ZWdvcml6ZWRTeW1ib2xzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVTeW1ib2xzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNhdGVnb3JpemVkID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY2xvbmVDYXRlZ29yaWVzXCJdKSh0aGlzLmNhdGVnb3JpemVkU3ltYm9scywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIHN5bWJvbCA9IGl0ZW0uZGF0YU9iamVjdC5zeW1ib2w7XG5cbiAgICAgICAgaWYgKHN5bWJvbCBpbiBfdGhpczIuY2hhbmdlcykge1xuICAgICAgICAgIGl0ZW0uZGF0YU9iamVjdC5leGNoYW5nZV9pc19vcGVuID0gX3RoaXMyLmNoYW5nZXNbc3ltYm9sXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhdGVnb3JpemVkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBY3RpdmVTeW1ib2xzO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2hhbmdlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjYXRlZ29yaXplZFN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmV0cmlldmVBY3RpdmVTeW1ib2xzXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJldHJpZXZlQWN0aXZlU3ltYm9sc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVTeW1ib2xzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVTeW1ib2xzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2JpbmFyeWFwaS9CaW5hcnlBUEkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9iaW5hcnlhcGkvQmluYXJ5QVBJLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmluYXJ5QVBJOyB9KTtcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQmluYXJ5QVBJID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKEJpbmFyeUFQSSwgbnVsbCwgW3tcbiAgICBrZXk6IFwiREVGQVVMVF9DT1VOVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIDEwMDA7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gQmluYXJ5QVBJKHJlcXVlc3RBUEksIHJlcXVlc3RTdWJzY3JpYmUsIHJlcXVlc3RGb3JnZXQsIHJlcXVlc3RGb3JnZXRTdHJlYW0pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmluYXJ5QVBJKTtcblxuICAgIHRoaXMuc3RyZWFtUmVxdWVzdHMgPSB7fTtcbiAgICB0aGlzLnRyYWRpbmdUaW1lc0NhY2hlID0gbnVsbDtcbiAgICB0aGlzLnJlcXVlc3RBUEkgPSByZXF1ZXN0QVBJO1xuICAgIHRoaXMucmVxdWVzdFN1YnNjcmliZSA9IHJlcXVlc3RTdWJzY3JpYmU7XG4gICAgdGhpcy5yZXF1ZXN0Rm9yZ2V0ID0gcmVxdWVzdEZvcmdldDtcbiAgICB0aGlzLnJlcXVlc3RGb3JnZXRTdHJlYW0gPSByZXF1ZXN0Rm9yZ2V0U3RyZWFtO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJpbmFyeUFQSSwgW3tcbiAgICBrZXk6IFwiZ2V0QWN0aXZlU3ltYm9sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBY3RpdmVTeW1ib2xzKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFQSSh7XG4gICAgICAgIGFjdGl2ZV9zeW1ib2xzOiAnYnJpZWYnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U2VydmVyVGltZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXJ2ZXJUaW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFQSSh7XG4gICAgICAgIHRpbWU6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRUcmFkaW5nVGltZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRUcmFkaW5nVGltZXMgPSBfYXN5bmNUb0dlbmVyYXRvcihcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciB0cmFkaW5nX3RpbWVzLFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRyYWRpbmdfdGltZXMgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6ICd0b2RheSc7XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnRyYWRpbmdUaW1lc0NhY2hlICYmIHRoaXMudHJhZGluZ1RpbWVzQ2FjaGUudHJhZGluZ190aW1lcyA9PT0gdHJhZGluZ190aW1lcykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnRyYWRpbmdUaW1lc0NhY2hlKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUEkoe1xuICAgICAgICAgICAgICAgICAgdHJhZGluZ190aW1lczogdHJhZGluZ190aW1lc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodHJhZGluZ190aW1lcyAhPT0gJ3RvZGF5Jykge1xuICAgICAgICAgICAgICAgICAgdGhpcy50cmFkaW5nVGltZXNDYWNoZSA9IF9vYmplY3RTcHJlYWQoe30sIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBnZXRUcmFkaW5nVGltZXMoKSB7XG4gICAgICAgIHJldHVybiBfZ2V0VHJhZGluZ1RpbWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldFRpY2tIaXN0b3J5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRpY2tIaXN0b3J5KHBhcmFtcykge1xuICAgICAgdmFyIHJlcXVlc3QgPSBCaW5hcnlBUEkuY3JlYXRlVGlja0hpc3RvcnlSZXF1ZXN0KHBhcmFtcyk7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJKHJlcXVlc3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdWJzY3JpYmVUaWNrSGlzdG9yeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUaWNrSGlzdG9yeShwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy5fZ2V0S2V5KHBhcmFtcyk7XG5cbiAgICAgIHZhciByZXF1ZXN0ID0gQmluYXJ5QVBJLmNyZWF0ZVRpY2tIaXN0b3J5UmVxdWVzdChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgc3Vic2NyaWJlOiAxXG4gICAgICB9KSk7XG4gICAgICB0aGlzLnN0cmVhbVJlcXVlc3RzW2tleV0gPSB7XG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgfTsgLy8gU2VuZCBhIGNvcHkgb2YgdGhlIHJlcXVlc3QsIGluIGNhc2UgaXQgZ2V0cyBtdXRhdGVkIG91dHNpZGVcblxuICAgICAgdGhpcy5yZXF1ZXN0U3Vic2NyaWJlKF9vYmplY3RTcHJlYWQoe30sIHJlcXVlc3QpLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JnZXQocGFyYW1zKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy5fZ2V0S2V5KHBhcmFtcyk7XG5cbiAgICAgIHZhciBfdGhpcyRzdHJlYW1SZXF1ZXN0cyQgPSB0aGlzLnN0cmVhbVJlcXVlc3RzW2tleV0sXG4gICAgICAgICAgcmVxdWVzdCA9IF90aGlzJHN0cmVhbVJlcXVlc3RzJC5yZXF1ZXN0LFxuICAgICAgICAgIGNhbGxiYWNrID0gX3RoaXMkc3RyZWFtUmVxdWVzdHMkLmNhbGxiYWNrO1xuICAgICAgZGVsZXRlIHRoaXMuc3RyZWFtUmVxdWVzdHNba2V5XTtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RGb3JnZXQocmVxdWVzdCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmb3JnZXRTdHJlYW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yZ2V0U3RyZWFtKHN1YnNjcmlwdGlvbl9pZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEZvcmdldFN0cmVhbShzdWJzY3JpcHRpb25faWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0S2V5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRLZXkoX3JlZikge1xuICAgICAgdmFyIHN5bWJvbCA9IF9yZWYuc3ltYm9sLFxuICAgICAgICAgIGdyYW51bGFyaXR5ID0gX3JlZi5ncmFudWxhcml0eTtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChzeW1ib2wsIFwiLVwiKS5jb25jYXQoZ3JhbnVsYXJpdHkpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImNyZWF0ZVRpY2tIaXN0b3J5UmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUaWNrSGlzdG9yeVJlcXVlc3QoX3JlZjIpIHtcbiAgICAgIHZhciBzeW1ib2wgPSBfcmVmMi5zeW1ib2wsXG4gICAgICAgICAgZ3JhbnVsYXJpdHkgPSBfcmVmMi5ncmFudWxhcml0eSxcbiAgICAgICAgICBzdGFydCA9IF9yZWYyLnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IF9yZWYyLmVuZCxcbiAgICAgICAgICBzdWJzY3JpYmUgPSBfcmVmMi5zdWJzY3JpYmUsXG4gICAgICAgICAgX3JlZjIkYWRqdXN0X3N0YXJ0X3RpID0gX3JlZjIuYWRqdXN0X3N0YXJ0X3RpbWUsXG4gICAgICAgICAgYWRqdXN0X3N0YXJ0X3RpbWUgPSBfcmVmMiRhZGp1c3Rfc3RhcnRfdGkgPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRhZGp1c3Rfc3RhcnRfdGksXG4gICAgICAgICAgY291bnQgPSBfcmVmMi5jb3VudDtcbiAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICB0aWNrc19oaXN0b3J5OiBzeW1ib2wsXG4gICAgICAgIHN0eWxlOiArZ3JhbnVsYXJpdHkgPyAnY2FuZGxlcycgOiAndGlja3MnLFxuICAgICAgICBlbmQ6ICdsYXRlc3QnLFxuICAgICAgICBjb3VudDogY291bnQgfHwgQmluYXJ5QVBJLkRFRkFVTFRfQ09VTlRcbiAgICAgIH07XG5cbiAgICAgIGlmIChncmFudWxhcml0eSkge1xuICAgICAgICAvLyBncmFudWxhcml0eSB3aWxsIG9ubHkgYmUgc2V0IGlmIHN0eWxlPWNhbmRsZXNcbiAgICAgICAgcmVxdWVzdC5ncmFudWxhcml0eSA9ICtncmFudWxhcml0eTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkanVzdF9zdGFydF90aW1lKSB7XG4gICAgICAgIHJlcXVlc3QuYWRqdXN0X3N0YXJ0X3RpbWUgPSBhZGp1c3Rfc3RhcnRfdGltZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICByZXF1ZXN0LnN1YnNjcmliZSA9IDE7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGFydCkge1xuICAgICAgICBkZWxldGUgcmVxdWVzdC5jb3VudDtcbiAgICAgICAgcmVxdWVzdC5zdGFydCA9IHN0YXJ0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZW5kKSB7XG4gICAgICAgIHJlcXVlc3QuZW5kID0gZW5kO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmluYXJ5QVBJO1xufSgpO1xuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvYmluYXJ5YXBpL1RyYWRpbmdUaW1lcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2JpbmFyeWFwaS9UcmFkaW5nVGltZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBldmVudC1lbWl0dGVyLWVzNiAqLyBcIi4vbm9kZV9tb2R1bGVzL2V2ZW50LWVtaXR0ZXItZXM2L2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvUGVuZGluZ1Byb21pc2UgKi8gXCIuL3NyYy91dGlscy9QZW5kaW5nUHJvbWlzZS5qc1wiKTtcbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG5cblxuXG52YXIgVHJhZGluZ1RpbWVzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFRyYWRpbmdUaW1lcywgbnVsbCwgW3tcbiAgICBrZXk6IFwiRVZFTlRfTUFSS0VUX09QRU5fQ0xPU0VfQ0hBTkdFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX01BUktFVF9PUEVOX0NMT1NFX0NIQU5HRSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkZFRURfVU5BVkFJTEFCTEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnY2hhcnRvbmx5JztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBUcmFkaW5nVGltZXMoYXBpKSB7XG4gICAgdmFyIHNob3VsZEZldGNoVHJhZGluZ1RpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWRpbmdUaW1lcyk7XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnRyYWRpbmdUaW1lc1Byb21pc2UgPSBuZXcgX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKCk7XG4gICAgdGhpcy5fc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXMgPSBzaG91bGRGZXRjaFRyYWRpbmdUaW1lcztcbiAgICB0aGlzLl9hcGkgPSBhcGk7XG4gICAgdGhpcy5fc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYSh7XG4gICAgICBlbWl0RGVsYXk6IDBcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUcmFkaW5nVGltZXMsIFt7XG4gICAga2V5OiBcImRlc3RydWN0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgIGlmICh0aGlzLl91cGRhdGVUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlVGltZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0aWFsaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfaW5pdGlhbGl6ZSA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHBlcmlvZGljVXBkYXRlO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyVGltZS5pbml0KHRoaXMuX2FwaSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCB0aGlzLnRyYWRpbmdUaW1lc1Byb21pc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZURhdGUgPSB0aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcblxuICAgICAgICAgICAgICAgIGlmICghKCF0aGlzLl90cmFkaW5nVGltZXNNYXAgJiYgdGhpcy5fc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVUcmFkZVRpbWVzKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHRoaXMudHJhZGluZ1RpbWVzUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICBwZXJpb2RpY1VwZGF0ZSA9XG4gICAgICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbmdlZCwgbmV4dFVwZGF0ZSwgbm93LCBuZXh0VXBkYXRlRGF0ZSwgaXNPcGVuTWFwLCBrZXksIF9rZXksIHdhaXRQZXJpb2Q7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBfdGhpcy5fdXBkYXRlTWFya2V0T3BlbkNsb3NlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9lbWl0dGVyLmVtaXQoVHJhZGluZ1RpbWVzLkVWRU5UX01BUktFVF9PUEVOX0NMT1NFX0NIQU5HRSwgY2hhbmdlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFVwZGF0ZSA9IF90aGlzLl9uZXh0VXBkYXRlRGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IF90aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpOyAvLyBHZXQgdG9tb3Jyb3cncyBkYXRlIChVVEMpIGFuZCBzZXQgaXQgYXMgbmV4dCB1cGRhdGUgaWYgbm8gbmV4dERhdGUgYXZhaWxhYmxlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VXBkYXRlRGF0ZSA9IG5ldyBEYXRlKFwiXCIuY29uY2F0KF90aGlzLmxhc3RVcGRhdGVEYXRlLCBcIlQwMDowMDowMFpcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRVcGRhdGVEYXRlLnNldERhdGUobmV4dFVwZGF0ZURhdGUuZ2V0RGF0ZSgpICsgMSk7IC8vIGlmIHNvbWVob3cgdGhlIG5leHQgdXBkYXRlIGRhdGUgaXMgaW4gdGhlIHBhc3QsIHVzZSB0aGUgY3VycmVudCBkYXRlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0VXBkYXRlRGF0ZSA9IChub3cgPiBuZXh0VXBkYXRlRGF0ZSA/IG5vdyA6IG5leHRVcGRhdGVEYXRlKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7IC8vIFJldGFpbiB0aGUgY3VycmVudCBtYXJrZXQgb3BlbiBjbG9zZSBzdGF0dXMsIGJlY2F1c2UgdGhlIHRyYWRlIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBub3cgYmUgdGhlIGZvbGxvd2luZyBkYXk6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW5NYXAgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIF90aGlzLl90cmFkaW5nVGltZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbk1hcFtrZXldID0gX3RoaXMuX3RyYWRpbmdUaW1lc01hcFtrZXldLmlzT3BlbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3VwZGF0ZVRyYWRlVGltZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2tleSBpbiBfdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJhZGluZ1RpbWVzTWFwW19rZXldLmlzT3BlbmVkID0gaXNPcGVuTWFwW19rZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gbmV4dCB1cGRhdGUgZGF0ZSB3aWxsIGJlIDAwOjAwIGhvdXJzIChVVEMpIG9mIHRoZSBmb2xsb3dpbmcgZGF5OlxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VXBkYXRlID0gbmV4dFVwZGF0ZURhdGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0UGVyaW9kID0gbmV4dFVwZGF0ZSAtIF90aGlzLl9zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVUaW1lciA9IHNldFRpbWVvdXQocGVyaW9kaWNVcGRhdGUsIHdhaXRQZXJpb2QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBwZXJpb2RpY1VwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyaW9kaWNVcGRhdGUoKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICByZXR1cm4gX2luaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZU1hcmtldE9wZW5DbG9zZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZU1hcmtldE9wZW5DbG9zZWQoKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBzeW1ib2wgaW4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgIHZhciBpc09wZW5lZCA9IHRoaXMuX2NhbGNJc01hcmtldE9wZW5lZChzeW1ib2wpO1xuXG4gICAgICAgIGlmICh0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXS5pc09wZW5lZCAhPT0gaXNPcGVuZWQpIHtcbiAgICAgICAgICB0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXS5pc09wZW5lZCA9IGlzT3BlbmVkO1xuICAgICAgICAgIGNoYW5nZWRbc3ltYm9sXSA9IGlzT3BlbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlVHJhZGVUaW1lc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZVRyYWRlVGltZXMyID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHJlc3BvbnNlLCBlcnJvciwgbm93LCBkYXRlU3RyLCBnZXRVVENEYXRlLCBtYXJrZXRzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIG1hcmtldCwgc3VibWFya2V0cywgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIsIF9kaWRJdGVyYXRvckVycm9yMiwgX2l0ZXJhdG9yRXJyb3IyLCBfaXRlcmF0b3IyLCBfc3RlcDIsIHN1Ym1hcmtldCwgc3ltYm9scywgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMsIF9kaWRJdGVyYXRvckVycm9yMywgX2l0ZXJhdG9yRXJyb3IzLCBfbG9vcCwgX2l0ZXJhdG9yMywgX3N0ZXAzO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcGkuZ2V0VHJhZGluZ1RpbWVzKHRoaXMubGFzdFVwZGF0ZURhdGUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB0cmFkaW5nIHRpbWVzIG9uIFwiLmNvbmNhdCh0aGlzLmxhc3RVcGRhdGVEYXRlLCBcIjogW1wiKS5jb25jYXQoZXJyb3IuY29kZSwgXCJdIFxcXCJcIikuY29uY2F0KGVycm9yLm1lc3NhZ2UsIFwiXFxcIlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIG5vdyA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCk7XG4gICAgICAgICAgICAgICAgZGF0ZVN0ciA9IG5vdy50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMSk7XG5cbiAgICAgICAgICAgICAgICBnZXRVVENEYXRlID0gZnVuY3Rpb24gZ2V0VVRDRGF0ZShob3VyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoXCJcIi5jb25jYXQoZGF0ZVN0cikuY29uY2F0KGhvdXIsIFwiWlwiKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWRpbmdUaW1lc01hcCA9IHt9O1xuICAgICAgICAgICAgICAgIG1hcmtldHMgPSByZXNwb25zZS50cmFkaW5nX3RpbWVzLm1hcmtldHM7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE1O1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IG1hcmtldHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWFya2V0ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICAgICAgc3VibWFya2V0cyA9IG1hcmtldC5zdWJtYXJrZXRzO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyMztcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gc3VibWFya2V0c1tTeW1ib2wuaXRlcmF0b3JdKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgICAgICBpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzdWJtYXJrZXQgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICAgICAgc3ltYm9scyA9IHN1Ym1hcmtldC5zeW1ib2xzO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzMTtcblxuICAgICAgICAgICAgICAgIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3ltYm9sT2JqID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgdmFyIHRpbWVzID0gc3ltYm9sT2JqLnRpbWVzLFxuICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbCA9IHN5bWJvbE9iai5zeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgZmVlZF9saWNlbnNlID0gc3ltYm9sT2JqLmZlZWRfbGljZW5zZSxcbiAgICAgICAgICAgICAgICAgICAgICBkZWxheV9hbW91bnQgPSBzeW1ib2xPYmouZGVsYXlfYW1vdW50O1xuICAgICAgICAgICAgICAgICAgdmFyIG9wZW4gPSB0aW1lcy5vcGVuLFxuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlID0gdGltZXMuY2xvc2U7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBfdGltZXMgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBpc09wZW5BbGxEYXkgPSBvcGVuLmxlbmd0aCA9PT0gMSAmJiBvcGVuWzBdID09PSAnMDA6MDA6MDAnICYmIGNsb3NlWzBdID09PSAnMjM6NTk6NTknO1xuICAgICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VkQWxsRGF5ID0gb3Blbi5sZW5ndGggPT09IDEgJiYgb3BlblswXSA9PT0gJy0tJyAmJiBjbG9zZVswXSA9PT0gJy0tJztcblxuICAgICAgICAgICAgICAgICAgaWYgKCFpc09wZW5BbGxEYXkgJiYgIWlzQ2xvc2VkQWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aW1lcyA9IG9wZW4ubWFwKGZ1bmN0aW9uIChvcGVuVGltZSwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IGdldFVUQ0RhdGUob3BlblRpbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGdldFVUQ0RhdGUoY2xvc2VbaWR4XSlcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX3RoaXMyLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmVlZF9saWNlbnNlOiBmZWVkX2xpY2Vuc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5X2Ftb3VudDogZGVsYXlfYW1vdW50IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzOiBfdGltZXMsXG4gICAgICAgICAgICAgICAgICAgIGlzT3BlbkFsbERheTogaXNPcGVuQWxsRGF5LFxuICAgICAgICAgICAgICAgICAgICBpc0Nsb3NlZEFsbERheTogaXNDbG9zZWRBbGxEYXlcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMyA9IHN5bWJvbHNbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICBfbG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM2O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1tcImNhdGNoXCJdKDMxKTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IF9jb250ZXh0My50MDtcblxuICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNDA7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA0MTtcblxuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQzO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG5cbiAgICAgICAgICAgICAgY2FzZSA0NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg0Myk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg0MCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA1MzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDUzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9jb250ZXh0M1tcImNhdGNoXCJdKDIzKTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IF9jb250ZXh0My50MTtcblxuICAgICAgICAgICAgICBjYXNlIDU3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNTc7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA1ODtcblxuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDYwO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cbiAgICAgICAgICAgICAgY2FzZSA2MzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg2MCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg1Nyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2NTpcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjg6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDcwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNzA7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnQyID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oMTUpO1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IF9jb250ZXh0My50MjtcblxuICAgICAgICAgICAgICBjYXNlIDc0OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNzQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3NTtcblxuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FzZSA3NzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDc3O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4MDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXG4gICAgICAgICAgICAgIGNhc2UgODA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goNzcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goNzQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzE1LCA3MCwgNzQsIDgyXSwgWzIzLCA1MywgNTcsIDY1XSwgWzMxLCAzNiwgNDAsIDQ4XSwgWzQxLCwgNDMsIDQ3XSwgWzU4LCwgNjAsIDY0XSwgWzc1LCwgNzcsIDgxXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gX3VwZGF0ZVRyYWRlVGltZXMoKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlVHJhZGVUaW1lczIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNGZWVkVW5hdmFpbGFibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNGZWVkVW5hdmFpbGFibGUoc3ltYm9sKSB7XG4gICAgICBpZiAoIXRoaXMuX3RyYWRpbmdUaW1lc01hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghKHN5bWJvbCBpbiB0aGlzLl90cmFkaW5nVGltZXNNYXApKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N5bWJvbCBub3QgaW4gX3RyYWRpbmdUaW1lc01hcDonLCBzeW1ib2wsICcgdHJhZGluZyBtYXA6JywgdGhpcy5fdHJhZGluZ1RpbWVzTWFwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwW3N5bWJvbF0uZmVlZF9saWNlbnNlID09PSBUcmFkaW5nVGltZXMuRkVFRF9VTkFWQUlMQUJMRTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RGVsYXllZE1pbnV0ZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVsYXllZE1pbnV0ZXMoc3ltYm9sKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJhZGluZ1RpbWVzTWFwW3N5bWJvbF0uZGVsYXlfYW1vdW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc01hcmtldE9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc01hcmtldE9wZW5lZChzeW1ib2wpIHtcbiAgICAgIGlmICghdGhpcy5fdHJhZGluZ1RpbWVzTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoc3ltYm9sIGluIHRoaXMuX3RyYWRpbmdUaW1lc01hcCkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3ltYm9sIG5vdCBpbiBfdHJhZGluZ1RpbWVzTWFwOicsIHN5bWJvbCwgJyB0cmFkaW5nIG1hcDonLCB0aGlzLl90cmFkaW5nVGltZXNNYXApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXS5pc09wZW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NhbGNJc01hcmtldE9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY0lzTWFya2V0T3BlbmVkKHN5bWJvbCkge1xuICAgICAgdmFyIG5vdyA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCk7XG5cbiAgICAgIHZhciBfdGhpcyRfdHJhZGluZ1RpbWVzTWEgPSB0aGlzLl90cmFkaW5nVGltZXNNYXBbc3ltYm9sXSxcbiAgICAgICAgICB0aW1lcyA9IF90aGlzJF90cmFkaW5nVGltZXNNYS50aW1lcyxcbiAgICAgICAgICBmZWVkX2xpY2Vuc2UgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEuZmVlZF9saWNlbnNlLFxuICAgICAgICAgIGlzT3BlbkFsbERheSA9IF90aGlzJF90cmFkaW5nVGltZXNNYS5pc09wZW5BbGxEYXksXG4gICAgICAgICAgaXNDbG9zZWRBbGxEYXkgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEuaXNDbG9zZWRBbGxEYXk7XG4gICAgICBpZiAoaXNDbG9zZWRBbGxEYXkgfHwgZmVlZF9saWNlbnNlID09PSBUcmFkaW5nVGltZXMuRkVFRF9VTkFWQUlMQUJMRSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGlzT3BlbkFsbERheSkgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IHRpbWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHNlc3Npb24gPSBfc3RlcDQudmFsdWU7XG4gICAgICAgICAgdmFyIG9wZW4gPSBzZXNzaW9uLm9wZW4sXG4gICAgICAgICAgICAgIGNsb3NlID0gc2Vzc2lvbi5jbG9zZTtcblxuICAgICAgICAgIGlmIChub3cgPj0gb3BlbiAmJiBub3cgPCBjbG9zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbmV4dFVwZGF0ZURhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX25leHRVcGRhdGVEYXRlKCkge1xuICAgICAgdmFyIG5vdyA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCk7XG5cbiAgICAgIHZhciBuZXh0RGF0ZTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX3RyYWRpbmdUaW1lc01hcCkge1xuICAgICAgICB2YXIgX3RoaXMkX3RyYWRpbmdUaW1lc01hMiA9IHRoaXMuX3RyYWRpbmdUaW1lc01hcFtrZXldLFxuICAgICAgICAgICAgdGltZXMgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEyLnRpbWVzLFxuICAgICAgICAgICAgZmVlZF9saWNlbnNlID0gX3RoaXMkX3RyYWRpbmdUaW1lc01hMi5mZWVkX2xpY2Vuc2UsXG4gICAgICAgICAgICBpc09wZW5BbGxEYXkgPSBfdGhpcyRfdHJhZGluZ1RpbWVzTWEyLmlzT3BlbkFsbERheSxcbiAgICAgICAgICAgIGlzQ2xvc2VkQWxsRGF5ID0gX3RoaXMkX3RyYWRpbmdUaW1lc01hMi5pc0Nsb3NlZEFsbERheTtcbiAgICAgICAgaWYgKGlzT3BlbkFsbERheSB8fCBpc0Nsb3NlZEFsbERheSB8fCBmZWVkX2xpY2Vuc2UgPT09IFRyYWRpbmdUaW1lcy5GRUVEX1VOQVZBSUxBQkxFKSBjb250aW51ZTtcbiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IHRpbWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IF9zdGVwNS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBvcGVuID0gc2Vzc2lvbi5vcGVuLFxuICAgICAgICAgICAgICAgIGNsb3NlID0gc2Vzc2lvbi5jbG9zZTtcblxuICAgICAgICAgICAgaWYgKG9wZW4gPiBub3cgJiYgKCFuZXh0RGF0ZSB8fCBvcGVuIDwgbmV4dERhdGUpKSB7XG4gICAgICAgICAgICAgIG5leHREYXRlID0gb3BlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNsb3NlID4gbm93ICYmICghbmV4dERhdGUgfHwgY2xvc2UgPCBuZXh0RGF0ZSkpIHtcbiAgICAgICAgICAgICAgbmV4dERhdGUgPSBjbG9zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0RGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25NYXJrZXRPcGVuQ2xvc2VDaGFuZ2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihUcmFkaW5nVGltZXMuRVZFTlRfTUFSS0VUX09QRU5fQ0xPU0VfQ0hBTkdFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYWRpbmdUaW1lcztcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChUcmFkaW5nVGltZXMpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9iaW5hcnlhcGkvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2JpbmFyeWFwaS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogQWN0aXZlU3ltYm9scywgVHJhZGluZ1RpbWVzLCBCaW5hcnlBUEkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0FjdGl2ZVN5bWJvbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQWN0aXZlU3ltYm9scyAqLyBcIi4vc3JjL2JpbmFyeWFwaS9BY3RpdmVTeW1ib2xzLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQWN0aXZlU3ltYm9sc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9BY3RpdmVTeW1ib2xzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9UcmFkaW5nVGltZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVHJhZGluZ1RpbWVzICovIFwiLi9zcmMvYmluYXJ5YXBpL1RyYWRpbmdUaW1lcy5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRyYWRpbmdUaW1lc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9UcmFkaW5nVGltZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0JpbmFyeUFQSV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9CaW5hcnlBUEkgKi8gXCIuL3NyYy9iaW5hcnlhcGkvQmluYXJ5QVBJLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQmluYXJ5QVBJXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX0JpbmFyeUFQSV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvY3VycmVudEhSLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2N1cnJlbnRIUi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRyYXdDdXJyZW50UHJpY2VMaW5lICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRyYXdDdXJyZW50UHJpY2VMaW5lXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZHJhd0N1cnJlbnRQcmljZUxpbmU7IH0pO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbnZhciBkcmF3Q3VycmVudFByaWNlTGluZSA9IGZ1bmN0aW9uIGRyYXdDdXJyZW50UHJpY2VMaW5lKCkge1xuICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmRyYXdDdXJyZW50SFIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucnVuUHJlcGVuZCgnZHJhd0N1cnJlbnRIUicsIGFyZ3VtZW50cykpIHJldHVybjtcbiAgICB2YXIgYmFja2dyb3VuZENvbG9yLCBjb2xvcjtcbiAgICB2YXIgbWFpblNlcmllc1JlbmRlcmVyID0gdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIgfHwge307XG4gICAgaWYgKG1haW5TZXJpZXNSZW5kZXJlci5ub0N1cnJlbnRIUikgcmV0dXJuO1xuICAgIHZhciBoaWdoTG93QmFycyA9IG1haW5TZXJpZXNSZW5kZXJlci5oaWdoTG93QmFycyB8fCB0aGlzLmhpZ2hMb3dCYXJzW3RoaXMubGF5b3V0LmNoYXJ0VHlwZV07XG5cbiAgICBmb3IgKHZhciBjaGFydE5hbWUgaW4gdGhpcy5jaGFydHMpIHtcbiAgICAgIHZhciBjaGFydCA9IHRoaXMuY2hhcnRzW2NoYXJ0TmFtZV07XG4gICAgICB2YXIgcGFuZWwgPSBjaGFydC5wYW5lbDtcbiAgICAgIHZhciB5QXhpcyA9IHBhbmVsLnlBeGlzO1xuICAgICAgaWYgKHBhbmVsLmhpZGRlbikgY29udGludWU7XG4gICAgICBpZiAoeUF4aXMuZHJhd0N1cnJlbnRQcmljZUxhYmVsID09PSBmYWxzZSB8fCB5QXhpcy5ub0RyYXcpIGNvbnRpbnVlO1xuICAgICAgaWYgKCFtYWluU2VyaWVzUmVuZGVyZXIucGFyYW1zKSBjb250aW51ZTtcbiAgICAgIHZhciB3aGljaFNldCA9IHlBeGlzLndoaWNoU2V0O1xuICAgICAgaWYgKCF3aGljaFNldCkgd2hpY2hTZXQgPSAnZGF0YVNldCc7XG4gICAgICBpZiAodGhpcy5pc0hpc3RvcmljYWxNb2RlU2V0ICYmIHdoaWNoU2V0ICE9PSAnZGF0YVNlZ21lbnQnKSBjb250aW51ZTtcbiAgICAgIHZhciBsID0gY2hhcnRbd2hpY2hTZXRdLmxlbmd0aCxcbiAgICAgICAgICBjdyA9IHRoaXMubGF5b3V0LmNhbmRsZVdpZHRoO1xuXG4gICAgICBpZiAod2hpY2hTZXQgPT0gJ2RhdGFTZWdtZW50Jykge1xuICAgICAgICAvLyB0aGlzIGNyYXp5IGVxdWF0aW9uIGp1c3QgdG8gZmluZCB0aGUgbGFzdCBiYXIgZGlzcGxheWluZyBhdCBsZWFzdCA1MCUgb24gdGhlIHNjcmVlblxuICAgICAgICB3aGlsZSAobCA+IChjaGFydC53aWR0aCAtIHRoaXMubWljcm9waXhlbHMgKyBjdyAvIDIgKyAxKSAvIGN3KSB7XG4gICAgICAgICAgbC0tO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsICYmIGNoYXJ0W3doaWNoU2V0XVtsIC0gMV0pIHtcbiAgICAgICAgdmFyIGZpZWxkID0gY2hhcnQuZGVmYXVsdFBsb3RGaWVsZDtcbiAgICAgICAgaWYgKCFmaWVsZCB8fCBoaWdoTG93QmFycykgZmllbGQgPSAnQ2xvc2UnO1xuICAgICAgICB2YXIgcHJldkNsb3NlLCBjdXJyZW50Q2xvc2U7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHByZXZDbG9zZSA9IGNoYXJ0W3doaWNoU2V0XVstLWxdW2ZpZWxkXTtcbiAgICAgICAgICBjdXJyZW50Q2xvc2UgPSBwcmV2Q2xvc2U7XG4gICAgICAgICAgaWYgKGwgPT09IDApIGJyZWFrO1xuICAgICAgICB9IHdoaWxlIChjdXJyZW50Q2xvc2UgPT09IG51bGwpO1xuXG4gICAgICAgIGlmICh3aGljaFNldCA9PSAnZGF0YVNldCcgJiYgY2hhcnQuY3VycmVudFF1b3RlKSB7XG4gICAgICAgICAgY3VycmVudENsb3NlID0gY2hhcnQuY3VycmVudFF1b3RlW2ZpZWxkXTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydFt3aGljaFNldF0ubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICB2YXIgcHF1b3RlID0gY2hhcnRbd2hpY2hTZXRdW2wgLSAxXTtcbiAgICAgICAgICBpZiAocHF1b3RlKSBwcmV2Q2xvc2UgPSBwcXVvdGVbZmllbGRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRDbG9zZSA8IHByZXZDbG9zZSkge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IHRoaXMuY2FudmFzU3R5bGUoJ3N0eF9jdXJyZW50X2hyX2Rvd24nKS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgY29sb3IgPSB0aGlzLmNhbnZhc1N0eWxlKCdzdHhfY3VycmVudF9ocl9kb3duJykuY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gdGhpcy5jYW52YXNTdHlsZSgnc3R4X2N1cnJlbnRfaHJfdXAnKS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgY29sb3IgPSB0aGlzLmNhbnZhc1N0eWxlKCdzdHhfY3VycmVudF9ocl91cCcpLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYXJ0LnRyYW5zZm9ybUZ1bmMpIGN1cnJlbnRDbG9zZSA9IGNoYXJ0LnRyYW5zZm9ybUZ1bmModGhpcywgY2hhcnQsIGN1cnJlbnRDbG9zZSk7XG4gICAgICAgIHZhciB0eHQ7IC8vIElmIGEgY2hhcnQgcGFuZWwsIHRoZW4gYWx3YXlzIGRpc3BsYXkgYXQgbGVhc3QgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBhcyBjYWxjdWxhdGVkIGJ5IG1hc3RlckRhdGEgKHBhbmVsLmNoYXJ0LmRlY2ltYWxQbGFjZXMpXG4gICAgICAgIC8vIGJ1dCBpZiB3ZSBhcmUgem9vbWVkIHRvIGhpZ2ggZ3JhbnVsYXJpdHkgdGhlbiBleHBhbmQgYWxsIHRoZSB3YXkgb3V0IHRvIHRoZSB5LWF4aXMgc2lnbmlmaWNhbnQgZGlnaXRzIChwYW5lbC55QXhpcy5wcmludERlY2ltYWxQbGFjZXMpXG5cbiAgICAgICAgdmFyIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWF4KHBhbmVsLnlBeGlzLnByaW50RGVjaW1hbFBsYWNlcywgcGFuZWwuY2hhcnQuZGVjaW1hbFBsYWNlcyk7IC8vXHQuLi4gYW5kIG5ldmVyIGRpc3BsYXkgbW9yZSBkZWNpbWFsIHBsYWNlcyB0aGFuIHRoZSBzeW1ib2wgaXMgc3VwcG9zZWQgdG8gYmUgcXVvdGluZyBhdFxuXG4gICAgICAgIGlmICh5QXhpcy5tYXhEZWNpbWFsUGxhY2VzIHx8IHlBeGlzLm1heERlY2ltYWxQbGFjZXMgPT09IDApIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWluKGxhYmVsRGVjaW1hbFBsYWNlcywgeUF4aXMubWF4RGVjaW1hbFBsYWNlcyk7XG5cbiAgICAgICAgaWYgKHlBeGlzLnByaWNlRm9ybWF0dGVyKSB7XG4gICAgICAgICAgdHh0ID0geUF4aXMucHJpY2VGb3JtYXR0ZXIodGhpcywgcGFuZWwsIGN1cnJlbnRDbG9zZSwgbGFiZWxEZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0eHQgPSB0aGlzLmZvcm1hdFlBeGlzUHJpY2UoY3VycmVudENsb3NlLCBwYW5lbCwgbGFiZWxEZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB5ID0gdGhpcy5waXhlbEZyb21UcmFuc2Zvcm1lZFZhbHVlKGN1cnJlbnRDbG9zZSwgcGFuZWwpOyAvLyBLZWVwIGN1cnJlbnQgcHJpY2UgbGFiZWwgcG9zaXRpb24gZm90IGxhdGVyIHdoZW4gd2Ugd2FudCB0byBzaG93IGNvdW50ZG93blxuXG4gICAgICAgIGNoYXJ0LmN1cnJlbnRQcmljZUxhYmVsWSA9IHk7XG4gICAgICAgIHRoaXMuY3JlYXRlWUF4aXNMYWJlbChwYW5lbCwgdHh0LCB5LCBiYWNrZ3JvdW5kQ29sb3IsIGNvbG9yKTtcbiAgICAgICAgdmFyIHggPSBwYW5lbC5sZWZ0O1xuICAgICAgICB2YXIgZW5kT2ZMaW5lID0gcGFuZWwucmlnaHQ7XG4gICAgICAgIHZhciBjdXJyZW50UXVvdGUgPSB0aGlzLmN1cnJlbnRRdW90ZSgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50UXVvdGUpIHtcbiAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBhbmVsIHBvc2l0aW9uIHRvIGN1cnJlbnQgc3BvdCBwb3NpdGlvbiBmb3IgZHJhd2luZyBjdXJyZW50IHByaWNlIGxpbmVcbiAgICAgICAgICB4ID0gdGhpcy5waXhlbEZyb21UaWNrKGN1cnJlbnRRdW90ZS50aWNrLCBjaGFydCkgKyAoY2hhcnQubGFzdFRpY2tPZmZzZXQgfHwgMCk7XG4gICAgICAgICAgZW5kT2ZMaW5lIC09IHRoaXMuY2hhcnQuY29udGV4dC5tZWFzdXJlVGV4dCh0eHQpLndpZHRoICogMC40OyAvLyBEcmF3IHRoZSBjaGFydCBmcm9tIHRoZSBjdXJyZW50IHNwb3QgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcHJpY2UgbGFiZWxcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZE9mTGluZSArPSAyNDsgLy8gd2UgbW92ZSB0aGUgXCJ4XCIgcHNvaXRpb24gZm9yd2FyZCBieSAyNCBvbiBjcmVhdGVZQXhpc0xhYmVsIGluIGNoYXJ0U3RvcmUuanNcblxuICAgICAgICBpZiAodGhpcy5wcmVmZXJlbmNlcy5jdXJyZW50UHJpY2VMaW5lID09PSB0cnVlICYmIHRoaXMuaXNIb21lKCkpIHtcbiAgICAgICAgICB0aGlzLnBsb3RMaW5lKHgsIGVuZE9mTGluZSwgeSwgeSwgYmFja2dyb3VuZENvbG9yLCAnc2VnbWVudCcsIHBhbmVsLmNoYXJ0LmNvbnRleHQsIHBhbmVsLCB7XG4gICAgICAgICAgICBwYXR0ZXJuOiAnZGFzaGVkJyxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ydW5BcHBlbmQoJ2RyYXdDdXJyZW50SFInLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2hlYWRzVXBIUi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9oZWFkc1VwSFIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBtYWludGFpbkhlYWRzVXBIUiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtYWludGFpbkhlYWRzVXBIUlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG1haW50YWluSGVhZHNVcEhSOyB9KTtcbnZhciBtYWludGFpbkhlYWRzVXBIUiA9IGZ1bmN0aW9uIG1haW50YWluSGVhZHNVcEhSKCkge1xuICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLnByZXBlbmQoJ2hlYWRzVXBIUicsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFuZWwpIHtcbiAgICAgIHRoaXMueWF4aXNMYWJlbFN0eWxlID0gJ3JlY3QnO1xuICAgICAgdGhpcy5sYWJlbFR5cGUgPSAnY3Jvc3NoYWlyJztcbiAgICB9XG4gIH0pO1xuICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmFwcGVuZCgnaGVhZHNVcEhSJywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMueWF4aXNMYWJlbFN0eWxlID0gJ3JvdW5kUmVjdEFycm93JztcbiAgICB0aGlzLmxhYmVsVHlwZSA9IG51bGw7XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2N1cnJlbnRIUl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jdXJyZW50SFIgKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvY3VycmVudEhSLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9oZWFkc1VwSFJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVhZHNVcEhSICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2hlYWRzVXBIUi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVzaXppbmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVzaXppbmcgKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvcmVzaXppbmcuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NldE1heFRpY2tzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NldE1heFRpY2tzICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL3NldE1heFRpY2tzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wbG90dGVyRHJhd1RleHRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGxvdHRlckRyYXdUZXh0ICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL3Bsb3R0ZXJEcmF3VGV4dC5qc1wiKTtcblxuIC8vIGltcG9ydCB7IG1hbmFnZU1hc3RlckRhdGFMZW5ndGggfSBmcm9tICcuL21hbmFnZU1hc3RlckRhdGFMZW5ndGgnO1xuXG5cblxuXG5cbnZhciBpbmplY3QgPSBmdW5jdGlvbiBpbmplY3QoKSB7XG4gIE9iamVjdChfY3VycmVudEhSX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkcmF3Q3VycmVudFByaWNlTGluZVwiXSkoKTtcbiAgT2JqZWN0KF9oZWFkc1VwSFJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm1haW50YWluSGVhZHNVcEhSXCJdKSgpO1xuICBPYmplY3QoX3Bsb3R0ZXJEcmF3VGV4dF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wicGxvdHRlckRyYXdUZXh0XCJdKSgpO1xuICBPYmplY3QoX3Jlc2l6aW5nX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJtYWludGFpblNwYW5TaXplXCJdKSgpOyAvLyBtYW5hZ2VNYXN0ZXJEYXRhTGVuZ3RoKCk7XG5cbiAgT2JqZWN0KF9zZXRNYXhUaWNrc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wic2V0TWF4VGlja3NcIl0pKCk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGluamVjdCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9wbG90dGVyRHJhd1RleHQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvcGxvdHRlckRyYXdUZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcGxvdHRlckRyYXdUZXh0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBsb3R0ZXJEcmF3VGV4dFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBsb3R0ZXJEcmF3VGV4dDsgfSk7XG52YXIgcGxvdHRlckRyYXdUZXh0ID0gZnVuY3Rpb24gcGxvdHRlckRyYXdUZXh0KCkge1xuICAvLyBQbG90dGVyLmRyYXdUZXggZHV0eSBpcyB0byB3cml0ZSB5LWF4aXMgbGFiZWxzLHdoaWNoIGxvY2F0ZWQgaW4gdGhlIFBsb3R0ZXJcbiAgLy8gYXMgdGhlcmUgaXNuJ3QgYW55IG9wdGlvbiB0byBtYWtlIHktYXhpcyB0ZXh0IGFsaWduIGNlbnRlciwgYW5kIGFsc28gdGhlcmVcbiAgLy8gaXNuJ3QgYW55IGluamVjdGlvbiBmb3IgZHJhd1RleHQsIHdlIGhhdmUgdG8gZG8gYSBtb25rZXkgcGF0Y2hpbmcgZm9yIGhhbmRsaW5nXG4gIC8vIHRoaXMgaXNzdWVcbiAgQ0lRLlBsb3R0ZXIucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQsIHNlcmllcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VyaWVzLnRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZXh0T2JqID0gc2VyaWVzLnRleHRbaV07XG4gICAgICB2YXIgdyA9IHRleHRPYmoud2lkdGggPyB0ZXh0T2JqLndpZHRoIDogY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0T2JqLnRleHQpLndpZHRoO1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZ2V0WUF4aXNXaWR0aCgpID8gKHRoaXMuZ2V0WUF4aXNXaWR0aCgpIC0gdykgLyAyIDogMDtcblxuICAgICAgaWYgKHRleHRPYmouYmcpIHtcbiAgICAgICAgdmFyIGggPSB0ZXh0T2JqLmhlaWdodCA/IHRleHRPYmouaGVpZ2h0IDogMTI7XG4gICAgICAgIHZhciBwcmV2ID0gY29udGV4dC5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGV4dE9iai5iZztcblxuICAgICAgICBpZiAoY29udGV4dC50ZXh0QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHRleHRPYmoueCwgdGV4dE9iai55IC0gaCAvIDIsIC13LCAtaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5maWxsUmVjdCh0ZXh0T2JqLngsIHRleHRPYmoueSAtIGggLyAyLCB3LCBoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcHJldjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0T2JqLnRleHQsIHRleHRPYmoueCArIG9mZnNldCwgdGV4dE9iai55KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvcmVzaXppbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9yZXNpemluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogbWFpbnRhaW5TcGFuU2l6ZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtYWludGFpblNwYW5TaXplXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFpbnRhaW5TcGFuU2l6ZTsgfSk7XG52YXIgbWFpbnRhaW5TcGFuU2l6ZSA9IGZ1bmN0aW9uIG1haW50YWluU3BhblNpemUoKSB7XG4gIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUucHJlcGVuZCgncmVzaXplQ2hhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNBdXRvU2NhbGUgJiYgdGhpcy5jaGFydC54YXhpcyAmJiB0aGlzLmNoYXJ0LnhheGlzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXN0b21DYW5kbGVXaWR0aCA9IHRoaXMubGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgdGhpcy5jdXN0b21DaGFydFdpZHRoID0gdGhpcy5jaGFydC53aWR0aDtcbiAgICAgIHRoaXMuY3VzdG9tU2Nyb2xsID0gdGhpcy5jaGFydC5zY3JvbGw7XG4gICAgfVxuICB9KTtcbiAgQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5hcHBlbmQoJ3Jlc2l6ZUNoYXJ0JywgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzQXV0b1NjYWxlICYmIHRoaXMuY3VzdG9tQ2hhcnRXaWR0aCkge1xuICAgICAgdmFyIHJhdGlvID0gdGhpcy5jdXN0b21DaGFydFdpZHRoIC8gdGhpcy5jdXN0b21DYW5kbGVXaWR0aDtcbiAgICAgIHRoaXMubGF5b3V0LmNhbmRsZVdpZHRoID0gdGhpcy5jaGFydC53aWR0aCAvIHJhdGlvO1xuICAgICAgdGhpcy5jaGFydC5zY3JvbGwgPSB0aGlzLmN1c3RvbVNjcm9sbDtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jaGFydGlxX2luamVjdGlvbnMvc2V0TWF4VGlja3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NoYXJ0aXFfaW5qZWN0aW9ucy9zZXRNYXhUaWNrcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogc2V0TWF4VGlja3MgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0TWF4VGlja3NcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzZXRNYXhUaWNrczsgfSk7XG52YXIgc2V0TWF4VGlja3MgPSBmdW5jdGlvbiBzZXRNYXhUaWNrcygpIHtcbiAgLyoqXG4gICAqIFRoZSBzZXRNYXhUaWNrcyBmdW5jdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWx5IG92ZXJ3cml0ZWQgYmVjYXVzZSB0aGUgb3JpZ2luYWwgb25lIGRvZXNuJ3Qgd29yayBwcm9wZXJseVxuICAgKiAgd2hlbiB0aGUgcGFkZGluZyBwcm9wZXJ0eSBpcyBzZXQgaW4gcGFyYW1zLlxuICAgKi9cbiAgLy8gVE9ETyBVc2UgdGhlIG9yaWdpbmFsIG9uZSBvZiB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgQ2hhcnRJUSBpZiB0aGUgaXNzdWUgaGFzIGJlZW4gc29sdmVkLlxuICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLnNldE1heFRpY2tzID0gZnVuY3Rpb24gKHRpY2tzLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgdGlja3MgPSBNYXRoLnJvdW5kKHRpY2tzKTtcbiAgICBpZiAodGlja3MgPCAyKSB0aWNrcyA9IDI7XG4gICAgdmFyIHBhZCA9IHBhcmFtcy5wYWRkaW5nID8gcGFyYW1zLnBhZGRpbmcgOiAwO1xuICAgIHRoaXMubGF5b3V0LmNhbmRsZVdpZHRoID0gKHRoaXMuY2hhcnQud2lkdGggLSBwYWQpIC8gdGlja3M7XG4gICAgaWYgKCF0aGlzLmxheW91dC5jYW5kbGVXaWR0aCkgdGhpcy5sYXlvdXQuY2FuZGxlV2lkdGggPSA4OyAvLyBaZXJvIGNhbmRsZXdpZHRoIGNhbiBvbmx5IG9jY3VyIGlmIHRoZSBjaGFydCBoYXMgbm8gd2lkdGguIFRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSBjaGFydCBpcyBpbiBhIGhpZGRlbiBpZnJhbWVcbiAgICAvLyBUaGlzIGxpbmUgaGFzIGJlZW4gY2hhbmdlZCBpbiB0aGUgY29tcGFyZSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG5cbiAgICB0aGlzLmNoYXJ0Lm1heFRpY2tzID0gTWF0aC5yb3VuZCgodGhpcy5jaGFydC53aWR0aCAtIHBhZCkgLyB0aGlzLmxheW91dC5jYW5kbGVXaWR0aCAtIDAuNDk5KTtcbiAgICBpZiAocGFyYW1zLnBhZGRpbmcgfHwgcGFyYW1zLnBhZGRpbmcgPT09IDApIHRoaXMuY2hhcnQuc2Nyb2xsID0gdGlja3MgKyAxOyAvLyBJZiBwYWRkaW5nLCB0aGVuIGJ5IGRlZmluaXRpb24gd2UncmUgaG9taW5nXG4gIH07XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0FuaW1hdGVkUHJpY2UuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFByaWNlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcblxuXG52YXIgQW5pbWF0ZWRQcmljZSA9IGZ1bmN0aW9uIEFuaW1hdGVkUHJpY2UoX3JlZikge1xuICB2YXIgaXNJbmNyZWFzZSA9IF9yZWYuaXNJbmNyZWFzZSxcbiAgICAgIHByaWNlID0gX3JlZi5wcmljZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuICB2YXIgY2xhc3NlcyA9IFwiY3EtYW5pbWF0ZWQtcHJpY2UgXCIuY29uY2F0KGNsYXNzTmFtZSB8fCAnJywgXCIgXCIpLmNvbmNhdChpc0luY3JlYXNlID8gJ2NxLXVwJyA6ICdjcS1kb3duJyk7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCAhcHJpY2UgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jb21wYXJpc29uLWxvYWRlciBzdHgtc2hvd1wiXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXNcbiAgfSwgcHJpY2UpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQW5pbWF0ZWRQcmljZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQXNzZXRJbmZvcm1hdGlvbi5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0Fzc2V0SW5mb3JtYXRpb24uanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfYXNzZXRfaW5mb3JtYXRpb25fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaXEtYXNzZXQtaW5mb3JtYXRpb24uc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtYXNzZXQtaW5mb3JtYXRpb24uc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9hc3NldF9pbmZvcm1hdGlvbl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaXFfYXNzZXRfaW5mb3JtYXRpb25fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcblxuXG5cbnZhciBBc3NldEluZm9ybWF0aW9uID0gZnVuY3Rpb24gQXNzZXRJbmZvcm1hdGlvbigpIHtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtYXNzZXQtaW5mb3JtYXRpb25cIixcbiAgICBzdHlsZToge1xuICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICB9XG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnU1BPVCcpLCBcIjpcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtYWktc3BvdFwiXG4gIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHQudHJhbnNsYXRlKCdPUEVOJyksIFwiOlwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1haS1vcGVuXCJcbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdC50cmFuc2xhdGUoJ0NMT1NFJyksIFwiOlwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1haS1jbG9zZVwiXG4gIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHQudHJhbnNsYXRlKCdISUdIJyksIFwiOlwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1haS1oaWdoXCJcbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdC50cmFuc2xhdGUoJ0xPVycpLCBcIjpcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtYWktbG93XCJcbiAgfSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoQXNzZXRJbmZvcm1hdGlvbik7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0JhcnJpZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9CYXJyaWVyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0JhcnJpZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQmFycmllclN0b3JlICovIFwiLi9zcmMvc3RvcmUvQmFycmllclN0b3JlLmpzXCIpO1xuXG5cblxuXG52YXIgQmFycmllciA9IGZ1bmN0aW9uIEJhcnJpZXIoX3JlZikge1xuICB2YXIgX3JlZiRzaGFkZUNvbG9yID0gX3JlZi5zaGFkZUNvbG9yLFxuICAgICAgc2hhZGVDb2xvciA9IF9yZWYkc2hhZGVDb2xvciA9PT0gdm9pZCAwID8gJyMzOWIxOWQnIDogX3JlZiRzaGFkZUNvbG9yLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICcjMzliMTlkJyA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGZvcmVncm91bmRDb2xvciA9IF9yZWYuZm9yZWdyb3VuZENvbG9yLFxuICAgICAgZm9yZWdyb3VuZENvbG9yID0gX3JlZiRmb3JlZ3JvdW5kQ29sb3IgPT09IHZvaWQgMCA/ICcjZmZmZmZmJyA6IF9yZWYkZm9yZWdyb3VuZENvbG9yLFxuICAgICAgSGlnaFByaWNlTGluZSA9IF9yZWYuSGlnaFByaWNlTGluZSxcbiAgICAgIExvd1ByaWNlTGluZSA9IF9yZWYuTG93UHJpY2VMaW5lLFxuICAgICAgQWJvdmVTaGFkZSA9IF9yZWYuQWJvdmVTaGFkZSxcbiAgICAgIEJldHdlZW5TaGFkZSA9IF9yZWYuQmV0d2VlblNoYWRlLFxuICAgICAgQmVsb3dTaGFkZSA9IF9yZWYuQmVsb3dTaGFkZSxcbiAgICAgIGhpZGVQcmljZUxpbmVzID0gX3JlZi5oaWRlUHJpY2VMaW5lcyxcbiAgICAgIGxpbmVTdHlsZSA9IF9yZWYubGluZVN0eWxlLFxuICAgICAgaXNJbml0aWFsaXplZCA9IF9yZWYuaXNJbml0aWFsaXplZCxcbiAgICAgIHByaWNlTGFiZWxXaWR0aCA9IF9yZWYucHJpY2VMYWJlbFdpZHRoO1xuICByZXR1cm4gaXNJbml0aWFsaXplZCAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYmFycmllciBcIi5jb25jYXQoaGlkZVByaWNlTGluZXMgPyAnaGlkZS1wcmljZWxpbmVzJyA6ICcnKSxcbiAgICBzdHlsZToge1xuICAgICAgJy0tc2hhZGUtY29sb3InOiBzaGFkZUNvbG9yXG4gICAgfVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEhpZ2hQcmljZUxpbmUsIHtcbiAgICB3aWR0aDogcHJpY2VMYWJlbFdpZHRoLFxuICAgIGxpbmVTdHlsZTogbGluZVN0eWxlLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBmb3JlZ3JvdW5kQ29sb3I6IGZvcmVncm91bmRDb2xvclxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChMb3dQcmljZUxpbmUsIHtcbiAgICB3aWR0aDogcHJpY2VMYWJlbFdpZHRoLFxuICAgIGxpbmVTdHlsZTogbGluZVN0eWxlLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBmb3JlZ3JvdW5kQ29sb3I6IGZvcmVncm91bmRDb2xvclxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChBYm92ZVNoYWRlLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChCZXR3ZWVuU2hhZGUsIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEJlbG93U2hhZGUsIG51bGwpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBIaWdoUHJpY2VMaW5lOiBzdG9yZS5IaWdoUHJpY2VMaW5lLFxuICAgIExvd1ByaWNlTGluZTogc3RvcmUuTG93UHJpY2VMaW5lLFxuICAgIEFib3ZlU2hhZGU6IHN0b3JlLkFib3ZlU2hhZGUsXG4gICAgQmV0d2VlblNoYWRlOiBzdG9yZS5CZXR3ZWVuU2hhZGUsXG4gICAgQmVsb3dTaGFkZTogc3RvcmUuQmVsb3dTaGFkZSxcbiAgICBzaGFkZUNvbG9yOiBzdG9yZS5zaGFkZUNvbG9yLFxuICAgIGNvbG9yOiBzdG9yZS5jb2xvcixcbiAgICBmb3JlZ3JvdW5kQ29sb3I6IHN0b3JlLmZvcmVncm91bmRDb2xvcixcbiAgICBoaWRlUHJpY2VMaW5lczogc3RvcmUuaGlkZVByaWNlTGluZXMsXG4gICAgbGluZVN0eWxlOiBzdG9yZS5saW5lU3R5bGUsXG4gICAgaXNJbml0aWFsaXplZDogc3RvcmUuaXNJbml0aWFsaXplZCxcbiAgICBkZXN0cnVjdG9yOiBzdG9yZS5kZXN0cnVjdG9yLFxuICAgIHByaWNlTGFiZWxXaWR0aDogc3RvcmUucHJpY2VMYWJlbFdpZHRoXG4gIH07XG59LCBfc3RvcmVfQmFycmllclN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShCYXJyaWVyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQm90dG9tV2lkZ2V0c0NvbnRhaW5lci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0JvdHRvbVdpZGdldHNDb250YWluZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2JvdHRvbV93aWRnZXRfY29udGFpbmVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fYm90dG9tLXdpZGdldC1jb250YWluZXIuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19ib3R0b20td2lkZ2V0LWNvbnRhaW5lci5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfYm90dG9tX3dpZGdldF9jb250YWluZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfYm90dG9tX3dpZGdldF9jb250YWluZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5cblxuXG5cblxudmFyIEJvdHRvbVdpZGdldHNDb250YWluZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEJvdHRvbVdpZGdldHNDb250YWluZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEJvdHRvbVdpZGdldHNDb250YWluZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdHRvbVdpZGdldHNDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihCb3R0b21XaWRnZXRzQ29udGFpbmVyKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCb3R0b21XaWRnZXRzQ29udGFpbmVyLCBbe1xuICAgIGtleTogXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKF9yZWYpIHtcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBfcmVmLm5leHRDaGlsZHJlbjtcblxuICAgICAgaWYgKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkNoaWxkcmVuLmNvdW50KHRoaXMucHJvcHMuY2hpbGRyZW4pID09PSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5DaGlsZHJlbi5jb3VudChuZXh0Q2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICBpZiAocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ2hpbGRyZW4uY291bnQodGhpcy5wcm9wcy5jaGlsZHJlbikpIHtcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVDaGFydE1hcmdpbigyMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVDaGFydE1hcmdpbigxMDApO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBib3R0b20gPSBfdGhpcyRwcm9wcy5ib3R0b20sXG4gICAgICAgICAgaXNSZWFkeVRvU2hvdyA9IF90aGlzJHByb3BzLmlzUmVhZHlUb1Nob3csXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICB0b3AgPSBfdGhpcyRwcm9wcy50b3A7XG5cbiAgICAgIGlmICghaXNSZWFkeVRvU2hvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3EtYm90dG9tLXVpLXdpZGdldHNcIixcbiAgICAgICAgc3R5bGU6IHN0eWxlc1xuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCb3R0b21XaWRnZXRzQ29udGFpbmVyO1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5Db21wb25lbnQpO1xuXG5Cb3R0b21XaWRnZXRzQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgYm90dG9tOiBwcm9wX3R5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLm51bWJlcixcbiAgaXNSZWFkeVRvU2hvdzogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5ib29sLFxuICB0b3A6IHByb3BfdHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEubnVtYmVyLFxuICB1cGRhdGVDaGFydE1hcmdpbjogcHJvcF90eXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5mdW5jLmlzUmVxdWlyZWRcbn07XG5Cb3R0b21XaWRnZXRzQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgYm90dG9tOiAwLFxuICBpc1JlYWR5VG9TaG93OiBmYWxzZSxcbiAgdG9wOiAwXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgc3RvcmUgPSBfcmVmMi5ib3R0b21XaWRnZXRzQ29udGFpbmVyO1xuICByZXR1cm4ge1xuICAgIGJvdHRvbTogc3RvcmUuYm90dG9tLFxuICAgIGlzUmVhZHlUb1Nob3c6IHN0b3JlLmlzUmVhZHlUb1Nob3csXG4gICAgdG9wOiBzdG9yZS50b3AsXG4gICAgdXBkYXRlQ2hhcnRNYXJnaW46IHN0b3JlLnVwZGF0ZUNoYXJ0TWFyZ2luXG4gIH07XG59KShCb3R0b21XaWRnZXRzQ29udGFpbmVyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnQuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ2hhcnQuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9SZW5kZXJJbnNpZGVDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUmVuZGVySW5zaWRlQ2hhcnQuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0NvbXBhcmlzb25MaXN0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db21wYXJpc29uTGlzdC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NvbXBhcmlzb25MaXN0LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2hhcnRUaXRsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRUaXRsZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGl0bGUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Bc3NldEluZm9ybWF0aW9uX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Bc3NldEluZm9ybWF0aW9uLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQXNzZXRJbmZvcm1hdGlvbi5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xvYWRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTG9hZGVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTG9hZGVyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQmFycmllcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQmFycmllci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0JhcnJpZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Cb3R0b21XaWRnZXRzQ29udGFpbmVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Cb3R0b21XaWRnZXRzQ29udGFpbmVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQm90dG9tV2lkZ2V0c0NvbnRhaW5lci5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0N1cnJlbnRTcG90X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DdXJyZW50U3BvdC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0N1cnJlbnRTcG90LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRHJhd2luZ0N1cnNvcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRHJhd2luZ0N1cnNvci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0RyYXdpbmdDdXJzb3IuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFRhYmxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRUYWJsZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGFibGUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9MYXN0RGlnaXRTdGF0c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0xhc3REaWdpdFN0YXRzLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTGFzdERpZ2l0U3RhdHMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9IaWdoZXN0TG93ZXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSGlnaGVzdExvd2VzdE1hcmtlci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0hpZ2hlc3RMb3dlc3RNYXJrZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX21haW5fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvbWFpbi5zY3NzICovIFwiLi9zYXNzL21haW4uc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19tYWluX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfbWFpbl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdWlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VpICovIFwiLi9zcmMvY29tcG9uZW50cy91aS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2hhcnRDb250cm9sc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0Q29udHJvbHMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydENvbnRyb2xzLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ3Jvc3NoYWlyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ3Jvc3NoYWlyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1BhZ2luYXRpb25Mb2FkZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9QYWdpbmF0aW9uTG9hZGVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvUGFnaW5hdGlvbkxvYWRlci5qc3hcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiBjc3MgKyBzY3NzICovXG5cblxuXG5cblxuXG5cblxuXG52YXIgQ2hhcnQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENoYXJ0LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGFydChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDaGFydCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuZGVmYXVsdFRvcFdpZGdldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ2hhcnRUaXRsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0sIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Bc3NldEluZm9ybWF0aW9uX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NvbXBhcmlzb25MaXN0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgbnVsbCkpO1xuICAgIH07XG5cbiAgICBfdGhpcy5tb2RhbE5vZGUgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5yb290ID0gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlUmVmKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdXBkYXRlUHJvcHMgPSBfdGhpcyRwcm9wcy51cGRhdGVQcm9wcyxcbiAgICAgICAgICBpbml0ID0gX3RoaXMkcHJvcHMuaW5pdCxcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wcywgW1widXBkYXRlUHJvcHNcIiwgXCJpbml0XCJdKTtcblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX1tcImluaXRHQVwiXSkoKTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJsb2dQYWdlVmlld1wiXSkoKTtcbiAgICAgIHVwZGF0ZVByb3BzKHByb3BzKTtcbiAgICAgIGluaXQodGhpcy5yb290LmN1cnJlbnQsIHRoaXMubW9kYWxOb2RlLmN1cnJlbnQsIHByb3BzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIHVwZGF0ZVByb3BzID0gbmV4dFByb3BzLnVwZGF0ZVByb3BzLFxuICAgICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG5leHRQcm9wcywgW1widXBkYXRlUHJvcHNcIl0pO1xuXG4gICAgICB1cGRhdGVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5wcm9wcy5kZXN0cm95KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBib3R0b21XaWRnZXRzID0gX3RoaXMkcHJvcHMyLmJvdHRvbVdpZGdldHMsXG4gICAgICAgICAgRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2cgPSBfdGhpcyRwcm9wczIuRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2csXG4gICAgICAgICAgU3R1ZHlTZXR0aW5nc0RpYWxvZyA9IF90aGlzJHByb3BzMi5TdHVkeVNldHRpbmdzRGlhbG9nLFxuICAgICAgICAgIGlzQ2FuZGxlID0gX3RoaXMkcHJvcHMyLmlzQ2FuZGxlLFxuICAgICAgICAgIGlzU3BsaW5lID0gX3RoaXMkcHJvcHMyLmlzU3BsaW5lLFxuICAgICAgICAgIF90aGlzJHByb3BzMiRpc01vYmlsZSA9IF90aGlzJHByb3BzMi5pc01vYmlsZSxcbiAgICAgICAgICBpc01vYmlsZSA9IF90aGlzJHByb3BzMiRpc01vYmlsZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdGhpcyRwcm9wczIkaXNNb2JpbGUsXG4gICAgICAgICAgaXNDaGFydEF2YWlsYWJsZSA9IF90aGlzJHByb3BzMi5pc0NoYXJ0QXZhaWxhYmxlLFxuICAgICAgICAgIGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPSBfdGhpcyRwcm9wczIuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxcbiAgICAgICAgICBfdGhpcyRwcm9wczIkYmFycmllcnMgPSBfdGhpcyRwcm9wczIuYmFycmllcnMsXG4gICAgICAgICAgYmFycmllcnMgPSBfdGhpcyRwcm9wczIkYmFycmllcnMgPT09IHZvaWQgMCA/IFtdIDogX3RoaXMkcHJvcHMyJGJhcnJpZXJzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMyLmNoaWxkcmVuLFxuICAgICAgICAgIGNoYXJ0Q29udHJvbHNXaWRnZXRzID0gX3RoaXMkcHJvcHMyLmNoYXJ0Q29udHJvbHNXaWRnZXRzLFxuICAgICAgICAgIEFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2cgPSBfdGhpcyRwcm9wczIuQWdncmVnYXRlQ2hhcnRTZXR0aW5nc0RpYWxvZyxcbiAgICAgICAgICB0b3BXaWRnZXRzID0gX3RoaXMkcHJvcHMyLnRvcFdpZGdldHMsXG4gICAgICAgICAgY2hhcnRDb250YWluZXJIZWlnaHQgPSBfdGhpcyRwcm9wczIuY2hhcnRDb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgY29udGFpbmVyV2lkdGggPSBfdGhpcyRwcm9wczIuY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgaXNDaGFydENsb3NlZCA9IF90aGlzJHByb3BzMi5pc0NoYXJ0Q2xvc2VkLFxuICAgICAgICAgIGlzRHJhd2luZyA9IF90aGlzJHByb3BzMi5pc0RyYXdpbmcsXG4gICAgICAgICAgdGhlbWUgPSBfdGhpcyRwcm9wczIudGhlbWUsXG4gICAgICAgICAgcG9zaXRpb24gPSBfdGhpcyRwcm9wczIucG9zaXRpb24sXG4gICAgICAgICAgc2hvd0xhc3REaWdpdFN0YXRzID0gX3RoaXMkcHJvcHMyLnNob3dMYXN0RGlnaXRTdGF0cztcbiAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSBcImNxLWNoYXJ0LWNvbnRyb2wtXCIuY29uY2F0KGNoYXJ0Q29udHJvbHNXaWRnZXRzICYmIHBvc2l0aW9uICYmICFpc01vYmlsZSA/IHBvc2l0aW9uIDogJ2JvdHRvbScpO1xuICAgICAgdmFyIGNvbnRleHRXaWR0aCA9ICFpc01vYmlsZSA/IFwic21hcnRjaGFydHMtXCIuY29uY2F0KGNvbnRhaW5lcldpZHRoKSA6ICcnO1xuICAgICAgdmFyIFRvcFdpZGdldHMgPSB0b3BXaWRnZXRzIHx8IHRoaXMuZGVmYXVsdFRvcFdpZGdldHM7XG4gICAgICB2YXIgQm90dG9tV2lkZ2V0cyA9ICFib3R0b21XaWRnZXRzICYmIHNob3dMYXN0RGlnaXRTdGF0cyA/IF9MYXN0RGlnaXRTdGF0c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJkZWZhdWx0XCJdIDogYm90dG9tV2lkZ2V0czsgLy8gaWYgdGhlcmUgYXJlIGFueSBtYXJrZXJzLCB0aGVuIGluY3JlYXNlIHRoZSBzdWJob2xkZXIgei1pbmRleFxuXG4gICAgICB2YXIgSGFzTWFya2VycyA9IGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA/ICdzbWFydGNoYXJ0cy0taGFzLW1hcmtlcnMnIDogJyc7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzbWFydGNoYXJ0cyBzbWFydGNoYXJ0cy1cIi5jb25jYXQodGhlbWUsIFwiIFwiKS5jb25jYXQoY29udGV4dFdpZHRoLCBcIiBcIikuY29uY2F0KEhhc01hcmtlcnMpXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInNtYXJ0Y2hhcnRzLVwiLmNvbmNhdChpc01vYmlsZSA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnKSxcbiAgICAgICAgcmVmOiB0aGlzLm1vZGFsTm9kZVxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1jb250ZXh0XCIsXG4gICAgICAgIHJlZjogdGhpcy5yb290XG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIiBcIi5jb25jYXQoY3VycmVudFBvc2l0aW9uKVxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjaXEtY2hhcnQtYXJlYVwiXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNpcS1jaGFydCBcIi5jb25jYXQoaXNDaGFydENsb3NlZCA/ICdjbG9zZWQtY2hhcnQnIDogJycpXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9SZW5kZXJJbnNpZGVDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgYXQ6IFwiaG9sZGVyXCJcbiAgICAgIH0sIGJhcnJpZXJzLm1hcChmdW5jdGlvbiAoYmFyciwgaWR4KSB7XG4gICAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9CYXJyaWVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe1xuICAgICAgICAgIGtleTogXCJiYXJyaWVyLVwiLmNvbmNhdChpZHgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG5cbiAgICAgICAgfSwgYmFycikpO1xuICAgICAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9SZW5kZXJJbnNpZGVDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgYXQ6IFwic3ViaG9sZGVyXCJcbiAgICAgIH0sICFpc0NhbmRsZSAmJiAhaXNTcGxpbmUgJiYgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9IaWdoZXN0TG93ZXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX1tcImRlZmF1bHRcIl0sIG51bGwpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfUmVuZGVySW5zaWRlQ2hhcnRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGF0OiBcInN1YmhvbGRlclwiXG4gICAgICB9LCBjaGlsZHJlbiwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfUGFnaW5hdGlvbkxvYWRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ3VycmVudFNwb3RfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLCBudWxsKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3EtdG9wLXVpLXdpZGdldHNcIlxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUb3BXaWRnZXRzLCBudWxsKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnRDb250YWluZXIgXCIuY29uY2F0KGlzRHJhd2luZyA/ICdjaXEtZHJhdy1tb2RlJyA6ICcnKSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IGNoYXJ0Q29udGFpbmVySGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Nyb3NzaGFpcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRHJhd2luZ0N1cnNvcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0sIG51bGwpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTG9hZGVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSwgbnVsbCksICFpc0NoYXJ0QXZhaWxhYmxlICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtdW5hdmFpbGFibGVcIlxuICAgICAgfSwgdC50cmFuc2xhdGUoJ0NoYXJ0IGRhdGEgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBzeW1ib2wuJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Cb3R0b21XaWRnZXRzQ29udGFpbmVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSwgbnVsbCwgQm90dG9tV2lkZ2V0cyAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEJvdHRvbVdpZGdldHMsIG51bGwpKSksIGNoYXJ0Q29udHJvbHNXaWRnZXRzICE9PSBudWxsICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NoYXJ0Q29udHJvbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICB3aWRnZXRzOiBjaGFydENvbnRyb2xzV2lkZ2V0c1xuICAgICAgfSkpKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJhd1Rvb2xzU2V0dGluZ3NEaWFsb2csIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2csIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5U2V0dGluZ3NEaWFsb2csIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9DaGFydFRhYmxlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0sIG51bGwpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0O1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQ29tcG9uZW50XCJdKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgY2hhcnQgPSBfcmVmLmNoYXJ0LFxuICAgICAgZHJhd1Rvb2xzID0gX3JlZi5kcmF3VG9vbHMsXG4gICAgICBzdHVkaWVzID0gX3JlZi5zdHVkaWVzLFxuICAgICAgY2hhcnRTZXR0aW5nID0gX3JlZi5jaGFydFNldHRpbmcsXG4gICAgICBjaGFydFR5cGUgPSBfcmVmLmNoYXJ0VHlwZSxcbiAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGRyYXdpbmdDdXJzb3IgPSBfcmVmLmRyYXdpbmdDdXJzb3I7XG4gIHJldHVybiB7XG4gICAgaW5pdDogY2hhcnQuaW5pdCxcbiAgICBkZXN0cm95OiBjaGFydC5kZXN0cm95LFxuICAgIFN0dWR5U2V0dGluZ3NEaWFsb2c6IHN0dWRpZXMuU3R1ZHlTZXR0aW5nc0RpYWxvZyxcbiAgICBEcmF3VG9vbHNTZXR0aW5nc0RpYWxvZzogZHJhd1Rvb2xzLkRyYXdUb29sc1NldHRpbmdzRGlhbG9nLFxuICAgIEFnZ3JlZ2F0ZUNoYXJ0U2V0dGluZ3NEaWFsb2c6IGNoYXJ0VHlwZS5BZ2dyZWdhdGVDaGFydFNldHRpbmdzRGlhbG9nLFxuICAgIGlzQ2FuZGxlOiBjaGFydFR5cGUuaXNDYW5kbGUsXG4gICAgaXNDaGFydEF2YWlsYWJsZTogY2hhcnQuaXNDaGFydEF2YWlsYWJsZSxcbiAgICBpc1NwbGluZTogY2hhcnRUeXBlLmlzU3BsaW5lLFxuICAgIHVwZGF0ZVByb3BzOiBzdGF0ZS51cGRhdGVQcm9wcyxcbiAgICBjaGFydENvbnRhaW5lckhlaWdodDogY2hhcnQuY2hhcnRDb250YWluZXJIZWlnaHQsXG4gICAgY29udGFpbmVyV2lkdGg6IGNoYXJ0LmNvbnRhaW5lcldpZHRoLFxuICAgIGlzQ2hhcnRDbG9zZWQ6IHN0YXRlLmlzQ2hhcnRDbG9zZWQsXG4gICAgaXNEcmF3aW5nOiBkcmF3aW5nQ3Vyc29yLmlzRHJhd2luZyxcbiAgICB0aGVtZTogY2hhcnRTZXR0aW5nLnRoZW1lLFxuICAgIHBvc2l0aW9uOiBjaGFydFNldHRpbmcucG9zaXRpb24sXG4gICAgc2hvd0xhc3REaWdpdFN0YXRzOiBzdGF0ZS5zaG93TGFzdERpZ2l0U3RhdHMsXG4gICAgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZDogY2hhcnRTZXR0aW5nLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWRcbiAgfTtcbn0pKENoYXJ0KSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0Q29udHJvbHMuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9DaGFydENvbnRyb2xzLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFJlbmRlckRlZmF1bHRDb250cm9scywgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZW5kZXJEZWZhdWx0Q29udHJvbHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSZW5kZXJEZWZhdWx0Q29udHJvbHM7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydFR5cGVzLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRUeXBlcy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1N0dWR5TGVnZW5kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TdHVkeUxlZ2VuZC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1N0dWR5TGVnZW5kLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29tcGFyaXNvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29tcGFyaXNvbi5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NvbXBhcmlzb24uanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WaWV3c19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVmlld3MuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9WaWV3cy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ3Jvc3NoYWlyVG9nZ2xlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVGltZXBlcmlvZC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1RpbWVwZXJpb2QuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0U2l6ZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0RyYXdUb29sc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRHJhd1Rvb2xzLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRHJhd1Rvb2xzLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2hhcmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TaGFyZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYXJlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2NvbnRyb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LWNvbnRyb2xzLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtY29udHJvbHMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X2NvbnRyb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaGFydF9jb250cm9sc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBSZW5kZXJEZWZhdWx0Q29udHJvbHMgPSBmdW5jdGlvbiBSZW5kZXJEZWZhdWx0Q29udHJvbHMoX3JlZikge1xuICB2YXIgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgaXNNb2JpbGUgPyAnJyA6IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX1RpbWVwZXJpb2RfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfU3R1ZHlMZWdlbmRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfQ29tcGFyaXNvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9EcmF3VG9vbHNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfVmlld3NfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfU2hhcmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSwgbnVsbCksIGlzTW9iaWxlID8gJycgOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdLCBudWxsKSk7XG59O1xuXG52YXIgQ2hhcnRDb250cm9scyA9IGZ1bmN0aW9uIENoYXJ0Q29udHJvbHMoX3JlZjIpIHtcbiAgdmFyIGlzTW9iaWxlID0gX3JlZjIuaXNNb2JpbGUsXG4gICAgICBoYXNPcGVuTWVudSA9IF9yZWYyLmhhc09wZW5NZW51LFxuICAgICAgd2lkZ2V0cyA9IF9yZWYyLndpZGdldHMsXG4gICAgICBjb250ZXh0ID0gX3JlZjIuY29udGV4dDtcbiAgdmFyIENvbnRyb2xzID0gd2lkZ2V0cyB8fCBSZW5kZXJEZWZhdWx0Q29udHJvbHM7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtY29udHJvbHMgXCIuY29uY2F0KGhhc09wZW5NZW51ID8gJyBhY3RpdmUnIDogJycpXG4gIH0sIGNvbnRleHQgPyByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENvbnRyb2xzLCB7XG4gICAgaXNNb2JpbGU6IGlzTW9iaWxlXG4gIH0pIDogbnVsbCk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYzKSB7XG4gIHZhciBjaGFydCA9IF9yZWYzLmNoYXJ0LFxuICAgICAgY2hhcnRUeXBlID0gX3JlZjMuY2hhcnRUeXBlLFxuICAgICAgc3R1ZGllcyA9IF9yZWYzLnN0dWRpZXMsXG4gICAgICBjb21wYXJpc29uID0gX3JlZjMuY29tcGFyaXNvbixcbiAgICAgIGRyYXdUb29scyA9IF9yZWYzLmRyYXdUb29scyxcbiAgICAgIHZpZXcgPSBfcmVmMy52aWV3LFxuICAgICAgc2hhcmUgPSBfcmVmMy5zaGFyZSxcbiAgICAgIHRpbWVwZXJpb2QgPSBfcmVmMy50aW1lcGVyaW9kLFxuICAgICAgY2hhcnRTZXR0aW5nID0gX3JlZjMuY2hhcnRTZXR0aW5nO1xuICByZXR1cm4ge1xuICAgIGlzTW9iaWxlOiBjaGFydC5pc01vYmlsZSxcbiAgICBjb250ZXh0OiBjaGFydC5jb250ZXh0LFxuICAgIGhhc09wZW5NZW51OiBjaGFydFR5cGUubWVudS5vcGVuIHx8IHN0dWRpZXMubWVudS5vcGVuIHx8IGNvbXBhcmlzb24ubWVudS5vcGVuIHx8IGRyYXdUb29scy5tZW51Lm9wZW4gfHwgdmlldy5tZW51Lm9wZW4gfHwgc2hhcmUubWVudS5vcGVuIHx8IHRpbWVwZXJpb2QubWVudS5vcGVuIHx8IGNoYXJ0U2V0dGluZy5tZW51Lm9wZW5cbiAgfTtcbn0pKENoYXJ0Q29udHJvbHMpKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFNldHRpbmcuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2V0dGluZy5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXRyYW5zaXRpb24tZ3JvdXAgKi8gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF90cmFuc2l0aW9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRm9ybS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zvcm0uanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfY2hhcnRfc2V0dGluZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1jaGFydC1zZXR0aW5nLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWNoYXJ0LXNldHRpbmcuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9jaGFydF9zZXR0aW5nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NpcV9jaGFydF9zZXR0aW5nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyk7XG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cblxuXG5cblxuXG5cblxudmFyIEFzc2V0SW5mb3JtYXRpb25Ub2dnbGUgPSBmdW5jdGlvbiBBc3NldEluZm9ybWF0aW9uVG9nZ2xlKF9yZWYpIHtcbiAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZTtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtaWNvbi10ZXh0XCJcbiAgfSwgdC50cmFuc2xhdGUoJ0Fzc2V0IEluZm9ybWF0aW9uJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWFjdGlvblwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJTd2l0Y2hcIl0sIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gIH0pKSk7XG59O1xuXG52YXIgVGhlbWVUb2dnbGUgPSBmdW5jdGlvbiBUaGVtZVRvZ2dsZShfcmVmMikge1xuICB2YXIgcG9zaXRpb24gPSBfcmVmMi5wb3NpdGlvbixcbiAgICAgIHNldFBvc2l0aW9uID0gX3JlZjIuc2V0UG9zaXRpb247XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3QtaXRlbSBjaXEtbGlzdC1pdGVtLXBvc2l0aW9uXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtaWNvbi10ZXh0XCJcbiAgfSwgdC50cmFuc2xhdGUoJ1Bvc2l0aW9uJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWFjdGlvblwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiUG9zaXRpb25Cb3R0b21JY29uXCJdLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBzZXRQb3NpdGlvbignYm90dG9tJyk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHBvc2l0aW9uID09PSAnYm90dG9tJyA/ICdhY3RpdmUnIDogJycpXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlBvc2l0aW9uTGVmdEljb25cIl0sIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldFBvc2l0aW9uKCdsZWZ0Jyk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHBvc2l0aW9uID09PSAnbGVmdCcgPyAnYWN0aXZlJyA6ICcnKVxuICB9KSkpO1xufTtcblxudmFyIENoYXJ0U2V0dGluZyA9IGZ1bmN0aW9uIENoYXJ0U2V0dGluZyhfcmVmMykge1xuICB2YXIgYXNzZXRJbmZvcm1hdGlvbiA9IF9yZWYzLmFzc2V0SW5mb3JtYXRpb24sXG4gICAgICBDaGFydFNldHRpbmdNZW51ID0gX3JlZjMuQ2hhcnRTZXR0aW5nTWVudSxcbiAgICAgIGNsb3NlTWVudSA9IF9yZWYzLmNsb3NlTWVudSxcbiAgICAgIGNvdW50ZG93biA9IF9yZWYzLmNvdW50ZG93bixcbiAgICAgIGhpc3RvcmljYWwgPSBfcmVmMy5oaXN0b3JpY2FsLFxuICAgICAgaXNBdXRvU2NhbGUgPSBfcmVmMy5pc0F1dG9TY2FsZSxcbiAgICAgIGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPSBfcmVmMy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLFxuICAgICAgaXNNb2JpbGUgPSBfcmVmMy5pc01vYmlsZSxcbiAgICAgIGxhbmd1YWdlcyA9IF9yZWYzLmxhbmd1YWdlcyxcbiAgICAgIG1lbnVPcGVuID0gX3JlZjMubWVudU9wZW4sXG4gICAgICBwb3NpdGlvbiA9IF9yZWYzLnBvc2l0aW9uLFxuICAgICAgc2VsZWN0ZWRMYW5ndWFnZSA9IF9yZWYzLnNlbGVjdGVkTGFuZ3VhZ2UsXG4gICAgICBzZXRBc3NldEluZm9ybWF0aW9uID0gX3JlZjMuc2V0QXNzZXRJbmZvcm1hdGlvbixcbiAgICAgIHNldEF1dG9TY2FsZSA9IF9yZWYzLnNldEF1dG9TY2FsZSxcbiAgICAgIHNldEhpc3RvcmljYWwgPSBfcmVmMy5zZXRIaXN0b3JpY2FsLFxuICAgICAgc2V0TGFuZ3VhZ2UgPSBfcmVmMy5zZXRMYW5ndWFnZSxcbiAgICAgIHNldFBvc2l0aW9uID0gX3JlZjMuc2V0UG9zaXRpb24sXG4gICAgICBzZXRUaGVtZSA9IF9yZWYzLnNldFRoZW1lLFxuICAgICAgc2V0VmlldyA9IF9yZWYzLnNldFZpZXcsXG4gICAgICBzaG93Q291bnRkb3duID0gX3JlZjMuc2hvd0NvdW50ZG93bixcbiAgICAgIHZpZXcgPSBfcmVmMy52aWV3LFxuICAgICAgdGhlbWUgPSBfcmVmMy50aGVtZSxcbiAgICAgIHRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXIgPSBfcmVmMy50b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyO1xuXG4gIHZhciByZW5kZXJNYWluID0gZnVuY3Rpb24gcmVuZGVyTWFpbigpIHtcbiAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidGl0bGUtdGV4dFwiXG4gICAgfSwgXCIgXCIsIHQudHJhbnNsYXRlKCdTZXR0aW5ncycpLCBcIiBcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiQ2xvc2VJY29uXCJdLCB7XG4gICAgICBjbGFzc05hbWU6IFwiaWNvbi1jbG9zZS1tZW51XCIsXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICByZXR1cm4gY2xvc2VNZW51KCk7XG4gICAgICB9XG4gICAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJib2R5XCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdCBjaXEtbGlzdC1zZXR0aW5nXCJcbiAgICB9LCAhaXNNb2JpbGUgPyByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFRoZW1lVG9nZ2xlLCB7XG4gICAgICBzZXRQb3NpdGlvbjogc2V0UG9zaXRpb24sXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb25cbiAgICB9KSA6ICcnLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWljb24tdGV4dFwiXG4gICAgfSwgdC50cmFuc2xhdGUoJ0F1dG8gU2NhbGUnKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS1hY3Rpb25cIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJTd2l0Y2hcIl0sIHtcbiAgICAgIHZhbHVlOiBpc0F1dG9TY2FsZSxcbiAgICAgIG9uQ2hhbmdlOiBzZXRBdXRvU2NhbGVcbiAgICB9KSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWljb24tdGV4dFwiXG4gICAgfSwgdC50cmFuc2xhdGUoJ0RhcmsgTW9kZScpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWFjdGlvblwiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlN3aXRjaFwiXSwge1xuICAgICAgdmFsdWU6IHRoZW1lID09PSAnZGFyaycsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoY2hlY2tlZCkge1xuICAgICAgICByZXR1cm4gc2V0VGhlbWUoY2hlY2tlZCA/ICdkYXJrJyA6ICdsaWdodCcpO1xuICAgICAgfVxuICAgIH0pKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS1saXN0LWl0ZW1cIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtaWNvbi10ZXh0XCJcbiAgICB9LCB0LnRyYW5zbGF0ZSgnQ291bnRkb3duJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtYWN0aW9uXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiU3dpdGNoXCJdLCB7XG4gICAgICB2YWx1ZTogY291bnRkb3duLFxuICAgICAgb25DaGFuZ2U6IHNob3dDb3VudGRvd25cbiAgICB9KSkpLCAhaXNNb2JpbGUgPyByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFzc2V0SW5mb3JtYXRpb25Ub2dnbGUsIHtcbiAgICAgIHZhbHVlOiBhc3NldEluZm9ybWF0aW9uLFxuICAgICAgb25DaGFuZ2U6IHNldEFzc2V0SW5mb3JtYXRpb25cbiAgICB9KSA6ICcnLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWljb24tdGV4dFwiXG4gICAgfSwgdC50cmFuc2xhdGUoJ0hpc3RvcmljYWwgRGF0YSBNb2RlJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtYWN0aW9uXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiU3dpdGNoXCJdLCB7XG4gICAgICB2YWx1ZTogaGlzdG9yaWNhbCxcbiAgICAgIG9uQ2hhbmdlOiBzZXRIaXN0b3JpY2FsXG4gICAgfSkpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3QtaXRlbSBjaXEtbGlzdC1pdGVtLWxuZ1wiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHNldFZpZXcoJ2xhbmd1YWdlJyk7XG4gICAgICB9XG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS1pY29uLXRleHRcIlxuICAgIH0sIHQudHJhbnNsYXRlKCdMYW5ndWFnZScpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWFjdGlvblwiXG4gICAgfSwgc2VsZWN0ZWRMYW5ndWFnZS5pY29uKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS1saXN0LWl0ZW0gXCIuY29uY2F0KGhpc3RvcmljYWwgJiYgJ2Rpc2FibGVkJylcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWljb24tdGV4dFwiXG4gICAgfSwgdC50cmFuc2xhdGUoJ1Nob3cgSGlnaGVzdC9Mb3dlc3QgU3BvdCcpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWFjdGlvblwiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlN3aXRjaFwiXSwge1xuICAgICAgdmFsdWU6IGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQsXG4gICAgICBvbkNoYW5nZTogdG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlclxuICAgIH0pKSkpKSk7XG4gIH07XG5cbiAgdmFyIHJlbmRlckxhbmd1YWdlID0gZnVuY3Rpb24gcmVuZGVyTGFuZ3VhZ2UoKSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiQmFja0ljb25cIl0sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJpY29uLWJhY2stbWVudVwiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHNldFZpZXcoKTtcbiAgICAgIH1cbiAgICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidGl0bGUtdGV4dFwiXG4gICAgfSwgdC50cmFuc2xhdGUoJ0xhbmd1YWdlJykpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiYm9keVwiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3QgY2lxLWxpc3QtbGFuZ3VhZ2VcIlxuICAgIH0sIGxhbmd1YWdlcy5tYXAoZnVuY3Rpb24gKGxhbmd1YWdlKSB7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtIFwiLmNvbmNhdChzZWxlY3RlZExhbmd1YWdlLmtleSA9PT0gbGFuZ3VhZ2Uua2V5ID8gJ3NlbGVjdGVkJyA6ICcnKSxcbiAgICAgICAga2V5OiBsYW5ndWFnZS5rZXksXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIHNldExhbmd1YWdlKGxhbmd1YWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGxhbmd1YWdlLmljb24sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNpcS1pY29uLXRleHRcIlxuICAgICAgfSwgbGFuZ3VhZ2UubmFtZSkpO1xuICAgIH0pKSkpO1xuICB9O1xuXG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0U2V0dGluZ01lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtc2V0dGluZ1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRTZXR0aW5nTWVudS5UaXRsZSwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJTZXR0aW5nSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChtZW51T3BlbiA/ICdhY3RpdmUnIDogJycpLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZSgnU2V0dGluZ3MnKVxuICB9KSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRTZXR0aW5nTWVudS5Cb2R5LCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3Etc2V0dGluZy1jb250YWluZXIgY29udGFpbmVyLVwiLmNvbmNhdCh2aWV3ID09PSAnJyA/ICdtYWluJyA6IHZpZXcpXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfdHJhbnNpdGlvbl9ncm91cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ1NTVHJhbnNpdGlvblwiXSwge1xuICAgIGluOiB2aWV3ID09PSAnJyxcbiAgICB0aW1lb3V0OiAyNTAsXG4gICAgY2xhc3NOYW1lczogXCJjcS1zZXR0aW5nLW1haW4gYW5pbWF0ZVwiLFxuICAgIHVubW91bnRPbkV4aXQ6IHRydWVcbiAgfSwgcmVuZGVyTWFpbigpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF90cmFuc2l0aW9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDU1NUcmFuc2l0aW9uXCJdLCB7XG4gICAgaW46IHZpZXcgPT09ICdsYW5ndWFnZScsXG4gICAgdGltZW91dDogMjUwLFxuICAgIGNsYXNzTmFtZXM6IFwiY3Etc2V0dGluZy1sYW5ndWFnZSBhbmltYXRlXCIsXG4gICAgdW5tb3VudE9uRXhpdDogdHJ1ZVxuICB9LCByZW5kZXJMYW5ndWFnZSgpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHMgPSBfcmVmNC5jaGFydFNldHRpbmcsXG4gICAgICBjID0gX3JlZjQuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgYXNzZXRJbmZvcm1hdGlvbjogcy5hc3NldEluZm9ybWF0aW9uLFxuICAgIENoYXJ0U2V0dGluZ01lbnU6IHMuQ2hhcnRTZXR0aW5nTWVudSxcbiAgICBjbG9zZU1lbnU6IHMubWVudS5vblRpdGxlQ2xpY2ssXG4gICAgY291bnRkb3duOiBzLmNvdW50ZG93bixcbiAgICBoaXN0b3JpY2FsOiBzLmhpc3RvcmljYWwsXG4gICAgaXNNb2JpbGU6IGMuaXNNb2JpbGUsXG4gICAgaXNBdXRvU2NhbGU6IHMuaXNBdXRvU2NhbGUsXG4gICAgaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZDogcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLFxuICAgIGxhbmd1YWdlczogcy5sYW5ndWFnZXMsXG4gICAgbWVudU9wZW46IHMubWVudS5kaWFsb2cub3BlbixcbiAgICBwb3NpdGlvbjogcy5wb3NpdGlvbixcbiAgICBzZWxlY3RlZExhbmd1YWdlOiBzLmxhbmd1YWdlLFxuICAgIHNldEFzc2V0SW5mb3JtYXRpb246IHMuc2V0QXNzZXRJbmZvcm1hdGlvbixcbiAgICBzZXRBdXRvU2NhbGU6IHMuc2V0QXV0b1NjYWxlLFxuICAgIHNldEhpc3RvcmljYWw6IHMuc2V0SGlzdG9yaWNhbCxcbiAgICBzZXRMYW5ndWFnZTogcy5zZXRMYW5ndWFnZSxcbiAgICBzZXRQb3NpdGlvbjogcy5zZXRQb3NpdGlvbixcbiAgICBzZXRUaGVtZTogcy5zZXRUaGVtZSxcbiAgICBzZXRWaWV3OiBzLnNldFZpZXcsXG4gICAgc2hvd0NvdW50ZG93bjogcy5zaG93Q291bnRkb3duLFxuICAgIHRoZW1lOiBzLnRoZW1lLFxuICAgIHRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXI6IHMudG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlcixcbiAgICB2aWV3OiBzLnZpZXdcbiAgfTtcbn0pKENoYXJ0U2V0dGluZykpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydFNpemUuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaGFydF9zaXplX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtc2l6ZS5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXNpemUuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3NpemVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfc2l6ZV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcblxuXG5cblxuXG52YXIgQ2hhcnRTaXplID0gZnVuY3Rpb24gQ2hhcnRTaXplKF9yZWYpIHtcbiAgdmFyIHpvb21JbiA9IF9yZWYuem9vbUluLFxuICAgICAgem9vbU91dCA9IF9yZWYuem9vbU91dDtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbWVudSBjcS1jaGFydC1zaXplXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJab29tT3V0SWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1pY29uLXdpdGgtc3ViIGNxLXpvb20tb3V0XCIsXG4gICAgXCJ0b29sdGlwLXRpdGxlXCI6IHQudHJhbnNsYXRlKCdab29tIG91dCcpLFxuICAgIG9uQ2xpY2s6IHpvb21PdXRcbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbWVudS1idG5cIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlpvb21Jbkljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtaWNvbi13aXRoLXN1YiBjcS16b29tLWluXCIsXG4gICAgXCJ0b29sdGlwLXRpdGxlXCI6IHQudHJhbnNsYXRlKCdab29tIGluJyksXG4gICAgb25DbGljazogem9vbUluXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjaGFydFNpemUgPSBfcmVmMi5jaGFydFNpemU7XG4gIHJldHVybiB7XG4gICAgem9vbUluOiBjaGFydFNpemUuem9vbUluLFxuICAgIHpvb21PdXQ6IGNoYXJ0U2l6ZS56b29tT3V0XG4gIH07XG59KShDaGFydFNpemUpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRUYWJsZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGFibGUuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfY2hhcnRfdGFibGVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaXEtY2hhcnQtdGFibGUuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtY2hhcnQtdGFibGUuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9jaGFydF90YWJsZV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaXFfY2hhcnRfdGFibGVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcblxuXG5cblxuXG5cbnZhciBDaGFydFRhYmxlID0gZnVuY3Rpb24gQ2hhcnRUYWJsZShfcmVmKSB7XG4gIHZhciBpc01vYmlsZSA9IF9yZWYuaXNNb2JpbGUsXG4gICAgICB0YWJsZURhdGEgPSBfcmVmLnRhYmxlRGF0YSxcbiAgICAgIERpYWxvZyA9IF9yZWYuRGlhbG9nLFxuICAgICAgb3BlbiA9IF9yZWYub3BlbixcbiAgICAgIGlzVGljayA9IF9yZWYuaXNUaWNrLFxuICAgICAgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICBzZXRPcGVuID0gX3JlZi5zZXRPcGVuO1xuICB2YXIgU3ltYm9sSWNvbiA9IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkl0ZW1JY29uTWFwXCJdW3N5bWJvbC5zeW1ib2xdIHx8IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlN5bWJvbFBsYWNlaG9sZGVySWNvblwiXTtcbiAgdmFyIHdpZHRoID0gaXNUaWNrID8gJzMyMHB4JyA6ICc1NjVweCc7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtZGlhbG9nLW92ZXJsYXkgXCIuY29uY2F0KG9wZW4gPyAnY3EtZGlhbG9nLWFjdGl2ZScgOiAnJyksXG4gICAgc3R5bGU6IHtcbiAgICAgICctLXRhYmxlLXdpZHRoJzogd2lkdGhcbiAgICB9XG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWRpYWxvZyBjaXEtY2hhcnQtZGlhbG9nXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgaXNNb2JpbGUgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXRpdGxlYmFyXCJcbiAgfSwgU3ltYm9sSWNvbiAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN5bWJvbEljb24sIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtXCIuY29uY2F0KHN5bWJvbC5zeW1ib2wpXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtdGl0bGVcIlxuICB9LCBcIlwiLmNvbmNhdChzeW1ib2wubmFtZSwgXCIgXCIpLmNvbmNhdCh0LnRyYW5zbGF0ZSgnQ2hhcnQgVGFibGUnKSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNsb3NlSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpY29uLWNsb3NlLW1lbnVcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldE9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJTY3JvbGxiYXJzXCJdLCB7XG4gICAgYXV0b0hlaWdodDogdHJ1ZSxcbiAgICBhdXRvSGVpZ2h0TWF4OiBcIjgwdmhcIixcbiAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3RcIlxuICB9LCBpc01vYmlsZSA/IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1jaGFydC10YWJsZVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCB0YWJsZURhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpZHgpIHtcbiAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtcm93XCIsXG4gICAgICBrZXk6IFwiY2hhcnRUYWJsZS1cIi5jb25jYXQoaWR4KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleVxuXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtZGF0ZVwiXG4gICAgfSwgaXRlbS5EYXRlKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGl0ZW0uU3RhdHVzID8gaXRlbS5TdGF0dXMgOiAndXAnKVxuICAgIH0sIGl0ZW0uQ2hhbmdlKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY3EtY2hhbmdlIFwiLmNvbmNhdChpdGVtLlN0YXR1cylcbiAgICB9KSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgICB9LCBpc1RpY2sgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnQ2xvc2UnKSksIGl0ZW0uQ2xvc2UpLCAhaXNUaWNrICYmIFtyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogXCJpdGVtLW9wZW5cIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHQudHJhbnNsYXRlKCdPJykpLCBpdGVtLk9wZW4pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogXCJpdGVtLWhpZ2hcIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHQudHJhbnNsYXRlKCdIJykpLCBpdGVtLkhpZ2gpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogXCJpdGVtLWxvd1wiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdC50cmFuc2xhdGUoJ0wnKSksIGl0ZW0uTG93KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IFwiaXRlbS1jbG9zZVwiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdC50cmFuc2xhdGUoJ0MnKSksIGl0ZW0uQ2xvc2UpXSkpKTtcbiAgfSkpKSA6IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1jaGFydC10YWJsZVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidHJcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtaGVhZFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgfSwgdC50cmFuc2xhdGUoJ0RhdGUnKSksIGlzVGljayA/IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgfSwgdC50cmFuc2xhdGUoJ1RpY2snKSkgOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtY2VsbFwiXG4gIH0sIHQudHJhbnNsYXRlKCdPcGVuJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtY2VsbFwiXG4gIH0sIHQudHJhbnNsYXRlKCdIaWdoJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtY2VsbFwiXG4gIH0sIHQudHJhbnNsYXRlKCdMb3cnKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgfSwgdC50cmFuc2xhdGUoJ0Nsb3NlJykpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLWNlbGxcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhbmdlLWNlbGxcIlxuICB9LCB0LnRyYW5zbGF0ZSgnQ2hhbmdlJyksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQ2xvc2VJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImljb24tY2xvc2UtbWVudVwiLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gc2V0T3BlbihmYWxzZSk7XG4gICAgfVxuICB9KSkpKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCBudWxsLCB0YWJsZURhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpZHgpIHtcbiAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRyXCIsIHtcbiAgICAgIGtleTogXCJjaGFydFRhYmxlLVwiLmNvbmNhdChpZHgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAsXG4gICAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLXJvd1wiXG4gICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtY2VsbFwiXG4gICAgfSwgaXRlbS5EYXRlKSwgaXNUaWNrICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLWNlbGxcIlxuICAgIH0sIGl0ZW0uQ2xvc2UpLCAhaXNUaWNrICYmIFtyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwidGRcIiwge1xuICAgICAga2V5OiBcInRkLW9wZW5cIixcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtdGFibGUtY2VsbFwiXG4gICAgfSwgaXRlbS5PcGVuKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgIGtleTogXCJ0ZC1oaWdoXCIsXG4gICAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLWNlbGxcIlxuICAgIH0sIGl0ZW0uSGlnaCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICBrZXk6IFwidGQtbG93XCIsXG4gICAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLWNlbGxcIlxuICAgIH0sIGl0ZW0uTG93KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgIGtleTogXCJ0ZC1jbG9zZVwiLFxuICAgICAgY2xhc3NOYW1lOiBcImNpcS10YWJsZS1jZWxsXCJcbiAgICB9LCBpdGVtLkNsb3NlKV0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLXRhYmxlLWNlbGxcIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImNxLWNoYW5nZS1jZWxsXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoaXRlbS5TdGF0dXMgPyBpdGVtLlN0YXR1cyA6ICd1cCcpXG4gICAgfSwgaXRlbS5DaGFuZ2UpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjcS1jaGFuZ2UgXCIuY29uY2F0KGl0ZW0uU3RhdHVzKVxuICAgIH0pKSkpO1xuICB9KSkpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjIuY2hhcnQsXG4gICAgICBjaGFydFRhYmxlID0gX3JlZjIuY2hhcnRUYWJsZTtcbiAgcmV0dXJuIHtcbiAgICBpc01vYmlsZTogY2hhcnQuaXNNb2JpbGUsXG4gICAgdGFibGVEYXRhOiBjaGFydFRhYmxlLnRhYmxlRGF0YSxcbiAgICBEaWFsb2c6IGNoYXJ0VGFibGUuRGlhbG9nLFxuICAgIG9wZW46IGNoYXJ0VGFibGUub3BlbixcbiAgICBpc1RpY2s6IGNoYXJ0VGFibGUuaXNUaWNrLFxuICAgIHN5bWJvbDogY2hhcnRUYWJsZS5zeW1ib2wsXG4gICAgc2V0T3BlbjogY2hhcnRUYWJsZS5zZXRPcGVuXG4gIH07XG59KShDaGFydFRhYmxlKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGl0bGUuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9DaGFydFRpdGxlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3RpdGxlX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdGl0bGUuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaGFydC10aXRsZS5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfdGl0bGVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2hhcnRfdGl0bGVfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcblxuXG5cblxudmFyIENoYXJ0VGl0bGUgPSBmdW5jdGlvbiBDaGFydFRpdGxlKF9yZWYpIHtcbiAgdmFyIGNoYXJ0SWQgPSBfcmVmLmNoYXJ0SWQsXG4gICAgICBDaGFydFRpdGxlTWVudSA9IF9yZWYuQ2hhcnRUaXRsZU1lbnUsXG4gICAgICBjdXJyZW50U3ltYm9sID0gX3JlZi5jdXJyZW50U3ltYm9sLFxuICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZCxcbiAgICAgIGlzTW9iaWxlID0gX3JlZi5pc01vYmlsZSxcbiAgICAgIE1hcmtldFNlbGVjdG9yID0gX3JlZi5NYXJrZXRTZWxlY3RvcixcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIFN5bWJvbFNlbGVjdEJ1dHRvbiA9IF9yZWYuU3ltYm9sU2VsZWN0QnV0dG9uLFxuICAgICAgc2V0TWVudU9wZW4gPSBfcmVmLnNldE1lbnVPcGVuLFxuICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuXG4gIGlmICghY3VycmVudFN5bWJvbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2hhcnRUaXRsZU1lbnUsIHtcbiAgICBlbmFibGVkOiBlbmFibGVkLFxuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFydC10aXRsZSBzdHgtc2hvdyBjcS1zeW1ib2xzLWRpc3BsYXlcIixcbiAgICBpc0Z1bGxzY3JlZW46IHRydWUsXG4gICAgdGl0bGU6IGlzTW9iaWxlID8gdC50cmFuc2xhdGUoJ1VuZGVybHlpbmcgQXNzZXRzJykgOiAnJ1xuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VGl0bGVNZW51LlRpdGxlLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN5bWJvbFNlbGVjdEJ1dHRvbiwgbnVsbCkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VGl0bGVNZW51LkJvZHksIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoTWFya2V0U2VsZWN0b3IsIHtcbiAgICBzZWFyY2hJbnB1dENsYXNzTmFtZTogc2VhcmNoSW5wdXRDbGFzc05hbWUsXG4gICAgb25TZWxlY3RJdGVtOiBmdW5jdGlvbiBvblNlbGVjdEl0ZW0oeCkge1xuICAgICAgaWYgKHguc3ltYm9sICE9PSBjdXJyZW50U3ltYm9sLnN5bWJvbCkge1xuICAgICAgICBvbkNoYW5nZSh4LnN5bWJvbCwgY2hhcnRJZCk7XG4gICAgICB9XG5cbiAgICAgIHNldE1lbnVPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjID0gX3JlZjIuY2hhcnRUaXRsZSxcbiAgICAgIGNoYXJ0ID0gX3JlZjIuY2hhcnQsXG4gICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuICByZXR1cm4ge1xuICAgIGNoYXJ0SWQ6IHN0YXRlLmNoYXJ0SWQsXG4gICAgQ2hhcnRUaXRsZU1lbnU6IGMuQ2hhcnRUaXRsZU1lbnUsXG4gICAgY3VycmVudFN5bWJvbDogYy5jdXJyZW50U3ltYm9sLFxuICAgIGlzTW9iaWxlOiBjaGFydC5pc01vYmlsZSxcbiAgICBNYXJrZXRTZWxlY3RvcjogYy5NYXJrZXRTZWxlY3RvcixcbiAgICBvbkNoYW5nZTogYy5zZXRTeW1ib2wsXG4gICAgc2V0TWVudU9wZW46IGMubWVudS5zZXRPcGVuLFxuICAgIFN5bWJvbFNlbGVjdEJ1dHRvbjogYy5TeW1ib2xTZWxlY3RCdXR0b25cbiAgfTtcbn0pKENoYXJ0VGl0bGUpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ2hhcnRUeXBlcy5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NoYXJ0VHlwZXMuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaGFydF90eXBlc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NoYXJ0LXR5cGVzLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2hhcnQtdHlwZXMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3R5cGVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NoYXJ0X3R5cGVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cblxuXG5cblxuXG52YXIgQ2hhcnRUeXBlcyA9IGZ1bmN0aW9uIENoYXJ0VHlwZXMoX3JlZikge1xuICB2YXIgY2hhcnRJZCA9IF9yZWYuY2hhcnRJZCxcbiAgICAgIENoYXJ0VHlwZUxpc3QgPSBfcmVmLkNoYXJ0VHlwZUxpc3QsXG4gICAgICBDaGFydFR5cGVNZW51ID0gX3JlZi5DaGFydFR5cGVNZW51LFxuICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZCxcbiAgICAgIG1lbnVPcGVuID0gX3JlZi5tZW51T3BlbixcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIHNldE9wZW4gPSBfcmVmLnNldE9wZW4sXG4gICAgICBzaG93QWdncmVnYXRlRGlhbG9nID0gX3JlZi5zaG93QWdncmVnYXRlRGlhbG9nLFxuICAgICAgVHlwZSA9IF9yZWYuVHlwZSxcbiAgICAgIHVwZGF0ZVByb3BzID0gX3JlZi51cGRhdGVQcm9wcztcbiAgaWYgKFR5cGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cbiAgdmFyIG9uSXRlbUNsaWNrID0gZnVuY3Rpb24gb25JdGVtQ2xpY2soaWR4LCBjaGFydFR5cGUpIHtcbiAgICBpZiAoVHlwZS5pZCAhPT0gY2hhcnRUeXBlLmlkKSB7XG4gICAgICBvbkNoYW5nZShjaGFydFR5cGUuaWQsIGNoYXJ0VHlwZS5jYW5kbGVPbmx5LCBjaGFydElkKTtcbiAgICB9XG5cbiAgICBzZXRPcGVuKGZhbHNlKTtcbiAgfTtcblxuICB1cGRhdGVQcm9wcyhvbkNoYW5nZSk7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0VHlwZU1lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWRpc3BsYXkgY2lxLWNoYXJ0LXR5cGVzXCIsXG4gICAgZW5hYmxlZDogZW5hYmxlZCxcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0NoYXJ0IHR5cGVzJylcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVNZW51LlRpdGxlLCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFR5cGUuaWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChtZW51T3BlbiA/ICdhY3RpdmUnIDogJycpLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZShUeXBlLnRleHQpXG4gIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVNZW51LkJvZHksIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJib2R5XCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDaGFydFR5cGVMaXN0LCB7XG4gICAgaGVpZ2h0OiAyNjAsXG4gICAgb25JdGVtQ2xpY2s6IG9uSXRlbUNsaWNrXG4gIH0sIGZ1bmN0aW9uIChUKSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsZWZ0XCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFQuaWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm1hcmdpbiBcIi5jb25jYXQoVC5hY3RpdmUgPyAnYWN0aXZlJyA6ICcnKVxuICAgIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWljb24tdGV4dFwiXG4gICAgfSwgVC50ZXh0KSksIFQuc2V0dGluZ3NPbkNsaWNrICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjaXEtYWdncmVnYXRlLXNldHRpbmdcIixcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBzaG93QWdncmVnYXRlRGlhbG9nKFQuaWQpO1xuICAgICAgfVxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiU2V0dGluZ0ljb25cIl0sIG51bGwpKSk7XG4gIH0pKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgY2hhcnRUeXBlID0gX3JlZjIuY2hhcnRUeXBlLFxuICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTtcbiAgcmV0dXJuIHtcbiAgICBjaGFydElkOiBzdGF0ZS5jaGFydElkLFxuICAgIENoYXJ0VHlwZU1lbnU6IGNoYXJ0VHlwZS5DaGFydFR5cGVNZW51LFxuICAgIENoYXJ0VHlwZUxpc3Q6IGNoYXJ0VHlwZS5DaGFydFR5cGVMaXN0LFxuICAgIG1lbnVPcGVuOiBjaGFydFR5cGUubWVudS5vcGVuLFxuICAgIG9uQ2hhbmdlOiBjaGFydFR5cGUuc2V0VHlwZUZyb21VSSxcbiAgICBzZXRPcGVuOiBjaGFydFR5cGUubWVudS5zZXRPcGVuLFxuICAgIHNob3dBZ2dyZWdhdGVEaWFsb2c6IGNoYXJ0VHlwZS5zaG93QWdncmVnYXRlRGlhbG9nLFxuICAgIFR5cGU6IGNoYXJ0VHlwZS50eXBlLFxuICAgIHVwZGF0ZVByb3BzOiBjaGFydFR5cGUudXBkYXRlUHJvcHNcbiAgfTtcbn0pKENoYXJ0VHlwZXMpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ29tcGFyaXNvbi5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NvbXBhcmlzb24uanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Ob3RpZmljYXRpb25CYWRnZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTm90aWZpY2F0aW9uQmFkZ2UuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25CYWRnZS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcblxuXG5cblxuXG52YXIgQ29tcGFyaXNvbiA9IGZ1bmN0aW9uIENvbXBhcmlzb24oX3JlZikge1xuICB2YXIgQ29tcGFyaXNvblNlbGVjdG9yID0gX3JlZi5Db21wYXJpc29uU2VsZWN0b3IsXG4gICAgICBDb21wYXJpc29uTWVudSA9IF9yZWYuQ29tcGFyaXNvbk1lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWYubWVudU9wZW4sXG4gICAgICBpc01vYmlsZSA9IF9yZWYuaXNNb2JpbGUsXG4gICAgICBhY3RpdmVDb21wYXJpc29uc05vID0gX3JlZi5hY3RpdmVDb21wYXJpc29uc05vLFxuICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDb21wYXJpc29uTWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jb21wYXJpc29uLW5ldyBjcS1zeW1ib2xzLWRpc3BsYXlcIixcbiAgICBpc01vYmlsZTogaXNNb2JpbGUsXG4gICAgdGl0bGU6IGlzTW9iaWxlID8gdC50cmFuc2xhdGUoJ0NvbXBhcmlzb24nKSA6ICcnXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ29tcGFyaXNvbk1lbnUuVGl0bGUsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiQ29tcGFyaXNvbkljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtaWNvbi13aXRoLXN1YiBcIi5jb25jYXQobWVudU9wZW4gPyAnYWN0aXZlJyA6ICcnKSxcbiAgICBcInRvb2x0aXAtdGl0bGVcIjogdC50cmFuc2xhdGUoJ0NvbXBhcmlzb24nKVxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfTm90aWZpY2F0aW9uQmFkZ2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgbm90aWZpY2F0aW9uQ291bnQ6IGFjdGl2ZUNvbXBhcmlzb25zTm9cbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENvbXBhcmlzb25NZW51LkJvZHksIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ29tcGFyaXNvblNlbGVjdG9yLCB7XG4gICAgc2VhcmNoSW5wdXRDbGFzc05hbWU6IHNlYXJjaElucHV0Q2xhc3NOYW1lXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjID0gX3JlZjIuY29tcGFyaXNvbixcbiAgICAgIGNoYXJ0ID0gX3JlZjIuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgQ29tcGFyaXNvblNlbGVjdG9yOiBjLkNvbXBhcmlzb25TZWxlY3RvcixcbiAgICBDb21wYXJpc29uTWVudTogYy5Db21wYXJpc29uTWVudSxcbiAgICBtZW51T3BlbjogYy5tZW51Lm9wZW4sXG4gICAgaXNNb2JpbGU6IGNoYXJ0LmlzTW9iaWxlLFxuICAgIGFjdGl2ZUNvbXBhcmlzb25zTm86IGMuY29tcGFyaXNvblN5bWJvbHMubGVuZ3RoXG4gIH07XG59KShDb21wYXJpc29uKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0NvbXBhcmlzb25MaXN0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0NvbXBhcmlzb25MaXN0LmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jb21wYXJpc29uX2xpc3Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jb21wYXJpc29uLWxpc3Quc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jb21wYXJpc29uLWxpc3Quc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NvbXBhcmlzb25fbGlzdF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jb21wYXJpc29uX2xpc3Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgQ29tcGFyaXNvbkxpc3RJdGVtID0gZnVuY3Rpb24gQ29tcGFyaXNvbkxpc3RJdGVtKF9yZWYpIHtcbiAgdmFyIGl0ZW0gPSBfcmVmLml0ZW0sXG4gICAgICBBbmltYXRlZFByaWNlID0gX3JlZi5BbmltYXRlZFByaWNlLFxuICAgICAgb25EZWxldGVJdGVtID0gX3JlZi5vbkRlbGV0ZUl0ZW07XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY29tcGFyaXNvbi1pdGVtXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJsZWZ0XCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jb21wYXJpc29uLXN3YXRjaFwiLFxuICAgIHN0eWxlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGl0ZW0uY29sb3JcbiAgICB9XG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNvbXBhcmlzb24tbGFiZWxcIlxuICB9LCBpdGVtLnN5bWJvbE9iamVjdC5uYW1lKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmlnaHRcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFuaW1hdGVkUHJpY2UsIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkRlbGV0ZUljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWNsb3NlXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBvbkRlbGV0ZUl0ZW0oaXRlbS5zeW1ib2xPYmplY3QpO1xuICAgIH1cbiAgfSkpKTtcbn07XG5cbnZhciBDb21wYXJpc29uTGlzdCA9IGZ1bmN0aW9uIENvbXBhcmlzb25MaXN0KF9yZWYyKSB7XG4gIHZhciBjb21wYXJpc29uU3ltYm9scyA9IF9yZWYyLmNvbXBhcmlzb25TeW1ib2xzLFxuICAgICAgYW5pbWF0ZWRQcmljZXMgPSBfcmVmMi5hbmltYXRlZFByaWNlcyxcbiAgICAgIG9uRGVsZXRlSXRlbSA9IF9yZWYyLm9uRGVsZXRlSXRlbTtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jb21wYXJpc29uXCJcbiAgfSwgY29tcGFyaXNvblN5bWJvbHMubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ29tcGFyaXNvbkxpc3RJdGVtLCB7XG4gICAgICBrZXk6IGl0ZW0uc3ltYm9sT2JqZWN0LnN5bWJvbCxcbiAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICBvbkRlbGV0ZUl0ZW06IG9uRGVsZXRlSXRlbSxcbiAgICAgIEFuaW1hdGVkUHJpY2U6IGFuaW1hdGVkUHJpY2VzW2ldXG4gICAgfSk7XG4gIH0pKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIGMgPSBfcmVmMy5jb21wYXJpc29uTGlzdDtcbiAgcmV0dXJuIHtcbiAgICBjb21wYXJpc29uU3ltYm9sczogYy5jb21wYXJpc29uU3ltYm9scyxcbiAgICBhbmltYXRlZFByaWNlczogYy5hbmltYXRlZFByaWNlcyxcbiAgICBvbkRlbGV0ZUl0ZW06IGMub25EZWxldGVJdGVtXG4gIH07XG59KShDb21wYXJpc29uTGlzdCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0Nyb3NzaGFpci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2lxX2Nyb3NzaGFpcl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1jcm9zc2hhaXIuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtY3Jvc3NoYWlyLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfY3Jvc3NoYWlyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NpcV9jcm9zc2hhaXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcblxuXG5cbnZhciBDcm9zc2hhaXIgPSBmdW5jdGlvbiBDcm9zc2hhaXIoKSB7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY3Jvc3NoYWlyXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNyb3NzaGFpci1jb250ZW50XCJcbiAgfSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDcm9zc2hhaXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0Nyb3NzaGFpclRvZ2dsZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Zvcm0uanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Gb3JtLmpzeFwiKTtcblxuXG5cblxuXG52YXIgQ3Jvc3NoYWlyVG9nZ2xlID0gZnVuY3Rpb24gQ3Jvc3NoYWlyVG9nZ2xlKF9yZWYpIHtcbiAgdmFyIHRvZ2dsZVN0YXRlID0gX3JlZi50b2dnbGVTdGF0ZSxcbiAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcbiAgdmFyIENyb3NzaGFpckljb24gPSBbX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQ3Jvc3NoYWlyT2ZmSWNvblwiXSwgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiQ3Jvc3NoYWlyT25JY29uXCJdLCBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJDcm9zc2hhaXJUb29sdGlwSWNvblwiXV1bc3RhdGVdO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1tZW51IGNxLWNyb3NzaGFpci10b2dnbGVcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbWVudS1idG5cIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiVG9nZ2xlXCJdLCB7XG4gICAgYWN0aXZlOiBzdGF0ZSAhPT0gMCxcbiAgICBvbkNoYW5nZTogdG9nZ2xlU3RhdGVcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDcm9zc2hhaXJJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLWljb24td2l0aC1zdWJcIixcbiAgICBcInRvb2x0aXAtdGl0bGVcIjogdC50cmFuc2xhdGUoJ0Nyb3NzaGFpcicpXG4gIH0pKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgY3Jvc3NoYWlyID0gX3JlZjIuY3Jvc3NoYWlyO1xuICByZXR1cm4ge1xuICAgIHRvZ2dsZVN0YXRlOiBmdW5jdGlvbiB0b2dnbGVTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBjcm9zc2hhaXIudG9nZ2xlU3RhdGUoKTtcbiAgICB9LFxuICAgIHN0YXRlOiB0eXBlb2YgY3Jvc3NoYWlyLnN0YXRlICE9PSAnbnVtYmVyJyA/IDAgOiBjcm9zc2hhaXIuc3RhdGVcbiAgfTtcbn0pKENyb3NzaGFpclRvZ2dsZSkpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9DdXJyZW50U3BvdC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9DdXJyZW50U3BvdC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuXG5cbnZhciBDdXJyZW50U3BvdCA9IGZ1bmN0aW9uIEN1cnJlbnRTcG90KCkge1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zcG90XCJcbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEN1cnJlbnRTcG90KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EaWFsb2cuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0RpYWxvZy5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9kaWFsb2dfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaXEtZGlhbG9nLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWRpYWxvZy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2lxX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaXFfZGlhbG9nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG5cblxuXG52YXIgRGlhbG9nID0gZnVuY3Rpb24gRGlhbG9nKF9yZWYpIHtcbiAgdmFyIG9wZW4gPSBfcmVmLm9wZW4sXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBvbkNvbnRhaW5lckNsaWNrID0gX3JlZi5vbkNvbnRhaW5lckNsaWNrLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGNsYXNzTmFtZSB8fCAnY3EtZGlhbG9nJywgXCIgXCIpLmNvbmNhdChvcGVuID8gJyBvcGVuJyA6ICcnKSxcbiAgICBvbkNsaWNrOiBvbkNvbnRhaW5lckNsaWNrXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoRGlhbG9nKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9EcmF3VG9vbHMuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0RyYXdUb29scy5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB0dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycyAqLyBcIi4vbm9kZV9tb2R1bGVzL3R0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB0dF9yZWFjdF9jdXN0b21fc2Nyb2xsYmFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfZHJhd190b29sc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2RyYXctdG9vbHMuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19kcmF3LXRvb2xzLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19kcmF3X3Rvb2xzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2RyYXdfdG9vbHNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcblxuXG5cblxuXG5cbnZhciBEcmF3VG9vbHMgPSBmdW5jdGlvbiBEcmF3VG9vbHMoX3JlZikge1xuICB2YXIgY2xlYXJBbGwgPSBfcmVmLmNsZWFyQWxsLFxuICAgICAgc2VsZWN0VG9vbCA9IF9yZWYuc2VsZWN0VG9vbCxcbiAgICAgIERyYXdUb29sc01lbnUgPSBfcmVmLkRyYXdUb29sc01lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWYubWVudU9wZW4sXG4gICAgICBkcmF3VG9vbHNJdGVtcyA9IF9yZWYuZHJhd1Rvb2xzSXRlbXM7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyYXdUb29sc01lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWRyYXctdG9vbHNcIixcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0RyYXcgdG9vbHMnKVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyYXdUb29sc01lbnUuVGl0bGUsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiRHJhd0ljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtaWNvbi13aXRoLXN1YiBcIi5jb25jYXQobWVudU9wZW4gPyAnYWN0aXZlJyA6ICcnKSxcbiAgICBcInRvb2x0aXAtdGl0bGVcIjogdC50cmFuc2xhdGUoJ0RyYXcgdG9vbHMnKVxuICB9KSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJhd1Rvb2xzTWVudS5Cb2R5LCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYm9keVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQodHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0LmEsIHtcbiAgICBhdXRvSGVpZ2h0OiB0cnVlLFxuICAgIGF1dG9IZWlnaHRNYXg6IDI2MCxcbiAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3RcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtZHJhdy1idXR0b25zXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWRyYXctYnV0dG9uXCIsXG4gICAgb25DbGljazogY2xlYXJBbGxcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJDbGVhckljb25cIl0sIG51bGwpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnQ2xlYXIgQWxsJykpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWRyYXctYnV0dG9uXCIsXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBzZWxlY3RUb29sKCdtZWFzdXJlJyk7XG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAvKiBUT0RPOiBtZWFzdXJlbWVudCB0b29sIGRvZXNuJ3Qgc2hvdyBtZWFzdXJlbWVudCAqL1xuXG4gICAgfVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIk1lYXN1cmVJY29uXCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdC50cmFuc2xhdGUoJ01lYXN1cmUnKSkpKSwgZHJhd1Rvb2xzSXRlbXMubWFwKGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGtleTogaXQuaWQsXG4gICAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3QtaXRlbVwiLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdFRvb2woaXQuaWQpO1xuICAgICAgfVxuICAgIH0sIGl0LnRleHQpO1xuICB9KSkpKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBkdCA9IF9yZWYyLmRyYXdUb29scztcbiAgcmV0dXJuIHtcbiAgICBjbGVhckFsbDogZHQuY2xlYXJBbGwsXG4gICAgc2VsZWN0VG9vbDogZHQuc2VsZWN0VG9vbCxcbiAgICBEcmF3VG9vbHNNZW51OiBkdC5EcmF3VG9vbHNNZW51LFxuICAgIG1lbnVPcGVuOiBkdC5tZW51Lm9wZW4sXG4gICAgZHJhd1Rvb2xzSXRlbXM6IGR0LmRyYXdUb29sc0l0ZW1zXG4gIH07XG59KShEcmF3VG9vbHMpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRHJhd2luZ0N1cnNvci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0RyYXdpbmdDdXJzb3IuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2RyYXdpbmdfY3Vyc29yX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fZHJhd2luZy1jdXJzb3Iuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19kcmF3aW5nLWN1cnNvci5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfZHJhd2luZ19jdXJzb3Jfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfZHJhd2luZ19jdXJzb3Jfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuXG5cblxuXG5cbnZhciBEcmF3aW5nQ3Vyc29yID0gZnVuY3Rpb24gRHJhd2luZ0N1cnNvcihfcmVmKSB7XG4gIHZhciBkaXNwbGF5ID0gX3JlZi5kaXNwbGF5LFxuICAgICAgbGVmdCA9IF9yZWYubGVmdCxcbiAgICAgIHRvcCA9IF9yZWYudG9wO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImRyYXdpbmctbW91c2UtcG9pbnRlclwiLFxuICAgIHN0eWxlOiB7XG4gICAgICB0b3A6IHRvcCxcbiAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICBkaXNwbGF5OiBkaXNwbGF5XG4gICAgfVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkRyYXdpbmdDdXJzb3JJY29uXCJdLCBudWxsKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBkYyA9IF9yZWYyLmRyYXdpbmdDdXJzb3I7XG4gIHJldHVybiB7XG4gICAgdG9wOiBkYy50b3AsXG4gICAgbGVmdDogZGMubGVmdCxcbiAgICBkaXNwbGF5OiBkYy5kaXNwbGF5XG4gIH07XG59KShEcmF3aW5nQ3Vyc29yKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRmFzdE1hcmtlci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0Zhc3RNYXJrZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cbiAvLyBSZW5kZXIgZ2l2ZW4gQ29tcG9uZW50cyB1bmRlciBzdHgtc3ViaG9sZGVyLlxuLy8gVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBwb3NpdGlvbiBhIG1hcmtlciBvbiB0aGUgY2hhcnQuXG4vL1xuLy8gVVNBR0U6XG4vL1xuLy8gIC0gc2V0UmVmKHtzZXRQb3NpdGlvbiwgZGl2fSkgd2lsbCBiZSBjYWxsZWQgb24gbW91bnQuXG4vLyAgLSBcImRpdlwiIGlzIHRoZSBkb20gZWxlbWVudCBjb250YWluaW5nIHRoZSBtYXJrZXIgd2l0aCBcInlvdXItY3NzLWNsYXNzXCJcbi8vICAtIFwic2V0UG9zaXRpb24oe2Vwb2NoLCBwcmljZX0pXCIgaXMgYSBmdW5jdGlvbiB0aGF0IHlvdSB3aWxsIHVzZSB0byB1cGRhdGUgdGhlIGRpdiBwb3NpdGlvbi5cbi8vICAtIGNhbGxpbmcgXCJzZXRQb3NpdGlvbih7ZXBvY2g6IG51bGwsIHByaWNlOiBudWxsfSlcIiB3aWxsIGhpZGUgdGhlIG1hcmtlci5cbi8vICAtIHVzZSBcImRpdi5xdWVyeVNlbGVjdG9yKCcuLi4nKVwiIHRvIGdldCBhIGRvbSByZWZlcmVuY2UgaW4gb3JkZXIgdG8gdXBkYXRlIHlvdXIgY29udGVudCAuXG4vLyAgLSBcInNldFJlZihudWxsKVwiIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIG1hcmtlciB1bm1vdW50cy5cbi8vXG4vLyAgPEZhc3RNYXJrZXJcbi8vICAgICAgbWFya2VyUmVmPXtzZXRSZWZ9XG4vLyAgICAgIHRocmVzaG9sZD17b3B0aW9uYWwgdmlzaWJpbGl0eSB0aHJlc2hvbGR9XG4vLyAgICAgIGNsYXNzTmFtZT1cInlvdXItY3NzLWNsYXNzXCJcbi8vICA+XG4vLyAgICAgPHlvdXIgY29udGVudCBoZXJlLz5cbi8vICA8L0Zhc3RNYXJrZXI+XG4vL1xuLy8gIC0gdGhlIGNoYXJ0IGNhbiBoYXZlIGEgem9vbSBsZXZlbCwgaWYgYHRocmVzaG9sZGAgaXMgcHJvdmlkZWRcbi8vICAgIHRoZSBtYXJrZXIgd2lsbCBvbmx5IGJlIHNob3duIGlmIGl0J3Mgd2l0aGluIHRoYXQgem9vbSB0aHJlc2hvbGQuXG5cbnZhciBGYXN0TWFya2VyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhGYXN0TWFya2VyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBGYXN0TWFya2VyKCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhc3RNYXJrZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoRmFzdE1hcmtlcikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuICAgIF90aGlzLnByaWNlID0gbnVsbDtcbiAgICBfdGhpcy5kYXRlID0gbnVsbDtcbiAgICBfdGhpcy5lbGVtID0gbnVsbDtcbiAgICBfdGhpcy5jdHggPSBudWxsO1xuICAgIF90aGlzLnN0eCA9IG51bGw7XG4gICAgX3RoaXMuaW5qZWN0aW9uSWQgPSBudWxsO1xuXG4gICAgX3RoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGVwb2NoID0gX3JlZi5lcG9jaCxcbiAgICAgICAgICBwcmljZSA9IF9yZWYucHJpY2U7XG4gICAgICBfdGhpcy5wcmljZSA9ICtwcmljZTtcbiAgICAgIF90aGlzLmRhdGUgPSBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRVVENEYXRlXCJdKShlcG9jaCkpO1xuXG4gICAgICBfdGhpcy51cGRhdGVDU1MoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMudXBkYXRlQ1NTID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5lbGVtIHx8ICFfdGhpcy5jdHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLmRhdGUpIHtcbiAgICAgICAgX3RoaXMuZWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW0gPSBfdGhpcy5lbGVtO1xuICAgICAgdmFyIHN0eCA9IF90aGlzLnN0eDtcbiAgICAgIHZhciBjaGFydCA9IHN0eC5jaGFydDtcbiAgICAgIHZhciB0b3AgPSAwLFxuICAgICAgICAgIGxlZnQgPSAwLFxuICAgICAgICAgIHNob3cgPSB0cnVlO1xuICAgICAgdmFyIHRocmVzaG9sZCA9ICtfdGhpcy5wcm9wcy50aHJlc2hvbGQgfHwgMDtcbiAgICAgIHNob3cgPSAhdGhyZXNob2xkIHx8IHN0eC5sYXlvdXQuY2FuZGxlV2lkdGggPj0gdGhyZXNob2xkO1xuXG4gICAgICBpZiAoc2hvdyAmJiBjaGFydC5kYXRhU2V0ICYmIGNoYXJ0LmRhdGFTZXQubGVuZ3RoICYmIHN0eC5tYWluU2VyaWVzUmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHRpY2tfaWR4ID0gc3R4LnRpY2tGcm9tRGF0ZShfdGhpcy5kYXRlLCBjaGFydCk7XG4gICAgICAgIHZhciB4ID0gc3R4LnBpeGVsRnJvbVRpY2sodGlja19pZHgsIGNoYXJ0KTsgLy8gQ2hhcnRJUSBkb2Vzbid0IHN1cHBvcnQgcGxhY2luZyBtYXJrZXJzIGluIHRoZSBtaWRkbGUgb2YgdGlja3MuXG5cbiAgICAgICAgdmFyIGJhcl9pZHggPSB0aWNrX2lkeCAtIGNoYXJ0LmRhdGFTZXQubGVuZ3RoICsgY2hhcnQuc2Nyb2xsO1xuICAgICAgICB2YXIgYmFyID0gY2hhcnQuZGF0YVNlZ21lbnRbYmFyX2lkeF07IC8vIEhlcmUgd2UgaW50ZXJwb2xhdGUgdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdHdvIGFkamFjZW50IHRpY2tzLlxuXG4gICAgICAgIGlmIChiYXIgJiYgYmFyLkRUIDwgX3RoaXMuZGF0ZSkge1xuICAgICAgICAgIHZhciBiYXJfbmV4dCA9IGNoYXJ0LmRhdGFTZWdtZW50W2Jhcl9pZHggKyAxXTtcbiAgICAgICAgICB2YXIgYmFyX3ByZXYgPSBiYXJfaWR4ID4gMCA/IGNoYXJ0LmRhdGFTZWdtZW50W2Jhcl9pZHggLSAxXSA6IG51bGw7XG5cbiAgICAgICAgICBpZiAoYmFyX25leHQgJiYgYmFyX25leHQuQ2xvc2UgJiYgYmFyX25leHQuRFQgPiBfdGhpcy5kYXRlKSB7XG4gICAgICAgICAgICB2YXIgcGl4ZWx4X3RvX25leHRfYmFyID0gc3R4LnBpeGVsRnJvbVRpY2sodGlja19pZHggKyAxLCBjaGFydCkgLSB4O1xuICAgICAgICAgICAgeCArPSAoX3RoaXMuZGF0ZSAtIGJhci5EVCkgLyAoYmFyX25leHQuRFQgLSBiYXIuRFQpICogcGl4ZWx4X3RvX25leHRfYmFyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYmFyX3ByZXYgJiYgYmFyX3ByZXYuQ2xvc2UpIHtcbiAgICAgICAgICAgIHZhciBwaXhlbHhfZnJvbV9wcmV2X2JhciA9IHggLSBzdHgucGl4ZWxGcm9tVGljayh0aWNrX2lkeCAtIDEsIGNoYXJ0KTtcbiAgICAgICAgICAgIHggKz0gKF90aGlzLmRhdGUgLSBiYXIuRFQpIC8gKGJhci5EVCAtIGJhcl9wcmV2LkRUKSAqIHBpeGVseF9mcm9tX3ByZXZfYmFyO1xuICAgICAgICAgIH0gLy8gV2UgZG9uJ3Qgd2FudCB0byB0b3VjaCBtYXN0ZXIgZGF0YSBvbiBtYXJrZXIgZHJhdy5cbiAgICAgICAgICAvLyBIb3dldmVyIG91ciBkZXNpZ24gcmVxdWlyZXMgYSB0b29sdGlwIG9uIHN0YXJ0IHRpbWUgbWFya2VyLFxuICAgICAgICAgIC8vIGFuZCBjcm9zc2hhaXIgZ2V0cyB0aGUgdG9vbHRpcCBmcm9tIG1hc3RlciBkYXRhXG4gICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoZSBmb2xsb3dpbmcgaGFjay5cblxuXG4gICAgICAgICAgc3R4LnVwZGF0ZUNoYXJ0RGF0YSh7XG4gICAgICAgICAgICBEVDogX3RoaXMuZGF0ZSxcbiAgICAgICAgICAgIENsb3NlOiBudWxsXG4gICAgICAgICAgfSwgbnVsbCwge1xuICAgICAgICAgICAgZmlsbEdhcHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdHguY3JlYXRlRGF0YVNldCgpOyAvLyBlbmQgVE9ET1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHkgPSBfdGhpcy5wcmljZSA/IHN0eC5waXhlbEZyb21QcmljZShfdGhpcy5wcmljZSwgY2hhcnQucGFuZWwpIDogMDtcblxuICAgICAgICBpZiAoY2hhcnQueUF4aXMubGVmdCA+IHggJiYgY2hhcnQueUF4aXMudG9wIDw9IHkgJiYgY2hhcnQueUF4aXMuYm90dG9tID49IHkpIHtcbiAgICAgICAgICB0b3AgPSAreTtcbiAgICAgICAgICBsZWZ0ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG93ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gcGF0Y2ggRE9NIHdpdGhvdXQgdHJpZ2dlcmluZyByZWNhbGN1bGF0ZSBsYXlvdXQuXG5cblxuICAgICAgZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCwgXCIpLmNvbmNhdCh0b3AsIFwicHgpXCIpO1xuICAgICAgZWxlbS5zdHlsZS52aXNpYmlsaXR5ID0gc2hvdyA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nO1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5lbGVtID0gcmVmO1xuICAgICAgdmFyIGRhdGEgPSByZWYgPyB7XG4gICAgICAgIGRpdjogcmVmLFxuICAgICAgICBzZXRQb3NpdGlvbjogX3RoaXMuc2V0UG9zaXRpb25cbiAgICAgIH0gOiBudWxsO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMubWFya2VyUmVmKSB7XG4gICAgICAgIF90aGlzLnByb3BzLm1hcmtlclJlZihkYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgY29udGV4dFByb21pc2UgPSBfdGhpcy5wcm9wcy5jb250ZXh0UHJvbWlzZTtcbiAgICAgICAgY29udGV4dFByb21pc2UudGhlbihmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgICAgX3RoaXMuY3R4ID0gY3R4O1xuICAgICAgICAgIF90aGlzLnN0eCA9IF90aGlzLmN0eC5zdHg7XG4gICAgICAgICAgX3RoaXMuaW5qZWN0aW9uSWQgPSBfdGhpcy5zdHguYXBwZW5kKCdkcmF3JywgX3RoaXMudXBkYXRlQ1NTKTtcblxuICAgICAgICAgIF90aGlzLnVwZGF0ZUNTUygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuaW5qZWN0aW9uSWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBpbmplY3Rpb24gb24gdW5tb3VudFxuICAgICAgICBfdGhpcy5zdHgucmVtb3ZlSW5qZWN0aW9uKF90aGlzLmluamVjdGlvbklkKTtcblxuICAgICAgICBfdGhpcy5jdHggPSBudWxsO1xuICAgICAgICBfdGhpcy5zdHggPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmFzdE1hcmtlciwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW47XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICByZWY6IHRoaXMuc2V0UmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICAgIH1cbiAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmFzdE1hcmtlcjtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkNvbXBvbmVudFwiXSk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZjIuY2hhcnQ7XG4gIHJldHVybiB7XG4gICAgY29udGV4dFByb21pc2U6IGNoYXJ0LmNvbnRleHRQcm9taXNlXG4gIH07XG59KShGYXN0TWFya2VyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvRmF2b3JpdGUuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvRmF2b3JpdGUuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9GYXZvcml0ZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9GYXZvcml0ZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvRmF2b3JpdGVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG5cbnZhciBGYXZvcml0ZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRmF2b3JpdGUsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZhdm9yaXRlKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhdm9yaXRlKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEZhdm9yaXRlKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXMuc3RvcmUgPSBfc3RvcmVfRmF2b3JpdGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXS5nZXRJbnN0YW5jZSgpO1xuXG4gICAgX3RoaXMub25GYXZvcml0ZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNhdGVnb3J5ID0gX3RoaXMkcHJvcHMuY2F0ZWdvcnksXG4gICAgICAgICAgaWQgPSBfdGhpcyRwcm9wcy5pZDtcblxuICAgICAgdmFyIGlzRmF2b3JpdGUgPSBfdGhpcy5pc0Zhdm9yaXRlKGNhdGVnb3J5LCBpZCk7XG5cbiAgICAgIGlmIChpc0Zhdm9yaXRlICE9PSBfdGhpcy5zdGF0ZS5pc0Zhdm9yaXRlKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Zhdm9yaXRlOiBpc0Zhdm9yaXRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2F0ZWdvcmljYWxEaXNwbGF5LCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxvZ0FjdGlvbnNcIl0uRmF2b3JpdGUsIFwiXCIuY29uY2F0KGlzRmF2b3JpdGUgPyAnQWRkICcgOiAnUmVtb3ZlICcsIFwiIFwiKS5jb25jYXQoaWQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMub25DbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5uYXRpdmVFdmVudC5pc0hhbmRsZWRCeURpYWxvZyA9IHRydWU7IC8vIHByZXZlbnQgY2xvc2UgZGlhbG9nXG5cbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYXRlZ29yeSA9IF90aGlzJHByb3BzMi5jYXRlZ29yeSxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzMi5pZDtcblxuICAgICAgX3RoaXMudG9nZ2xlRmF2b3JpdGUoY2F0ZWdvcnksIGlkKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3RvcmUub25GYXZvcml0ZVVwZGF0ZShfdGhpcy5vbkZhdm9yaXRlVXBkYXRlKTtcblxuICAgIF90aGlzLmlzRmF2b3JpdGUgPSBfdGhpcy5zdG9yZS5pc0Zhdm9yaXRlO1xuICAgIF90aGlzLnRvZ2dsZUZhdm9yaXRlID0gX3RoaXMuc3RvcmUudG9nZ2xlRmF2b3JpdGU7XG4gICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICBfY2F0ZWdvcnkgPSBfdGhpcyRwcm9wczMuY2F0ZWdvcnksXG4gICAgICAgIF9pZCA9IF90aGlzJHByb3BzMy5pZDtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRmF2b3JpdGU6IF90aGlzLmlzRmF2b3JpdGUoX2NhdGVnb3J5LCBfaWQpXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmF2b3JpdGUsIFt7XG4gICAga2V5OiBcInNob3VsZENvbXBvbmVudFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmlzRmF2b3JpdGUgIT09IG5leHRTdGF0ZS5pc0Zhdm9yaXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuc3RvcmUub2ZmRmF2b3JpdGVVcGRhdGUodGhpcy5vbkZhdm9yaXRlVXBkYXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhdGVnb3J5ID0gX3RoaXMkcHJvcHM0LmNhdGVnb3J5LFxuICAgICAgICAgIGlkID0gX3RoaXMkcHJvcHM0LmlkO1xuICAgICAgdmFyIGlzRmF2b3JpdGUgPSB0aGlzLnN0YXRlLmlzRmF2b3JpdGU7XG4gICAgICBpZiAoIWNhdGVnb3J5IHx8ICFpZCkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGYXZvcml0ZUljb25cIl0sIHtcbiAgICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2lxLWZhdm9yaXRlIFwiLmNvbmNhdChpc0Zhdm9yaXRlID8gJ2NpcS1hY3RpdmUtZmF2b3JpdGUnIDogJycpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmF2b3JpdGU7XG59KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDb21wb25lbnRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEZhdm9yaXRlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Gb3JtLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvRm9ybS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBTbGlkZXIsIERyb3BEb3duLCBQYXR0ZXJuLCBDb2xvclBpY2tlciwgU3dpdGNoLCBOdW1lcmljSW5wdXQsIE51bWJlckNvbG9yUGlja2VyLCBUb2dnbGUsIEZvbnRTZXR0aW5nICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNsaWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNsaWRlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJvcERvd25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEcm9wRG93bjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUGF0dGVyblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFBhdHRlcm47IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNvbG9yUGlja2VyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ29sb3JQaWNrZXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN3aXRjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFN3aXRjaDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTnVtZXJpY0lucHV0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTnVtZXJpY0lucHV0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJOdW1iZXJDb2xvclBpY2tlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE51bWJlckNvbG9yUGlja2VyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUb2dnbGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUb2dnbGU7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkZvbnRTZXR0aW5nXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRm9udFNldHRpbmc7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9mb3JtX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fY2lxLWZvcm0uc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtZm9ybS5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2lxX2Zvcm1fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfY2lxX2Zvcm1fc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3NvcnQtY29tcCxyZWFjdC9uby1tdWx0aS1jb21wICovXG5cblxuXG52YXIgU2xpZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTbGlkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNsaWRlcigpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTbGlkZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoU2xpZGVyKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHZhbC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNsaWRlciwgW3tcbiAgICBrZXk6IFwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnZhbHVlICE9PSBuZXh0UHJvcHMudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIF90aGlzJHByb3BzJG1pbiA9IF90aGlzJHByb3BzLm1pbixcbiAgICAgICAgICBtaW4gPSBfdGhpcyRwcm9wcyRtaW4gPT09IHZvaWQgMCA/IDEgOiBfdGhpcyRwcm9wcyRtaW4sXG4gICAgICAgICAgX3RoaXMkcHJvcHMkbWF4ID0gX3RoaXMkcHJvcHMubWF4LFxuICAgICAgICAgIG1heCA9IF90aGlzJHByb3BzJG1heCA9PT0gdm9pZCAwID8gMTAgOiBfdGhpcyRwcm9wcyRtYXgsXG4gICAgICAgICAgX3RoaXMkcHJvcHMkc3RlcCA9IF90aGlzJHByb3BzLnN0ZXAsXG4gICAgICAgICAgc3RlcCA9IF90aGlzJHByb3BzJHN0ZXAgPT09IHZvaWQgMCA/IDEgOiBfdGhpcyRwcm9wcyRzdGVwLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMudmFsdWU7XG4gICAgICB2YXIgYmFyV2lkdGggPSAxMjA7IC8vIGNzcyBoYXJkY29kZVxuXG4gICAgICB2YXIgYWN0aXZlV2lkdGggPSBNYXRoLnJvdW5kKGJhcldpZHRoICogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pKTtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLXNsaWRlclwiXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLXNsaWRlci1yYW5nZVwiXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLXNsaWRlci1iYXJcIlxuICAgICAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3Etc2xpZGVyLWFjdGl2ZS1iYXJcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB3aWR0aDogYWN0aXZlV2lkdGhcbiAgICAgICAgfVxuICAgICAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHR5cGU6IFwicmFuZ2VcIixcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICBzdGVwOiBzdGVwLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidmFsdWVcIlxuICAgICAgfSwgdmFsdWUpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2xpZGVyO1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5Db21wb25lbnQpO1xudmFyIERyb3BEb3duID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50Mikge1xuICBfaW5oZXJpdHMoRHJvcERvd24sIF9SZWFjdCRDb21wb25lbnQyKTtcblxuICBmdW5jdGlvbiBEcm9wRG93bigpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMztcblxuICAgIHZhciBfdGhpczI7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJvcERvd24pO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjMgPSBfZ2V0UHJvdG90eXBlT2YoRHJvcERvd24pKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjMsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcbiAgICBfdGhpczIuc3RhdGUgPSB7XG4gICAgICBvcGVuOiBmYWxzZVxuICAgIH07XG4gICAgX3RoaXMyLnRpdGxlUmVmID0gbnVsbDtcblxuICAgIF90aGlzMi5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgb3BlbjogIXByZXZTdGF0ZS5vcGVuXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMyLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gX3RoaXMyLnRpdGxlUmVmKSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpczI7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRHJvcERvd24sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICByb3dzID0gX3RoaXMkcHJvcHMyLnJvd3MsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9wczIudGl0bGUsXG4gICAgICAgICAgb25Sb3dDbGljayA9IF90aGlzJHByb3BzMi5vblJvd0NsaWNrLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMi5jbGFzc05hbWU7XG4gICAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChjbGFzc05hbWUgfHwgJycsIFwiIGNxLWRyb3Bkb3duXCIpXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInRpdGxlIFwiLmNvbmNhdChvcGVuID8gJ2FjdGl2ZScgOiAnJyksXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGljayxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIF90aGlzMy50aXRsZVJlZiA9IF9yZWY7XG4gICAgICAgIH1cbiAgICAgIH0sIHRpdGxlLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkFycm93SWNvblwiXSwgbnVsbCkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImRyb3Bkb3duIFwiLmNvbmNhdChvcGVuID8gJ2FjdGl2ZScgOiAnJylcbiAgICAgIH0sIHJvd3MubWFwKGZ1bmN0aW9uIChyb3csIGlkeCkge1xuICAgICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiBpZHggLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICAgICAsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJvd1wiLFxuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gb25Sb3dDbGljayAmJiBvblJvd0NsaWNrKHJvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBjaGlsZHJlbihyb3cpKTtcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERyb3BEb3duO1xufShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5Db21wb25lbnQpO1xudmFyIFBhdHRlcm4gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQzKSB7XG4gIF9pbmhlcml0cyhQYXR0ZXJuLCBfUmVhY3QkQ29tcG9uZW50Myk7XG5cbiAgZnVuY3Rpb24gUGF0dGVybigpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mNDtcblxuICAgIHZhciBfdGhpczQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF0dGVybik7XG5cbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICBfdGhpczQgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mNCA9IF9nZXRQcm90b3R5cGVPZihQYXR0ZXJuKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2Y0LCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG4gICAgX3RoaXM0LnBhdHRlcm5zID0gW3tcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgcGF0dGVybjogJ3NvbGlkJ1xuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAzLFxuICAgICAgcGF0dGVybjogJ3NvbGlkJ1xuICAgIH0sIHtcbiAgICAgIHdpZHRoOiA1LFxuICAgICAgcGF0dGVybjogJ3NvbGlkJ1xuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgcGF0dGVybjogJ2RvdHRlZCdcbiAgICB9LCB7XG4gICAgICB3aWR0aDogMyxcbiAgICAgIHBhdHRlcm46ICdkb3R0ZWQnXG4gICAgfSwge1xuICAgICAgd2lkdGg6IDUsXG4gICAgICBwYXR0ZXJuOiAnZG90dGVkJ1xuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgcGF0dGVybjogJ2Rhc2hlZCdcbiAgICB9LCB7XG4gICAgICB3aWR0aDogMyxcbiAgICAgIHBhdHRlcm46ICdkYXNoZWQnXG4gICAgfSwge1xuICAgICAgd2lkdGg6IDUsXG4gICAgICBwYXR0ZXJuOiAnZGFzaGVkJ1xuICAgIH0sIHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgcGF0dGVybjogJ25vbmUnXG4gICAgfV07XG4gICAgcmV0dXJuIF90aGlzNDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYXR0ZXJuLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcGF0dGVybiA9IF90aGlzJHByb3BzMy5wYXR0ZXJuLFxuICAgICAgICAgIGxpbmVXaWR0aCA9IF90aGlzJHByb3BzMy5saW5lV2lkdGgsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfdGhpcyRwcm9wczMub25DaGFuZ2U7XG4gICAgICB2YXIgdGl0bGUgPSBwYXR0ZXJuICE9PSAnbm9uZScgPyByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJvcHRpb24gXCIuY29uY2F0KHBhdHRlcm4sIFwiLVwiKS5jb25jYXQobGluZVdpZHRoKVxuICAgICAgfSkgOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub25lXCJcbiAgICAgIH0sIFwiTm9uZVwiKTtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyb3BEb3duLCB7XG4gICAgICAgIHJvd3M6IHRoaXMucGF0dGVybnMsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgb25Sb3dDbGljazogb25DaGFuZ2VcbiAgICAgIH0sIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiBwLnBhdHRlcm4gIT09ICdub25lJyA/IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9uIFwiLmNvbmNhdChwLnBhdHRlcm4sIFwiLVwiKS5jb25jYXQocC53aWR0aClcbiAgICAgICAgfSkgOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm5vbmVcIlxuICAgICAgICB9LCBcIk5vbmVcIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGF0dGVybjtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcbnZhciBDb2xvclBpY2tlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudDQpIHtcbiAgX2luaGVyaXRzKENvbG9yUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50NCk7XG5cbiAgZnVuY3Rpb24gQ29sb3JQaWNrZXIoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjU7XG5cbiAgICB2YXIgX3RoaXM1O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yUGlja2VyKTtcblxuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIF90aGlzNSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2Y1ID0gX2dldFByb3RvdHlwZU9mKENvbG9yUGlja2VyKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2Y1LCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG4gICAgX3RoaXM1LmNvbG9yTWFwID0gW1snI2ZmZmZmZicsICcjZTFlMWUxJywgJyNjY2NjY2MnLCAnI2I3YjdiNycsICcjYTBhMGE1JywgJyM4OTg5ODknLCAnIzcwNzA3MCcsICcjNjI2MjYyJywgJyM1NTU1NTUnLCAnIzQ2NDY0NicsICcjMzYzNjM2JywgJyMyNjI2MjYnLCAnIzFkMWQxZCcsICcjMDAwMDAwJ10sIFsnI2Y0OTc3YycsICcjZjdhYzg0JywgJyNmYmM1OGQnLCAnI2ZmZjY5ZScsICcjYzRkZTllJywgJyM4NWM5OWUnLCAnIzdmY2RjNycsICcjNzVkMGY0JywgJyM4MWE4ZDcnLCAnIzg1OTRjOCcsICcjODk4M2JjJywgJyNhMTg3YmQnLCAnI2JiOGRiZScsICcjZjI5YmMxJ10sIFsnI2VmNmM1MycsICcjZjM4ZDViJywgJyNmOGFlNjMnLCAnI2ZmZjM3MScsICcjYWNkMjc3JywgJyM0M2I3N2EnLCAnIzJlYmJiMycsICcjMDBiZmYwJywgJyM0YThkYzgnLCAnIzU4NzViNycsICcjNjI1ZGE2JywgJyM4NTYxYTcnLCAnI2E2NjVhNycsICcjZWU2ZmE5J10sIFsnI2VhMWQyYycsICcjZWU2NTJlJywgJyNmNDkzMmYnLCAnI2ZmZjEyNicsICcjOGVjNjQ4JywgJyMwMGE1NTMnLCAnIzAwYTk5YycsICcjMDBhZmVkJywgJyMwMDczYmEnLCAnIzAwNTZhNCcsICcjMzIzMzkwJywgJyM2NjMwOGYnLCAnIzkxMmE4ZScsICcjZTkwODhjJ10sIFsnIzliMGIxNicsICcjOWU0MTE3JywgJyNhMTYxMTgnLCAnI2M2YjkyMCcsICcjNWE4NTJkJywgJyMwMDcyMzgnLCAnIzAwNzQ2YScsICcjMDA3N2ExJywgJyMwMDRjN2YnLCAnIzAwMzU3MCcsICcjMWQxNzYyJywgJyM0NDEyNjEnLCAnIzYyMDk1ZicsICcjOWMwMDVkJ10sIFsnIzc3MDAwMScsICcjNzkyZTAzJywgJyM3YjQ5MDYnLCAnIzgxN2EwYicsICcjNDE2NjFlJywgJyMwMDU4MjcnLCAnIzAwNTk1MScsICcjMDAzYjVjJywgJyMwMDFkNDAnLCAnIzAwMGUzNScsICcjMDQwMDJjJywgJyMxOTAwMmInLCAnIzJjMDAyYScsICcjNTgwMDI4J11dO1xuICAgIF90aGlzNS5zdGF0ZSA9IHtcbiAgICAgIG9wZW46IGZhbHNlXG4gICAgfTtcbiAgICBfdGhpczUudGl0bGVSZWYgPSBudWxsO1xuXG4gICAgX3RoaXM1Lm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM1LnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBvcGVuOiAhcHJldlN0YXRlLm9wZW5cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpczUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ICE9PSBfdGhpczUudGl0bGVSZWYpIHtcbiAgICAgICAgX3RoaXM1LnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzNTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb2xvclBpY2tlciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UsIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5vcGVuICE9PSBuZXh0U3RhdGUub3BlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2xvciA9IF90aGlzJHByb3BzNC5jb2xvcixcbiAgICAgICAgICBzZXRDb2xvciA9IF90aGlzJHByb3BzNC5zZXRDb2xvcjtcbiAgICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciA9PT0gJ2F1dG8nID8gJyMwMDAwMDAnIDogY29sb3I7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1jb2xvci1waWNrZXJcIlxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYyKSB7XG4gICAgICAgICAgX3RoaXM2LnRpdGxlUmVmID0gX3JlZjI7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGlja1xuICAgICAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiZHJvcGRvd24gXCIuY29uY2F0KHRoaXMuc3RhdGUub3BlbiA/ICdvcGVuJyA6ICcnKVxuICAgICAgfSwgdGhpcy5jb2xvck1hcC5tYXAoZnVuY3Rpb24gKHJvdywgcm93SWR4KSB7XG4gICAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBrZXk6IHJvd0lkeFxuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5ICovXG4gICAgICAgICAgLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJyb3dcIlxuICAgICAgICB9LCByb3cubWFwKGZ1bmN0aW9uICh0aWxlQ29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBrZXk6IHRpbGVDb2xvcixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ0aWxlLWNvbG9yXCIsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRpbGVDb2xvclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRDb2xvcih0aWxlQ29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xvclBpY2tlcjtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcbnZhciBTd2l0Y2ggPSBmdW5jdGlvbiBTd2l0Y2goX3JlZjMpIHtcbiAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWYzLm9uQ2hhbmdlO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXN3aXRjaCBcIi5jb25jYXQodmFsdWUgPyAnb24nIDogJ29mZicpLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25DaGFuZ2UoIXZhbHVlKTtcbiAgICB9XG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJoYW5kbGVcIlxuICB9KSk7XG59OyAvLyBOdW1lcmljSW5wdXQgZmlyZXMgb25DaGFuZ2Ugb24gRW50ZXIgb3Igb25CbHVyXG5cbnZhciBOdW1lcmljSW5wdXQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQ1KSB7XG4gIF9pbmhlcml0cyhOdW1lcmljSW5wdXQsIF9SZWFjdCRDb21wb25lbnQ1KTtcblxuICBmdW5jdGlvbiBOdW1lcmljSW5wdXQoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjY7XG5cbiAgICB2YXIgX3RoaXM3O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWVyaWNJbnB1dCk7XG5cbiAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgIGFyZ3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICB9XG5cbiAgICBfdGhpczcgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mNiA9IF9nZXRQcm90b3R5cGVPZihOdW1lcmljSW5wdXQpKS5jYWxsLmFwcGx5KF9nZXRQcm90b3R5cGVPZjYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcbiAgICBfdGhpczcuc3RhdGUgPSB7fTtcblxuICAgIF90aGlzNy5maXJlT25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXM3JHByb3BzID0gX3RoaXM3LnByb3BzLFxuICAgICAgICAgIG1pbiA9IF90aGlzNyRwcm9wcy5taW4sXG4gICAgICAgICAgbWF4ID0gX3RoaXM3JHByb3BzLm1heCxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzNyRwcm9wcy5vbkNoYW5nZTtcblxuICAgICAgdmFyIHNldEFuZENoYW5nZSA9IGZ1bmN0aW9uIHNldEFuZENoYW5nZSh2YWwpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsdWU6IHZhbFxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKF90aGlzNy5zdGF0ZS52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKG1heCAhPT0gdW5kZWZpbmVkICYmIF90aGlzNy5zdGF0ZS52YWx1ZSA+IG1heCkge1xuICAgICAgICBzZXRBbmRDaGFuZ2UobWF4KTtcbiAgICAgIH0gZWxzZSBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgX3RoaXM3LnN0YXRlLnZhbHVlIDwgbWluKSB7XG4gICAgICAgIHNldEFuZENoYW5nZShtaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25DaGFuZ2UoX3RoaXM3LnN0YXRlLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXM3Lm9uVXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXM3LnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IGUudGFyZ2V0LnZhbHVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXM3LmZpcmVPbkVudGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBfdGhpczcuZmlyZU9uQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpczc7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTnVtZXJpY0lucHV0LCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcmlnaW5hbFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBuZXdQcm9wcy52YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnN0YXRlLm9yaWdpbmFsVmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3JpZ2luYWxWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0sIHRoaXMuZmlyZU9uQ2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmFsdWUgIT09IG5leHRTdGF0ZS52YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1pbiA9IF90aGlzJHByb3BzNS5taW4sXG4gICAgICAgICAgbWF4ID0gX3RoaXMkcHJvcHM1Lm1heCxcbiAgICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHM1LnN0ZXA7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUudmFsdWUsXG4gICAgICAgIG9uQmx1cjogdGhpcy5maXJlT25DaGFuZ2UsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uVXBkYXRlVmFsdWUsXG4gICAgICAgIG9uS2V5UHJlc3M6IHRoaXMuZmlyZU9uRW50ZXIsXG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgc3RlcDogc3RlcFxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE51bWVyaWNJbnB1dDtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcbnZhciBOdW1iZXJDb2xvclBpY2tlciA9IGZ1bmN0aW9uIE51bWJlckNvbG9yUGlja2VyKF9yZWY0KSB7XG4gIHZhciB2YWx1ZSA9IF9yZWY0LnZhbHVlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmNC5vbkNoYW5nZTtcbiAgLy8gRG8gTk9UIHJlbmFtZSB0aGUgdmFyaWFibGVzIFZhbHVlIGFuZCBDb2xvciEgVGhlIGtleXMgYXJlIGFsc29cbiAgLy8gdXNlZCBhcyBhdHRyaWJ1dGUgc3VmZml4ZXNcbiAgdmFyIFZhbHVlID0gdmFsdWUuVmFsdWUsXG4gICAgICBDb2xvciA9IHZhbHVlLkNvbG9yO1xuXG4gIHZhciBvblZhbHVlQ2hhbmdlID0gZnVuY3Rpb24gb25WYWx1ZUNoYW5nZSh2KSB7XG4gICAgcmV0dXJuIG9uQ2hhbmdlKHtcbiAgICAgIENvbG9yOiBDb2xvcixcbiAgICAgIFZhbHVlOiB2XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uQ29sb3JDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbG9yQ2hhbmdlKGMpIHtcbiAgICByZXR1cm4gb25DaGFuZ2Uoe1xuICAgICAgQ29sb3I6IGMsXG4gICAgICBWYWx1ZTogVmFsdWVcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1udW1iZXJjb2xvcnBpY2tlclwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoTnVtZXJpY0lucHV0LCB7XG4gICAgdmFsdWU6IFZhbHVlLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHtcbiAgICAgIHJldHVybiBvblZhbHVlQ2hhbmdlKHZhbCk7XG4gICAgfVxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChDb2xvclBpY2tlciwge1xuICAgIGNvbG9yOiBDb2xvcixcbiAgICBzZXRDb2xvcjogZnVuY3Rpb24gc2V0Q29sb3IodmFsKSB7XG4gICAgICByZXR1cm4gb25Db2xvckNoYW5nZSh2YWwpO1xuICAgIH1cbiAgfSkpO1xufTtcbnZhciBUb2dnbGUgPSBmdW5jdGlvbiBUb2dnbGUoX3JlZjUpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IF9yZWY1LmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZjUuY2hpbGRyZW4sXG4gICAgICBhY3RpdmUgPSBfcmVmNS5hY3RpdmUsXG4gICAgICBvbkNoYW5nZSA9IF9yZWY1Lm9uQ2hhbmdlO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBvbkNoYW5nZSghYWN0aXZlKTtcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoY2xhc3NOYW1lIHx8ICcnLCBcIiBcIikuY29uY2F0KGFjdGl2ZSA/ICdhY3RpdmUnIDogJycsIFwiIGNxLXRvZ2dsZVwiKVxuICB9LCBjaGlsZHJlbik7XG59O1xudmFyIEZvbnRTZXR0aW5nID0gZnVuY3Rpb24gRm9udFNldHRpbmcoX3JlZjYpIHtcbiAgdmFyIG9uQ2hhbmdlID0gX3JlZjYub25DaGFuZ2UsXG4gICAgICB2YWx1ZSA9IF9yZWY2LnZhbHVlO1xuICB2YXIgZmFtaWxpZXMgPSBbJ0RlZmF1bHQnLCAnSGVsdmV0aWNhJywgJ0NvdXJpZXInLCAnR2FyYW1vbmQnLCAnUGFsYXRpbm8nLCAnVGltZXMgTmV3IFJvbWFuJ107XG4gIHZhciBmb250U2l6ZXMgPSBbOCwgMTAsIDEyLCAxMywgMTQsIDE2LCAyMCwgMjgsIDM2LCA0OCwgNjRdO1xuXG4gIHZhciBmaXJlQ2hhbmdlID0gZnVuY3Rpb24gZmlyZUNoYW5nZShjaGFuZ2UpIHtcbiAgICByZXR1cm4gb25DaGFuZ2UoX29iamVjdFNwcmVhZCh7fSwgdmFsdWUsIGNoYW5nZSkpO1xuICB9O1xuXG4gIHZhciBvbkZvbnRGYW1pbHlDaGFuZ2UgPSBmdW5jdGlvbiBvbkZvbnRGYW1pbHlDaGFuZ2UoZmFtaWx5KSB7XG4gICAgcmV0dXJuIGZpcmVDaGFuZ2Uoe1xuICAgICAgZmFtaWx5OiBmYW1pbHlcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25Gb250U2l6ZUNoYW5nZSA9IGZ1bmN0aW9uIG9uRm9udFNpemVDaGFuZ2Uoc2l6ZSkge1xuICAgIHJldHVybiBmaXJlQ2hhbmdlKHtcbiAgICAgIHNpemU6IFwiXCIuY29uY2F0KHNpemUsIFwicHhcIilcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25Cb2xkQ2hhbmdlID0gZnVuY3Rpb24gb25Cb2xkQ2hhbmdlKGlzQm9sZCkge1xuICAgIHJldHVybiBmaXJlQ2hhbmdlKHtcbiAgICAgIHdlaWdodDogaXNCb2xkID8gJ2JvbGQnIDogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uSXRhbGljQ2hhbmdlID0gZnVuY3Rpb24gb25JdGFsaWNDaGFuZ2UoaXNJdGFsaWMpIHtcbiAgICByZXR1cm4gZmlyZUNoYW5nZSh7XG4gICAgICBzdHlsZTogaXNJdGFsaWMgPyAnaXRhbGljJyA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBmYW1pbHkgPSB2YWx1ZS5mYW1pbHksXG4gICAgICBzdHlsZSA9IHZhbHVlLnN0eWxlLFxuICAgICAgd2VpZ2h0ID0gdmFsdWUud2VpZ2h0LFxuICAgICAgc2l6ZSA9IHZhbHVlLnNpemU7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWZvbnRzZXR0aW5nXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUb2dnbGUsIHtcbiAgICBvbkNoYW5nZTogb25Cb2xkQ2hhbmdlLFxuICAgIGFjdGl2ZTogISF3ZWlnaHRcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXRleHQtaWNvblwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJiXCIsIG51bGwsIFwiQlwiKSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFRvZ2dsZSwge1xuICAgIGFjdGl2ZTogISFzdHlsZSxcbiAgICBvbkNoYW5nZTogb25JdGFsaWNDaGFuZ2VcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLXRleHQtaWNvblwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJpXCIsIG51bGwsIFwiaVwiKSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KERyb3BEb3duLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNoYW5nZWZvbnRzaXplXCIsXG4gICAgcm93czogZm9udFNpemVzLFxuICAgIHRpdGxlOiBzaXplIHx8ICcxM3B4JyxcbiAgICBvblJvd0NsaWNrOiBvbkZvbnRTaXplQ2hhbmdlXG4gIH0sIGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJvcHRpb25cIlxuICAgIH0sIHApO1xuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChEcm9wRG93biwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFuZ2Vmb250ZmFtaWx5XCIsXG4gICAgcm93czogZmFtaWxpZXMsXG4gICAgdGl0bGU6IGZhbWlseSB8fCBmYW1pbGllc1swXSxcbiAgICBvblJvd0NsaWNrOiBvbkZvbnRGYW1pbHlDaGFuZ2VcbiAgfSwgZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm9wdGlvblwiXG4gICAgfSwgcCk7XG4gIH0pKTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvSGlnaGVzdExvd2VzdE1hcmtlci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0hpZ2hlc3RMb3dlc3RNYXJrZXIuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhc3RNYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Zhc3RNYXJrZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9GYXN0TWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19oaWdoZXN0X2xvd2VzdF9tYXJrZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19oaWdoZXN0LWxvd2VzdC1tYXJrZXIuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19oaWdoZXN0LWxvd2VzdC1tYXJrZXIuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2hpZ2hlc3RfbG93ZXN0X21hcmtlcl9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19oaWdoZXN0X2xvd2VzdF9tYXJrZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgSGlnaGVzdExvd2VzdE1hcmtlciA9IGZ1bmN0aW9uIEhpZ2hlc3RMb3dlc3RNYXJrZXIoX3JlZikge1xuICB2YXIgc2V0SGlnaGVzdFJlZiA9IF9yZWYuc2V0SGlnaGVzdFJlZixcbiAgICAgIHNldExvd2VzdFJlZiA9IF9yZWYuc2V0TG93ZXN0UmVmO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBtYXJrZXJSZWY6IHNldEhpZ2hlc3RSZWYsXG4gICAgY2xhc3NOYW1lOiBcImNpcS1oaWdoZXN0LXByaWNlXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzcG90X19zaGFwZS1jaXJjdWxlIHNwb3RfX2ZpbGwtYmx1ZVwiXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNwb3RfX2xhYmVsXCIsXG4gICAgXCJkYXRhLWxhYmVsLXBvc1wiOiBcInRvcFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiXCIuY29uY2F0KHQudHJhbnNsYXRlKCdIJyksIFwiOiBcIikpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNwb3RfX3ZhbHVlXCJcbiAgfSkpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBtYXJrZXJSZWY6IHNldExvd2VzdFJlZixcbiAgICBjbGFzc05hbWU6IFwiY2lxLWxvd2VzdC1wcmljZVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3BvdF9fc2hhcGUtY2lyY3VsZSBzcG90X19maWxsLXJlZFwiXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNwb3RfX2xhYmVsXCIsXG4gICAgXCJkYXRhLWxhYmVsLXBvc1wiOiBcImJvdHRvbVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiXCIuY29uY2F0KHQudHJhbnNsYXRlKCdMJyksIFwiIDogXCIpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJzcG90X192YWx1ZVwiXG4gIH0pKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgcyA9IF9yZWYyLmhpZ2hlc3RMb3dlc3Q7XG4gIHJldHVybiB7XG4gICAgc2V0SGlnaGVzdFJlZjogcy5zZXRIaWdoZXN0UmVmLFxuICAgIHNldExvd2VzdFJlZjogcy5zZXRMb3dlc3RSZWZcbiAgfTtcbn0pKEhpZ2hlc3RMb3dlc3RNYXJrZXIpKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFdyYXBwZXIsIERyYXdpbmdDdXJzb3JJY29uLCBCYXNlTGluZUljb24sIENhbmRsZUljb24sIERvdEljb24sIExpbmVEb3RJY29uLCBIZWlraW5Bc2hpSWNvbiwgSG9sbG93Q2FuZGxlSWNvbiwgS2FnaUljb24sIExpbmVCcmVha0ljb24sIExpbmVJY29uLCBPSExDSWNvbiwgUG9pbnRGaWd1cmVJY29uLCBSYW5nZUJhcnNJY29uLCBSZW5rb0ljb24sIFRhYmxlSWNvbiwgQWRkSWNvbiwgWm9vbUluSWNvbiwgQ2xvc2VJY29uLCBDbG9zZUNpcmNsZUljb24sIENvbXBhcmlzb25JY29uLCBDcm9zc2hhaXJPZmZJY29uLCBDcm9zc2hhaXJPbkljb24sIENyb3NzaGFpclRvb2x0aXBJY29uLCBEZWxldGVJY29uLCBDbGVhckljb24sIERyYXdJY29uLCBJbmRpY2F0b3JJY29uLCBNZWFzdXJlSWNvbiwgWm9vbU91dEljb24sIFNwbGluZUljb24sIFBuZ0ljb24sIENzdkljb24sIFN0YXJJY29uLCBUZW1wbGF0ZUljb24sIFRpY2tJY29uLCBUaW1lSWNvbiwgU2VhcmNoSWNvbiwgRWRpdEljb24sIFNldHRpbmdJY29uLCBBcnJvd0ljb24sIEZhdm9yaXRlSWNvbiwgRG93bmxvYWRJY29uLCBQb3NpdGlvbkxlZnRJY29uLCBQb3NpdGlvbkJvdHRvbUljb24sIEJhY2tJY29uLCBNZXRhbEljb24sIGFsZXJ0SWNvbk1hcCwgU3ltYm9sUGxhY2Vob2xkZXJJY29uLCBDYXRlZ29yeUljb25NYXAsIEZsYWdJY29ucywgSXRlbUljb25NYXAsIEFjdGl2ZU9wdGlvbnNJY29uTWFwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIldyYXBwZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBXcmFwcGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEcmF3aW5nQ3Vyc29ySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERyYXdpbmdDdXJzb3JJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJCYXNlTGluZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBCYXNlTGluZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNhbmRsZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDYW5kbGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEb3RJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRG90SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTGluZURvdEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMaW5lRG90SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSGVpa2luQXNoaUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBIZWlraW5Bc2hpSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSG9sbG93Q2FuZGxlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEhvbGxvd0NhbmRsZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkthZ2lJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gS2FnaUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxpbmVCcmVha0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMaW5lQnJlYWtJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMaW5lSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExpbmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJPSExDSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE9ITENJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQb2ludEZpZ3VyZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb2ludEZpZ3VyZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlJhbmdlQmFyc0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSYW5nZUJhcnNJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZW5rb0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSZW5rb0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRhYmxlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRhYmxlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQWRkSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFkZEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlpvb21Jbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBab29tSW5JY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDbG9zZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDbG9zZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsb3NlQ2lyY2xlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsb3NlQ2lyY2xlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ29tcGFyaXNvbkljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDb21wYXJpc29uSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3Jvc3NoYWlyT2ZmSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENyb3NzaGFpck9mZkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNyb3NzaGFpck9uSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENyb3NzaGFpck9uSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3Jvc3NoYWlyVG9vbHRpcEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDcm9zc2hhaXJUb29sdGlwSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRGVsZXRlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIERlbGV0ZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNsZWFySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENsZWFySWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEcmF3SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiSW5kaWNhdG9ySWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEluZGljYXRvckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1lYXN1cmVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTWVhc3VyZUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlpvb21PdXRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gWm9vbU91dEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNwbGluZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTcGxpbmVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQbmdJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUG5nSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ3N2SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENzdkljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN0YXJJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU3Rhckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRlbXBsYXRlSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRlbXBsYXRlSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGlja0ljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaWNrSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVGltZUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU2VhcmNoSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNlYXJjaEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkVkaXRJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRWRpdEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlNldHRpbmdJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2V0dGluZ0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFycm93SWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFycm93SWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmF2b3JpdGVJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmF2b3JpdGVJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEb3dubG9hZEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEb3dubG9hZEljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlBvc2l0aW9uTGVmdEljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb3NpdGlvbkxlZnRJY29uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQb3NpdGlvbkJvdHRvbUljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb3NpdGlvbkJvdHRvbUljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkJhY2tJY29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFja0ljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1ldGFsSWNvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1ldGFsSWNvbjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWxlcnRJY29uTWFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWxlcnRJY29uTWFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTeW1ib2xQbGFjZWhvbGRlckljb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTeW1ib2xQbGFjZWhvbGRlckljb247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNhdGVnb3J5SWNvbk1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENhdGVnb3J5SWNvbk1hcDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmxhZ0ljb25zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmxhZ0ljb25zOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJJdGVtSWNvbk1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEl0ZW1JY29uTWFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBY3RpdmVPcHRpb25zSWNvbk1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFjdGl2ZU9wdGlvbnNJY29uTWFwOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfaWNvbnNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19pY29ucy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX2ljb25zLnNjc3NcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19pY29uc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19pY29uc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2Jhc2VsaW5lX2ljX2Jhc2VsaW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvYmFzZWxpbmUvaWMtYmFzZWxpbmUtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9iYXNlbGluZS9pYy1iYXNlbGluZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2NhbmRsZV9pY19jYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9jYW5kbGUvaWMtY2FuZGxlLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvY2FuZGxlL2ljLWNhbmRsZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2RvdF9pY19kb3Rfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9kb3QvaWMtZG90LW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvZG90L2ljLWRvdC1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2xpbmVfZG90X2ljX2xpbmVkb3Rfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9saW5lIGRvdC9pYy1saW5lZG90LW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvbGluZSBkb3QvaWMtbGluZWRvdC1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2hlaWtpbl9hc2hpX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtaGVpa2luLWFzaGktbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1oZWlraW4tYXNoaS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2hvbGxvd19jYW5kbGVfaWNfaG9sbG93Y2FuZGxlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaG9sbG93IGNhbmRsZS9pYy1ob2xsb3djYW5kbGUtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9ob2xsb3cgY2FuZGxlL2ljLWhvbGxvd2NhbmRsZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2thZ2lfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1rYWdpLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMta2FnaS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2xpbmVfaWNfbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2xpbmUvaWMtbGluZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2xpbmVicmVha19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1saW5lYnJlYWstbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1saW5lYnJlYWstbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19vaGxjX2ljX29obGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvb2hsYy9pYy1vaGxjLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvb2hsYy9pYy1vaGxjLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfcG9pbnRmaWd1cmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvaWMtcG9pbnRmaWd1cmUtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1wb2ludGZpZ3VyZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3JhbmdlYmFyc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yYW5nZWJhcnMtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yYW5nZWJhcnMtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19yZW5rb19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9pYy1yZW5rby1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL2ljLXJlbmtvLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfc3BsaW5lX2ljX3NwbGluZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0eXBlcy9zcGxpbmUvaWMtc3BsaW5lLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvc3BsaW5lL2ljLXNwbGluZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX3RhYmxlX3RhYmxlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdHlwZXMvdGFibGUvdGFibGUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2NoYXJ0IHR5cGVzL3RhYmxlL3RhYmxlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kb3dubG9hZF9pY19wbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1wbmcuc3ZnICovIFwiLi9zYXNzL2ljb25zL2Rvd25sb2FkL2ljLXBuZy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZG93bmxvYWRfaWNfY3N2X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtY3N2LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1jc3Yuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3pvb21faW5faWNfem9vbWluX2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvem9vbS1pbi9pYy16b29taW4tbGlnaHQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3pvb20taW4vaWMtem9vbWluLWxpZ2h0LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jbG9zZV9pY19jbG9zZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2Nsb3NlL2ljLWNsb3NlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2xvc2VfaWNfY2xvc2VfY2lyY2xlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2xvc2UvaWMtY2xvc2UtY2lyY2xlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jbG9zZS9pYy1jbG9zZS1jaXJjbGUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NvbXBhcmlzb25faWNfY29tcGFyaXNvbl9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jb21wYXJpc29uL2ljLWNvbXBhcmlzb24tbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jb21wYXJpc29uL2ljLWNvbXBhcmlzb24tbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jcm9zc2hhaXJfaWNfY3Jvc3NoYWlyX29mZl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb2ZmLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jcm9zc2hhaXIvaWMtY3Jvc3NoYWlyLW9mZi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl9vbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb24uc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItb24uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfdG9vbHRpcF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2Nyb3NzaGFpci9pYy1jcm9zc2hhaXItdG9vbHRpcC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY3Jvc3NoYWlyL2ljLWNyb3NzaGFpci10b29sdGlwLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kZWxldGVfaWNfZGVsZXRlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZGVsZXRlL2ljLWRlbGV0ZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2xlYXJfaWNfY2xlYXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jbGVhci9pYy1jbGVhci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2xlYXIvaWMtY2xlYXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2RyYXdpbmdfdG9vbHNfaWNfZHJhd2luZ3Rvb2xzX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2RyYXdpbmcgdG9vbHMvaWMtZHJhd2luZ3Rvb2xzLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvZHJhd2luZyB0b29scy9pYy1kcmF3aW5ndG9vbHMtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19pbmRpY2F0b3JzX2ljX2luZGljYXRvcl9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9pbmRpY2F0b3JzL2ljLWluZGljYXRvci1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL2luZGljYXRvcnMvaWMtaW5kaWNhdG9yLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfbWVhc3VyZV9pY19tZWFzdXJlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvbWVhc3VyZS9pYy1tZWFzdXJlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9tZWFzdXJlL2ljLW1lYXN1cmUuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3pvb21fb3V0X2ljX3pvb21vdXRfbGlnaHRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLW91dC9pYy16b29tb3V0LWxpZ2h0LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy96b29tLW91dC9pYy16b29tb3V0LWxpZ2h0LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mYXZvcml0ZV9pY19mYXZvcml0ZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mYXZvcml0ZS9pYy1mYXZvcml0ZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2Zhdm9yaXRlL2ljLWZhdm9yaXRlLW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdGVtcGxhdGVfaWNfY2hhcnR0ZW1wbGF0ZV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9jaGFydCB0ZW1wbGF0ZS9pYy1jaGFydHRlbXBsYXRlLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3MvY2hhcnQgdGVtcGxhdGUvaWMtY2hhcnR0ZW1wbGF0ZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3RpY2tfaWNfdGlja19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3RpY2svaWMtdGljay5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvdGljay9pYy10aWNrLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc190aW1lX2ljX3RpbWVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy90aW1lL2ljLXRpbWUuc3ZnICovIFwiLi9zYXNzL2ljb25zL3RpbWUvaWMtdGltZS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl9hY3RpdmVfaWNfYWN0aXZlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NpZGViYXIvYWN0aXZlL2ljLWFjdGl2ZS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvYWN0aXZlL2ljLWFjdGl2ZS1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NpZGViYXJfY29tbW9kaXRpZXNfaWNfY29tbW9kaXRpZXNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2lkZWJhci9jb21tb2RpdGllcy9pYy1jb21tb2RpdGllcy1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvY29tbW9kaXRpZXMvaWMtY29tbW9kaXRpZXMtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX2ZvcmV4X2ljX2ZvcmV4X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL3NpZGViYXIvZm9yZXgvaWMtZm9yZXgtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zaWRlYmFyL2ZvcmV4L2ljLWZvcmV4LW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2lkZWJhcl9pbmRpY2VzX2ljX2luZGljZXNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvc2lkZWJhci9pbmRpY2VzL2ljLWluZGljZXMtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zaWRlYmFyL2luZGljZXMvaWMtaW5kaWNlcy1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3NpZGViYXJfb3RjX2ljX290Y19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zaWRlYmFyL290Yy9pYy1vdGMtbm9ybWFsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9zaWRlYmFyL290Yy9pYy1vdGMtbm9ybWFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19zaWRlYmFyX3ZvbGF0aWxpdHlfaWNfdm9sYXRpbGl0eV9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zaWRlYmFyL3ZvbGF0aWxpdHkvaWMtdm9sYXRpbGl0eS1ub3JtYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL3NpZGViYXIvdm9sYXRpbGl0eS9pYy12b2xhdGlsaXR5LW5vcm1hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfc2VhcmNoX2ljX3NlYXJjaF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9zZWFyY2gvaWMtc2VhcmNoLW5vcm1hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvc2VhcmNoL2ljLXNlYXJjaC1ub3JtYWwuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2VkaXQvaWMtZWRpdC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZWRpdC9pYy1lZGl0LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19kcm9wZG93bl9pY19kcm9wZG93bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2Ryb3Bkb3duL2ljLWRyb3Bkb3duLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9kcm9wZG93bi9pYy1kcm9wZG93bi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZG93bmxvYWRfaWNfZG93bmxvYWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kb3dubG9hZC9pYy1kb3dubG9hZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZG93bmxvYWQvaWMtZG93bmxvYWQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fbGVmdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3NldHRpbmcvaWMtcG9zaXRpb24tbGVmdC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQgc2V0dGluZ3Mvc2V0dGluZy9pYy1wb3NpdGlvbi1sZWZ0LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19zZXR0aW5nX2ljX3Bvc2l0aW9uX2JvdHRvbV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0IHNldHRpbmdzL3NldHRpbmcvaWMtcG9zaXRpb24tYm90dG9tLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydCBzZXR0aW5ncy9zZXR0aW5nL2ljLXBvc2l0aW9uLWJvdHRvbS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYmFja19pY19iYWNrX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYmFjay9pYy1iYWNrLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9iYWNrL2ljLWJhY2suc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX3BlbmNpbF9pY19wZW5jaWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9wZW5jaWwvaWMtcGVuY2lsLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9wZW5jaWwvaWMtcGVuY2lsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX3dhcm5pbmdfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL3dhcm5pbmcuc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvd2FybmluZy5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV9lcnJvcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvZXJyb3Iuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2Vfc3VjY2Vzc19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2Uvc3VjY2Vzcy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWxlcnQgbWVzc2FnZS9zdWNjZXNzLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX2luZm9fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81M19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hbGVydCBtZXNzYWdlL2luZm8uc3ZnICovIFwiLi9zYXNzL2ljb25zL2FsZXJ0IG1lc3NhZ2UvaW5mby5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfcGxhY2Vob2xkZXJfaWNfcGxhY2Vob2xkZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9wbGFjZWhvbGRlci9pYy1wbGFjZWhvbGRlci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvcGxhY2Vob2xkZXIvaWMtcGxhY2Vob2xkZXIuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2F1ZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2F1ZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvYXVkLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19jYWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Nl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9jYWQuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2NhZC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfY2hmX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvY2hmLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9jaGYuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2V1cl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2V1ci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZXVyLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19nYnBfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9nYnAuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2dicC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfanB5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvanB5LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9qcHkuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX214bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL214bi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvbXhuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ub2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9ub2suc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL25vay5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfbnpkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvbnpkLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9uemQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3Bsbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL3Bsbi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvcGxuLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19zZWtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9zZWsuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3Nlay5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfdXNkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvdXNkLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy91c2Quc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3BvcnR1Z2FsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvcG9ydHVnYWwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3BvcnR1Z2FsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19ydXNzaWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9ydXNzaWEuc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL3J1c3NpYS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfdGhhaWxhbmRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy90aGFpbGFuZC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvdGhhaWxhbmQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2luZG9uZXNpYV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2luZG9uZXNpYS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaW5kb25lc2lhLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc192aWV0bmFtX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvdmlldG5hbS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvdmlldG5hbS5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfaXRhbHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9pdGFseS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaXRhbHkuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2NoaW5lc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83M19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9jaGluZXNlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9jaGluZXNlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19jaGluZXNlX3RyYWRpdGlvbmFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS10cmFkaXRpb25hbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvY2hpbmVzZS10cmFkaXRpb25hbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfZ2VybWFuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3MvZ2VybWFuLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9nZXJtYW4uc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX2hvbmdfa29uZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2ZsYWdzL2hvbmcga29uZy5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvaG9uZyBrb25nLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc19mcmVuY2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83N19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9mcmVuY2guc3ZnICovIFwiLi9zYXNzL2ljb25zL2ZsYWdzL2ZyZW5jaC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZmxhZ3NfZHV0Y2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9kdXRjaC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3MvZHV0Y2guc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2ZsYWdzX3NwYW5pc2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9mbGFncy9zcGFuaXNoLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9mbGFncy9zcGFuaXNoLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19mbGFnc193YWxsc3RyZWV0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvZmxhZ3Mvd2FsbHN0cmVldC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfZW5lcmd5X29pbF91c2RfaWNfb2lsdXNkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvZW5lcmd5L29pbCB1c2QvaWMtb2lsdXNkLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9lbmVyZ3kvb2lsIHVzZC9pYy1vaWx1c2Quc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX21ldGFsc19pY19tZXRhbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL21ldGFscy9pYy1tZXRhbC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvbWV0YWxzL2ljLW1ldGFsLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzEwX2luZGV4X2ljXzEwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMCBpbmRleC9pYy0xMC1pbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMCBpbmRleC9pYy0xMC1pbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8yNV9pbmRleF9pY18yNV9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvMjUgaW5kZXgvaWMtMjUtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNTBfaW5kZXhfaWNfNTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzUwIGluZGV4L2ljLTUwLWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzUwIGluZGV4L2ljLTUwLWluZGV4LnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5Xzc1X2luZGV4X2ljXzc1X2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS83NSBpbmRleC9pYy03NS1pbmRleC5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS83NSBpbmRleC9pYy03NS1pbmRleC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8xMDBfaW5kZXhfaWNfMTAwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS8xMDAgaW5kZXgvaWMtMTAwLWluZGV4LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5LzEwMCBpbmRleC9pYy0xMDAtaW5kZXguc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYmVhcl9tYXJrZXRfaWNfbWFya2V0YmVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYmVhciBtYXJrZXQvaWMtbWFya2V0YmVhci5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvdm9sYXRpbGl0eS9iZWFyIG1hcmtldC9pYy1tYXJrZXRiZWFyLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5X2J1bGxfbWFya2V0X2ljX21hcmtldGJ1bGxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy92b2xhdGlsaXR5L2J1bGwgbWFya2V0L2ljLW1hcmtldGJ1bGwuc3ZnICovIFwiLi9zYXNzL2ljb25zL2FjdGl2ZS1zeW1ib2xzL3ZvbGF0aWxpdHkvYnVsbCBtYXJrZXQvaWMtbWFya2V0YnVsbC5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfaWNfb3RjYmFkZ2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1vdGNiYWRnZS5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvYWN0aXZlLXN5bWJvbHMvaWMtb3RjYmFkZ2Uuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX2ljX3NtYXJ0ZnhfcGxhY2Vob2xkZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1zbWFydGZ4LXBsYWNlaG9sZGVyLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9hY3RpdmUtc3ltYm9scy9pYy1zbWFydGZ4LXBsYWNlaG9sZGVyLnN2Z1wiKTtcbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuIC8vIENoYXJ0IHR5cGVzOlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qIEVuZXJneSAqL1xuXG5cbi8qIE1ldGFscyAqL1xuXG5cbi8qIFZvbGF0aWxpdHkgSW5kaWNlcyAqL1xuXG5cblxuXG5cblxuXG5cblxuXG52YXIgV3JhcHBlciA9IGZ1bmN0aW9uIFdyYXBwZXIoU3ZnTG9nbykge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgdG9vbHRpcCA9IHByb3BzWyd0b29sdGlwLXRpdGxlJ10sXG4gICAgICAgIHAgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNsYXNzTmFtZVwiLCAndG9vbHRpcC10aXRsZSddKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcblxuXG4gICAgY2xhc3NOYW1lID0gXCJpYy1pY29uIFwiLmNvbmNhdChjbGFzc05hbWUgfHwgJycpO1xuICAgIHZhciB2YiA9IFN2Z0xvZ28udmlld0JveC5zcGxpdCgnICcpLnNsaWNlKDIpO1xuICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfZXh0ZW5kcyh7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIFwidG9vbHRpcC10aXRsZVwiOiB0b29sdGlwXG4gICAgfSwgcCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgICAgd2lkdGg6IHZiWzBdLFxuICAgICAgaGVpZ2h0OiB2YlsxXVxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJ1c2VcIiwge1xuICAgICAgeGxpbmtIcmVmOiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBTdmdMb2dvLnVybFxuICAgICAgLyogZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiAqL1xuXG4gICAgfSkpLCB0b29sdGlwICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuRnJhZ21lbnQsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImljLXN1YnRpdGxlXCJcbiAgICB9LCB0b29sdGlwKSkpO1xuICB9O1xufTtcbnZhciBEcmF3aW5nQ3Vyc29ySWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfcGVuY2lsX2ljX3BlbmNpbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ5X19bXCJkZWZhdWx0XCJdKTsgLy8gQ2hhcnQgVHlwZXM6XG5cbnZhciBCYXNlTGluZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2Jhc2VsaW5lX2ljX2Jhc2VsaW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pO1xudmFyIENhbmRsZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2NhbmRsZV9pY19jYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG52YXIgRG90SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfZG90X2ljX2RvdF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbnZhciBMaW5lRG90SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfbGluZV9kb3RfaWNfbGluZWRvdF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKTtcbnZhciBIZWlraW5Bc2hpSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfaGVpa2luX2FzaGlfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSk7XG52YXIgSG9sbG93Q2FuZGxlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaG9sbG93X2NhbmRsZV9pY19ob2xsb3djYW5kbGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSk7XG52YXIgS2FnaUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX2thZ2lfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgTGluZUJyZWFrSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfbGluZWJyZWFrX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJkZWZhdWx0XCJdKTtcbnZhciBMaW5lSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfbGluZV9pY19saW5lX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0pO1xudmFyIE9ITENJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19vaGxjX2ljX29obGNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0pO1xudmFyIFBvaW50RmlndXJlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY2hhcnRfdHlwZXNfaWNfcG9pbnRmaWd1cmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX1tcImRlZmF1bHRcIl0pO1xudmFyIFJhbmdlQmFyc0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX2ljX3JhbmdlYmFyc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZGVmYXVsdFwiXSk7XG52YXIgUmVua29JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc19pY19yZW5rb19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgVGFibGVJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jaGFydF90eXBlc190YWJsZV90YWJsZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19bXCJkZWZhdWx0XCJdKTtcbnZhciBBZGRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc196b29tX2luX2ljX3pvb21pbl9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19bXCJkZWZhdWx0XCJdKTtcbnZhciBab29tSW5JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc196b29tX2luX2ljX3pvb21pbl9saWdodF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19bXCJkZWZhdWx0XCJdKTtcbnZhciBDbG9zZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Nsb3NlX2ljX2Nsb3NlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcImRlZmF1bHRcIl0pO1xudmFyIENsb3NlQ2lyY2xlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2xvc2VfaWNfY2xvc2VfY2lyY2xlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfX1tcImRlZmF1bHRcIl0pO1xudmFyIENvbXBhcmlzb25JY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19jb21wYXJpc29uX2ljX2NvbXBhcmlzb25fbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX1tcImRlZmF1bHRcIl0pO1xudmFyIENyb3NzaGFpck9mZkljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2Nyb3NzaGFpcl9pY19jcm9zc2hhaXJfb2ZmX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX1tcImRlZmF1bHRcIl0pO1xudmFyIENyb3NzaGFpck9uSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl9vbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJkZWZhdWx0XCJdKTtcbnZhciBDcm9zc2hhaXJUb29sdGlwSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfY3Jvc3NoYWlyX2ljX2Nyb3NzaGFpcl90b29sdGlwX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX1tcImRlZmF1bHRcIl0pO1xudmFyIERlbGV0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNl9fW1wiZGVmYXVsdFwiXSk7XG52YXIgQ2xlYXJJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jbGVhcl9pY19jbGVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI3X19bXCJkZWZhdWx0XCJdKTtcbnZhciBEcmF3SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfY2hhcnRfc2V0dGluZ3NfZHJhd2luZ190b29sc19pY19kcmF3aW5ndG9vbHNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjhfX1tcImRlZmF1bHRcIl0pO1xudmFyIEluZGljYXRvckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2luZGljYXRvcnNfaWNfaW5kaWNhdG9yX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI5X19bXCJkZWZhdWx0XCJdKTtcbnZhciBNZWFzdXJlSWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfbWVhc3VyZV9pY19tZWFzdXJlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzBfX1tcImRlZmF1bHRcIl0pO1xudmFyIFpvb21PdXRJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc196b29tX291dF9pY196b29tb3V0X2xpZ2h0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzFfX1tcImRlZmF1bHRcIl0pO1xudmFyIFNwbGluZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3R5cGVzX3NwbGluZV9pY19zcGxpbmVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX1tcImRlZmF1bHRcIl0pO1xudmFyIFBuZ0ljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Rvd25sb2FkX2ljX3BuZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJkZWZhdWx0XCJdKTtcbnZhciBDc3ZJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19kb3dubG9hZF9pY19jc3Zfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgU3Rhckljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Zhdm9yaXRlX2ljX2Zhdm9yaXRlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJkZWZhdWx0XCJdKTtcbnZhciBUZW1wbGF0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX2NoYXJ0X3RlbXBsYXRlX2ljX2NoYXJ0dGVtcGxhdGVfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzNfX1tcImRlZmF1bHRcIl0pO1xudmFyIFRpY2tJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc190aWNrX2ljX3RpY2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgVGltZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX3RpbWVfaWNfdGltZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM1X19bXCJkZWZhdWx0XCJdKTtcbnZhciBTZWFyY2hJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19zZWFyY2hfaWNfc2VhcmNoX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQyX19bXCJkZWZhdWx0XCJdKTtcbnZhciBFZGl0SWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDNfX1tcImRlZmF1bHRcIl0pO1xudmFyIFNldHRpbmdJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19lZGl0X2ljX2VkaXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19fW1wiZGVmYXVsdFwiXSk7XG52YXIgQXJyb3dJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19kcm9wZG93bl9pY19kcm9wZG93bl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ0X19bXCJkZWZhdWx0XCJdKTtcbnZhciBGYXZvcml0ZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Zhdm9yaXRlX2ljX2Zhdm9yaXRlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJkZWZhdWx0XCJdKTtcbnZhciBEb3dubG9hZEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2Rvd25sb2FkX2ljX2Rvd25sb2FkX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDVfX1tcImRlZmF1bHRcIl0pO1xudmFyIFBvc2l0aW9uTGVmdEljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fbGVmdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X19bXCJkZWZhdWx0XCJdKTtcbnZhciBQb3NpdGlvbkJvdHRvbUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2NoYXJ0X3NldHRpbmdzX3NldHRpbmdfaWNfcG9zaXRpb25fYm90dG9tX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfX1tcImRlZmF1bHRcIl0pO1xudmFyIEJhY2tJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19iYWNrX2ljX2JhY2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgTWV0YWxJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19tZXRhbHNfaWNfbWV0YWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Ml9fW1wiZGVmYXVsdFwiXSk7XG52YXIgYWxlcnRJY29uTWFwID0ge1xuICBpbmZvOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FsZXJ0X21lc3NhZ2VfaW5mb19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUzX19bXCJkZWZhdWx0XCJdKSxcbiAgc3VjY2VzczogV3JhcHBlcihfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX3N1Y2Nlc3Nfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Ml9fW1wiZGVmYXVsdFwiXSksXG4gIHdhcm5pbmc6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWxlcnRfbWVzc2FnZV93YXJuaW5nX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTBfX1tcImRlZmF1bHRcIl0pLFxuICBlcnJvcjogV3JhcHBlcihfc2Fzc19pY29uc19hbGVydF9tZXNzYWdlX2Vycm9yX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTFfX1tcImRlZmF1bHRcIl0pXG59O1xudmFyIFN5bWJvbFBsYWNlaG9sZGVySWNvbiA9IFdyYXBwZXIoX3Nhc3NfaWNvbnNfcGxhY2Vob2xkZXJfaWNfcGxhY2Vob2xkZXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NF9fW1wiZGVmYXVsdFwiXSk7XG52YXIgQ2F0ZWdvcnlJY29uTWFwID0ge1xuICBhY3RpdmU6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9hY3RpdmVfaWNfYWN0aXZlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X19bXCJkZWZhdWx0XCJdKSxcbiAgY29tbW9kaXRpZXM6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9jb21tb2RpdGllc19pY19jb21tb2RpdGllc19ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zN19fW1wiZGVmYXVsdFwiXSksXG4gIGZhdm9yaXRlOiBXcmFwcGVyKF9zYXNzX2ljb25zX2Zhdm9yaXRlX2ljX2Zhdm9yaXRlX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJkZWZhdWx0XCJdKSxcbiAgZm9yZXg6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9mb3JleF9pY19mb3JleF9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zOF9fW1wiZGVmYXVsdFwiXSksXG4gIGluZGljZXM6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9pbmRpY2VzX2ljX2luZGljZXNfbm9ybWFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzlfX1tcImRlZmF1bHRcIl0pLFxuICBzdG9ja3M6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfc2lkZWJhcl9vdGNfaWNfb3RjX25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19bXCJkZWZhdWx0XCJdKSxcbiAgdm9saWR4OiBXcmFwcGVyKF9zYXNzX2ljb25zX3NpZGViYXJfdm9sYXRpbGl0eV9pY192b2xhdGlsaXR5X25vcm1hbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQxX19bXCJkZWZhdWx0XCJdKSxcbiAgaW5kaWNhdG9yczogV3JhcHBlcihfc2Fzc19pY29uc19jaGFydF9zZXR0aW5nc19pbmRpY2F0b3JzX2ljX2luZGljYXRvcl9ub3JtYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fW1wiZGVmYXVsdFwiXSlcbn07XG52YXIgRmxhZ0ljb25NYXAgPSB7XG4gIEFVRDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19hdWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NV9fW1wiZGVmYXVsdFwiXSksXG4gIENBRDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19jYWRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Nl9fW1wiZGVmYXVsdFwiXSksXG4gIENIRjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19jaGZfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81N19fW1wiZGVmYXVsdFwiXSksXG4gIEVVUjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19ldXJfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OF9fW1wiZGVmYXVsdFwiXSksXG4gIEdCUDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19nYnBfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OV9fW1wiZGVmYXVsdFwiXSksXG4gIEpQWTogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19qcHlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MF9fW1wiZGVmYXVsdFwiXSksXG4gIE1YTjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19teG5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fW1wiZGVmYXVsdFwiXSksXG4gIE5PSzogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19ub2tfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Ml9fW1wiZGVmYXVsdFwiXSksXG4gIE5aRDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19uemRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fW1wiZGVmYXVsdFwiXSksXG4gIFBMTjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19wbG5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NF9fW1wiZGVmYXVsdFwiXSksXG4gIFNFSzogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19zZWtfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NV9fW1wiZGVmYXVsdFwiXSksXG4gIFVTRDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc191c2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82Nl9fW1wiZGVmYXVsdFwiXSksXG4gIEhvbmdLb25nOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2hvbmdfa29uZ19zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19bXCJkZWZhdWx0XCJdKSxcbiAgRHV0Y2g6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfZHV0Y2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OF9fW1wiZGVmYXVsdFwiXSksXG4gIEdlcm1hbjogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19nZXJtYW5fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NV9fW1wiZGVmYXVsdFwiXSksXG4gIEZyZW5jaDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19mcmVuY2hfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83N19fW1wiZGVmYXVsdFwiXSksXG4gIFNwYW5pc2g6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3Nfc3BhbmlzaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc5X19bXCJkZWZhdWx0XCJdKSxcbiAgV2FsbFN0cmVldDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc193YWxsc3RyZWV0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODBfX1tcImRlZmF1bHRcIl0pXG59O1xudmFyIEZsYWdJY29ucyA9IHtcbiAgVVNEOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3VzZF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X19bXCJkZWZhdWx0XCJdKSxcbiAgR2VybWFuOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2dlcm1hbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc1X19bXCJkZWZhdWx0XCJdKSxcbiAgRnJlbmNoOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2ZyZW5jaF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc3X19bXCJkZWZhdWx0XCJdKSxcbiAgUG9ydHVnYWw6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfcG9ydHVnYWxfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82N19fW1wiZGVmYXVsdFwiXSksXG4gIFJ1c3NpYTogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19ydXNzaWFfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OF9fW1wiZGVmYXVsdFwiXSksXG4gIFRoYWlsYW5kOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3RoYWlsYW5kX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjlfX1tcImRlZmF1bHRcIl0pLFxuICBJbmRvbmVzaWE6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfaW5kb25lc2lhX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzBfX1tcImRlZmF1bHRcIl0pLFxuICBWaWV0bmFtOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX3ZpZXRuYW1fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MV9fW1wiZGVmYXVsdFwiXSksXG4gIEl0YWx5OiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2l0YWx5X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzJfX1tcImRlZmF1bHRcIl0pLFxuICBDaGluZXNlOiBXcmFwcGVyKF9zYXNzX2ljb25zX2ZsYWdzX2NoaW5lc2Vfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83M19fW1wiZGVmYXVsdFwiXSksXG4gIENoaW5lc2VUcmFkaXRpb25hbDogV3JhcHBlcihfc2Fzc19pY29uc19mbGFnc19jaGluZXNlX3RyYWRpdGlvbmFsX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzRfX1tcImRlZmF1bHRcIl0pLFxuICBQb2xhbmQ6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfZmxhZ3NfcGxuX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjRfX1tcImRlZmF1bHRcIl0pXG59O1xudmFyIEl0ZW1JY29uTWFwID0ge1xuICBTUEM6IEZsYWdJY29uTWFwLlVTRCxcbiAgQVM1MTogRmxhZ0ljb25NYXAuQVVELFxuICBIU0k6IEZsYWdJY29uTWFwLkhvbmdLb25nLFxuICBOMjI1OiBGbGFnSWNvbk1hcC5KUFksXG4gIEFFWDogRmxhZ0ljb25NYXAuRHV0Y2gsXG4gIEZDSEk6IEZsYWdJY29uTWFwLkZyZW5jaCxcbiAgU1NNSTogRmxhZ0ljb25NYXAuQ0hGLFxuICBHREFYSTogRmxhZ0ljb25NYXAuR2VybWFuLFxuXG4gIC8qIENvbW1vZGl0aWVzICovXG4gIGZyeEJST1VTRDogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19lbmVyZ3lfb2lsX3VzZF9pY19vaWx1c2Rfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84MV9fW1wiZGVmYXVsdFwiXSksXG4gIGZyeFhBVVVTRDogTWV0YWxJY29uLFxuICBmcnhYUERVU0Q6IE1ldGFsSWNvbixcbiAgZnJ4WFBUVVNEOiBNZXRhbEljb24sXG4gIGZyeFhBR1VTRDogTWV0YWxJY29uLFxuXG4gIC8qIFZvbGF0aWxpdHkgSW5kaWNlcyAqL1xuICBSXzEwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMTBfaW5kZXhfaWNfMTBfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84M19fW1wiZGVmYXVsdFwiXSksXG4gIFJfMjU6IFdyYXBwZXIoX3Nhc3NfaWNvbnNfYWN0aXZlX3N5bWJvbHNfdm9sYXRpbGl0eV8yNV9pbmRleF9pY18yNV9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg0X19bXCJkZWZhdWx0XCJdKSxcbiAgUl81MDogV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc192b2xhdGlsaXR5XzUwX2luZGV4X2ljXzUwX2luZGV4X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODVfX1tcImRlZmF1bHRcIl0pLFxuICBSXzc1OiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfNzVfaW5kZXhfaWNfNzVfaW5kZXhfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Nl9fW1wiZGVmYXVsdFwiXSksXG4gIFJfMTAwOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfMTAwX2luZGV4X2ljXzEwMF9pbmRleF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg3X19bXCJkZWZhdWx0XCJdKSxcbiAgUkRCRUFSOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYmVhcl9tYXJrZXRfaWNfbWFya2V0YmVhcl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X19bXCJkZWZhdWx0XCJdKSxcbiAgUkRCVUxMOiBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX3ZvbGF0aWxpdHlfYnVsbF9tYXJrZXRfaWNfbWFya2V0YnVsbF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg5X19bXCJkZWZhdWx0XCJdKVxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9zaXRlSWNvbihBLCBCLCBpY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBwID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJjbGFzc05hbWVcIl0pO1xuXG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHtcbiAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoaWNJZCwgXCIgXCIpLmNvbmNhdChjbGFzc05hbWUpXG4gICAgfSwgcCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQSwgbnVsbCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQiwgbnVsbCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmcngoZmxhZ0EsIGZsYWdCKSB7XG4gIHZhciBBID0gRmxhZ0ljb25NYXBbZmxhZ0FdO1xuICB2YXIgQiA9IEZsYWdJY29uTWFwW2ZsYWdCXTtcbiAgSXRlbUljb25NYXBbXCJmcnhcIi5jb25jYXQoZmxhZ0EpLmNvbmNhdChmbGFnQildID0gY3JlYXRlQ29tcG9zaXRlSWNvbihBLCBCLCAnaWMtZnJ4Jyk7XG59XG5cbnZhciBPVENCYWRnZUljb24gPSBXcmFwcGVyKF9zYXNzX2ljb25zX2FjdGl2ZV9zeW1ib2xzX2ljX290Y2JhZGdlX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTBfX1tcImRlZmF1bHRcIl0pO1xudmFyIFNtYXJ0RlhJY29uID0gV3JhcHBlcihfc2Fzc19pY29uc19hY3RpdmVfc3ltYm9sc19pY19zbWFydGZ4X3BsYWNlaG9sZGVyX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTFfX1tcImRlZmF1bHRcIl0pO1xuXG5mdW5jdGlvbiBvdGMoZmxhZywgc3ltYm9sKSB7XG4gIHZhciBGbGFnSWNvbiA9IEZsYWdJY29uTWFwW2ZsYWddO1xuICBJdGVtSWNvbk1hcFtzeW1ib2xdID0gY3JlYXRlQ29tcG9zaXRlSWNvbihGbGFnSWNvbiwgT1RDQmFkZ2VJY29uLCAnaWMtb3RjJyk7XG59XG5cbmZ1bmN0aW9uIHdsZChmbGFnKSB7XG4gIHZhciBGbGFnSWNvbiA9IEZsYWdJY29uTWFwW2ZsYWddO1xuICBJdGVtSWNvbk1hcFtcIldMRFwiLmNvbmNhdChmbGFnKV0gPSBjcmVhdGVDb21wb3NpdGVJY29uKFNtYXJ0RlhJY29uLCBGbGFnSWNvbiwgJ2ljLXdsZCcpO1xufVxuLyogRk9SRVggKi9cblxuLyogTWFqb3IgUGFpcnMgKi9cblxuXG5mcngoJ0FVRCcsICdKUFknKTtcbmZyeCgnQVVEJywgJ1VTRCcpO1xuZnJ4KCdFVVInLCAnQVVEJyk7XG5mcngoJ0VVUicsICdDSEYnKTtcbmZyeCgnRVVSJywgJ0pQWScpO1xuZnJ4KCdFVVInLCAnQ0FEJyk7XG5mcngoJ0VVUicsICdHQlAnKTtcbmZyeCgnRVVSJywgJ1VTRCcpO1xuZnJ4KCdHQlAnLCAnQVVEJyk7XG5mcngoJ0dCUCcsICdKUFknKTtcbmZyeCgnR0JQJywgJ1VTRCcpO1xuZnJ4KCdVU0QnLCAnQ0FEJyk7XG5mcngoJ1VTRCcsICdDSEYnKTtcbmZyeCgnVVNEJywgJ0pQWScpO1xuLyogTWlub3IgUGFpcnMgKi9cblxuZnJ4KCdBVUQnLCAnQ0FEJyk7XG5mcngoJ0FVRCcsICdDSEYnKTtcbmZyeCgnQVVEJywgJ05aRCcpO1xuZnJ4KCdBVUQnLCAnUExOJyk7XG5mcngoJ0VVUicsICdOWkQnKTtcbmZyeCgnR0JQJywgJ0NBRCcpO1xuZnJ4KCdHQlAnLCAnQ0hGJyk7XG5mcngoJ0dCUCcsICdOT0snKTtcbmZyeCgnR0JQJywgJ05aRCcpO1xuZnJ4KCdHQlAnLCAnUExOJyk7XG5mcngoJ05aRCcsICdKUFknKTtcbmZyeCgnTlpEJywgJ1VTRCcpO1xuZnJ4KCdVU0QnLCAnTVhOJyk7XG5mcngoJ1VTRCcsICdOT0snKTtcbmZyeCgnVVNEJywgJ1BMTicpO1xuZnJ4KCdVU0QnLCAnU0VLJyk7XG4vKiBTbWFydCBGWCAqL1xuXG53bGQoJ0FVRCcpO1xud2xkKCdFVVInKTtcbndsZCgnR0JQJyk7XG53bGQoJ1VTRCcpO1xuLyogT1RDIEluZGljaWVzICovXG5cbm90YygnRHV0Y2gnLCAnT1RDX0FFWCcpO1xub3RjKCdHQlAnLCAnT1RDX0ZUU0UnKTtcbm90YygnRVVSJywgJ09UQ19TWDVFJyk7XG5vdGMoJ0ZyZW5jaCcsICdPVENfRkNISScpO1xub3RjKCdHZXJtYW4nLCAnT1RDX0dEQVhJJyk7XG5vdGMoJ0pQWScsICdPVENfTjIyNScpO1xub3RjKCdTcGFuaXNoJywgJ09UQ19JQkVYMzUnKTtcbm90YygnVVNEJywgJ09UQ19TUEMnKTtcbm90YygnV2FsbFN0cmVldCcsICdPVENfREpJJyk7XG5vdGMoJ1VTRCcsICdPVENfTkRYJyk7XG5vdGMoJ0NIRicsICdPVENfU1NNSScpO1xub3RjKCdIb25nS29uZycsICdPVENfSFNJJyk7XG5vdGMoJ0FVRCcsICdPVENfQVM1MScpO1xudmFyIEFjdGl2ZU9wdGlvbnNJY29uTWFwID0ge1xuICBkZWxldGU6IERlbGV0ZUljb24sXG4gIGVkaXQ6IEVkaXRJY29uXG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL0xhc3REaWdpdFN0YXRzLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0xhc3REaWdpdFN0YXRzLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19sYXN0X2RpZ2l0c19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2xhc3QtZGlnaXRzLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fbGFzdC1kaWdpdHMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2xhc3RfZGlnaXRzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2xhc3RfZGlnaXRzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG52YXIgQmFyID0gZnVuY3Rpb24gQmFyKF9yZWYpIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgICBiYXIgPSBfcmVmLmJhcjtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1iYXIgXCIuY29uY2F0KGJhci5jTmFtZSksXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoYmFyLmhlaWdodCAqIDUsIFwiJVwiKSxcbiAgICAgIGxlZnQ6IHggKiAzNVxuICAgIH1cbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWJhci12YWx1ZSBcIi5jb25jYXQoYmFyLmhlaWdodCAmJiAnc2hvdycpXG4gIH0sIFwiXCIuY29uY2F0KGJhci5oZWlnaHQudG9GaXhlZCgxKSwgXCIlXCIpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1iYXItdGl0bGVcIlxuICB9LCB4KSk7XG59O1xuXG52YXIgTGFzdERpZ2l0U3RhdHMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExhc3REaWdpdFN0YXRzLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMYXN0RGlnaXRTdGF0cygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFzdERpZ2l0U3RhdHMpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihMYXN0RGlnaXRTdGF0cykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGFzdERpZ2l0U3RhdHMsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5wcm9wcy5zaG93TGFzdERpZ2l0U3RhdHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShfcmVmMikge1xuICAgICAgdmFyIG1hcmtldERpc3BsYXlOYW1lID0gX3JlZjIubWFya2V0RGlzcGxheU5hbWU7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm1hcmtldERpc3BsYXlOYW1lICE9PSBtYXJrZXREaXNwbGF5TmFtZSkge1xuICAgICAgICB0aGlzLnByb3BzLmNoYW5nZVN5bWJvbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0xhc3REaWdpdFN0YXRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGlzVmlzaWJsZSA9IF90aGlzJHByb3BzLmlzVmlzaWJsZSxcbiAgICAgICAgICBiYXJzID0gX3RoaXMkcHJvcHMuYmFycyxcbiAgICAgICAgICBtYXJrZXREaXNwbGF5TmFtZSA9IF90aGlzJHByb3BzLm1hcmtldERpc3BsYXlOYW1lLFxuICAgICAgICAgIHNob3VsZE1pbmltaXNlTGFzdERpZ2l0cyA9IF90aGlzJHByb3BzLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0cztcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLWxhc3QtZGlnaXRzIFwiLmNvbmNhdChpc1Zpc2libGUgPyAnc2hvdycgOiAnJywgXCIgXCIpLmNvbmNhdChzaG91bGRNaW5pbWlzZUxhc3REaWdpdHMgPyAnbWluaW1pc2VkJyA6ICcnKVxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1iYXJzXCJcbiAgICAgIH0sIGJhcnMubWFwKGZ1bmN0aW9uIChiYXIsIGlkeCkge1xuICAgICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChCYXIsIHtcbiAgICAgICAgICBrZXk6IFwiYmFyLVwiLmNvbmNhdChpZHgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5XG4gICAgICAgICAgLFxuICAgICAgICAgIHg6IGlkeCxcbiAgICAgICAgICBiYXI6IGJhclxuICAgICAgICB9KTtcbiAgICAgIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1iYXItZm9vdGVyXCJcbiAgICAgIH0sIHQudHJhbnNsYXRlKCdMYXN0IGRpZ2l0cyBzdGF0cyBmb3IgbGF0ZXN0IDEwMDAgdGlja3Mgb24gJykgKyBtYXJrZXREaXNwbGF5TmFtZSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMYXN0RGlnaXRTdGF0cztcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgbCA9IF9yZWYzLmxhc3REaWdpdFN0YXRzO1xuICByZXR1cm4ge1xuICAgIHNob3dMYXN0RGlnaXRTdGF0czogbC5zaG93TGFzdERpZ2l0U3RhdHMsXG4gICAgaXNWaXNpYmxlOiBsLmlzVmlzaWJsZSxcbiAgICBiYXJzOiBsLmJhcnMsXG4gICAgbWFya2V0RGlzcGxheU5hbWU6IGwubWFya2V0RGlzcGxheU5hbWUsXG4gICAgY2hhbmdlU3ltYm9sOiBsLmNoYW5nZVN5bWJvbCxcbiAgICBzaG91bGRNaW5pbWlzZUxhc3REaWdpdHM6IGwuc2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXG4gIH07XG59KShMYXN0RGlnaXRTdGF0cykpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9MaXN0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTGlzdC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfbGlzdF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2NvbXBvbmVudHMvX2NpcS1saXN0LnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLWxpc3Quc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9saXN0X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihfc2Fzc19jb21wb25lbnRzX2NpcV9saXN0X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG5cblxuXG5cbnZhciBMaXN0ID0gZnVuY3Rpb24gTGlzdChfcmVmKSB7XG4gIHZhciBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGl0ZW1zID0gX3JlZi5pdGVtcyxcbiAgICAgIG9uSXRlbUNsaWNrID0gX3JlZi5vbkl0ZW1DbGljayxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgdmFyIGhhc0Z1bmN0aW9uQXNDaGlsZHJlbiA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJztcbiAgdmFyIHJlbmRlclJvdyA9IGhhc0Z1bmN0aW9uQXNDaGlsZHJlbiA/IGNoaWxkcmVuIDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS50ZXh0O1xuICB9O1xuXG4gIHZhciBpdGVtQ2xhc3NOYW1lID0gZnVuY3Rpb24gaXRlbUNsYXNzTmFtZShpdCkge1xuICAgIHJldHVybiAnY2lxLWxpc3QtaXRlbScgKyBcIiBcIi5jb25jYXQoaXQuZGlzYWJsZWQgPyAnZGlzYWJsZWQnIDogJycpICsgXCIgXCIuY29uY2F0KGl0LmFjdGl2ZSA/ICdhY3RpdmUnIDogJycpO1xuICB9O1xuXG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1saXN0XCIsXG4gICAgYXV0b0hlaWdodDogdHJ1ZSxcbiAgICBzdHlsZTogaGVpZ2h0ICYmIHtcbiAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0LCBcInB4XCIpXG4gICAgfVxuICB9LCBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0LCBpZHgpIHtcbiAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGl0LmlkLFxuICAgICAgY2xhc3NOYW1lOiBpdGVtQ2xhc3NOYW1lKGl0KSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIHJldHVybiBvbkl0ZW1DbGljayhpZHgsIGl0KTtcbiAgICAgIH1cbiAgICB9LCByZW5kZXJSb3coaXQpKTtcbiAgfSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChMaXN0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9Mb2FkZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL0xvYWRlci5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG5cblxuXG52YXIgTG9hZGVyID0gZnVuY3Rpb24gTG9hZGVyKF9yZWYpIHtcbiAgdmFyIGlzQWN0aXZlID0gX3JlZi5pc0FjdGl2ZSxcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IF9yZWYuY3VycmVudFN0YXRlO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWxvYWRlciBcIi5jb25jYXQoaXNBY3RpdmUgPyAnc2hvdycgOiAnJylcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWxvYWRlci1zcGluXCJcbiAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1sb2FkZXItc3RhdHVzXCJcbiAgfSwgY3VycmVudFN0YXRlKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBsID0gX3JlZjIubG9hZGVyO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlOiBsLmlzQWN0aXZlLFxuICAgIGN1cnJlbnRTdGF0ZTogbC5jdXJyZW50U3RhdGVcbiAgfTtcbn0pKExvYWRlcikpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL01hcmtlci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTWFya2VyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfTWFya2VyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL01hcmtlclN0b3JlICovIFwiLi9zcmMvc3RvcmUvTWFya2VyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19tYXJrZXJzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fbWFya2Vycy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX21hcmtlcnMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX21hcmtlcnNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfbWFya2Vyc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18pO1xuXG5cblxuXG5cbnZhciBNYXJrZXIgPSBmdW5jdGlvbiBNYXJrZXIoX3JlZikge1xuICB2YXIgZGlzcGxheSA9IF9yZWYuZGlzcGxheSxcbiAgICAgIGxlZnQgPSBfcmVmLmxlZnQsXG4gICAgICBib3R0b20gPSBfcmVmLmJvdHRvbSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN0eC1tYXJrZXIgXCIuY29uY2F0KGNsYXNzTmFtZSB8fCAnJyksXG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgYm90dG9tOiBib3R0b21cbiAgICB9XG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBzdG9yZS5sZWZ0LFxuICAgIGJvdHRvbTogc3RvcmUuYm90dG9tLFxuICAgIGNoaWxkcmVuOiBzdG9yZS5jaGlsZHJlbixcbiAgICBjbGFzc05hbWU6IHN0b3JlLmNsYXNzTmFtZSxcbiAgICBkaXNwbGF5OiBzdG9yZS5kaXNwbGF5XG4gIH07XG59LCBfc3RvcmVfTWFya2VyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKE1hcmtlcikpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL01hcmtldE9wZW5pbmdUaW1lQ291bnRlci5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1hcmtldE9wZW5pbmdUaW1lQ291bnRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1hcmtldE9wZW5pbmdUaW1lQ291bnRlcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfaW5kZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2luZGV4ICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cblxuXG5cbnZhciBNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE1hcmtldE9wZW5pbmdUaW1lQ291bnRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hcmtldE9wZW5pbmdUaW1lQ291bnRlcik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihNYXJrZXRPcGVuaW5nVGltZUNvdW50ZXIpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICBfdGhpcy5zZXJ2ZXJUaW1lID0gX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uZ2V0SW5zdGFuY2UoKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpbWU6IF90aGlzLnNlcnZlclRpbWUuZ2V0TG9jYWxEYXRlKCkuZ2V0VGltZSgpXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRpbWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIudGljaygpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdGltZTogdGhpcy5zZXJ2ZXJUaW1lLmdldExvY2FsRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgfSk7XG4gICAgfSAvLyA4NjQwMDAwMCA9IDI0IGhvdXIgKiA2MCBtaW4gKiA2MHMgKiAxMDAwbXNcblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgdGltZVVudGlsT3BlblRpbWUgPSBudWxsO1xuICAgICAgdmFyIHN5bWJvbE9wZW5UaW1lID0gdGhpcy5wcm9wcy5zeW1ib2xPcGVuVGltZS5zeW1ib2xPcGVuVGltZSB8fCB7fTtcbiAgICAgIHZhciBvcGVuVGltZSA9IHN5bWJvbE9wZW5UaW1lLm9wZW5UaW1lIHx8IG51bGw7XG5cbiAgICAgIGlmIChvcGVuVGltZSkge1xuICAgICAgICB0aW1lVW50aWxPcGVuVGltZSA9IE9iamVjdChfdXRpbHNfaW5kZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRpc3BsYXlNaWxsaXNlY29uZHNcIl0pKG9wZW5UaW1lLmdldFRpbWUoKSAtIHRoaXMuc3RhdGUudGltZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0aW1lVW50aWxPcGVuVGltZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hcmtldE9wZW5pbmdUaW1lQ291bnRlcjtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC1kb20gKi8gXCJyZWFjdC1kb21cIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfZG9tX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXRyYW5zaXRpb24tZ3JvdXAgKi8gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF90cmFuc2l0aW9uX2dyb3VwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG5cbnZhciBNZW51ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNZW51LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNZW51KCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lbnUpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoTWVudSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX3RoaXMub25PdmVybGF5Q2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ2NxLW1lbnUtb3ZlcmxheScpIHtcbiAgICAgICAgX3RoaXMucHJvcHMuc2V0T3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNZW51LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBvcGVuID0gX3RoaXMkcHJvcHMub3BlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICB0aXRsZSA9IF90aGlzJHByb3BzLnRpdGxlLFxuICAgICAgICAgIG9uVGl0bGVDbGljayA9IF90aGlzJHByb3BzLm9uVGl0bGVDbGljayxcbiAgICAgICAgICBEcm9wZG93bkRpYWxvZyA9IF90aGlzJHByb3BzLkRyb3Bkb3duRGlhbG9nLFxuICAgICAgICAgIGlzTW9iaWxlID0gX3RoaXMkcHJvcHMuaXNNb2JpbGUsXG4gICAgICAgICAgaXNGdWxsc2NyZWVuID0gX3RoaXMkcHJvcHMuaXNGdWxsc2NyZWVuLFxuICAgICAgICAgIG1vZGFsTm9kZSA9IF90aGlzJHByb3BzLm1vZGFsTm9kZSxcbiAgICAgICAgICBfdGhpcyRwcm9wcyRlbmFibGVkID0gX3RoaXMkcHJvcHMuZW5hYmxlZCxcbiAgICAgICAgICBlbmFibGVkID0gX3RoaXMkcHJvcHMkZW5hYmxlZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF90aGlzJHByb3BzJGVuYWJsZWQsXG4gICAgICAgICAgc2hvdWxkUmVuZGVyRGlhbG9ncyA9IF90aGlzJHByb3BzLnNob3VsZFJlbmRlckRpYWxvZ3M7XG4gICAgICB2YXIgZmlyc3QgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICByZXR1cm4gaSA9PT0gMCA/IGNoaWxkIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlc3QgPSByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgICByZXR1cm4gaSAhPT0gMCA/IGNoaWxkIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgdmFyIGRyb3Bkb3duID0gc2hvdWxkUmVuZGVyRGlhbG9ncyAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X3RyYW5zaXRpb25fZ3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNTU1RyYW5zaXRpb25cIl0sIHtcbiAgICAgICAgaW46IG9wZW4sXG4gICAgICAgIHRpbWVvdXQ6IDE1MCxcbiAgICAgICAgY2xhc3NOYW1lczogXCJjcS1tZW51LWRyb3Bkb3duXCJcbiAgICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25EaWFsb2csIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtZHJvcGRvd25cIixcbiAgICAgICAgaXNNb2JpbGU6IGlzTW9iaWxlLFxuICAgICAgICBpc0Z1bGxzY3JlZW46IGlzRnVsbHNjcmVlblxuICAgICAgfSwgdGl0bGUgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInRpdGxlLXRleHRcIlxuICAgICAgfSwgdGl0bGUpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkNsb3NlSWNvblwiXSwge1xuICAgICAgICBjbGFzc05hbWU6IFwiaWNvbi1jbG9zZS1tZW51XCIsXG4gICAgICAgIG9uQ2xpY2s6IG9uVGl0bGVDbGlja1xuICAgICAgfSkpLCByZXN0KSk7XG4gICAgICByZXR1cm4gZW5hYmxlZCAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNpcS1tZW51IGNpcS1lbmFibGVkIFwiLmNvbmNhdChjbGFzc05hbWUgfHwgJycsIFwiIFwiKS5jb25jYXQob3BlbiA/ICdzdHhNZW51QWN0aXZlJyA6ICcnKVxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1tZW51LWJ0blwiLFxuICAgICAgICBvbkNsaWNrOiBvblRpdGxlQ2xpY2tcbiAgICAgIH0sIGZpcnN0KSwgaXNNb2JpbGUgJiYgbW9kYWxOb2RlICYmIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVQb3J0YWwocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjcS1tb2RhbC1kcm9wZG93biBcIi5jb25jYXQoY2xhc3NOYW1lIHx8ICcnLCBcIiBcIikuY29uY2F0KG9wZW4gPyAnc3R4TWVudUFjdGl2ZScgOiAnJylcbiAgICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3EtbWVudS1vdmVybGF5XCIsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25PdmVybGF5Q2xpY2tcbiAgICAgIH0sIGRyb3Bkb3duKSksIG1vZGFsTm9kZSkgfHwgZHJvcGRvd24pIHx8IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2lxLW1lbnUgY2lxLWRpc2FibGVkIFwiLmNvbmNhdChjbGFzc05hbWUgfHwgJycpXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNxLW1lbnUtYnRuXCJcbiAgICAgIH0sIGZpcnN0KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lbnU7XG59KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDb21wb25lbnRcIl0pO1xuXG5NZW51LlRpdGxlID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuTWVudS5Cb2R5ID0gZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xuICByZXR1cm4gY2hpbGRyZW47XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE1lbnUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbkJhZGdlLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbkJhZGdlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cblxudmFyIE5vdGlmaWNhdGlvbkJhZGdlID0gZnVuY3Rpb24gTm90aWZpY2F0aW9uQmFkZ2UoX3JlZikge1xuICB2YXIgbm90aWZpY2F0aW9uQ291bnQgPSBfcmVmLm5vdGlmaWNhdGlvbkNvdW50O1xuICBpZiAoIW5vdGlmaWNhdGlvbkNvdW50KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aWZpY2F0aW9uLWJhZGdlIFwiLmNvbmNhdChub3RpZmljYXRpb25Db3VudCA+IDkgPyAneDInIDogJycpXG4gIH0sIG5vdGlmaWNhdGlvbkNvdW50KTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoTm90aWZpY2F0aW9uQmFkZ2UpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1BhZ2luYXRpb25Mb2FkZXIuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9QYWdpbmF0aW9uTG9hZGVyLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRmFzdE1hcmtlci5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zhc3RNYXJrZXIuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3BhZ2luYXRpb25fbG9hZGVyX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fcGFnaW5hdGlvbi1sb2FkZXIuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19wYWdpbmF0aW9uLWxvYWRlci5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfcGFnaW5hdGlvbl9sb2FkZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfcGFnaW5hdGlvbl9sb2FkZXJfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgUGFnaW5hdGlvbkxvYWRlciA9IGZ1bmN0aW9uIFBhZ2luYXRpb25Mb2FkZXIoX3JlZikge1xuICB2YXIgc2V0UmVmID0gX3JlZi5zZXRSZWY7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9GYXN0TWFya2VyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSwge1xuICAgIG1hcmtlclJlZjogc2V0UmVmLFxuICAgIGNsYXNzTmFtZTogXCJwYWdpbmF0aW9uXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInBhZ2luYXRpb25fX2xvYWRlclwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJwYWdpbmF0aW9uX19sb2FkZXItYmFja2dyb3VuZFwiXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBzID0gX3JlZjIucGFnaW5hdGlvbkxvYWRlcjtcbiAgcmV0dXJuIHtcbiAgICBzZXRSZWY6IHMuc2V0UmVmXG4gIH07XG59KShQYWdpbmF0aW9uTG9hZGVyKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvUHJpY2VMaW5lLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9QcmljZUxpbmUuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cbnZhciBQcmljZUxpbmUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFByaWNlTGluZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUHJpY2VMaW5lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmljZUxpbmUpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihQcmljZUxpbmUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByaWNlTGluZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnByb3BzLmluaXQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRyYWdnYWJsZSA9IF90aGlzJHByb3BzLmRyYWdnYWJsZSxcbiAgICAgICAgICBpc0RyYWdnaW5nID0gX3RoaXMkcHJvcHMuaXNEcmFnZ2luZyxcbiAgICAgICAgICBwcmljZURpc3BsYXkgPSBfdGhpcyRwcm9wcy5wcmljZURpc3BsYXksXG4gICAgICAgICAgc2V0RHJhZ0xpbmUgPSBfdGhpcyRwcm9wcy5zZXREcmFnTGluZSxcbiAgICAgICAgICB2aXNpYmxlID0gX3RoaXMkcHJvcHMudmlzaWJsZSxcbiAgICAgICAgICBsaW5lU3R5bGUgPSBfdGhpcyRwcm9wcy5saW5lU3R5bGUsXG4gICAgICAgICAgY29sb3IgPSBfdGhpcyRwcm9wcy5jb2xvcixcbiAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3IgPSBfdGhpcyRwcm9wcy5mb3JlZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wcy53aWR0aDtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNoYXJ0LWxpbmUgaG9yaXpvbnRhbCBcIi5jb25jYXQoZHJhZ2dhYmxlID8gJ2RyYWdnYWJsZScgOiAnJywgXCIgXCIpLmNvbmNhdChpc0RyYWdnaW5nID8gJ2RyYWdnaW5nJyA6ICcnLCBcIiBcIikuY29uY2F0KGNsYXNzTmFtZSB8fCAnJyksXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGNvbG9yOiBmb3JlZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yXG4gICAgICAgIH0sXG4gICAgICAgIHJlZjogc2V0RHJhZ0xpbmUsXG4gICAgICAgIGhpZGRlbjogIXZpc2libGVcbiAgICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiZHJhZy1saW5lXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYm9yZGVyVG9wU3R5bGU6IGxpbmVTdHlsZVxuICAgICAgICB9XG4gICAgICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJkcmFnZ2FibGUtYXJlYVwiXG4gICAgICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJkcmFnLXByaWNlXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcixcbiAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfVxuICAgICAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwcmljZVwiXG4gICAgICB9LCBwcmljZURpc3BsYXkpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByaWNlTGluZTtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIkNvbXBvbmVudFwiXSk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoUHJpY2VMaW5lKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9SZW5kZXJJbnNpZGVDaGFydC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtZG9tICovIFwicmVhY3QtZG9tXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdWlfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdWkvdXRpbHMgKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL3V0aWxzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5cblxuXG5cbnZhciBpbkNoYXJ0UHJlZml4ID0gJ2NxLWluY2hhcnQtJzsgLy8gUmVuZGVyIGdpdmVuIENvbXBvbmVudHMgdW5kZXIgc3R4LWhvbGRlciB0byBwb3NpdGlvbiBpdCByZWxhdGl2ZSB0byB0aGUgYWN0aXZlIHN5bWJvbCBjaGFydC5cblxudmFyIFJlbmRlckluc2lkZUNoYXJ0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSZW5kZXJJbnNpZGVDaGFydCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVuZGVySW5zaWRlQ2hhcnQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVySW5zaWRlQ2hhcnQpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUmVuZGVySW5zaWRlQ2hhcnQpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICB2YXIgX3Byb3BzJGF0ID0gcHJvcHMuYXQsXG4gICAgICAgIGF0ID0gX3Byb3BzJGF0ID09PSB2b2lkIDAgPyAnaG9sZGVyJyA6IF9wcm9wcyRhdCxcbiAgICAgICAgY29udGV4dFByb21pc2UgPSBwcm9wcy5jb250ZXh0UHJvbWlzZTtcbiAgICBjb250ZXh0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBcIlwiLmNvbmNhdChpbkNoYXJ0UHJlZml4KS5jb25jYXQoYXQpOyAvLyByZXVzZSBleGlzdGluZyBub2RlIHdoZW4gcG9zc2libGU6XG5cbiAgICAgIHZhciBlbGVtID0gY29udGV4dC50b3BOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KG5vZGVOYW1lKSk7XG5cbiAgICAgIGlmICghZWxlbSkge1xuICAgICAgICBlbGVtID0gT2JqZWN0KF91aV91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY3JlYXRlRWxlbWVudFwiXSkoXCI8ZGl2IGNsYXNzPVxcXCJcIi5jb25jYXQobm9kZU5hbWUsIFwiXFxcIj48L2Rpdj5cIikpO1xuICAgICAgICBjb250ZXh0LnN0eC5jaGFydC5wYW5lbFthdF0uYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNvbnRhaW5lciA9IGVsZW07XG5cbiAgICAgIF90aGlzLmZvcmNlVXBkYXRlKCk7IC8vIGZvcmNlIHJlbmRlciB0byBiZSBjYWxsZWQgYWZ0ZXIgZ2V0dGluZyB0aGUgY29udGFpbmVyXG5cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVuZGVySW5zaWRlQ2hhcnQsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAodGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0X2RvbV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQuYS5jcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5jb250YWluZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVuZGVySW5zaWRlQ2hhcnQ7XG59KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDb21wb25lbnRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNoYXJ0ID0gX3JlZi5jaGFydDtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0UHJvbWlzZTogY2hhcnQuY29udGV4dFByb21pc2VcbiAgfTtcbn0pKFJlbmRlckluc2lkZUNoYXJ0KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2VhcmNoSW5wdXQuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvU2VhcmNoSW5wdXQuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5cblxuXG5cbnZhciBTZWFyY2hJbnB1dCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU2VhcmNoSW5wdXQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNlYXJjaElucHV0KCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaElucHV0KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFNlYXJjaElucHV0KSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7XG5cbiAgICBfdGhpcy5jbGVhckZpbHRlclRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSgnJyk7XG4gICAgfTtcblxuICAgIF90aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlYXJjaElucHV0LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwbGFjZWhvbGRlciA9IF90aGlzJHByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMudmFsdWUsXG4gICAgICAgICAgc2VhcmNoSW5wdXQgPSBfdGhpcyRwcm9wcy5zZWFyY2hJbnB1dCxcbiAgICAgICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZSA9IF90aGlzJHByb3BzLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY3EtbG9va3VwLWlucHV0IFwiLmNvbmNhdCh2YWx1ZS50cmltKCkgIT09ICcnID8gJ2FjdGl2ZScgOiAnJylcbiAgICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogc2VhcmNoSW5wdXRDbGFzc05hbWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcmVmOiBzZWFyY2hJbnB1dCxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBzcGVsbENoZWNrOiBcIm9mZlwiLFxuICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgIGF1dG9Db3JyZWN0OiBcIm9mZlwiLFxuICAgICAgICBhdXRvQ2FwaXRhbGl6ZTogXCJvZmZcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyXG4gICAgICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJTZWFyY2hJY29uXCJdLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJDbG9zZUNpcmNsZUljb25cIl0sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImljb24tcmVzZXRcIixcbiAgICAgICAgb25DbGljazogdGhpcy5jbGVhckZpbHRlclRleHRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VhcmNoSW5wdXQ7XG59KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJDb21wb25lbnRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGMgPSBfcmVmLmNoYXJ0O1xuICByZXR1cm4ge1xuICAgIGlzTW9iaWxlOiBjLmlzTW9iaWxlXG4gIH07XG59KShTZWFyY2hJbnB1dCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NldHRpbmdzRGlhbG9nLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1NldHRpbmdzRGlhbG9nLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRm9ybS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zvcm0uanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhdm9yaXRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9GYXZvcml0ZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zhdm9yaXRlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9zZXR0aW5nc19kaWFsb2dfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaXEtc2V0dGluZ3MtZGlhbG9nLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2lxLXNldHRpbmdzLWRpYWxvZy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2lxX3NldHRpbmdzX2RpYWxvZ19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaXFfc2V0dGluZ3NfZGlhbG9nX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyk7XG5cblxuXG5cblxuXG52YXIgU2V0dGluZ3NQYW5lbCA9IGZ1bmN0aW9uIFNldHRpbmdzUGFuZWwoX3JlZikge1xuICB2YXIgaXRlbXMgPSBfcmVmLml0ZW1zLFxuICAgICAgb25JdGVtQ2hhbmdlID0gX3JlZi5vbkl0ZW1DaGFuZ2U7XG4gIHZhciByZW5kZXJNYXAgPSB7XG4gICAgc3dpdGNoOiBmdW5jdGlvbiBfc3dpdGNoKGl0ZW0pIHtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiU3dpdGNoXCJdLCB7XG4gICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uodikge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY29sb3JwaWNrZXI6IGZ1bmN0aW9uIGNvbG9ycGlja2VyKGl0ZW0pIHtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ29sb3JQaWNrZXJcIl0sIHtcbiAgICAgICAgY29sb3I6IGl0ZW0udmFsdWUsXG4gICAgICAgIHNldENvbG9yOiBmdW5jdGlvbiBzZXRDb2xvcih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHBhdHRlcm46IGZ1bmN0aW9uIHBhdHRlcm4oaXRlbSkge1xuICAgICAgdmFyIGxpbmVXaWR0aCA9IGl0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiBpdC5pZCA9PT0gJ2xpbmVXaWR0aCc7XG4gICAgICB9KS52YWx1ZTtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiUGF0dGVyblwiXSwge1xuICAgICAgICBwYXR0ZXJuOiBpdGVtLnZhbHVlLFxuICAgICAgICBsaW5lV2lkdGg6IGxpbmVXaWR0aCxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHYpIHtcbiAgICAgICAgICBvbkl0ZW1DaGFuZ2UoJ3BhdHRlcm4nLCB2LnBhdHRlcm4pO1xuICAgICAgICAgIG9uSXRlbUNoYW5nZSgnbGluZVdpZHRoJywgdi53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoaXRlbSkge1xuICAgICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJEcm9wRG93blwiXSwge1xuICAgICAgICByb3dzOiBPYmplY3Qua2V5cyhpdGVtLm9wdGlvbnMpLFxuICAgICAgICB0aXRsZTogaXRlbS52YWx1ZSxcbiAgICAgICAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljayh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKGl0ZW0pIHtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiU2xpZGVyXCJdLCB7XG4gICAgICAgIG1pbjogaXRlbS5taW4gfHwgMSxcbiAgICAgICAgc3RlcDogaXRlbS5zdGVwIHx8IDEsXG4gICAgICAgIG1heDogaXRlbS5tYXggfHwgMTAwLFxuICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBudW1lcmljaW5wdXQ6IGZ1bmN0aW9uIG51bWVyaWNpbnB1dChpdGVtKSB7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2lxLW51bS1pbnB1dFwiXG4gICAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Gb3JtX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiTnVtZXJpY0lucHV0XCJdLCB7XG4gICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSXRlbUNoYW5nZShpdGVtLmlkLCB2YWwpO1xuICAgICAgICB9LFxuICAgICAgICBtaW46IGl0ZW0ubWluLFxuICAgICAgICBzdGVwOiBpdGVtLnN0ZXAsXG4gICAgICAgIG1heDogaXRlbS5tYXhcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIG51bWJlcmNvbG9ycGlja2VyOiBmdW5jdGlvbiBudW1iZXJjb2xvcnBpY2tlcihpdGVtKSB7XG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRm9ybV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIk51bWJlckNvbG9yUGlja2VyXCJdLCB7XG4gICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIG9uSXRlbUNoYW5nZShpdGVtLmlkLCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZvbnQ6IGZ1bmN0aW9uIGZvbnQoaXRlbSkge1xuICAgICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zvcm1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGb250U2V0dGluZ1wiXSwge1xuICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCkge1xuICAgICAgICAgIHJldHVybiBvbkl0ZW1DaGFuZ2UoaXRlbS5pZCwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIml0ZW1zXCJcbiAgfSwgaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIHJlbmRlck1hcFtpdGVtLnR5cGVdICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBpdGVtLmlkLFxuICAgICAgY2xhc3NOYW1lOiBcIml0ZW1cIlxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInRpdGxlXCJcbiAgICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBpdGVtLnRpdGxlKSwgcmVuZGVyTWFwW2l0ZW0udHlwZV0oaXRlbSkpKTtcbiAgfSkpO1xufTtcblxudmFyIFJlc2V0QnV0dG9uID0gZnVuY3Rpb24gUmVzZXRCdXR0b24oX3JlZjIpIHtcbiAgdmFyIG9uUmVzZXRDbGljayA9IF9yZWYyLm9uUmVzZXRDbGljaztcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZXNldFwiLFxuICAgIG9uQ2xpY2s6IG9uUmVzZXRDbGlja1xuICB9LCB0LnRyYW5zbGF0ZSgnUkVTRVQnKSk7XG59O1xuXG52YXIgRG9uZUJ1dHRvbiA9IGZ1bmN0aW9uIERvbmVCdXR0b24oX3JlZjMpIHtcbiAgdmFyIHNldE9wZW4gPSBfcmVmMy5zZXRPcGVuO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImRvbmVcIixcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIHNldE9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSwgdC50cmFuc2xhdGUoJ0RPTkUnKSk7XG59O1xuXG52YXIgVGFicyA9IGZ1bmN0aW9uIFRhYnMoX3JlZjQpIHtcbiAgdmFyIG9uVGFiQ2xpY2sgPSBfcmVmNC5vblRhYkNsaWNrLFxuICAgICAgYWN0aXZlVGFiID0gX3JlZjQuYWN0aXZlVGFiO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInRhYnNcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uVGFiQ2xpY2soJ3NldHRpbmdzJyk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGFjdGl2ZVRhYiA9PT0gJ3NldHRpbmdzJyA/ICdhY3RpdmUnIDogJydcbiAgfSwgXCIgU2V0dGluZ3NcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25UYWJDbGljaygnZGVzY3JpcHRpb24nKTtcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogYWN0aXZlVGFiID09PSAnZGVzY3JpcHRpb24nID8gJ2FjdGl2ZScgOiAnJ1xuICB9LCBcIiBEZXNjcmlwdGlvblwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImFjdGl2ZS1ib3JkZXIgXCIuY29uY2F0KGFjdGl2ZVRhYiA9PT0gJ3NldHRpbmdzJyA/ICdmaXJzdCcgOiAnc2Vjb25kJylcbiAgfSkpO1xufTtcblxudmFyIFNldHRpbmdzRGlhbG9nID0gZnVuY3Rpb24gU2V0dGluZ3NEaWFsb2coX3JlZjUpIHtcbiAgdmFyIGlkID0gX3JlZjUuaWQsXG4gICAgICBpdGVtcyA9IF9yZWY1Lml0ZW1zLFxuICAgICAgdGl0bGUgPSBfcmVmNS50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uID0gX3JlZjUuZGVzY3JpcHRpb24sXG4gICAgICBhY3RpdmVUYWIgPSBfcmVmNS5hY3RpdmVUYWIsXG4gICAgICBzZXRPcGVuID0gX3JlZjUuc2V0T3BlbixcbiAgICAgIHNob3dUYWJzID0gX3JlZjUuc2hvd1RhYnMsXG4gICAgICBvblRhYkNsaWNrID0gX3JlZjUub25UYWJDbGljayxcbiAgICAgIG9uRGVsZXRlQ2xpY2sgPSBfcmVmNS5vbkRlbGV0ZUNsaWNrLFxuICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmNS5mYXZvcml0ZXNJZCxcbiAgICAgIG9uUmVzZXRDbGljayA9IF9yZWY1Lm9uUmVzZXRDbGljayxcbiAgICAgIG9uSXRlbUNoYW5nZSA9IF9yZWY1Lm9uSXRlbUNoYW5nZSxcbiAgICAgIERpYWxvZyA9IF9yZWY1LkRpYWxvZyxcbiAgICAgIG9wZW4gPSBfcmVmNS5vcGVuO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWRpYWxvZy1vdmVybGF5IFwiLmNvbmNhdChvcGVuID8gJ2NxLWRpYWxvZy1hY3RpdmUnIDogJycpXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRGlhbG9nLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWRpYWxvZyBjcS1zZXR0aW5ncy1kaWFsb2dcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGViYXIgXCIuY29uY2F0KCFzaG93VGFicyA/ICduby10YWJzJyA6ICcnKVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwidGl0bGVcIlxuICB9LCB0aXRsZSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJpY29uc1wiXG4gIH0sIG9uRGVsZXRlQ2xpY2sgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJEZWxldGVJY29uXCJdLCB7XG4gICAgb25DbGljazogb25EZWxldGVDbGljayxcbiAgICBjbGFzc05hbWU6IFwibWFyZ2luXCJcbiAgfSksIGZhdm9yaXRlc0lkICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zhdm9yaXRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwge1xuICAgIGlkOiBpZCxcbiAgICBjYXRlZ29yeTogZmF2b3JpdGVzSWRcbiAgfSkpKSwgc2hvd1RhYnMgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUYWJzLCB7XG4gICAgYWN0aXZlVGFiOiBhY3RpdmVUYWIsXG4gICAgb25UYWJDbGljazogb25UYWJDbGlja1xuICB9KSwgYWN0aXZlVGFiID09PSAnc2V0dGluZ3MnID8gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5GcmFnbWVudCwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTZXR0aW5nc1BhbmVsLCB7XG4gICAgaXRlbXM6IGl0ZW1zLFxuICAgIG9uSXRlbUNoYW5nZTogb25JdGVtQ2hhbmdlXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYnV0dG9uc1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoUmVzZXRCdXR0b24sIHtcbiAgICBvblJlc2V0Q2xpY2s6IG9uUmVzZXRDbGlja1xuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChEb25lQnV0dG9uLCB7XG4gICAgc2V0T3Blbjogc2V0T3BlblxuICB9KSkpIDogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImRlc2NyaXB0aW9uXCJcbiAgfSwgZGVzY3JpcHRpb24pKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTZXR0aW5nc0RpYWxvZyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYWRlLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1NoYWRlLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG5cblxudmFyIFNoYWRlID0gZnVuY3Rpb24gU2hhZGUoX3JlZikge1xuICB2YXIgdmlzaWJsZSA9IF9yZWYudmlzaWJsZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgc2V0U2hhZGVSZWYgPSBfcmVmLnNldFNoYWRlUmVmO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInNoYWRlIFwiLmNvbmNhdChjbGFzc05hbWUgfHwgJycsIFwiIFwiKS5jb25jYXQodmlzaWJsZSA/ICcnIDogJ2hpZGRlbicpLFxuICAgIHJlZjogc2V0U2hhZGVSZWYsXG4gICAgc3R5bGU6IHtcbiAgICAgIHRvcDogLTEyMFxuICAgIH1cbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFNoYWRlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TaGFyZS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9TaGFyZS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3N0b3JlL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c19jaXFfZG93bmxvYWRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jaXEtZG93bmxvYWQuc2NzcyAqLyBcIi4vc2Fzcy9jb21wb25lbnRzL19jaXEtZG93bmxvYWQuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NpcV9kb3dubG9hZF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jaXFfZG93bmxvYWRfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcblxuXG5cblxuXG52YXIgU2hhcmUgPSBmdW5jdGlvbiBTaGFyZShfcmVmKSB7XG4gIHZhciBTaGFyZU1lbnUgPSBfcmVmLlNoYXJlTWVudSxcbiAgICAgIG1lbnVPcGVuID0gX3JlZi5tZW51T3BlbixcbiAgICAgIGRvd25sb2FkQ1NWID0gX3JlZi5kb3dubG9hZENTVixcbiAgICAgIGRvd25sb2FkUE5HID0gX3JlZi5kb3dubG9hZFBORyxcbiAgICAgIGlzTG9hZGluZ1BORyA9IF9yZWYuaXNMb2FkaW5nUE5HO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTaGFyZU1lbnUsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtZG93bmxvYWRcIixcbiAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0Rvd25sb2FkIENoYXJ0JylcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTaGFyZU1lbnUuVGl0bGUsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiRG93bmxvYWRJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLWljb24td2l0aC1zdWIgXCIuY29uY2F0KG1lbnVPcGVuID8gJ2FjdGl2ZScgOiAnJyksXG4gICAgXCJ0b29sdGlwLXRpdGxlXCI6IHQudHJhbnNsYXRlKCdEb3dubG9hZCcpXG4gIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTaGFyZU1lbnUuQm9keSwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImJvZHlcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdCBjaXEtbGlzdC1kb3dubG9hZFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtbGlzdC1pdGVtXCIsXG4gICAgb25DbGljazogZG93bmxvYWRQTkdcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtaWNvbi10ZXh0XCJcbiAgfSwgdC50cmFuc2xhdGUoJ0Rvd25sb2FkIGFzIFBORycpLCBpc0xvYWRpbmdQTkcgJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1sb2FkaW5nXCJcbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlBuZ0ljb25cIl0sIG51bGwpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1saXN0LWl0ZW1cIixcbiAgICBvbkNsaWNrOiBkb3dubG9hZENTVlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1pY29uLXRleHRcIlxuICB9LCB0LnRyYW5zbGF0ZSgnRG93bmxvYWQgYXMgQ1NWJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIkNzdkljb25cIl0sIG51bGwpKSkpKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgZCA9IF9yZWYyLnNoYXJlO1xuICByZXR1cm4ge1xuICAgIFNoYXJlTWVudTogZC5TaGFyZU1lbnUsXG4gICAgbWVudU9wZW46IGQubWVudS5kaWFsb2cub3BlbixcbiAgICBkb3dubG9hZFBORzogZC5kb3dubG9hZFBORyxcbiAgICBkb3dubG9hZENTVjogZC5kb3dubG9hZENTVixcbiAgICBpc0xvYWRpbmdQTkc6IGQuaXNMb2FkaW5nUE5HXG4gIH07XG59KShTaGFyZSkpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TbWFydENoYXJ0LmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvU21hcnRDaGFydC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieC1yZWFjdCAqLyBcIm1vYngtcmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZSAqLyBcIi4vc3JjL3N0b3JlL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnQuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DaGFydC5qc3hcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG5cbnZhciBTbWFydENoYXJ0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTbWFydENoYXJ0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTbWFydENoYXJ0KCkge1xuICAgIHZhciBfZ2V0UHJvdG90eXBlT2YyO1xuXG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNtYXJ0Q2hhcnQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoU21hcnRDaGFydCkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuICAgIF90aGlzLm1haW5TdG9yZSA9IG5ldyBfc3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU21hcnRDaGFydCwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChtb2J4X3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJQcm92aWRlclwiXSwgdGhpcy5tYWluU3RvcmUsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0NoYXJ0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSwgcHJvcHMsIGNoaWxkcmVuKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuc3R4eDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU21hcnRDaGFydDtcbn0ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuQ29tcG9uZW50KTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChTbWFydENoYXJ0KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TdHVkeUxlZ2VuZC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9TdHVkeUxlZ2VuZC5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX05vdGlmaWNhdGlvbkJhZGdlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Ob3RpZmljYXRpb25CYWRnZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbkJhZGdlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcblxuXG5cblxuXG52YXIgU3R1ZHlMZWdlbmQgPSBmdW5jdGlvbiBTdHVkeUxlZ2VuZChfcmVmKSB7XG4gIHZhciBpc09wZW5lZCA9IF9yZWYuaXNPcGVuZWQsXG4gICAgICBzZXRPcGVuID0gX3JlZi5zZXRPcGVuLFxuICAgICAgU3R1ZHlNZW51ID0gX3JlZi5TdHVkeU1lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWYubWVudU9wZW4sXG4gICAgICBTdHVkeUNhdGVnb3JpY2FsRGlzcGxheSA9IF9yZWYuU3R1ZHlDYXRlZ29yaWNhbERpc3BsYXksXG4gICAgICBpc01vYmlsZSA9IF9yZWYuaXNNb2JpbGUsXG4gICAgICBhY3RpdmVTdHVkaWVzTm8gPSBfcmVmLmFjdGl2ZVN0dWRpZXNObyxcbiAgICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lID0gX3JlZi5zZWFyY2hJbnB1dENsYXNzTmFtZSxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmLmRpc2FibGVBbGw7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFN0dWR5TWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtc3R1ZGllc1wiLFxuICAgIGlzT3BlbmVkOiBpc09wZW5lZCxcbiAgICBzZXRPcGVuOiBzZXRPcGVuLFxuICAgIGlzTW9iaWxlOiBpc01vYmlsZSxcbiAgICB0aXRsZTogaXNNb2JpbGUgPyB0LnRyYW5zbGF0ZSgnSW5kaWNhdG9ycycpIDogJydcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTdHVkeU1lbnUuVGl0bGUsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiSW5kaWNhdG9ySWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChtZW51T3BlbiA/ICdhY3RpdmUnIDogJycpLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZSgnSW5kaWNhdG9ycycpXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9Ob3RpZmljYXRpb25CYWRnZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sIHtcbiAgICBub3RpZmljYXRpb25Db3VudDogYWN0aXZlU3R1ZGllc05vXG4gIH0pKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTdHVkeU1lbnUuQm9keSwgbnVsbCwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChTdHVkeUNhdGVnb3JpY2FsRGlzcGxheSwge1xuICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lOiBzZWFyY2hJbnB1dENsYXNzTmFtZSxcbiAgICBkaXNhYmxlQWxsOiBkaXNhYmxlQWxsXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE9iamVjdChfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBzdCA9IF9yZWYyLnN0dWRpZXMsXG4gICAgICBjaGFydCA9IF9yZWYyLmNoYXJ0O1xuICByZXR1cm4ge1xuICAgIGlzT3BlbmVkOiBzdC5vcGVuLFxuICAgIHNldE9wZW46IHN0LnNldE9wZW4sXG4gICAgU3R1ZHlNZW51OiBzdC5TdHVkeU1lbnUsXG4gICAgbWVudU9wZW46IHN0Lm1lbnUub3BlbixcbiAgICBTdHVkeUNhdGVnb3JpY2FsRGlzcGxheTogc3QuU3R1ZHlDYXRlZ29yaWNhbERpc3BsYXksXG4gICAgaXNNb2JpbGU6IGNoYXJ0LmlzTW9iaWxlLFxuICAgIGFjdGl2ZVN0dWRpZXNObzogc3QuYWN0aXZlU3R1ZGllcy5kYXRhLmxlbmd0aCxcbiAgICBkaXNhYmxlQWxsOiBzdC5oYXNSZWFjaGVkTGltaXRzXG4gIH07XG59KShTdHVkeUxlZ2VuZCkpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9TeW1ib2xTZWxlY3RCdXR0b24uanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFN5bWJvbEluZm8sIFN5bWJvbFNlbGVjdEJ1dHRvbiwgQ2hhcnRQcmljZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlN5bWJvbEluZm9cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTeW1ib2xJbmZvOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTeW1ib2xTZWxlY3RCdXR0b25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTeW1ib2xTZWxlY3RCdXR0b247IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNoYXJ0UHJpY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDaGFydFByaWNlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01hcmtldE9wZW5pbmdUaW1lQ291bnRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWFya2V0T3BlbmluZ1RpbWVDb3VudGVyLmpzeFwiKTtcblxuXG5cbnZhciBTeW1ib2xJbmZvID0gZnVuY3Rpb24gU3ltYm9sSW5mbyhfcmVmKSB7XG4gIHZhciBzeW1ib2wgPSBfcmVmLnN5bWJvbCxcbiAgICAgIENoYXJ0UHJpY2UgPSBfcmVmLkNoYXJ0UHJpY2UsXG4gICAgICBpc1N5bWJvbE9wZW4gPSBfcmVmLmlzU3ltYm9sT3BlbixcbiAgICAgIHN5bWJvbE9wZW5UaW1lID0gX3JlZi5zeW1ib2xPcGVuVGltZTtcbiAgdmFyIFN5bWJvbEljb24gPSBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJdGVtSWNvbk1hcFwiXVtzeW1ib2wuc3ltYm9sXSB8fCBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJTeW1ib2xQbGFjZWhvbGRlckljb25cIl07XG4gIHZhciBoYXNPcGVuVGltZSA9ICFpc1N5bWJvbE9wZW4gJiYgc3ltYm9sT3BlblRpbWUub3BlblRpbWU7XG4gIHZhciBoYXNOb09wZW5UaW1lID0gIWlzU3ltYm9sT3BlbiAmJiAhc3ltYm9sT3BlblRpbWUub3BlblRpbWU7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLkZyYWdtZW50LCBudWxsLCBTeW1ib2xJY29uICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3ltYm9sSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1cIi5jb25jYXQoc3ltYm9sLnN5bWJvbClcbiAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zeW1ib2wtaW5mb1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zeW1ib2wgXCIuY29uY2F0KGhhc05vT3BlblRpbWUgPyAnY2xvc2VkLW5vLW9wZW50aW1lJyA6ICcnKVxuICB9LCBzeW1ib2wubmFtZSksIGlzU3ltYm9sT3BlbiAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENoYXJ0UHJpY2UsIG51bGwpLCBoYXNPcGVuVGltZSAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENsb3NlZFN5bWJvbCwge1xuICAgIHN5bWJvbE9wZW5UaW1lOiBzeW1ib2xPcGVuVGltZVxuICB9KSkpO1xufTtcbnZhciBTeW1ib2xTZWxlY3RCdXR0b24gPSBmdW5jdGlvbiBTeW1ib2xTZWxlY3RCdXR0b24oX3JlZjIpIHtcbiAgdmFyIHN5bWJvbCA9IF9yZWYyLnN5bWJvbCxcbiAgICAgIENoYXJ0UHJpY2UgPSBfcmVmMi5DaGFydFByaWNlLFxuICAgICAgaXNTeW1ib2xPcGVuID0gX3JlZjIuaXNTeW1ib2xPcGVuLFxuICAgICAgc3ltYm9sT3BlblRpbWUgPSBfcmVmMi5zeW1ib2xPcGVuVGltZTtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zeW1ib2wtc2VsZWN0LWJ0blwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3ltYm9sSW5mbywge1xuICAgIHN5bWJvbDogc3ltYm9sLFxuICAgIENoYXJ0UHJpY2U6IENoYXJ0UHJpY2UsXG4gICAgc3ltYm9sT3BlblRpbWU6IHN5bWJvbE9wZW5UaW1lLFxuICAgIGlzU3ltYm9sT3BlbjogaXNTeW1ib2xPcGVuXG4gIH0pLCAhaXNTeW1ib2xPcGVuICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zeW1ib2wtY2xvc2VkLXRleHRcIlxuICB9LCB0LnRyYW5zbGF0ZSgnQ0xPU0VEJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkFycm93SWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1zeW1ib2wtZHJvcGRvd25cIlxuICB9KSk7XG59O1xudmFyIENoYXJ0UHJpY2UgPSBmdW5jdGlvbiBDaGFydFByaWNlKF9yZWYzKSB7XG4gIHZhciBpc1Zpc2libGUgPSBfcmVmMy5pc1Zpc2libGUsXG4gICAgICBzdGF0dXMgPSBfcmVmMy5zdGF0dXMsXG4gICAgICB0b2RheUNoYW5nZSA9IF9yZWYzLnRvZGF5Q2hhbmdlLFxuICAgICAgdG9kYXlDaGFuZ2VQZXJjZW50ID0gX3JlZjMudG9kYXlDaGFuZ2VQZXJjZW50LFxuICAgICAgU3BvdFByaWNlID0gX3JlZjMuU3BvdFByaWNlO1xuICByZXR1cm4gaXNWaXNpYmxlICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFydC1wcmljZVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoU3BvdFByaWNlLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWN1cnJlbnQtcHJpY2VcIlxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImRpdmlkZXJcIlxuICB9LCBcIi1cIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jaGFuZ2UgXCIuY29uY2F0KHN0YXR1cylcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS10b2RheXMtY2hhbmdlXCJcbiAgfSwgdG9kYXlDaGFuZ2UgfHwgMCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtdG9kYXlzLWNoYW5nZS1wZXJjZW50XCJcbiAgfSwgXCIoXCIsIHRvZGF5Q2hhbmdlUGVyY2VudCwgXCIlKVwiKSwgXCJcXHhBMFwiKSk7XG59O1xuXG52YXIgQ2xvc2VkU3ltYm9sID0gZnVuY3Rpb24gQ2xvc2VkU3ltYm9sKHN5bWJvbE9wZW5UaW1lKSB7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2hhcnQtY2xvc2VkXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJUaW1lSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1jbG9zZWQtaWNvblwiXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2xvc2VkLW9wZW5pbmdcIlxuICB9LCB0LnRyYW5zbGF0ZSgnT3BlbnMgaW46JyksIFwiIFxceEEwXCIsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtY2xvc2VkLW9wZW5pbmctdGltZVwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX01hcmtldE9wZW5pbmdUaW1lQ291bnRlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIk1hcmtldE9wZW5pbmdUaW1lQ291bnRlclwiXSwge1xuICAgIHN5bWJvbE9wZW5UaW1lOiBzeW1ib2xPcGVuVGltZVxuICB9KSkpKTtcbn07XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1RpbWVwZXJpb2QuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9UaW1lcGVyaW9kLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zdG9yZS9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3RpbWVwZXJpb2Rfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9jb21wb25lbnRzL190aW1lcGVyaW9kLnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fdGltZXBlcmlvZC5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfdGltZXBlcmlvZF9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c190aW1lcGVyaW9kX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMgKi9cblxuXG5cblxudmFyIFRpbWVwZXJpb2QgPSBmdW5jdGlvbiBUaW1lcGVyaW9kKF9yZWYpIHtcbiAgdmFyIGNoYXJ0SWQgPSBfcmVmLmNoYXJ0SWQsXG4gICAgICBlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgaW50ZXJ2YWwgPSBfcmVmLmludGVydmFsLFxuICAgICAgdGltZVVuaXQgPSBfcmVmLnRpbWVVbml0LFxuICAgICAgaW50ZXJ2YWxfZGlzcGxheSA9IF9yZWYuaW50ZXJ2YWxfZGlzcGxheSxcbiAgICAgIGlzTW9iaWxlID0gX3JlZi5pc01vYmlsZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIHNldE9wZW4gPSBfcmVmLnNldE9wZW4sXG4gICAgICBUaW1lUGVyaW9kTWVudSA9IF9yZWYuVGltZVBlcmlvZE1lbnUsXG4gICAgICB0aW1lVW5pdF9kaXNwbGF5ID0gX3JlZi50aW1lVW5pdF9kaXNwbGF5LFxuICAgICAgdXBkYXRlUHJvcHMgPSBfcmVmLnVwZGF0ZVByb3BzO1xuXG4gIHZhciBvbkdyYW51bGFyaXR5Q2xpY2sgPSBmdW5jdGlvbiBvbkdyYW51bGFyaXR5Q2xpY2soZ3JhbnVsYXJpdHkpIHtcbiAgICBvbkNoYW5nZShncmFudWxhcml0eSwgY2hhcnRJZCk7XG4gICAgc2V0T3BlbihmYWxzZSk7XG4gIH07XG5cbiAgdXBkYXRlUHJvcHMob25DaGFuZ2UpO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChUaW1lUGVyaW9kTWVudSwge1xuICAgIGNsYXNzTmFtZTogXCJjaXEtcGVyaW9kXCIsXG4gICAgZW5hYmxlZDogZW5hYmxlZCxcbiAgICB0aXRsZTogaXNNb2JpbGUgPyB0LnRyYW5zbGF0ZSgnSW50ZXJ2YWwnKSA6ICcnXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVGltZVBlcmlvZE1lbnUuVGl0bGUsIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJidC1wcmlvZFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiaWMtcHJpb2RcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImludGVydmFsX2Rpc3BsYXlcIlxuICB9LCBpbnRlcnZhbF9kaXNwbGF5KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1bml0X2Rpc3BsYXlcIlxuICB9LCB0aW1lVW5pdF9kaXNwbGF5KSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1zdWJ0aXRsZVwiXG4gIH0sIHQudHJhbnNsYXRlKCdJbnRlcnZhbCcpKSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFRpbWVQZXJpb2RNZW51LkJvZHksIG51bGwsIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjcS1pbnRlcnZhbFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0aW1lVW5pdFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IHRpbWVVbml0ID09PSAndGljaycgPyAnc2VsZWN0ZWQnIDogJydcbiAgfSwgdC50cmFuc2xhdGUoJ1RpY2snKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IHRpbWVVbml0ID09PSAnbWludXRlJyA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCB0LnRyYW5zbGF0ZSgnTWludXRlJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiB0aW1lVW5pdCA9PT0gJ2hvdXInID8gJ3NlbGVjdGVkJyA6ICcnXG4gIH0sIHQudHJhbnNsYXRlKCdIb3VyJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiB0aW1lVW5pdCA9PT0gJ2RheScgPyAnc2VsZWN0ZWQnIDogJydcbiAgfSwgdC50cmFuc2xhdGUoJ0RheScpKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJpbnRlcnZhbFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyb3dcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBvbkdyYW51bGFyaXR5Q2xpY2soMCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IHRpbWVVbml0ID09PSAndGljaycgJiYgaW50ZXJ2YWwgPT09IDEgPyAnc2VsZWN0ZWQnIDogJydcbiAgfSwgXCIxXCIpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJvd1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljayg2MCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IHRpbWVVbml0ID09PSAnbWludXRlJyAmJiBpbnRlcnZhbCA9PT0gMSA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjFcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljaygxMjApO1xuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBpbnRlcnZhbCA9PT0gMiA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjJcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljaygxODApO1xuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBpbnRlcnZhbCA9PT0gMyA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjNcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljaygzMDApO1xuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBpbnRlcnZhbCA9PT0gNSA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjVcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljayg2MDApO1xuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBpbnRlcnZhbCA9PT0gMTAgPyAnc2VsZWN0ZWQnIDogJydcbiAgfSwgXCIxMFwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25HcmFudWxhcml0eUNsaWNrKDkwMCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGludGVydmFsID09PSAxNSA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjE1XCIpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHJldHVybiBvbkdyYW51bGFyaXR5Q2xpY2soMTgwMCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGludGVydmFsID09PSAzMCA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjMwXCIpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJvd1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljaygzNjAwKTtcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogaW50ZXJ2YWwgPT09IDYwID8gJ3NlbGVjdGVkJyA6ICcnXG4gIH0sIFwiMVwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25HcmFudWxhcml0eUNsaWNrKDcyMDApO1xuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBpbnRlcnZhbCA9PT0gMTIwID8gJ3NlbGVjdGVkJyA6ICcnXG4gIH0sIFwiMlwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICByZXR1cm4gb25HcmFudWxhcml0eUNsaWNrKDE0NDAwKTtcbiAgICB9LFxuICAgIGNsYXNzTmFtZTogaW50ZXJ2YWwgPT09IDI0MCA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjRcIiksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljaygyODgwMCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGludGVydmFsID09PSA0ODAgPyAnc2VsZWN0ZWQnIDogJydcbiAgfSwgXCI4XCIpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJvd1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgcmV0dXJuIG9uR3JhbnVsYXJpdHlDbGljayg4NjQwMCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IHRpbWVVbml0ID09PSAnZGF5JyA/ICdzZWxlY3RlZCcgOiAnJ1xuICB9LCBcIjFcIikpKSkpKTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoT2JqZWN0KF9zdG9yZV9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHMgPSBfcmVmMi50aW1lcGVyaW9kLFxuICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTtcbiAgcmV0dXJuIHtcbiAgICBjaGFydElkOiBzdGF0ZS5jaGFydElkLFxuICAgIHRpbWVVbml0OiBzLnRpbWVVbml0LFxuICAgIGludGVydmFsOiBzLmludGVydmFsLFxuICAgIGludGVydmFsX2Rpc3BsYXk6IHMuaW50ZXJ2YWxfZGlzcGxheSxcbiAgICBpc01vYmlsZTogcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUsXG4gICAgb25DaGFuZ2U6IHMuc2V0R3JhbnVsYXJpdHksXG4gICAgc2V0T3Blbjogcy5tZW51LnNldE9wZW4sXG4gICAgVGltZVBlcmlvZE1lbnU6IHMuVGltZVBlcmlvZE1lbnUsXG4gICAgdGltZVVuaXRfZGlzcGxheTogcy50aW1lVW5pdF9kaXNwbGF5LFxuICAgIHVwZGF0ZVByb3BzOiBzLnVwZGF0ZVByb3BzXG4gIH07XG59KShUaW1lcGVyaW9kKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL1ZpZXdzLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL1ZpZXdzLmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciB0dF9yZWFjdF9jdXN0b21fc2Nyb2xsYmFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMgKi8gXCIuL25vZGVfbW9kdWxlcy90dC1yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih0dF9yZWFjdF9jdXN0b21fc2Nyb2xsYmFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlX1ZpZXdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc3RvcmUvVmlld1N0b3JlICovIFwiLi9zcmMvc3RvcmUvVmlld1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfY29tcG9uZW50c192aWV3X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvY29tcG9uZW50cy9fdmlldy5zY3NzICovIFwiLi9zYXNzL2NvbXBvbmVudHMvX3ZpZXcuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX3ZpZXdfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX2NvbXBvbmVudHNfdmlld19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18pO1xuXG5cblxuXG5cblxuXG52YXIgVmlld0l0ZW0gPSBmdW5jdGlvbiBWaWV3SXRlbShfcmVmKSB7XG4gIHZhciB2aWV3ID0gX3JlZi52aWV3LFxuICAgICAgcmVtb3ZlID0gX3JlZi5yZW1vdmUsXG4gICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1saXN0LWl0ZW1cIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWxpc3QtaXRlbS10ZXh0XCJcbiAgfSwgdmlldy5uYW1lKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJEZWxldGVJY29uXCJdLCB7XG4gICAgb25DbGljazogcmVtb3ZlXG4gIH0pKTtcbn07XG5cbnZhciBWaWV3cyA9IGZ1bmN0aW9uIFZpZXdzKF9yZWYyKSB7XG4gIHZhciBWaWV3c01lbnUgPSBfcmVmMi5WaWV3c01lbnUsXG4gICAgICBtZW51T3BlbiA9IF9yZWYyLm1lbnVPcGVuLFxuICAgICAgdmlld3MgPSBfcmVmMi52aWV3cyxcbiAgICAgIGN1cnJlbnRSb3V0ZSA9IF9yZWYyLmN1cnJlbnRSb3V0ZSxcbiAgICAgIF9yZWYyJHJvdXRlcyA9IF9yZWYyLnJvdXRlcyxcbiAgICAgIGFkZCA9IF9yZWYyJHJvdXRlcy5hZGQsXG4gICAgICBtYWluID0gX3JlZjIkcm91dGVzLm1haW4sXG4gICAgICBvdmVyd3JpdGUgPSBfcmVmMiRyb3V0ZXMub3ZlcndyaXRlLFxuICAgICAgY2FuY2VsID0gX3JlZjIkcm91dGVzLmNhbmNlbCxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjIub25DaGFuZ2UsXG4gICAgICBvblN1Ym1pdCA9IF9yZWYyLm9uU3VibWl0LFxuICAgICAgYXBwbHlMYXlvdXQgPSBfcmVmMi5hcHBseUxheW91dCxcbiAgICAgIF9yZW1vdmUgPSBfcmVmMi5yZW1vdmUsXG4gICAgICBpbnB1dFJlZiA9IF9yZWYyLmlucHV0UmVmLFxuICAgICAgdGVtcGxhdGVOYW1lID0gX3JlZjIudGVtcGxhdGVOYW1lLFxuICAgICAgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmMi5zZWFyY2hJbnB1dENsYXNzTmFtZTtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVmlld3NNZW51LCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS12aWV3c1wiLFxuICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnVGVtcGxhdGVzJylcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChWaWV3c01lbnUuVGl0bGUsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbWVudS1idG5cIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIlRlbXBsYXRlSWNvblwiXSwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1pY29uLXdpdGgtc3ViIFwiLmNvbmNhdChtZW51T3BlbiA/ICdhY3RpdmUnIDogJycpLFxuICAgIFwidG9vbHRpcC10aXRsZVwiOiB0LnRyYW5zbGF0ZSgnVGVtcGxhdGVzJylcbiAgfSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFZpZXdzTWVudS5Cb2R5LCBudWxsLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gIH0sIGN1cnJlbnRSb3V0ZSAhPT0gJ292ZXJ3cml0ZScgPyAnJyA6IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJvdnJ3cml0LWFscnRcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwib3Zyd3JpdC1hbHJ0LXRpdGxlXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJhbGVydEljb25NYXBcIl0ud2FybmluZywgbnVsbCksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHRlbXBsYXRlTmFtZSArIHQudHJhbnNsYXRlKCcgYWxyZWFkeSBleGlzdHMuJykpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0LnRyYW5zbGF0ZSgnV291bGQgeW91IGxpa2UgdG8gb3ZlcndyaXRlIGl0PycpKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJvdnJ3cml0LWFscnQtYnV0dG9uc1wiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIG9uQ2xpY2s6IG1haW5cbiAgfSwgdC50cmFuc2xhdGUoJ0NBTkNFTCcpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogb3ZlcndyaXRlXG4gIH0sIHQudHJhbnNsYXRlKCdPVkVSV1JJVEUnKSkpKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInRlbXBsYXRlLW5hbWVcIlxuICB9LCBjdXJyZW50Um91dGUgPT09ICdhZGQnID8gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJhZGRcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkJhY2tJY29uXCJdLCB7XG4gICAgb25DbGljazogY2FuY2VsXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgIHJlZjogaW5wdXRSZWYsXG4gICAgY2xhc3NOYW1lOiBcInZpZXctaW5wdXQgXCIuY29uY2F0KHNlYXJjaElucHV0Q2xhc3NOYW1lIHx8ICcnKSxcbiAgICB2YWx1ZTogdGVtcGxhdGVOYW1lLFxuICAgIHBsYWNlaG9sZGVyOiB0LnRyYW5zbGF0ZSgnVGVtcGxhdGUgbmFtZScpLFxuICAgIG1heExlbmd0aDogMjAsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIG9uS2V5VXA6IG9uU3VibWl0XG4gIH0pKSA6IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYWRkLW5ld1wiLFxuICAgIG9uQ2xpY2s6IG1haW5cbiAgfSwgXCIgXCIsIHQudHJhbnNsYXRlKCdBZGQgbmV3JyksIFwiIFwiKSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJpY29uXCJcbiAgfSwgY3VycmVudFJvdXRlID09PSAnYWRkJyA/IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiVGlja0ljb25cIl0sIHtcbiAgICBjbGFzc05hbWU6IFwidGljay1pY29uXCIsXG4gICAgb25DbGljazogYWRkXG4gIH0pIDogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJBZGRJY29uXCJdLCB7XG4gICAgY2xhc3NOYW1lOiBcImFkZC1pY29uXCIsXG4gICAgb25DbGljazogbWFpblxuICB9KSkpLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdC5hLCB7XG4gICAgY2xhc3NOYW1lOiBcImNpcS1saXN0XCJcbiAgfSwgdmlld3MubWFwKGZ1bmN0aW9uICh2aWV3LCBpKSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoVmlld0l0ZW0sIHtcbiAgICAgIHZpZXc6IHZpZXcsXG4gICAgICBrZXk6IHZpZXcubmFtZSxcbiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICByZXR1cm4gYXBwbHlMYXlvdXQoaSwgZSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZSkge1xuICAgICAgICByZXR1cm4gX3JlbW92ZShpLCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkpKSkpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChPYmplY3QoX3N0b3JlX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgcyA9IF9yZWYzLnZpZXc7XG4gIHJldHVybiB7XG4gICAgVmlld3NNZW51OiBzLlZpZXdzTWVudSxcbiAgICB2aWV3czogX3N0b3JlX1ZpZXdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXS52aWV3cyxcbiAgICByb3V0ZXM6IHMucm91dGVzLFxuICAgIG9uT3ZlcndyaXRlOiBzLm9uT3ZlcndyaXRlLFxuICAgIG9uQ2FuY2VsOiBzLm9uQ2FuY2VsLFxuICAgIG9uQ2hhbmdlOiBzLm9uQ2hhbmdlLFxuICAgIHJlbW92ZTogcy5yZW1vdmUsXG4gICAgb25TdWJtaXQ6IHMub25TdWJtaXQsXG4gICAgYXBwbHlMYXlvdXQ6IHMuYXBwbHlMYXlvdXQsXG4gICAgbWVudU9wZW46IHMubWVudS5kaWFsb2cub3BlbixcbiAgICBpbnB1dFJlZjogcy5pbnB1dFJlZixcbiAgICBjdXJyZW50Um91dGU6IHMuY3VycmVudFJvdXRlLFxuICAgIHRlbXBsYXRlTmFtZTogcy50ZW1wbGF0ZU5hbWVcbiAgfTtcbn0pKFZpZXdzKSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9DYXRlZ29yaWNhbERpc3BsYXkuanN4XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvQ2F0ZWdvcmljYWxEaXNwbGF5LmpzeCAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19jb21wb25lbnRzX2NhdGVnb3JpY2FsX2Rpc3BsYXlfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vLi4vc2Fzcy9jb21wb25lbnRzL19jYXRlZ29yaWNhbC1kaXNwbGF5LnNjc3MgKi8gXCIuL3Nhc3MvY29tcG9uZW50cy9fY2F0ZWdvcmljYWwtZGlzcGxheS5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxfZGlzcGxheV9zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfY29tcG9uZW50c19jYXRlZ29yaWNhbF9kaXNwbGF5X3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgdHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHR0LXJlYWN0LWN1c3RvbS1zY3JvbGxiYXJzICovIFwiLi9ub2RlX21vZHVsZXMvdHQtcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHR0X3JlYWN0X2N1c3RvbV9zY3JvbGxiYXJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG5cblxuXG5cbnZhciBDYXRlZ29yaWNhbERpc3BsYXkgPSBmdW5jdGlvbiBDYXRlZ29yaWNhbERpc3BsYXkoX3JlZikge1xuICB2YXIgb25TZWxlY3RJdGVtID0gX3JlZi5vblNlbGVjdEl0ZW0sXG4gICAgICB1cGRhdGVTY3JvbGxTcHkgPSBfcmVmLnVwZGF0ZVNjcm9sbFNweSxcbiAgICAgIHNldFNjcm9sbFBhbmVsID0gX3JlZi5zZXRTY3JvbGxQYW5lbCxcbiAgICAgIFJlc3VsdHNQYW5lbCA9IF9yZWYuUmVzdWx0c1BhbmVsLFxuICAgICAgRmlsdGVyUGFuZWwgPSBfcmVmLkZpbHRlclBhbmVsLFxuICAgICAgU2VhcmNoSW5wdXQgPSBfcmVmLlNlYXJjaElucHV0LFxuICAgICAgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZSA9IF9yZWYuc2VhcmNoSW5wdXRDbGFzc05hbWUsXG4gICAgICBkaXNhYmxlQWxsID0gX3JlZi5kaXNhYmxlQWxsO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWNhdGVnb3JpY2FsLWRpc3BsYXlcIixcbiAgICBzdHlsZToge1xuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9LFxuICAgIGlkOiBpZFxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtbG9va3VwLWZpbHRlcnNcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFNlYXJjaElucHV0LCB7XG4gICAgc2VhcmNoSW5wdXRDbGFzc05hbWU6IHNlYXJjaElucHV0Q2xhc3NOYW1lXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEZpbHRlclBhbmVsLCBudWxsKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQodHRfcmVhY3RfY3VzdG9tX3Njcm9sbGJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmEsIHtcbiAgICBjbGFzc05hbWU6IFwiY3Etc2Nyb2xsLXBhbmVsXCIsXG4gICAgb25TY3JvbGw6IHVwZGF0ZVNjcm9sbFNweSxcbiAgICByZWY6IHNldFNjcm9sbFBhbmVsLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogaXNNb2JpbGUgPyAnMTAwJScgOiAnMzEycHgnXG4gICAgfVxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFJlc3VsdHNQYW5lbCwge1xuICAgIG9uU2VsZWN0SXRlbTogb25TZWxlY3RJdGVtLFxuICAgIGlkOiBpZCxcbiAgICBkaXNhYmxlQWxsOiBkaXNhYmxlQWxsXG4gIH0pKSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKENhdGVnb3JpY2FsRGlzcGxheSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L0ZpbHRlclBhbmVsLmpzeFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvRmlsdGVyUGFuZWwuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBGaWx0ZXJQYW5lbCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkZpbHRlclBhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRmlsdGVyUGFuZWw7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vSWNvbnMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9JY29ucy5qc3hcIik7XG5cblxuXG52YXIgRmlsdGVyID0gZnVuY3Rpb24gRmlsdGVyKF9yZWYpIHtcbiAgdmFyIGZvY3VzZWRDYXRlZ29yeUtleSA9IF9yZWYuZm9jdXNlZENhdGVnb3J5S2V5LFxuICAgICAgYWN0aXZlQ2F0ZWdvcnlLZXkgPSBfcmVmLmFjdGl2ZUNhdGVnb3J5S2V5LFxuICAgICAgaGFuZGxlRmlsdGVyQ2xpY2sgPSBfcmVmLmhhbmRsZUZpbHRlckNsaWNrLFxuICAgICAgY2F0ZWdvcnkgPSBfcmVmLmNhdGVnb3J5LFxuICAgICAgaXNNb2JpbGUgPSBfcmVmLmlzTW9iaWxlO1xuICB2YXIgQ2F0ZWdvcnlJY29uID0gX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiQ2F0ZWdvcnlJY29uTWFwXCJdW2NhdGVnb3J5LmNhdGVnb3J5SWRdO1xuICB2YXIgaXNBY3RpdmUgPSBmb2N1c2VkQ2F0ZWdvcnlLZXkgJiYgZm9jdXNlZENhdGVnb3J5S2V5Lmxlbmd0aCA/IGZvY3VzZWRDYXRlZ29yeUtleSA9PT0gY2F0ZWdvcnkuY2F0ZWdvcnlJZCA6IGFjdGl2ZUNhdGVnb3J5S2V5ID09PSBjYXRlZ29yeS5jYXRlZ29yeUlkO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWZpbHRlciBcIi5jb25jYXQoaXNBY3RpdmUgPyAnY3EtYWN0aXZlLWZpbHRlcicgOiAnJywgXCIgXCIpLmNvbmNhdCghaXNNb2JpbGUgPyAnY3EtaG92ZXItc3R5bGUnIDogJycpLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgcmV0dXJuIGhhbmRsZUZpbHRlckNsaWNrKGNhdGVnb3J5LCBlKTtcbiAgICB9XG4gIH0sIENhdGVnb3J5SWNvbiAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KENhdGVnb3J5SWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJpYy1cIi5jb25jYXQoY2F0ZWdvcnkuY2F0ZWdvcnlJZClcbiAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtZmlsdGVyLXRleHRcIlxuICB9LCB0LnRyYW5zbGF0ZShjYXRlZ29yeS5jYXRlZ29yeU5hbWUpKSk7XG59O1xuXG52YXIgRmlsdGVyUGFuZWwgPSBmdW5jdGlvbiBGaWx0ZXJQYW5lbChfcmVmMikge1xuICB2YXIgZmlsdGVyZWRJdGVtcyA9IF9yZWYyLmZpbHRlcmVkSXRlbXMsXG4gICAgICBoYW5kbGVGaWx0ZXJDbGljayA9IF9yZWYyLmhhbmRsZUZpbHRlckNsaWNrLFxuICAgICAgZm9jdXNlZENhdGVnb3J5S2V5ID0gX3JlZjIuZm9jdXNlZENhdGVnb3J5S2V5LFxuICAgICAgYWN0aXZlQ2F0ZWdvcnlLZXkgPSBfcmVmMi5hY3RpdmVDYXRlZ29yeUtleSxcbiAgICAgIGlzTW9iaWxlID0gX3JlZjIuaXNNb2JpbGU7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtZmlsdGVyLXBhbmVsXCJcbiAgfSwgZmlsdGVyZWRJdGVtcy5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoRmlsdGVyLCB7XG4gICAgICBrZXk6IGNhdGVnb3J5LmNhdGVnb3J5SWQsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBoYW5kbGVGaWx0ZXJDbGljazogaGFuZGxlRmlsdGVyQ2xpY2ssXG4gICAgICBhY3RpdmVDYXRlZ29yeUtleTogYWN0aXZlQ2F0ZWdvcnlLZXksXG4gICAgICBmb2N1c2VkQ2F0ZWdvcnlLZXk6IGZvY3VzZWRDYXRlZ29yeUtleSxcbiAgICAgIGlzTW9iaWxlOiBpc01vYmlsZVxuICAgIH0pO1xuICB9KSk7XG59O1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvSXRlbS5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvSXRlbS5qc3ggKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogTm9ybWFsSXRlbSwgQWN0aXZlSXRlbSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk5vcm1hbEl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBOb3JtYWxJdGVtOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBY3RpdmVJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQWN0aXZlSXRlbTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9JY29ucy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0ljb25zLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRmF2b3JpdGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9GYXZvcml0ZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0Zhdm9yaXRlLmpzeFwiKTtcblxuXG5cblxudmFyIEljb24gPSBmdW5jdGlvbiBJY29uKF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZDtcblxuICBpZiAoIWlkIHx8ICFfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJdGVtSWNvbk1hcFwiXVtpZF0pIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgSXRlbUljb24gPSBfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJJdGVtSWNvbk1hcFwiXVtpZF07XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW1JY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLVwiLmNvbmNhdChpZClcbiAgfSk7XG59O1xuXG52YXIgSXRlbUxlZnQgPSBmdW5jdGlvbiBJdGVtTGVmdChfcmVmMikge1xuICB2YXIgX3JlZjIkaXRlbSA9IF9yZWYyLml0ZW0sXG4gICAgICBpdGVtSWQgPSBfcmVmMiRpdGVtLml0ZW1JZCxcbiAgICAgIGRpc3BsYXkgPSBfcmVmMiRpdGVtLmRpc3BsYXk7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibGVmdFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIGlkOiBpdGVtSWRcbiAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2lxLWl0ZW0tZGlzcGxheVwiXG4gIH0sIGRpc3BsYXkpKTtcbn07XG5cbnZhciBJdGVtUmlnaHQgPSBmdW5jdGlvbiBJdGVtUmlnaHQoX3JlZjMpIHtcbiAgdmFyIGZhdm9yaXRlc0lkID0gX3JlZjMuZmF2b3JpdGVzSWQsXG4gICAgICBfcmVmMyRpdGVtID0gX3JlZjMuaXRlbSxcbiAgICAgIGRhdGFPYmplY3QgPSBfcmVmMyRpdGVtLmRhdGFPYmplY3QsXG4gICAgICBpdGVtSWQgPSBfcmVmMyRpdGVtLml0ZW1JZDtcbiAgcmV0dXJuIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyaWdodFwiXG4gIH0sIGRhdGFPYmplY3QgJiYgKGRhdGFPYmplY3QuZXhjaGFuZ2VfaXNfb3BlbiA9PT0gdW5kZWZpbmVkIHx8IGRhdGFPYmplY3QuZXhjaGFuZ2VfaXNfb3BlbikgPyAnJyA6IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2xvc2VkLW1hcmtldFwiXG4gIH0sIHQudHJhbnNsYXRlKCdDTE9TRUQnKSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX0Zhdm9yaXRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSwge1xuICAgIGNhdGVnb3J5OiBmYXZvcml0ZXNJZCxcbiAgICBpZDogaXRlbUlkXG4gIH0pKTtcbn07XG5cbnZhciBBY3RpdmVPcHRpb24gPSBmdW5jdGlvbiBBY3RpdmVPcHRpb24oX3JlZjQpIHtcbiAgdmFyIG9wdCA9IF9yZWY0Lm9wdCxcbiAgICAgIGl0ZW0gPSBfcmVmNC5pdGVtO1xuICB2YXIgQWN0aXZlT3B0aW9uSWNvbiA9IF9JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkFjdGl2ZU9wdGlvbnNJY29uTWFwXCJdW29wdC5pZF07XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImljLVwiLmNvbmNhdChvcHQuaWQpLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgcmV0dXJuIG9wdC5vbkNsaWNrICYmIG9wdC5vbkNsaWNrKGl0ZW0uZGF0YU9iamVjdCwgZSk7XG4gICAgfVxuICB9LCBBY3RpdmVPcHRpb25JY29uICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWN0aXZlT3B0aW9uSWNvbiwgbnVsbCksIG9wdC5yZW5kZXJDaGlsZCAmJiBvcHQucmVuZGVyQ2hpbGQoaXRlbSkpO1xufTtcblxudmFyIEFjdGl2ZU9wdGlvbnMgPSBmdW5jdGlvbiBBY3RpdmVPcHRpb25zKF9yZWY1KSB7XG4gIHZhciBhY3RpdmVPcHRpb25zID0gX3JlZjUuYWN0aXZlT3B0aW9ucyxcbiAgICAgIGl0ZW0gPSBfcmVmNS5pdGVtO1xuICByZXR1cm4gYWN0aXZlT3B0aW9ucyAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWFjdGl2ZS1vcHRpb25zXCJcbiAgfSwgYWN0aXZlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCkge1xuICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEFjdGl2ZU9wdGlvbiwge1xuICAgICAga2V5OiBvcHQuaWQsXG4gICAgICBvcHQ6IG9wdCxcbiAgICAgIGl0ZW06IGl0ZW1cbiAgICB9KTtcbiAgfSkpO1xufTtcblxudmFyIE5vcm1hbEl0ZW0gPSBmdW5jdGlvbiBOb3JtYWxJdGVtKF9yZWY2KSB7XG4gIHZhciBvblNlbGVjdEl0ZW0gPSBfcmVmNi5vblNlbGVjdEl0ZW0sXG4gICAgICBpdGVtID0gX3JlZjYuaXRlbSxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmNi5kaXNhYmxlQWxsLFxuICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmNi5mYXZvcml0ZXNJZCxcbiAgICAgIGlkID0gX3JlZjYuaWQ7XG4gIHZhciBpdGVtQ2xhc3MgPSBpZCA/IFwiXCIuY29uY2F0KGlkLCBcIi1zdWJjYXRlZ29yeS1pdGVtLVwiKS5jb25jYXQoaXRlbS5pdGVtSWQpIDogXCJzdWJjYXRlZ29yeS1pdGVtLVwiLmNvbmNhdChpdGVtLml0ZW1JZCk7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY3EtaXRlbSBcIi5jb25jYXQoaXRlbS5zZWxlY3RlZCA/ICdzZWxlY3RlZCAnIDogJycsIFwiIFwiKS5jb25jYXQoaXRlbUNsYXNzKSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgIHJldHVybiBpdGVtLmVuYWJsZWQgJiYgb25TZWxlY3RJdGVtKGl0ZW0uZGF0YU9iamVjdCwgZSk7XG4gICAgfSxcbiAgICBkaXNhYmxlZDogIWl0ZW0uZW5hYmxlZCB8fCBkaXNhYmxlQWxsXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoSXRlbUxlZnQsIHtcbiAgICBpdGVtOiBpdGVtXG4gIH0pLCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW1SaWdodCwge1xuICAgIGl0ZW06IGl0ZW0sXG4gICAgZmF2b3JpdGVzSWQ6IGZhdm9yaXRlc0lkXG4gIH0pKTtcbn07XG52YXIgQWN0aXZlSXRlbSA9IGZ1bmN0aW9uIEFjdGl2ZUl0ZW0oX3JlZjcpIHtcbiAgdmFyIGl0ZW0gPSBfcmVmNy5pdGVtLFxuICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmNy5mYXZvcml0ZXNJZCxcbiAgICAgIGFjdGl2ZU9wdGlvbnMgPSBfcmVmNy5hY3RpdmVPcHRpb25zO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNxLWFjdGl2ZS1pdGVtXCJcbiAgfSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChJdGVtTGVmdCwge1xuICAgIGl0ZW06IGl0ZW1cbiAgfSksIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyaWdodFwiXG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQWN0aXZlT3B0aW9ucywge1xuICAgIGFjdGl2ZU9wdGlvbnM6IGFjdGl2ZU9wdGlvbnMsXG4gICAgaXRlbTogaXRlbVxuICB9KSwgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfRmF2b3JpdGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLCB7XG4gICAgY2F0ZWdvcnk6IGZhdm9yaXRlc0lkLFxuICAgIGlkOiBpdGVtLml0ZW1JZFxuICB9KSkpO1xufTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L1Jlc3VsdHNQYW5lbC5qc3hcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9SZXN1bHRzUGFuZWwuanN4ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogUmVzdWx0c1BhbmVsICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUmVzdWx0c1BhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUmVzdWx0c1BhbmVsOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCJyZWFjdFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuXG5cbmZ1bmN0aW9uIGdldEl0ZW1Db3VudChjYXRlZ29yeSkge1xuICB2YXIgY291bnQgPSAwO1xuXG4gIGlmIChjYXRlZ29yeS5oYXNTdWJjYXRlZ29yeSkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gY2F0ZWdvcnkuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgdmFyIHN1YiA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBjb3VudCArPSBzdWIuZGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY291bnQgKz0gY2F0ZWdvcnkuZGF0YS5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gY291bnQ7XG59XG5cbnZhciBDYXRlZ29yeVRpdGxlQ2xhc3NOYW1lID0gZnVuY3Rpb24gQ2F0ZWdvcnlUaXRsZUNsYXNzTmFtZShjYXRlZ29yeUlkLCBhY3RpdmVIZWFkS2V5LCBhY3RpdmVIZWFkVG9wLCBjYXRlZ29yeVN1YnRpdGxlKSB7XG4gIHZhciBUaXRsZUNsYXNzTmFtZSA9ICcnO1xuXG4gIGlmIChhY3RpdmVIZWFkS2V5ID09PSBjYXRlZ29yeUlkKSB7XG4gICAgVGl0bGVDbGFzc05hbWUgPSBhY3RpdmVIZWFkVG9wIDwgMCA/ICdzdGlja3ktYm90dG9tJyA6ICdzdGlja3ktdG9wJztcbiAgfVxuXG4gIHJldHVybiBcImNhdGVnb3J5LXRpdGxlIFwiLmNvbmNhdChUaXRsZUNsYXNzTmFtZSwgXCIgXCIpLmNvbmNhdChjYXRlZ29yeVN1YnRpdGxlID8gJ2hhcy1zdWJ0aXRsZScgOiAnJyk7XG59O1xuXG52YXIgQ2F0ZWdvcnkgPSBmdW5jdGlvbiBDYXRlZ29yeShfcmVmKSB7XG4gIHZhciBjYXRlZ29yeSA9IF9yZWYuY2F0ZWdvcnksXG4gICAgICBJdGVtID0gX3JlZi5JdGVtLFxuICAgICAgc2V0Q2F0ZWdvcnlFbGVtZW50ID0gX3JlZi5zZXRDYXRlZ29yeUVsZW1lbnQsXG4gICAgICBvblNlbGVjdEl0ZW0gPSBfcmVmLm9uU2VsZWN0SXRlbSxcbiAgICAgIGFjdGl2ZUhlYWRLZXkgPSBfcmVmLmFjdGl2ZUhlYWRLZXksXG4gICAgICBhY3RpdmVIZWFkVG9wID0gX3JlZi5hY3RpdmVIZWFkVG9wLFxuICAgICAgYWN0aXZlSGVhZE9mZnNldCA9IF9yZWYuYWN0aXZlSGVhZE9mZnNldCxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmLmRpc2FibGVBbGw7XG4gIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnkgY2F0ZWdvcnktXCIuY29uY2F0KGNhdGVnb3J5LmNhdGVnb3J5SWQsIFwiIFwiKS5jb25jYXQoY2F0ZWdvcnkuY2F0ZWdvcnlTdWJ0aXRsZSA/ICdjYXRlZ29yeS1oYXMtc3VidGl0bGUnIDogJycpLFxuICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICByZXR1cm4gc2V0Q2F0ZWdvcnlFbGVtZW50KGVsLCBjYXRlZ29yeS5jYXRlZ29yeUlkKTtcbiAgICB9XG4gIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogQ2F0ZWdvcnlUaXRsZUNsYXNzTmFtZShjYXRlZ29yeS5jYXRlZ29yeUlkLCBhY3RpdmVIZWFkS2V5LCBhY3RpdmVIZWFkVG9wLCBjYXRlZ29yeS5jYXRlZ29yeVN1YnRpdGxlKSxcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiBhY3RpdmVIZWFkS2V5ID09PSBjYXRlZ29yeS5jYXRlZ29yeUlkID8gYWN0aXZlSGVhZE9mZnNldCA6IG51bGxcbiAgICB9XG4gIH0sIHQudHJhbnNsYXRlKGNhdGVnb3J5LmNhdGVnb3J5TmFtZSksIChjYXRlZ29yeS5jYXRlZ29yeU5hbWVQb3N0Zml4U2hvd0lmQWN0aXZlICYmIGFjdGl2ZUhlYWRLZXkgPT09IGNhdGVnb3J5LmNhdGVnb3J5SWQgfHwgIWNhdGVnb3J5LmNhdGVnb3J5TmFtZVBvc3RmaXhTaG93SWZBY3RpdmUpICYmIGNhdGVnb3J5LmNhdGVnb3J5TmFtZVBvc3RmaXggJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1uYW1lLXBvc3RmaXhcIlxuICB9LCBjYXRlZ29yeS5jYXRlZ29yeU5hbWVQb3N0Zml4KSwgY2F0ZWdvcnkuY2F0ZWdvcnlTdWJ0aXRsZSAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktc3VidGl0bGVcIlxuICB9LCB0LnRyYW5zbGF0ZShjYXRlZ29yeS5jYXRlZ29yeVN1YnRpdGxlKSkpLCBjYXRlZ29yeS5oYXNTdWJjYXRlZ29yeSA/IGNhdGVnb3J5LmRhdGEubWFwKGZ1bmN0aW9uIChzdWJjYXRlZ29yeSkge1xuICAgIHJldHVybiBnZXRJdGVtQ291bnQoc3ViY2F0ZWdvcnkpID4gMCAmJiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1jb250ZW50XCIsXG4gICAgICBrZXk6IHN1YmNhdGVnb3J5LnN1YmNhdGVnb3J5TmFtZVxuICAgIH0sIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1YmNhdGVnb3J5XCJcbiAgICB9LCB0LnRyYW5zbGF0ZShzdWJjYXRlZ29yeS5zdWJjYXRlZ29yeU5hbWUpKSwgc3ViY2F0ZWdvcnkuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW0sIHtcbiAgICAgICAga2V5OiBpdGVtLmRpc3BsYXksXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIG9uU2VsZWN0SXRlbTogb25TZWxlY3RJdGVtLFxuICAgICAgICBkaXNhYmxlQWxsOiBkaXNhYmxlQWxsXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH0pIDogY2F0ZWdvcnkuZGF0YS5sZW5ndGggPiAwICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1jb250ZW50XCJcbiAgfSwgY2F0ZWdvcnkuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGlkeCkge1xuICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KEl0ZW0sIHtcbiAgICAgIGtleTogXCJcIi5jb25jYXQoaXRlbS5kaXNwbGF5LCBcIi1cIikuY29uY2F0KGlkeCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICxcbiAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICBvblNlbGVjdEl0ZW06IG9uU2VsZWN0SXRlbSxcbiAgICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGxcbiAgICB9KTtcbiAgfSkpLCBnZXRJdGVtQ291bnQoY2F0ZWdvcnkpID09PSAwICYmIGNhdGVnb3J5LmVtcHR5RGVzY3JpcHRpb24gJiYgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWNvbnRlbnRcIlxuICB9LCByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZW1wdHktY2F0ZWdvcnlcIlxuICB9LCB0LnRyYW5zbGF0ZShjYXRlZ29yeS5lbXB0eURlc2NyaXB0aW9uKSkpKTtcbn07XG5cbnZhciBSZXN1bHRzUGFuZWwgPSBmdW5jdGlvbiBSZXN1bHRzUGFuZWwoX3JlZjIpIHtcbiAgdmFyIGZpbHRlcmVkSXRlbXMgPSBfcmVmMi5maWx0ZXJlZEl0ZW1zLFxuICAgICAgb25TZWxlY3RJdGVtID0gX3JlZjIub25TZWxlY3RJdGVtLFxuICAgICAgZ2V0SXRlbVR5cGUgPSBfcmVmMi5nZXRJdGVtVHlwZSxcbiAgICAgIHNldENhdGVnb3J5RWxlbWVudCA9IF9yZWYyLnNldENhdGVnb3J5RWxlbWVudCxcbiAgICAgIGFjdGl2ZUhlYWRLZXkgPSBfcmVmMi5hY3RpdmVIZWFkS2V5LFxuICAgICAgYWN0aXZlSGVhZFRvcCA9IF9yZWYyLmFjdGl2ZUhlYWRUb3AsXG4gICAgICBhY3RpdmVIZWFkT2Zmc2V0ID0gX3JlZjIuYWN0aXZlSGVhZE9mZnNldCxcbiAgICAgIGRpc2FibGVBbGwgPSBfcmVmMi5kaXNhYmxlQWxsO1xuICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlc3VsdHMtcGFuZWxcIlxuICB9LCBmaWx0ZXJlZEl0ZW1zLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gKGdldEl0ZW1Db3VudChjYXRlZ29yeSkgPiAwIHx8IGNhdGVnb3J5LmVtcHR5RGVzY3JpcHRpb24pICYmIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnksIHtcbiAgICAgIGtleTogY2F0ZWdvcnkuY2F0ZWdvcnlJZCxcbiAgICAgIEl0ZW06IGdldEl0ZW1UeXBlKGNhdGVnb3J5LmNhdGVnb3J5SWQpLFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgc2V0Q2F0ZWdvcnlFbGVtZW50OiBzZXRDYXRlZ29yeUVsZW1lbnQsXG4gICAgICBvblNlbGVjdEl0ZW06IG9uU2VsZWN0SXRlbSxcbiAgICAgIGFjdGl2ZUhlYWRLZXk6IGFjdGl2ZUhlYWRLZXksXG4gICAgICBhY3RpdmVIZWFkVG9wOiBhY3RpdmVIZWFkVG9wLFxuICAgICAgYWN0aXZlSGVhZE9mZnNldDogYWN0aXZlSGVhZE9mZnNldCxcbiAgICAgIGRpc2FibGVBbGw6IGRpc2FibGVBbGxcbiAgICB9KTtcbiAgfSkpO1xufTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IENhdGVnb3JpY2FsRGlzcGxheSwgRmlsdGVyUGFuZWwsIE5vcm1hbEl0ZW0sIEFjdGl2ZUl0ZW0sIFJlc3VsdHNQYW5lbCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2F0ZWdvcmljYWxEaXNwbGF5X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DYXRlZ29yaWNhbERpc3BsYXkuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvQ2F0ZWdvcmljYWxEaXNwbGF5LmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNhdGVnb3JpY2FsRGlzcGxheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9DYXRlZ29yaWNhbERpc3BsYXlfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9GaWx0ZXJQYW5lbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRmlsdGVyUGFuZWwuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvRmlsdGVyUGFuZWwuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRmlsdGVyUGFuZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfRmlsdGVyUGFuZWxfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJGaWx0ZXJQYW5lbFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSXRlbV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSXRlbS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9JdGVtLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk5vcm1hbEl0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfSXRlbV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIk5vcm1hbEl0ZW1cIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBY3RpdmVJdGVtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX0l0ZW1fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJBY3RpdmVJdGVtXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9SZXN1bHRzUGFuZWxfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1Jlc3VsdHNQYW5lbC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9SZXN1bHRzUGFuZWwuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiUmVzdWx0c1BhbmVsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX1Jlc3VsdHNQYW5lbF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlJlc3VsdHNQYW5lbFwiXTsgfSk7XG5cblxuXG5cblxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvQW5pbWF0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdWkvQW5pbWF0aW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFuaW1hdGVDaGFydDsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogVEFLRU4gT1VUIE9GIEFERE9OUy5KUyAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyxlcWVxZXEsbm8tc2hhZG93LG5vLWFsZXJ0LG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyxwcmVmZXItY29uc3QscHJlZmVyLWRlc3RydWN0dXJpbmcgKi9cblxuLyoqXG4gKiBBZGQtT24gdGhhdCBhbmltYXRlcyB0aGUgY2hhcnQuXG4gKlxuICogUmVxdWlyZXMgYGFkZE9ucy5qc2BcbiAqXG4gKiBUaGUgY2hhcnQgaXMgYW5pbWF0ZWQgaW4gdGhyZWUgd2F5czpcbiAqIDEuICBUaGUgY3VycmVudCBwcmljZSBwdWxzYXRlc1xuICogMi4gIFRoZSBjdXJyZW50IHByaWNlIGFwcGVhcnMgdG8gbW92ZSBzbW9vdGhseSBmcm9tIHRoZSBwcmV2aW91cyBwcmljZVxuICogMy4gIFRoZSBjaGFydCdzIHktYXhpcyBzbW9vdGhseSBleHBhbmRzL2NvbnRyYWN0cyB3aGVuIGEgbmV3IGhpZ2ggb3IgbG93IGlzIHJlYWNoZWRcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGNoYXJ0IHR5cGVzIGFyZSBzdXBwb3J0ZWQ6IGxpbmUsIG1vdW50YWluLCBiYXNlbGluZV9kZWx0YS5cbiAqXG4gKiBDaGFydCBhZ2dyZWdhdGlvbnMgc3VjaCBhcyBLYWdpLCBSZW5rbywgUmFuZ2UgQmFycywgZXRjLiBhcmUgbm90IHN1cHBvcnRlZC5cbiAqXG4gKiAqKkFuaW1hdGlvbiBkaXNwbGF5cyBtb3JlIGdyYWNlZnVsbHkgd2hlbiB1cGRhdGVzIGFyZSBzZW50IGludG8gdGhlIGNoYXJ0IG9uZSBhdCBhIHRpbWUgdXNpbmcge0BsaW5rIENJUS5DaGFydEVuZ2luZSN1cGRhdGVDaGFydERhdGF9XG4gKiBpbnN0ZWFkIG9mIGluIGJhdGNoZXMgdXNpbmcgYSBbUXVvdGVGZWVkXXtAbGluayBDSVEuQ2hhcnRFbmdpbmUjYXR0YWNoUXVvdGVGZWVkfS4gU2VuZGluZyBkYXRhIGluIGJhdGNoZXMgd2lsbCBwcm9kdWNlIGEg4oCYanVtcGluZ+KAmSBlZmZlY3QuKipcbiAqXG4gKiBCeSBkZWZhdWx0IHRoZXJlIHdpbGwgYmUgYSBmbGFzaGluZyBiZWFjb24gY3JlYXRlZCB1c2luZyBhIGNhbnZhcyBjaXJjbGVzLiBJZiBpbnN0ZWFkIHlvdSB3YW50IHRvIHVzZSBhIGN1c3RvbSBhbmltYXRpb24gYmVhY29uLCB5b3Ugd2lsbCBiZSBhYmxlIHRvIGV4dGVuZCB0aGUgZnVuY3Rpb25hbGl0eSB5b3Vyc2VsZiBhcyBmb2xsb3dzOlxuICogLSBJbiBqcy9hZGRPbnMuanMsIGF0IHRoZSBib3R0b20gb2YgdGhlIENJUS5BbmltYXRpb24gZnVuY3Rpb24sIHRoZXJlIGlzIGFuIHN0eC5hcHBlbmQoXCJkcmF3XCIpIGZ1bmN0aW9uLlxuICogLSBNYWtlIGEgY29weSBvZiB0aGlzIGZ1bmN0aW9uIHNvIHlvdSBjYW4gb3ZlcnJpZGUgdGhlIGJlaGF2aW9yLlxuICogLSBJbiB0aGVyZSB5b3Ugd2lsbCBzZWUgaXQgZGV0ZXJtaW5lIHZhciB4IGFuZCB5LCB3aGljaCBhcmUgdGhlIGNvb3JkaW5hdGVzIGZvciB0aGUgY2VudGVyIG9mIHRoZSBiZWFjb24uXG4gKiAtIEF0IHRoZSBib3R0b20gb2YgdGhpcyBhcHBlbmQgZnVuY3Rpb24sIHdoZXJlIHdlIGRyYXcgdGhlIGJlYWNvbiBieSB1c2luZyB0aGUgQ2FudmFzIGFyYygpIGZ1bmN0aW9uIHRvIGRyYXcgYSBjaXJjbGUgYW5kIHRoZW4gZmlsbCgpIHRvIG1ha2UgdGhlIGNpcmNsZSBzb2xpZC5cbiAqIC0gWW91IGNhbiByZXBsYWNlIHRoaXMgY2lyY2xlIGFuZCBmaWxsIGluc3RydWN0aW9ucyB3aXRoIGFuIGltYWdlIHVzaW5nIFtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZHJhd0ltYWdlKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQjRHJhd2luZ19pbWFnZXMpIC5cbiAqXG4gKiBBbmltYXRpb24gRXhhbXBsZSA8aWZyYW1lIHdpZHRoPVwiODAwXCIgaGVpZ2h0PVwiNTAwXCIgc2Nyb2xsaW5nPVwibm9cIiBzZWFtbGVzcz1cInNlYW1sZXNzXCIgYWxpZ249XCJ0b3BcIiBzdHlsZT1cImZsb2F0OnRvcFwiIHNyYz1cImh0dHBzOi8vanNmaWRkbGUubmV0L2NoYXJ0aXEvNmZxdzY1MnovZW1iZWRkZWQvcmVzdWx0LGpzLGh0bWwvXCIgYWxsb3dmdWxsc2NyZWVuPVwiYWxsb3dmdWxsc2NyZWVuXCIgZnJhbWVib3JkZXI9XCIxXCI+PC9pZnJhbWU+XG4gKlxuICogQHBhcmFtIHtDSVEuQ2hhcnRFbmdpbmV9IHN0eCBUaGUgY2hhcnQgb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdH0gYW5pbWF0aW9uUGFyYW1ldGVycyBDb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FuaW1hdGlvblBhcmFtZXRlcnMuc3RheVB1dD1mYWxzZV0gU2V0IHRvIHRydWUgZm9yIGxhc3QgdGljayB0byBzdGF5IGluIHBvc2l0aW9uIGl0IHdhcyBzY3JvbGxlZCBhbmQgaGF2ZSByZXN0IG9mIHRoZSBjaGFydCBtb3ZlIGJhY2t3YXJkcyBhcyBuZXcgdGlja3MgYXJlIGFkZGVkIGluc3RlYWQgb2YgaGF2aW5nIG5ldyB0aWNrcyBhZHZhbmNlIGZvcndhcmQgYW5kIGxlYXZlIHRoZSByZXN0IG9mIHRoZSBjaGFydCBpbiBwbGFjZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5pbWF0aW9uUGFyYW1ldGVycy50aWNrc0Zyb21FZGdlT2ZTY3JlZW49NV0gTnVtYmVyIG9mIHRpY2tzIGZyb20gdGhlIHJpZ2h0IGVkZ2UgdGhlIGNoYXJ0IHNob3VsZCBzdG9wIG1vdmluZyBmb3J3YXJkIHNvIHRoZSBsYXN0IHRpY2sgbmV2ZXIgZ29lcyBvZmYgc2NyZWVuIChvbmx5IGFwcGxpY2FibGUgaWYgc3RheVB1dD1mYWxzZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5pbWF0aW9uUGFyYW1ldGVycy5ncmFudWxhcml0eT0xMDAwMDAwXSBTZXQgdG8gYSB2YWx1ZSB0aGF0IHdpbGwgZ2l2ZSBlbm91Z2ggZ3JhbnVsYXJpdHkgZm9yIHRoZSBhbmltYXRpb24uICBUaGUgbGFyZ2VyIHRoZSBudW1iZXIgdGhlIHNtYWxsZXIgdGhlIHByaWNlIGp1bXAgYmV0d2VlbiBmcmFtZXMsIHdoaWNoIGlzIGdvb2QgZm9yIGNoYXJ0cyB0aGF0IG5lZWQgYSB2ZXJ5IHNsb3cgc21vb3RoIGFuaW1hdGlvbiBlaXRoZXIgYmVjYXVzZSB0aGUgcHJpY2UganVtcHMgYmV0d2VlbiB0aWNrcyBhcmUgdmVyeSBzbWFsbCwgb3IgYmVjYXVzZSB0aGUgYW5pbWF0aW9uIHdhcyBzZXQgdXAgdG8gcnVuIG92ZXIgYSBsYXJnZSBudW1iZXIgb2YgZnJhbWVzIHdoZW4gaW5zdGFudGlhdGluZyB0aGUgQ0lRLkVhc2VNYWNoaW5lLlxuICogQHBhcmFtIHtudW1iZXJ9IFthbmltYXRpb25QYXJhbWV0ZXJzLnRlbnNpb249bnVsbF0gU3BsaW5pbmcgdGVuc2lvbiBmb3Igc21vb3RoIGN1cnZlcyBhcm91bmQgZGF0YSBwb2ludHMgKHJhbmdlIDAtMSkuICBNdXN0IGluY2x1ZGUgc3BsaW5lcy5qcyBmb3IgdGhpcyB0byBiZSBlZmZlY3RpdmUuXG4gKiBAcGFyYW0ge0NJUS5FYXNlTWFjaGluZX0gZWFzZU1hY2hpbmUgT3ZlcnJpZGUgdGhlIGRlZmF1bHQgZWFzZU1hY2hpbmUuICBEZWZhdWx0IGlzIGBuZXcgQ0lRLkVhc2VNYWNoaW5lKE1hdGguZWFzZU91dEN1YmljLCAxMDAwKTtgXG4gKiBAY29uc3RydWN0b3JcbiAqIEBuYW1lICBDSVEuQW5pbWF0aW9uXG4gKiBAc2luY2VcbiAqIDxicj4mYnVsbDsgMy4wLjAgTm93IHBhcnQgb2YgYWRkT25zLmpzLiBQcmV2aW91c2x5IHByb3ZpZGVkIGFzIGEgc3RhbmRhbG9uZSBhbmltYXRpb24uanMgZmlsZVxuICogPGJyPiZidWxsOyA0LjAuMCBiZWFjb24gb25seSBmbGFzaGVzIGZvciBsaW5lIGNoYXJ0cy4gT24gQ2FuZGxlcyBvciBiYXJzIGl0IGlzIHN1cHByZXNzZWQgYXMgaXQgcHJvZHVjZXMgYW4gdW5uYXR1cmFsIGVmZmVjdC5cbiAqIEBleGFtcGxlXG4gKiAgICBuZXcgQ0lRLkFuaW1hdGlvbihzdHh4LCB7dGVuc2lvbjowLjN9KTsgIC8vRGVmYXVsdCBhbmltYXRpb24gd2l0aCBzcGxpbmluZyB0ZW5zaW9uIG9mIDAuM1xuICpcbiAqL1xuXG5cbk1hdGgubGluZWFyVHdlZW4gPSBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xuICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbn07XG5cbmZ1bmN0aW9uIGFuaW1hdGVDaGFydChzdHgsIGFuaW1hdGlvblBhcmFtZXRlcnMsIGVhc2VNYWNoaW5lKSB7XG4gIHZhciBwYXJhbXMgPSB7XG4gICAgc3RheVB1dDogZmFsc2UsXG4gICAgdGlja3NGcm9tRWRnZU9mU2NyZWVuOiA1LFxuICAgIGdyYW51bGFyaXR5OiAxMDAwMDAwXG4gIH07XG4gIGFuaW1hdGlvblBhcmFtZXRlcnMgPSBDSVEuZXh0ZW5kKHBhcmFtcywgYW5pbWF0aW9uUGFyYW1ldGVycyk7XG4gIGlmIChwYXJhbXMudGVuc2lvbikgc3R4LmNoYXJ0LnRlbnNpb24gPSBhbmltYXRpb25QYXJhbWV0ZXJzLnRlbnNpb247XG4gIHN0eC50aWNrQW5pbWF0b3IgPSBlYXNlTWFjaGluZSB8fCBuZXcgQ0lRLkVhc2VNYWNoaW5lKE1hdGguZWFzZU91dEN1YmljLCAxNTAwKTtcbiAgc3R4LmFkZEV2ZW50TGlzdGVuZXIoWydzeW1ib2xDaGFuZ2UnLCAnbGF5b3V0J10sIGZ1bmN0aW9uIChvYmopIHtcbiAgICBzdHguY2hhcnQuZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjYWxjdWxhdGVHcmFudWxhcml0eVwiXSkodGhpcy5sYXlvdXQuaW50ZXJ2YWwsIHRoaXMubGF5b3V0LnRpbWVVbml0KTtcblxuICAgIGlmIChzdHguY2hhcnQuZ3JhbnVsYXJpdHkgPT09IDApIHtcbiAgICAgIHN0eC5jaGFydC5sb2NrU2Nyb2xsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R4LmNoYXJ0LmxvY2tTY3JvbGwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbCAmJiAoc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5ydW5uaW5nIHx8IHN0eC5jaGFydC5ncmFudWxhcml0eSA9PT0gMCkpIHtcbiAgICAgIHN0eC5hbmltYXRpb25zLmxpdmVTY3JvbGwuc3RvcCgpO1xuICAgIH1cbiAgfSk7XG4gIHN0eC5wcmVwZW5kKCd1cGRhdGVDdXJyZW50TWFya2V0RGF0YScsIGZ1bmN0aW9uIChkYXRhLCBjaGFydCwgc3ltYm9sLCBwYXJhbXMpIHtcbiAgICBpZiAoIWNoYXJ0KSBjaGFydCA9IHRoaXMuY2hhcnQ7XG5cbiAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5mcm9tVHJhZGUgJiYgKGNoYXJ0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbiB8fCBjaGFydC5jbG9zZVBlbmRpbmdBbmltYXRpb24gPT09IDApKSB7XG4gICAgICBwYXJhbXMuZmluYWxDbG9zZSA9IGNoYXJ0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbjtcbiAgICB9XG4gIH0pO1xuICBzdHgucHJlcGVuZCgndXBkYXRlQ2hhcnREYXRhJywgZnVuY3Rpb24gKGFwcGVuZFF1b3RlcywgY2hhcnQsIHBhcmFtcykge1xuICAgIGlmICh0aGlzLnNjcm9sbHdoZWVsX2lzX29uKSB7XG4gICAgICB0aGlzLnNjcm9sbHdoZWVsX2lzX29uID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIHNraXB0IHRoZSBhbmltYXRpb25cbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoIWNoYXJ0KSB7XG4gICAgICBjaGFydCA9IHNlbGYuY2hhcnQ7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFydCB8fCAhY2hhcnQuZGVmYXVsdENoYXJ0U3R5bGVDb25maWcgfHwgY2hhcnQuZGVmYXVsdENoYXJ0U3R5bGVDb25maWcgPT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChwYXJhbXMuYW5pbWF0aW9uRW50cnkgfHwgcGFyYW1zLnNlY29uZGFyeVNlcmllcykgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlTGFzdEJhcihyZWNvcmQpIHtcbiAgICAgIGlmIChjaGFydC5tYXN0ZXJEYXRhICYmIGNoYXJ0Lm1hc3RlckRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIG1kID0gY2hhcnQubWFzdGVyRGF0YS5sZW5ndGggLSAxOyBtZCA+PSAwOyBtZC0tKSB7XG4gICAgICAgICAgdmFyIGJhciA9IGNoYXJ0Lm1hc3RlckRhdGFbbWRdO1xuXG4gICAgICAgICAgaWYgKGJhci5DbG9zZSB8fCBiYXIuQ2xvc2UgPT09IDApIHtcbiAgICAgICAgICAgIGJhci5DbG9zZSA9IHJlY29yZC5DbG9zZTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQuTGFzdFNpemUpIGJhci5MYXN0U2l6ZSA9IHJlY29yZC5MYXN0U2l6ZTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQuTGFzdFRpbWUpIGJhci5MYXN0VGltZSA9IHJlY29yZC5MYXN0VGltZTtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlQ3VycmVudE1hcmtldERhdGEoe1xuICAgICAgICAgICAgICBDbG9zZTogYmFyLkNsb3NlLFxuICAgICAgICAgICAgICBEVDogYmFyLkRULFxuICAgICAgICAgICAgICBMYXN0U2l6ZTogYmFyLkxhc3RTaXplLFxuICAgICAgICAgICAgICBMYXN0VGltZTogYmFyLkxhc3RUaW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYuY3JlYXRlRGF0YVNldChudWxsLCBudWxsLCB7XG4gICAgICAgICAgICAgIGFwcGVuZGluZzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5hbmltYXRlU2Nyb2xsKCkge1xuICAgICAgaWYgKGNoYXJ0LmFuaW1hdGluZ0hvcml6b250YWxTY3JvbGwpIHtcbiAgICAgICAgY2hhcnQuYW5pbWF0aW5nSG9yaXpvbnRhbFNjcm9sbCA9IGZhbHNlO1xuICAgICAgICBzZWxmLm1pY3JvcGl4ZWxzID0gc2VsZi5uZXh0TWljcm9QaXhlbHMgPSBzZWxmLnByZXZpb3VzTWljcm9QaXhlbHM7IC8vIDwtLSBSZXNldCBzZWxmLm5leHRNaWNyb1BpeGVscyBoZXJlXG5cbiAgICAgICAgY2hhcnQubGFzdFRpY2tPZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBjbG9zZSA9IGNoYXJ0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbjtcbiAgICAgICAgY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgY29tcGxldGVMYXN0QmFyKHtcbiAgICAgICAgICBDbG9zZTogY2xvc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRpY2tBbmltYXRvciA9IHNlbGYudGlja0FuaW1hdG9yOyAvLyBUaGVzZSBjaGFydCB0eXBlcyBhcmUgdGhlIG9ubHkgdHlwZXMgc3VwcG9ydGVkIGJ5IGFuaW1hdGlvblxuXG4gICAgdmFyIHN1cHBvcnRlZENoYXJ0VHlwZSA9IHRoaXMubWFpblNlcmllc1JlbmRlcmVyICYmIHRoaXMubWFpblNlcmllc1JlbmRlcmVyLnN1cHBvcnRzQW5pbWF0aW9uO1xuXG4gICAgaWYgKHN1cHBvcnRlZENoYXJ0VHlwZSkge1xuICAgICAgaWYgKCF0aWNrQW5pbWF0b3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBbmltYXRpb24gcGx1Zy1pbiBjYW4gbm90IHJ1biBiZWNhdXNlIHRoZSB0aWNrQW5pbWF0b3IgaGFzIG5vdCBiZWVuIGRlY2xhcmVkLiBTZWUgaW5zdHJ1Y3Rpb25zIGluIGFuaW1hdGlvbi5qcycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIElmIHN5bWJvbCBjaGFuZ2VzIHRoZW4gcmVzZXQgYWxsIG9mIG91ciB2YXJpYWJsZXNcblxuXG4gICAgICBpZiAodGhpcy5wcmV2U3ltYm9sICE9IGNoYXJ0LnN5bWJvbCkge1xuICAgICAgICB0aGlzLnByZXZRdW90ZSA9IDA7XG4gICAgICAgIGNoYXJ0LmNsb3NlUGVuZGluZ0FuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldlN5bWJvbCA9IGNoYXJ0LnN5bWJvbDtcbiAgICAgIH1cblxuICAgICAgdW5hbmltYXRlU2Nyb2xsKCk7XG4gICAgICB0aWNrQW5pbWF0b3Iuc3RvcCgpO1xuXG4gICAgICBpZiAoYXBwZW5kUXVvdGVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuZXdQYXJhbXMgPSBDSVEuY2xvbmUocGFyYW1zKTtcbiAgICBpZiAoIW5ld1BhcmFtcykgbmV3UGFyYW1zID0ge307XG4gICAgbmV3UGFyYW1zLmFuaW1hdGlvbkVudHJ5ID0gdHJ1ZTtcbiAgICBuZXdQYXJhbXMuYnlwYXNzR292ZXJub3IgPSB0cnVlO1xuICAgIG5ld1BhcmFtcy5ub0NyZWF0ZURhdGFTZXQgPSBmYWxzZTsgLy8gbmV3UGFyYW1zLmFsbG93UmVwbGFjZU9ITCA9IHRydWU7XG5cbiAgICBuZXdQYXJhbXMuZmlyc3RMb29wID0gdHJ1ZTtcbiAgICB2YXIgc3ltYm9sID0gdGhpcy5jaGFydC5zeW1ib2w7XG4gICAgdmFyIHBlcmlvZCA9IHRoaXMubGF5b3V0LnBlcmlvZGljaXR5O1xuICAgIHZhciBpbnRlcnZhbCA9IHRoaXMubGF5b3V0LmludGVydmFsO1xuICAgIHZhciB0aW1lVW5pdCA9IHRoaXMubGF5b3V0LnRpbWVVbml0O1xuXG4gICAgZnVuY3Rpb24gY2IocXVvdGUsIHByZXZRdW90ZSwgY2hhcnRKdXN0QWR2YW5jZWQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV3RGF0YSkge1xuICAgICAgICB2YXIgbmV3Q2xvc2UgPSBuZXdEYXRhLkNsb3NlO1xuXG4gICAgICAgIGlmICghY2hhcnQuZGF0YVNldC5sZW5ndGggfHwgc3ltYm9sICE9IGNoYXJ0LnN5bWJvbCB8fCBwZXJpb2QgIT0gc2VsZi5sYXlvdXQucGVyaW9kaWNpdHkgfHwgaW50ZXJ2YWwgIT0gc2VsZi5sYXlvdXQuaW50ZXJ2YWwgfHwgdGltZVVuaXQgIT0gc2VsZi5sYXlvdXQudGltZVVuaXQpIHtcbiAgICAgICAgICB0aWNrQW5pbWF0b3Iuc3RvcCgpO1xuICAgICAgICAgIHVuYW5pbWF0ZVNjcm9sbCgpO1xuICAgICAgICAgIHJldHVybjsgLy8gY2hhbmdlZCBzeW1ib2xzIG1pZCBhbmltYXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBxID0gQ0lRLmNsb25lKHF1b3RlKTtcbiAgICAgICAgcS5DbG9zZSA9IE1hdGgucm91bmQobmV3Q2xvc2UgKiBhbmltYXRpb25QYXJhbWV0ZXJzLmdyYW51bGFyaXR5KSAvIGFuaW1hdGlvblBhcmFtZXRlcnMuZ3JhbnVsYXJpdHk7IC8vIDw8LS0tLS0tIElNUE9SVEFOVCEgVXNlIDEwMDAwMDAgZm9yIHNtYWxsIHByaWNlIGluY3JlbWVudHMsIG90aGVyd2lzZSBhbmltYXRpb24gd2lsbCBiZSBpbiBpbmNyZW1lbnRzIG9mIC4wMDAxXG5cbiAgICAgICAgaWYgKGNoYXJ0SnVzdEFkdmFuY2VkKSB7XG4gICAgICAgICAgaWYgKCFxLk9wZW4gJiYgcS5PcGVuICE9PSAwKSBxLk9wZW4gPSBxLkNsb3NlO1xuICAgICAgICAgIGlmICghcS5IaWdoICYmIHEuSGlnaCAhPT0gMCkgcS5IaWdoID0gTWF0aC5tYXgocS5PcGVuLCBxLkNsb3NlKTtcbiAgICAgICAgICBpZiAoIXEuTG93ICYmIHEuTG93ICE9PSAwKSBxLkxvdyA9IE1hdGgubWluKHEuT3BlbiwgcS5DbG9zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHF1b3RlLkNsb3NlID4gcHJldlF1b3RlLkhpZ2gpIHEuSGlnaCA9IHEuQ2xvc2U7XG4gICAgICAgICAgaWYgKHF1b3RlLkNsb3NlIDwgcHJldlF1b3RlLkxvdykgcS5Mb3cgPSBxLkNsb3NlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UGFyYW1zLnVwZGF0ZURhdGFTZWdtZW50SW5QbGFjZSA9ICF0aWNrQW5pbWF0b3IuaGFzQ29tcGxldGVkO1xuICAgICAgICB2YXIgdXBkYXRlUXVvdGVzID0gW3FdO1xuICAgICAgICBpZiAoY2hhcnRKdXN0QWR2YW5jZWQpIHVwZGF0ZVF1b3Rlcy51bnNoaWZ0KHByZXZRdW90ZSk7XG4gICAgICAgIHNlbGYudXBkYXRlQ2hhcnREYXRhKHVwZGF0ZVF1b3RlcywgY2hhcnQsIG5ld1BhcmFtcyk7XG4gICAgICAgIG5ld1BhcmFtcy5maXJzdExvb3AgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGlja0FuaW1hdG9yLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgIHVuYW5pbWF0ZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKiBlbmQgZnVuY3Rpb24gKi9cblxuXG4gICAgaWYgKHN1cHBvcnRlZENoYXJ0VHlwZSkge1xuICAgICAgdmFyIHF1b3RlID0gYXBwZW5kUXVvdGVzW2FwcGVuZFF1b3Rlcy5sZW5ndGggLSAxXTtcbiAgICAgIHRoaXMucHJldlF1b3RlID0gdGhpcy5jdXJyZW50UXVvdGUoKTsgLy8gPC0tLS0gcHJldlF1b3RlIGxvZ2ljIGhhcyBiZWVuIGNoYW5nZWQgdG8gcHJldmVudCBmb3J3YXJkL2JhY2sgaml0dGVyIHdoZW4gbW9yZSB0aGFuIG9uZSB0aWNrIGNvbWVzIGluIGJldHdlZW4gYW5pbWF0aW9uc1xuXG4gICAgICB2YXIgY2hhcnRKdXN0QWR2YW5jZWQgPSBmYWxzZTsgLy8gV2hlbiBhZHZhbmNpbmcsIHdlIG5lZWQgc3BlY2lhbCBsb2dpYyB0byBkZWFsIHdpdGggdGhlIG9wZW5cblxuICAgICAgaWYgKHBlcmlvZCA9PSAxICYmIGFwcGVuZFF1b3Rlcy5sZW5ndGggPT0gMikge1xuICAgICAgICAvLyBEb24ndCBkbyB0aGlzIGlmIGNvbnNvbGlkYXRpbmdcbiAgICAgICAgdGhpcy5wcmV2UXVvdGUgPSBhcHBlbmRRdW90ZXNbMF07XG4gICAgICAgIGNvbXBsZXRlTGFzdEJhcih0aGlzLnByZXZRdW90ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcXVvdGUgfHwgIXF1b3RlLkNsb3NlIHx8ICF0aGlzLnByZXZRdW90ZSB8fCAhdGhpcy5wcmV2UXVvdGUuQ2xvc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBiYXJTcGFuID0gcGVyaW9kO1xuICAgICAgaWYgKGludGVydmFsID09ICdzZWNvbmQnIHx8IHRpbWVVbml0ID09ICdzZWNvbmQnKSBiYXJTcGFuICo9IDEwMDA7ZWxzZSBpZiAoaW50ZXJ2YWwgPT0gJ21pbnV0ZScgfHwgdGltZVVuaXQgPT0gJ21pbnV0ZScpIGJhclNwYW4gKj0gNjAwMDA7XG4gICAgICBpZiAoIWlzTmFOKGludGVydmFsKSkgYmFyU3BhbiAqPSBpbnRlcnZhbDtcbiAgICAgIGlmIChpbnRlcnZhbCA9PSAnZGF5JyB8fCB0aW1lVW5pdCA9PSAnZGF5JykgY2hhcnRKdXN0QWR2YW5jZWQgPSBxdW90ZS5EVC5nZXREYXRlKCkgIT0gdGhpcy5wcmV2UXVvdGUuRFQuZ2V0RGF0ZSgpO2Vsc2UgaWYgKGludGVydmFsID09ICd3ZWVrJyB8fCB0aW1lVW5pdCA9PSAnd2VlaycpIGNoYXJ0SnVzdEFkdmFuY2VkID0gcXVvdGUuRFQuZ2V0RGF0ZSgpID49IHRoaXMucHJldlF1b3RlLkRULmdldERhdGUoKSArIDc7ZWxzZSBpZiAoaW50ZXJ2YWwgPT0gJ21vbnRoJyB8fCB0aW1lVW5pdCA9PSAnbW9udGgnKSBjaGFydEp1c3RBZHZhbmNlZCA9IHF1b3RlLkRULmdldE1vbnRoKCkgIT0gdGhpcy5wcmV2UXVvdGUuRFQuZ2V0TW9udGgoKTtlbHNlIGNoYXJ0SnVzdEFkdmFuY2VkID0gcXVvdGUuRFQuZ2V0VGltZSgpID49IHRoaXMucHJldlF1b3RlLkRULmdldFRpbWUoKSArIGJhclNwYW47XG4gICAgICB2YXIgbGluZWFyQ2hhcnQgPSAoIXRoaXMubWFpblNlcmllc1JlbmRlcmVyIHx8ICF0aGlzLm1haW5TZXJpZXNSZW5kZXJlci5zdGFuZGFsb25lQmFycykgJiYgIXRoaXMuc3RhbmRhbG9uZUJhcnNbdGhpcy5sYXlvdXQuY2hhcnRUeXBlXTtcbiAgICAgIHZhciBiZWdpbm5pbmdPZmZzZXQgPSAwO1xuXG4gICAgICBpZiAoY2hhcnRKdXN0QWR2YW5jZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFuaW1hdGlvbnMuem9vbS5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hhcnQuY2xvc2VQZW5kaW5nQW5pbWF0aW9uID0gcXVvdGUuQ2xvc2U7XG4gICAgICB2YXIgc3RhcnQgPSBjaGFydEp1c3RBZHZhbmNlZCAmJiAhbGluZWFyQ2hhcnQgPyBxdW90ZS5PcGVuIDogdGhpcy5wcmV2UXVvdGUuQ2xvc2U7XG4gICAgICB0aWNrQW5pbWF0b3IucnVuKGNiKHF1b3RlLCBDSVEuY2xvbmUodGhpcy5wcmV2UXVvdGUpLCBjaGFydEp1c3RBZHZhbmNlZCksIHtcbiAgICAgICAgQ2xvc2U6IHN0YXJ0LFxuICAgICAgICBtaWNyb3BpeGVsczogdGhpcy5uZXh0TWljcm9QaXhlbHMsXG4gICAgICAgIGxpbmVPZmZzZXQ6IGJlZ2lubmluZ09mZnNldFxuICAgICAgfSwge1xuICAgICAgICBDbG9zZTogcXVvdGUuQ2xvc2UsXG4gICAgICAgIG1pY3JvcGl4ZWxzOiB0aGlzLm1pY3JvcGl4ZWxzLFxuICAgICAgICBsaW5lT2Zmc2V0OiAwXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBieXBhc3MgZGVmYXVsdCBiZWhhdmlvciBpZiB0aGUgYW5pbWF0aW9uIGlzIG9uXG4gICAgfVxuICB9KTtcbiAgc3R4LnByZXBlbmQoJ3VwZGF0ZUNoYXJ0RGF0YScsIGZ1bmN0aW9uIChuZXdRdW90ZXMpIHtcbiAgICBzdHgucHJldlF1b3RlID0gdGhpcy5jdXJyZW50UXVvdGUoKSB8fCBuZXdRdW90ZXNbMF07XG4gICAgc3R4LmlzTmV3VGljayA9ICF0aGlzLnByZXZRdW90ZSB8fCBuZXdRdW90ZXMuc2xpY2UoLTEpWzBdLkRUID4gdGhpcy5wcmV2UXVvdGUuRFQ7XG4gICAgc3R4LmNoYXJ0LmdyYW51bGFyaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY2FsY3VsYXRlR3JhbnVsYXJpdHlcIl0pKHRoaXMubGF5b3V0LmludGVydmFsLCB0aGlzLmxheW91dC50aW1lVW5pdCk7XG4gICAgc3R4LmNoYXJ0LmxvY2tTY3JvbGwgPSAhc3R4LmNoYXJ0LmdyYW51bGFyaXR5O1xuICB9KTtcbiAgc3R4LmFwcGVuZCgndXBkYXRlQ2hhcnREYXRhJywgZnVuY3Rpb24gKG5ld1F1b3Rlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoc3R4LmlzSG9tZSgpICYmICFzdHguY2hhcnQubG9ja0F1dG9TY3JvbGwgJiYgbmV3UXVvdGVzICYmIG5ld1F1b3Rlcy5sZW5ndGggJiYgc3R4LmlzTmV3VGljaykge1xuICAgICAgdmFyIHRpbWVJbnRlcnZhbCA9IG5ld1F1b3Rlcy5zbGljZSgtMSlbMF0uRFQgLSB0aGlzLnByZXZRdW90ZS5EVDtcblxuICAgICAgaWYgKHN0eC5hbmltYXRpb25zLmxpdmVTY3JvbGwpIHtcbiAgICAgICAgdGhpcy5jaGFydC5zY3JvbGwtLTtcbiAgICAgICAgdGhpcy5taWNyb3BpeGVscyA9IHRoaXMubWljcm9waXhlbHMgPiAwID8gdGhpcy5sYXlvdXQuY2FuZGxlV2lkdGggLSB0aGlzLm1pY3JvcGl4ZWxzIDogdGhpcy5sYXlvdXQuY2FuZGxlV2lkdGggKyB0aGlzLm1pY3JvcGl4ZWxzO1xuICAgICAgfVxuXG4gICAgICBzdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsID0gc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbCB8fCBuZXcgQ0lRLkVhc2VNYWNoaW5lKE1hdGgubGluZWFyVHdlZW4sIHRpbWVJbnRlcnZhbCArIDEwMDApO1xuXG4gICAgICBpZiAoc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5ydW5uaW5nKSB7XG4gICAgICAgIHN0eC5hbmltYXRpb25zLmxpdmVTY3JvbGwuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICBzdHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnJ1bihmdW5jdGlvbiAoYmFyKSB7XG4gICAgICAgIF90aGlzLm1pY3JvcGl4ZWxzID0gLWJhcjtcblxuICAgICAgICBfdGhpcy5kcmF3KCk7XG4gICAgICB9LCAwLCBzdHgubGF5b3V0LmNhbmRsZVdpZHRoKTtcbiAgICB9IGVsc2UgaWYgKCFzdHguaXNIb21lKCkgfHwgc3R4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsKSB7XG4gICAgICBpZiAoc3R4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5ydW5uaW5nKSB7XG4gICAgICAgIHN0eC5hbmltYXRpb25zLmxpdmVTY3JvbGwuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3R4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsKSB7XG4gICAgICAgIGlmIChzdHguaXNOZXdUaWNrICYmIHRoaXMuY2hhcnQuZW50cnlUaWNrICE9PSBudWxsICYmIHRoaXMuY2hhcnQuZW50cnlUaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgdmlzaWJsZVRpY2tzID0gdGhpcy5jaGFydC5kYXRhU2V0Lmxlbmd0aCAtICh0aGlzLmNoYXJ0LmVudHJ5VGljayB8fCAwKSArIDE7XG4gICAgICAgICAgdGhpcy5zZXRNYXhUaWNrcyh2aXNpYmxlVGlja3MgKyAzKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHguaXNOZXdUaWNrKSB7XG4gICAgICAgICAgdGhpcy5zZXRNYXhUaWNrcyh0aGlzLmNoYXJ0LmRhdGFTZXQubGVuZ3RoICsgKE1hdGguZmxvb3IodGhpcy5jaGFydC5kYXRhU2V0Lmxlbmd0aCAvIDUpIHx8IDIpKTtcbiAgICAgICAgICB0aGlzLmNoYXJ0LnNjcm9sbCA9IHRoaXMuY2hhcnQuZGF0YVNldC5sZW5ndGggKyAoTWF0aC5mbG9vcih0aGlzLmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC8gMTApIHx8IDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taWNyb3BpeGVscyA9IDA7XG4gICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvQ29udGV4dC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy91aS9Db250ZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIFVJIGNvbnRleHQgaGVscGVyIGNsYXNzLiBDb25zdHJ1Y3Qgd2l0aCBhbiB7QGxpbmsgQ0lRLkNoYXJ0RW5naW5lfSBvYmplY3RcbiAqIEBwYXJhbSB7Q0lRLkNoYXJ0RW5naW5lfSBzdHggVGhlIGNoYXJ0IG9iamVjdCB0byBhc3NvY2lhdGUgdGhpcyBVSVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9wTm9kZSBUaGUgdG9wIG5vZGUgb2YgdGhlIERPTSB0cmVlIGZvciB0aGlzIGNvbnRleHQuIFRoYXQgbm9kZSBzaG91bGQgY29udGFpblxuICogYWxsIG9mIHRoZSBVSSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIENJUS5DaGFydEVuZ2luZVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBuYW1lIENJUS5VSS5Db250ZXh0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIENvbnRleHQgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb250ZXh0KHN0eCwgdG9wTm9kZSwgcGFyYW1zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRleHQpO1xuXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgdGhpcy5zdHggPSBzdHg7XG4gICAgdGhpcy50b3BOb2RlID0gdG9wTm9kZTtcbiAgICB2YXIgc3RvcmFnZSA9IENvbnRleHQuYXNzZW1ibGVDb250ZXh0KHRvcE5vZGUpO1xuICAgIHRoaXMuYWR2ZXJ0aXNlZCA9IHt9O1xuICAgIHRvcE5vZGUuQ0lRLlVJLmNvbnRleHQgPSB0aGlzOyAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgb2YgdGhlIGNvbXBvbmVudHMgdGhhdCBoYXZlIHJlZ2lzdGVyZWQgdGhlbXNlbHZlcy4gQ2FsbCBzZXRDb250ZXh0KCkgb24gZWFjaFxuICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gZ2V0IHRoZWlyIGNvbnRleHQuIFRoaXMgdXN1YWxseSBpbml0aWFsaXplcyBhbmQgbWFrZXMgdGhlIGNvbXBvbmVudCBhY3RpdmUuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JhZ2UuQ29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RvcmFnZS5Db21wb25lbnRzW2ldLnNldENvbnRleHRQcml2YXRlKHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIERPTSB0YWcgZm9yIGEgY29udGV4dCBuZWVkcyBzb21lIHN0b3JhZ2UuIENvbnRleHRUYWcgY29tcG9uZW50cyByZWdpc3RlclxuICAgKiB0aGVtc2VsdmVzIGJ5IHBsYWNpbmcgdGhlbXNlbHZlcyBpbiB0aGlzIHN0b3JhZ2UuIFRoaXMgbWV0aG9kIGNyZWF0ZXMgdGhhdFxuICAgKiBzdG9yYWdlLCBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBjb250ZXh0RWxlbWVudCBUaGUgY29udGV4dCBub2RlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSBzdG9yYWdlIG9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDb250ZXh0LCBbe1xuICAgIGtleTogXCJhZHZlcnRpc2VBc1wiLFxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSBIZWxwZXIgdG8gdGhlIGNvbnRleHQsIHNvIHRoYXQgaXQgY2FuIGJlIGZvdW5kIGxhdGVyIG9uLlxuICAgICAqIEBwYXJhbSB7Q0lRLlVJLkhlbHBlcn0gdWlIZWxwZXIgQSBVSSBIZWxwZXIgdG8gYXR0YWNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhlbHBlck5hbWUgVGhlIGhlbHBlck5hbWUgb2YgdGhlIGVsZW1lbnQuIEZvciBpbnN0YW5jZSBcIkxvYWRlclwiXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkdmVydGlzZUFzKHVpSGVscGVyLCBoZWxwZXJOYW1lKSB7XG4gICAgICB0aGlzLmFkdmVydGlzZWRbaGVscGVyTmFtZV0gPSB1aUhlbHBlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIG5lYXJlc3QgKHBhcmVudCkgbm9kZSB0aGF0IGNvbnRhaW5zIHRoZSBjbGFzcyAoQ0lRLlVJLkVsZW1lbnQgdHlwZSkgcmVmZXJlbmNlZFxuICAgICAqIGJ5IGFuIHN0eHRhcCBhdHRyaWJ1dGUuIFJldHVybnMgbnVsbCBpZiBub25lIGZvdW5kLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gaGVscGVyTmFtZSBUaGUgdHlwZSBvZiBVSSBIZWxwZXIgdG8gbG9vayBmb3JcbiAgICAgKiBAcmV0dXJuIHtBcnJheS5DSVEuVUkuSGVscGVyfSBUaGUgYXNzb2NpYXRlZCBhcnJheSBvZiBoZWxwZXJzIG9yIG51bGwgaWYgbm9uZSBmb3VuZFxuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuQ29udGV4dFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRBZHZlcnRpc2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFkdmVydGlzZWQoaGVscGVyTmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWR2ZXJ0aXNlZFtoZWxwZXJOYW1lXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSBsb2FkZXIgdG8gYSBVSSBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDSVEuVUkuTG9hZGVyfSBsb2FkZXIgTG9hZGVyIGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRMb2FkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9hZGVyKGxvYWRlcikge1xuICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoZSBjb250ZXh0IGluIG1vZGFsIG1vZGU/XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBpbiBtb2RhbCBtb2RlXG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5Db250ZXh0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc01vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTW9kYWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHgub3BlbkRpYWxvZyAhPT0gJyc7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiYXNzZW1ibGVDb250ZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFzc2VtYmxlQ29udGV4dChjb250ZXh0RWxlbWVudCkge1xuICAgICAgaWYgKCFjb250ZXh0RWxlbWVudC5DSVEpIHtcbiAgICAgICAgY29udGV4dEVsZW1lbnQuQ0lRID0ge307XG4gICAgICB9IC8vIGNsYWltIG91ciBuYW1lc3BhY2VcblxuXG4gICAgICBpZiAoIWNvbnRleHRFbGVtZW50LkNJUS5VSSkge1xuICAgICAgICBjb250ZXh0RWxlbWVudC5DSVEuVUkgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjb250ZXh0RWxlbWVudC5DSVEuVUkuQ29tcG9uZW50cykge1xuICAgICAgICBjb250ZXh0RWxlbWVudC5DSVEuVUkuQ29tcG9uZW50cyA9IFtdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGV4dEVsZW1lbnQuQ0lRLlVJO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb250ZXh0O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKENvbnRleHQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIGZvciBVSSBIZWxwZXJzXG4gKiBAbmFtZSBDSVEuVUkuSGVscGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEhlbHBlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhlbHBlcihub2RlLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlbHBlcik7XG5cbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5pbmplY3Rpb25zID0gW107IC8vIFRvIGtlZXAgdHJhY2sgb2YgaW5qZWN0aW9ucyBmb3IgbGF0ZXIgcmVtb3ZhbFxuICB9XG4gIC8qKlxuICAgKiBBZGRzIGFuIGluamVjdGlvbi4gVGhlc2Ugd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRlc3Ryb3llZCBpZiB0aGUgaGVscGVyIG9iamVjdCBpcyBkZXN0cm95ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uICBcInByZXBlbmRcIiBvciBcImFwcGVuZFwiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmplY3Rpb24gVGhlIGluamVjdGlvbiBuYW1lLiBpLmUuIFwiZHJhd1wiXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvZGUgICAgICBUaGUgY29kZSB0byBiZSBydW5cbiAgICogQG1lbWJlcm9mIENJUS5VSS5IZWxwZXJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSGVscGVyLCBbe1xuICAgIGtleTogXCJhZGRJbmplY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5qZWN0aW9uKHBvc2l0aW9uLCBpbmplY3Rpb24sIGNvZGUpIHtcbiAgICAgIHRoaXMuaW5qZWN0aW9ucy5wdXNoKHRoaXMuY29udGV4dC5zdHhbcG9zaXRpb25dKGluamVjdGlvbiwgY29kZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGluamVjdGlvbnMgZnJvbSB0aGUgQ2hhcnRFbmdpbmVcbiAgICAgKiBAbWVtYmVyb2YgQ0lRLlVJLkhlbHBlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmluamVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0eC5yZW1vdmVJbmplY3Rpb24odGhpcy5pbmplY3Rpb25zW2ldKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmplY3Rpb25zID0gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlbHBlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChIZWxwZXIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0tleXN0cm9rZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL0tleXN0cm9rZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqIFVJIEhlbHBlciBmb3IgY2FwdHVyaW5nIGFuZCBoYW5kbGluZyBrZXlzdHJva2VzLiBjYiB0byBjYXB0dXJlIHRoZSBrZXkuIERldmVsb3BlciBpcyByZXNwb25zaWJsZVxuICogZm9yIGNhbGxpbmcgZS5wcmV2ZW50RGVmYXVsdCgpIGFuZC9vciBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICpcbiAqIEBuYW1lIENJUS5VSS5LZXlzdHJva2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtub2RlXSBUaGUgbm9kZSB0byB3aGljaCB0byBhdHRhY2gsIGdlbmVyYWxseSB0aGUgY2hhcnQgY29udGFpbmVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoZW4ga2V5IHByZXNzZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgS2V5c3Ryb2tlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIHRydWUgdG8gYnlwYXNzIGtleSBjYXB0dXJlLiBTaGlmdCwgQ1RSTCwgQ01EIHdpbGwgc3RpbGwgYmUgdG9nZ2xlZCBob3dldmVyXG4gICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gS2V5c3Ryb2tlKG5vZGUsIGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlzdHJva2UpO1xuXG4gICAgdGhpcy5rZXl1cCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIga2V5ID0gZS53aGljaDtcblxuICAgICAgaWYgKF90aGlzLmltcGxlbWVudEFuZHJvaWRXb3JrYXJvdW5kKSB7XG4gICAgICAgIF90aGlzLmFuZHJvaWRXb3JrYXJvdW5kS2V5dXAoZSk7XG5cbiAgICAgICAgX3RoaXMuaW1wbGVtZW50QW5kcm9pZFdvcmthcm91bmQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIF90aGlzLnNoaWZ0ID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpcy5jYih7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBfdGhpcy5jdHJsID0gZmFsc2U7XG5cbiAgICAgICAgICBfdGhpcy5jYih7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICBfdGhpcy5jbWQgPSBmYWxzZTtcblxuICAgICAgICAgIF90aGlzLmNiKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgZTogZSxcbiAgICAgICAgICAgIGtleXN0cm9rZTogX3RoaXNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBUaGlzIGlzIHdoZXJlIHdlIGhhbmRsZSB0aGUga2V5c3Ryb2tlLCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgd2UgY2FwdHVyZWQgdGhlIGtleSB3aXRoIGEgZG93biBvciBwcmVzcyBldmVudFxuICAgICAgLy8gVGhlIGV4Y2VwdGlvbiB0byB0aGlzIGlzIHRoZSBhcnJvdyBrZXlzLCB3aGljaCBhcmUgcHJvY2Vzc2VkIGluIGtleWRvd25cblxuXG4gICAgICBpZiAoX3RoaXMua2V5KSB7XG4gICAgICAgIF90aGlzLmNiKHtcbiAgICAgICAgICBrZXk6IF90aGlzLmtleSxcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIGtleXN0cm9rZTogX3RoaXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5kb3duVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblxuICAgICAgaWYgKF90aGlzLm5vS2V5Q2FwdHVyZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXkgPSBlLndoaWNoO1xuXG4gICAgICBpZiAoa2V5ID09PSAyMjkgJiYgQ0lRLmlzQW5kcm9pZCkge1xuICAgICAgICBfdGhpcy5pbXBsZW1lbnRBbmRyb2lkV29ya2Fyb3VuZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5jdHJsKSB7XG4gICAgICAgIGlmIChrZXkgIT09IDkxICYmIGtleSA+PSA0OCAmJiBrZXkgPD0gMjIyIHx8IGtleSA9PT0gMzIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gLy8gaGFuZGxlZCBieSBrZXlwcmVzc1xuXG5cbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZGVmYXVsdC1jYXNlXG4gICAgICAgIGNhc2UgOTE6XG4gICAgICAgICAgX3RoaXMuY21kID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBfdGhpcy5zaGlmdCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgMTc6XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgX3RoaXMuY3RybCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgX3RoaXMuY2Fwc0xvY2sgPSAhX3RoaXMuY2Fwc0xvY2s7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSA4KSB7XG4gICAgICAgIGtleSA9ICdiYWNrc3BhY2UnO1xuICAgICAgfSAvLyBkZWxldGUgb24gbWFjXG5cblxuICAgICAgaWYgKGtleSA9PT0gOSkge1xuICAgICAgICBrZXkgPSAndGFiJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMTMpIHtcbiAgICAgICAga2V5ID0gJ2VudGVyJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMjcpIHtcbiAgICAgICAga2V5ID0gJ2VzY2FwZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDMzKSB7XG4gICAgICAgIGtleSA9ICdwYWdlIHVwJztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PT0gMzQpIHtcbiAgICAgICAga2V5ID0gJ3BhZ2UgZG93bic7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDM1KSB7XG4gICAgICAgIGtleSA9ICdlbmQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSAzNikge1xuICAgICAgICBrZXkgPSAnaG9tZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IDQ1KSB7XG4gICAgICAgIGtleSA9ICdpbnNlcnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSA0Nikge1xuICAgICAgICBrZXkgPSAnZGVsZXRlJztcbiAgICAgIH1cblxuICAgICAgX3RoaXMua2V5ID0ga2V5OyAvLyBJZiB5b3UgaG9sZCBhIGtleSBkb3duLCB0aGVuIGtleWRvd24gd2lsbCByZXBlYXQuIFRoZXNlIGFyZSB0aGUga2V5c1xuICAgICAgLy8gdGhhdCB3ZSB3YW50IHRvIGNhcHR1cmUgcmVwZWF0IGFjdGlvbi5cblxuICAgICAgaWYgKGtleSA9PT0gMzcgfHwga2V5ID09PSAzOCB8fCBrZXkgPT09IDM5IHx8IGtleSA9PT0gNDApIHtcbiAgICAgICAgaWYgKGtleSA9PT0gMzcpIHtcbiAgICAgICAgICBrZXkgPSAnbGVmdCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSAzOCkge1xuICAgICAgICAgIGtleSA9ICd1cCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSAzOSkge1xuICAgICAgICAgIGtleSA9ICdyaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09PSA0MCkge1xuICAgICAgICAgIGtleSA9ICdkb3duJztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmtleSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuY2Ioe1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIGU6IGUsXG4gICAgICAgICAga2V5c3Ryb2tlOiBfdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5rZXlwcmVzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMubm9LZXlDYXB0dXJlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleSA9IGUud2hpY2g7XG5cbiAgICAgIGlmIChrZXkgPCAzMiB8fCBrZXkgPiAyMjIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBoYW5kbGVkIGJ5IGtleWRvd25cblxuXG4gICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgfTtcblxuICAgIHRoaXMub25ibHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLmN0cmwgPSBmYWxzZTtcblxuICAgICAgX3RoaXMuY2Ioe1xuICAgICAgICBrZXk6IDE3LFxuICAgICAgICBlOiBlLFxuICAgICAgICBrZXlzdHJva2U6IF90aGlzXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLmNiID0gY2I7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5zaGlmdCA9IGZhbHNlO1xuICAgIHRoaXMuY3RybCA9IGZhbHNlO1xuICAgIHRoaXMuY21kID0gZmFsc2U7XG4gICAgdGhpcy5jYXBzTG9jayA9IGZhbHNlO1xuICAgIHRoaXMuZG93blZhbHVlID0gJyc7IC8vIEFuZHJvaWQgQ2hyb21lIGJ1ZyByZXF1aXJlcyBhIHdvcmthcm91bmQgZm9yIGtleXVwLlxuICB9IC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzA3NDM0OTAvY2FwdHVyZS1rZXlzLXR5cGVkLW9uLWFuZHJvaWQtdmlydHVhbC1rZXlib2FyZC11c2luZy1qYXZhc2NyaXB0XG4gIC8vIE9uIENocm9tZSBBbmRyb2lkLCB0aGUga2V5ZG93bi9rZXl1cCBldmVudHMgYXJlIGJyb2tlbi4gV2UgaGF2ZSB0byBmaWd1cmUgb3V0IHRoZSBrZXkgdGhhdCB3YXMgcHJlc3NlZCBieVxuICAvLyBleGFtaW5pbmcgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGJveCBiZWZvcmUgKGtleWRvd24pIGFuZCBhZnRlciAoa2V5dXApIGFuZCBpZGVudGlmeWluZyB3aGF0IGNoYW5nZWRcbiAgLy8gTm90ZSB0aGF0IENJUS5pc0FuZHJvaWQgaXMgZmFsc2Ugd2hlbiB0aGUgdXNlciByZXF1ZXN0cyBcImRlc2t0b3Agc2l0ZVwiIGFuZCBzbyBzb21lIGlucHV0IGJveGVzIHdvbid0IHdvcmtcbiAgLy8gaW4gdGhhdCBzaXR1YXRpb24uIFRoZXJlIGlzIG5vIHdvcmthcm91bmQgb3RoZXIgdGhhbiB0byBhbHdheXMgdHJlYXQgMjI5IGFzIGEgZmFsc2UgdmFsdWUgKGl0IGlzIGEgc3dlZGlzaCBjaGFyYWN0ZXIpXG5cblxuICBfY3JlYXRlQ2xhc3MoS2V5c3Ryb2tlLCBbe1xuICAgIGtleTogXCJhbmRyb2lkV29ya2Fyb3VuZEtleXVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFuZHJvaWRXb3JrYXJvdW5kS2V5dXAoZSkge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB2YXIga2V5O1xuXG4gICAgICBpZiAobmV3VmFsdWUubGVuZ3RoID4gdGhpcy5kb3duVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG5ld1ZhbHVlLmNoYXJDb2RlQXQobmV3VmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXkgPSAnZGVsZXRlJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYih7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBlOiBlLFxuICAgICAgICBrZXlzdHJva2U6IHRoaXNcbiAgICAgIH0pO1xuICAgIH0gLy8gTWFuYWdpbmcga2V5c3Ryb2tlIGV2ZW50cy4gV2Ugd2lsbCBnZXQgdGhyZWUga2V5IGV2ZW50cyBmcm9tIHRoZSBicm93c2VyOiBrZXlkb3duLCBrZXl1cCwga2V5cHJlc3NcbiAgICAvLyBUaGVzZSBjb21lIGluIGEgc3BlY2lmaWMgb3JkZXI6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvZG9tL2V2ZW50cy9rZXlzLmh0bWxcbiAgICAvLyBrZXlwcmVzcyBnaXZlcyB5b3UgdGhlIGNhcGl0YWxpemVkIG9yIHVuY2FwaXRhbGl6ZWQga2V5LCB1bmxpa2Uga2V5dXAva2V5ZG93blxuICAgIC8vIHdoaWNoIG9ubHkgZ2l2ZSB5b3UgdGhlIGFjdHVhbCBwaHlzaWNhbCBrZXkgdGhhdCB3YXMgcHJlc3NlZCBvbiB0aGUga2V5Ym9hcmRcbiAgICAvLyBrZXlwcmVzcyBpcyB0cmlnZ2VyZWQgKmJlZm9yZSogdGhlIGFjdGlvbiBtb2RpZmllcyB0aGUgaW5wdXQgZmllbGRcbiAgICAvL1xuICAgIC8vIFdlIGNhbiBjYXB0dXJlIGtleXN0cm9rZXMgb24gdGhlIGJvZHksIG9yIG9uIGFuIGlucHV0IGZpZWxkLiBXaGF0IHdlIHdhbnQgdG8gbWFrZSBzdXJlIGlzIHRoYXRcbiAgICAvLyB0aGUgaW5wdXQgZmllbGQgaXMgYWN0dWFsbHkgdXBkYXRlZCB3aGVuIHdlIHByb2Nlc3MgdGhlIHN0cm9rZS4gU2luY2Uga2V5cHJlc3MgYW5kIGtleWRvd24gb2NjdXJcbiAgICAvLyBiZWZvcmUgdGhlIGlucHV0IGZpZWxkIGlzIHVwZGF0ZWQsIHdlIHNhdmUgYW55IGtleSB0aGF0IGhhcyBiZWVuIGhhbmRsZWQgYnkgdGhlc2UgaW4gdGhpcy5rZXlcbiAgICAvLyBidXQgd2UgZG9uJ3QgcHJvY2VzcyB0aGUgc3Ryb2tlIHVudGlsIHRoZSBrZXl1cCBldmVudCBpcyBmaXJlZC4gVGhpcyBlbnN1cmVzIHRoYXQgb3VyIGhhbmRsZXJzXG4gICAgLy8gd2lsbCBhbHdheXMgaGF2ZSB0aGUgcmlnaHQga2V5IChjYXBpdGFsaXplZCkgYW5kIHRoYXQgaW5wdXQgZmllbGQgdmFsdWUgd2lsbCBiZSB1cCB0byBkYXRlLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZVwiLFxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6ZXMgbWVtYmVyIGZ1bmNpdG9uc1xuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duKTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMua2V5cHJlc3MpOyAvLyBvdGhlcndpc2UgY3RybC10IHRvIHN3aXRjaCB0YWJzIGNhdXNlcyBjdHJsIHRvIGdldCBzdHVja1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMub25ibHVyKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gS2V5c3Ryb2tlO1xufSgpO1xuXG5LZXlzdHJva2Uubm9LZXlDYXB0dXJlID0gZmFsc2U7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEtleXN0cm9rZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0hlbHBlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9IZWxwZXIgKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL0hlbHBlci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfS2V5c3Ryb2tlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0tleXN0cm9rZSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4gKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL2luZGV4LmpzXCIpO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1kZXN0cnVjdHVyaW5nICovXG5cblxuXG4vKipcbiAqIFVJIEhlbHBlciBmb3IgY2FwdHVyaW5nIGFuZCBoYW5kbGluZyBrZXlzdHJva2VzLiBBIGhlbHBlciBvciBDb250ZXh0VGFnIGNhblxuICogXCJjbGFpbVwiIGtleXN0cm9rZXMgYW5kIGludGVyY2VwdCB0aGVtLCBvdGhlcndpc2UgdGhlIGtleXN0cm9rZXMgd2lsbCBiZSBoYW5kbGVkXG4gKiBieSBrZXl1cCBhbmQga2V5ZG93bi5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbbm9kZV0gVGhlIG5vZGUgdG8gd2hpY2ggdG8gYXR0YWNoLCBnZW5lcmFsbHkgdGhlIGNoYXJ0IGNvbnRhaW5lclxuICogQHBhcmFtIHtDSVEuVUkuQ29udGV4dH0gY29udGV4dCBUaGUgY29udGV4dCBmb3IgdGhlIGNoYXJ0XG4gKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gUGFyYW1ldGVycyB0byBkcml2ZSB0aGUgaGVscGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1zLmNiXSBDYWxsYmFjayB0byBoYW5kbGUgaG90IGtleXMuXG4gKiBAbmFtZSBDSVEuVUkuS2V5Ym9hcmRTaG9ydGN1dHNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbnZhciBLZXlzdHJva2VIdWIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9IZWxwZXIpIHtcbiAgX2luaGVyaXRzKEtleXN0cm9rZUh1YiwgX0hlbHBlcik7XG5cbiAgZnVuY3Rpb24gS2V5c3Ryb2tlSHViKG5vZGUsIGNvbnRleHQsIHBhcmFtcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlzdHJva2VIdWIpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoS2V5c3Ryb2tlSHViKS5jYWxsKHRoaXMsIG5vZGUsIGNvbnRleHQsIHBhcmFtcykpO1xuICAgIF90aGlzLm5vZGUgPSBub2RlO1xuICAgIF90aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIF90aGlzLnBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICBLZXlzdHJva2VIdWIuaW5zdGFuY2UgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcblxuICAgIHZhciBzZWxmID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5oYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIF90aGlzLmtleXN0cm9rZSA9IG5ldyBfS2V5c3Ryb2tlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKG5vZGUsIGhhbmRsZXIoKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBHbG9iYWwgZGVmYXVsdCBob3RrZXkgbWV0aG9kLiBQYXNzIHRoaXMgb3IgeW91ciBvd24gbWV0aG8gaW4gdG8gQ0lRLlVJLktleXN0cm9rZUh1YlxuICAgKiBAbWVtYmVyb2YgQ0lRLlVJLktleWJvYXJkU2hvcnRjdXRzXG4gICAqIEBwYXJhbSAge251bWJlcn0ga2V5IFRoZSBwcmVzc2VkIGtleVxuICAgKiBAcGFyYW0gIHtDSVEuVUkuS2V5c3Ryb2tlSHVifSBodWIgVGhlIGh1YiB0aGF0IHByb2Nlc3NlZCB0aGUga2V5XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICBSZXR1cm4gdHJ1ZSBpZiB5b3UgY2FwdHVyZWQgdGhlIGtleVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhLZXlzdHJva2VIdWIsIFt7XG4gICAga2V5OiBcInNldEFjdGl2ZUNvbnRleHRcIixcblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgYWN0aXZlIGNvbnRleHQgZm9yIHRoZSBodWIsIGZvciBpbnN0YW5jZSB3aGVuIGRlYWxpbmcgd2l0aCBtdWx0aXBsZSBjaGFydHNcbiAgICAgKiBAcGFyYW0ge0NJUS5VSS5Db250ZXh0fSBjb250ZXh0IFRoZSBjb250ZXh0XG4gICAgICogQG1lbWJlcm9mIENJUS5VSS5LZXlzdHJva2VIdWJcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QWN0aXZlQ29udGV4dChjb250ZXh0KSB7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaHViXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSBlIEV2ZW50XG4gICAgICogQHBhcmFtIGtleXN0cm9rZVxuICAgICAqIEBtZW1iZXJvZiBDSVEuVUkuS2V5c3Ryb2tlSHViXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInByb2Nlc3NLZXlTdHJva2VDbGFpbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc0tleVN0cm9rZUNsYWltcyhodWIsIGtleSwgZSwga2V5c3Ryb2tlKSB7XG4gICAgICBmb3IgKHZhciBpID0gX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY2xhaW1zXCJdLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICAgIHZhciBoZWxwZXIgPSBfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjbGFpbXNcIl1baV0uaGVscGVyO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBoZWxwZXIua2V5U3Ryb2tlKGh1Yiwga2V5LCBlLCBrZXlzdHJva2UpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmICghcmVzcG9uc2UuYWxsb3dEZWZhdWx0KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRDbGFpbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDbGFpbShoZWxwZXIpIHtcbiAgICAgIF9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImNsYWltc1wiXS5wdXNoKHtcbiAgICAgICAgaGVscGVyOiBoZWxwZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVDbGFpbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDbGFpbShoZWxwZXIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY2xhaW1zXCJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjbGFpbXNcIl1baV0uaGVscGVyID09PSBoZWxwZXIpIHtcbiAgICAgICAgICBfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjbGFpbXNcIl0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGtleXN0cm9rZXNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IG9iaiBFdmVudCBvYmplY3RcbiAgICAgKiBAbWVtYmVyb2YgQ0lRLlVJLktleXN0cm9rZUh1YlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXIob2JqKSB7XG4gICAgICBpZiAoIXRoaXMuY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuXG4gICAgICBpZiAoc3R4LmVkaXRpbmdBbm5vdGF0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGUgPSBvYmouZSxcbiAgICAgICAgICBrZXkgPSBvYmoua2V5LFxuICAgICAgICAgIGtleXN0cm9rZSA9IG9iai5rZXlzdHJva2UsXG4gICAgICAgICAgdGFyZ2V0VGFnTmFtZSA9IG9iai5lLnRhcmdldC50YWdOYW1lO1xuXG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHN0eC5zaGlmdCA9IGtleXN0cm9rZS5zaGlmdDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE3OlxuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIHN0eC5jdHJsID0ga2V5c3Ryb2tlLmN0cmw7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICBzdHguY21kID0ga2V5c3Ryb2tlLmNtZDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIHRoaXMuY2Fwc0xvY2sgPSAhdGhpcy5jYXBzTG9jaztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoIUNJUS5DaGFydEVuZ2luZS5kcmF3aW5nTGluZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9jZXNzS2V5U3Ryb2tlQ2xhaW1zKHRoaXMsIGtleSwgZSwga2V5c3Ryb2tlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ICE9PSAnZXNjYXBlJykge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTW9kYWwoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0VGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCB0YXJnZXRUYWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gdGFyZ2V0IGlzIG5vdCB0aGUgY2hhcnRcblxuXG4gICAgICBpZiAodGhpcy5wYXJhbXMuY2IpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNiKGtleSwgdGhpcykpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJkZWZhdWx0SG90S2V5c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0SG90S2V5cyhrZXksIGh1Yikge1xuICAgICAgdmFyIHN0eCA9IGh1Yi5jb250ZXh0LnN0eDtcbiAgICAgIHZhciBwdXNoID0gMTtcblxuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgIHN0eC56b29tSW4oKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdkb3duJzpcbiAgICAgICAgICBzdHguem9vbU91dCgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2hvbWUnOlxuICAgICAgICAgIHN0eC5ob21lKCk7XG4gICAgICAgICAgc3R4LmhlYWRzVXBIUigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgICAgc3R4LmNoYXJ0LnNjcm9sbCA9IHN0eC5jaGFydC5kYXRhU2V0Lmxlbmd0aDtcbiAgICAgICAgICBzdHguZHJhdygpO1xuICAgICAgICAgIHN0eC5oZWFkc1VwSFIoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICBpZiAoc3R4LmN0cmwpIHtcbiAgICAgICAgICAgIHN0eC56b29tT3V0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHB1c2ggPSAxO1xuXG4gICAgICAgICAgICBpZiAoc3R4LnNoaWZ0IHx8IGh1Yi5jYXBzTG9jaykge1xuICAgICAgICAgICAgICBwdXNoID0gTWF0aC5tYXgoNSwgNSAqICg4IC0gTWF0aC5yb3VuZChzdHgubGF5b3V0LmNhbmRsZVdpZHRoKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R4LmNoYXJ0LnNjcm9sbCArIHB1c2ggPj0gc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHB1c2ggPSBzdHguY2hhcnQuZGF0YVNldC5sZW5ndGggLSBzdHguY2hhcnQuc2Nyb2xsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHguY2hhcnQuc2Nyb2xsICs9IHB1c2g7XG4gICAgICAgICAgICBzdHguZHJhdygpO1xuICAgICAgICAgICAgc3R4LmhlYWRzVXBIUigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICBpZiAoc3R4LmN0cmwpIHtcbiAgICAgICAgICAgIHN0eC56b29tSW4oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHVzaCA9IDE7XG5cbiAgICAgICAgICAgIGlmIChzdHguc2hpZnQgfHwgaHViLmNhcHNMb2NrKSB7XG4gICAgICAgICAgICAgIHB1c2ggPSBNYXRoLm1heCg1LCA1ICogKDggLSBNYXRoLnJvdW5kKHN0eC5sYXlvdXQuY2FuZGxlV2lkdGgpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0eC5jaGFydC5zY3JvbGwgLT0gcHVzaDtcbiAgICAgICAgICAgIHN0eC5kcmF3KCk7XG4gICAgICAgICAgICBzdHguaGVhZHNVcEhSKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgY2FzZSAnYmFja3NwYWNlJzpcbiAgICAgICAgICBpZiAoQ0lRLkNoYXJ0RW5naW5lLmRyYXdpbmdMaW5lKSB7XG4gICAgICAgICAgICBzdHgudW5kbygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3R4LmFueUhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICBzdHguZGVsZXRlSGlnaGxpZ2h0ZWQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2VzY2FwZSc6XG4gICAgICAgICAgaWYgKENJUS5DaGFydEVuZ2luZS5kcmF3aW5nTGluZSkge1xuICAgICAgICAgICAgc3R4LnVuZG8oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gbm90IGNhcHR1cmVkXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBLZXlzdHJva2VIdWI7XG59KF9IZWxwZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG5LZXlzdHJva2VIdWIuaW5zdGFuY2UgPSBudWxsO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChLZXlzdHJva2VIdWIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb21wb25lbnRzL3VpL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29tcG9uZW50cy91aS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGNsYWltcyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbGFpbXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjbGFpbXM7IH0pO1xuLyoqXG4gKiBTZXQgdGhpcyBmbGFnIHRvIHRydWUgdG8gYnlwYXNzIGJpbmRpbmdzIHdoZW4gYWRkaW5nIGEgY29tcG9uZW50IHRvIHRoZSBET00uXG4gKiBGb3IgaW5zdGFuY2Ugd2hlbiBjb21wb25lbnRzIGFyZSBjcmVhdGVkIGJ5IGh0bWwyY2FudmFzIHdlIGRvbid0IHdhbnQgdGhlbSB0byBkbyBhbnkgaGVhdnkgbGlmdGluZy5cbiAqIEB0eXBlIHtCb29sZWFufVxuICovXG52YXIgY2xhaW1zID0gW107XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvdXRpbHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb21wb25lbnRzL3VpL3V0aWxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZ2V0UGFyZW50cywgY3JlYXRlRWxlbWVudCwgYWdncmVnYXRpb24sIHNldEhpZGRlbiwgZG93bmxvYWRVUkkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0UGFyZW50c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFBhcmVudHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZUVsZW1lbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVFbGVtZW50OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZ2dyZWdhdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFnZ3JlZ2F0aW9uOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzZXRIaWRkZW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzZXRIaWRkZW47IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRvd25sb2FkVVJJXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZG93bmxvYWRVUkk7IH0pO1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG4vLyBqUXVlcnkgcGFyZW50cygpIHZhbmlsbGEgYWx0ZXJuYXRpdmU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjk4MTI0OC8xNDcxMjU4XG5mdW5jdGlvbiBnZXRQYXJlbnRzKGVsKSB7XG4gIHZhciBwYXJlbnRTZWxlY3RvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2JvZHknO1xuICB2YXIgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50U2VsZWN0b3IpO1xuXG4gIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBwYXJlbnRzID0gW107XG4gIHZhciBwID0gZWwucGFyZW50Tm9kZTtcblxuICB3aGlsZSAocCAhPT0gcGFyZW50RWxlbWVudCkge1xuICAgIC8vIGlmIHBhcmVudEVsZW1lbnQgaXMgbm90IGluIGhpZXJhcmNoeVxuICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcGFyZW50cy5wdXNoKHApO1xuICAgIHAgPSBwLnBhcmVudE5vZGU7XG4gIH0gLy8gSW5jbHVkZSBwYXJlbnQgZWxlbWVudCBpbiBwYXJlbnRzXG5cblxuICBwYXJlbnRzLnB1c2gocGFyZW50RWxlbWVudCk7XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudChodG1sKSB7XG4gIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHdyYXBwZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHdyYXBwZXIuZmlyc3RDaGlsZDtcbn0gLy8gQXV4aWxpYXJ5IGZ1bmN0aW9uIHRoYXQgZW5hYmxlcyBtdWx0aXBsZSBpbmhlcml0ZW5jZSB3aXRoIGVzNiBjbGFzc2VzOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDUzMzI5NTkvMTQ3MTI1OFxuXG5mdW5jdGlvbiBhZ2dyZWdhdGlvbihiYXNlQ2xhc3MpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1peGlucyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWl4aW5zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBjb3B5UHJvcHMgPSBmdW5jdGlvbiBjb3B5UHJvcHModGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGNvcGllcyBhbGwgcHJvcGVydGllcyBhbmQgc3ltYm9scywgZmlsdGVyaW5nIG91dCBzb21lIHNwZWNpYWwgb25lc1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgaWYgKCFwcm9wLm1hdGNoKC9eKD86Y29uc3RydWN0b3J8cHJvdG90eXBlfGFyZ3VtZW50c3xjYWxsZXJ8bmFtZXxiaW5kfGNhbGx8YXBwbHl8dG9TdHJpbmd8bGVuZ3RoKSQvKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBiYXNlID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX2Jhc2VDbGFzcykge1xuICAgIF9pbmhlcml0cyhiYXNlLCBfYmFzZUNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIGJhc2UoKSB7XG4gICAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgYmFzZSk7XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoYmFzZSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuICAgICAgbWl4aW5zLmZvckVhY2goZnVuY3Rpb24gKG1peGluKSB7XG4gICAgICAgIGNvcHlQcm9wcyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgbmV3IG1peGluKCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlO1xuICB9KGJhc2VDbGFzcyk7XG5cbiAgbWl4aW5zLmZvckVhY2goZnVuY3Rpb24gKG1peGluKSB7XG4gICAgLy8gb3V0c2lkZSBjb250cnVjdG9yKCkgdG8gYWxsb3cgYWdncmVnYXRpb24oQSxCLEMpLnN0YXRpY0Z1bmN0aW9uKCkgdG8gYmUgY2FsbGVkIGV0Yy5cbiAgICBjb3B5UHJvcHMoYmFzZS5wcm90b3R5cGUsIG1peGluLnByb3RvdHlwZSk7XG4gICAgY29weVByb3BzKGJhc2UsIG1peGluKTtcbiAgfSk7XG4gIHJldHVybiBiYXNlO1xufVxuZnVuY3Rpb24gc2V0SGlkZGVuKGVsZW1lbnQsIGlzSGlkZGVuKSB7XG4gIGlmIChpc0hpZGRlbikge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRvd25sb2FkVVJJKHVyaSwgbmFtZSkge1xuICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbGluay5kb3dubG9hZCA9IG5hbWU7XG4gIGxpbmsuaHJlZiA9IHVyaTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgbGluay5jbGljaygpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL0ZlZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZlZWQvRmVlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZXZlbnQtZW1pdHRlci1lczYgKi8gXCIuL25vZGVfbW9kdWxlcy9ldmVudC1lbWl0dGVyLWVzNi9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9UaWNrSGlzdG9yeUZvcm1hdHRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9UaWNrSGlzdG9yeUZvcm1hdHRlciAqLyBcIi4vc3JjL2ZlZWQvVGlja0hpc3RvcnlGb3JtYXR0ZXIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3Vic2NyaXB0aW9uICovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxuXG5cblxuXG5cbnZhciBGZWVkID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKEZlZWQsIFt7XG4gICAga2V5OiBcInN0YXJ0RXBvY2hcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYWluU3RvcmUuc3RhdGUuc3RhcnRFcG9jaDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW5kRXBvY2hcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYWluU3RvcmUuc3RhdGUuZW5kRXBvY2g7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdyYW51bGFyaXR5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFpblN0b3JlLmNoYXJ0LmdyYW51bGFyaXR5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21haW5TdG9yZS5sb2FkZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1hcmdpblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21haW5TdG9yZS5zdGF0ZS5tYXJnaW47XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX01BU1RFUl9EQVRBX1VQREFURSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdFVkVOVF9NQVNURVJfREFUQV9SRUFTU0lHTic7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfQ09NUEFSSVNPTl9EQVRBX1VQREFURSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkVWRU5UX1NUQVJUX1BBR0lOQVRJT05cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfU1RBUlRfUEFHSU5BVElPTic7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkVWRU5UX09OX1BBR0lOQVRJT05cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfT05fUEFHSU5BVElPTic7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gRmVlZChiaW5hcnlBcGksIHN0eCwgbWFpblN0b3JlLCB0cmFkaW5nVGltZXMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZlZWQpO1xuXG4gICAgdGhpcy5fYWN0aXZlU3RyZWFtcyA9IHt9O1xuICAgIHRoaXMuX2lzQ29ubmVjdGlvbk9wZW5lZCA9IHRydWU7XG5cbiAgICB0aGlzLm9uUmFuZ2VDaGFuZ2VkID0gZnVuY3Rpb24gKGZvcmNlTG9hZCkge1xuICAgICAgdmFyIHBlcmlvZGljaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiXSkoX3RoaXMuZ3JhbnVsYXJpdHkpO1xuICAgICAgdmFyIHJhbmdlVGltZSA9IChfdGhpcy5ncmFudWxhcml0eSB8fCAxKSAqIF90aGlzLl9zdHguY2hhcnQubWF4VGlja3M7XG4gICAgICB2YXIgZHRMZWZ0ID0gbnVsbDtcbiAgICAgIHZhciBkdFJpZ2h0ID0gbnVsbDtcblxuICAgICAgX3RoaXMuX21haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoZmFsc2UpO1xuXG4gICAgICBpZiAoIV90aGlzLmVuZEVwb2NoKSB7XG4gICAgICAgIGlmIChfdGhpcy5zdGFydEVwb2NoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IF90aGlzLl9nZXRLZXkoe1xuICAgICAgICAgICAgc3ltYm9sOiBfdGhpcy5fbWFpblN0b3JlLnN0YXRlLnN5bWJvbCxcbiAgICAgICAgICAgIGdyYW51bGFyaXR5OiBfdGhpcy5fbWFpblN0b3JlLnN0YXRlLmdyYW51bGFyaXR5XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XSkge1xuICAgICAgICAgICAgX3RoaXMuX2ZvcmdldFN0cmVhbShrZXkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGR0TGVmdCA9IF90aGlzLnN0YXJ0RXBvY2ggPyBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKShfdGhpcy5zdGFydEVwb2NoKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR0TGVmdCA9IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLnN0YXJ0RXBvY2ggfHwgX3RoaXMuZW5kRXBvY2ggLSByYW5nZVRpbWUpKTtcbiAgICAgICAgZHRSaWdodCA9IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLmVuZEVwb2NoKSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9zdHguc2V0UmFuZ2Uoe1xuICAgICAgICBkdExlZnQ6IGR0TGVmdCxcbiAgICAgICAgZHRSaWdodDogZHRSaWdodCxcbiAgICAgICAgcGVyaW9kaWNpdHk6IHBlcmlvZGljaXR5LFxuICAgICAgICBmb3JjZUxvYWQ6IGZvcmNlTG9hZFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLmVuZEVwb2NoICYmICFfdGhpcy5zdGFydEVwb2NoKSB7XG4gICAgICAgICAgX3RoaXMuX3N0eC5ob21lKCk7XG5cbiAgICAgICAgICBkZWxldGUgX3RoaXMuX3N0eC5sYXlvdXQucmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc2NhbGVDaGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX21haW5TdG9yZS5zdGF0ZS5zYXZlTGF5b3V0KCk7XG5cbiAgICAgICAgX3RoaXMuX21haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc3R4ID0gc3R4O1xuICAgIHRoaXMuX2JpbmFyeUFwaSA9IGJpbmFyeUFwaTtcbiAgICB0aGlzLl9tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5fc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5fdHJhZGluZ1RpbWVzID0gdHJhZGluZ1RpbWVzO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1haW5TdG9yZS5zdGF0ZS5pc0Nvbm5lY3Rpb25PcGVuZWQ7XG4gICAgfSwgdGhpcy5vbkNvbm5lY3Rpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEoe1xuICAgICAgZW1pdERlbGF5OiAwXG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmVlZCwgW3tcbiAgICBrZXk6IFwic2NhbGVDaGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FsZUNoYXJ0KCkge1xuICAgICAgaWYgKHRoaXMuc3RhcnRFcG9jaCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5kRXBvY2gpIHtcbiAgICAgICAgICB0aGlzLl9zdHgubWF4TWFzdGVyRGF0YVNpemUgPSAwO1xuICAgICAgICAgIHRoaXMuX3N0eC5jaGFydC5sb2NrQXV0b1Njcm9sbCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc3R4LmNoYXJ0LmlzRGlzcGxheUZ1bGxNb2RlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5fc3R4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHguc2V0TWF4VGlja3ModGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoICsgKE1hdGguZmxvb3IodGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC8gNSkgfHwgMikpO1xuXG4gICAgICAgIHRoaXMuX3N0eC5jaGFydC5zY3JvbGwgPSB0aGlzLl9zdHguY2hhcnQuZGF0YVNldC5sZW5ndGggKyAoTWF0aC5mbG9vcih0aGlzLl9zdHguY2hhcnQuZGF0YVNldC5sZW5ndGggLyAxMCkgfHwgMSk7XG4gICAgICAgIHRoaXMuX3N0eC5jaGFydC5pc1Njcm9sbExvY2F0aW9uQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fc3R4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9IC8vIGFsdGhvdWdoIG5vdCB1c2VkLCBzdWJzY3JpYmUgaXMgb3ZlcnJpZGRlbiBzbyB0aGF0IHVuc3Vic2NyaWJlIHdpbGwgYmUgY2FsbGVkIGJ5IENoYXJ0SVFcblxuICB9LCB7XG4gICAga2V5OiBcInN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7fSAvLyBEbyBub3QgY2FsbCBleHBsaWNpdGx5ISBNZXRob2QgYmVsb3cgaXMgY2FsbGVkIGJ5IENoYXJ0SVEgd2hlbiB1bnN1YnNjcmliaW5nIHN5bWJvbHMuXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZShfcmVmKSB7XG4gICAgICB2YXIgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICAgICAgcGVyaW9kID0gX3JlZi5wZXJpb2QsXG4gICAgICAgICAgaW50ZXJ2YWwgPSBfcmVmLmludGVydmFsO1xuICAgICAgdmFyIGdyYW51bGFyaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiY2FsY3VsYXRlR3JhbnVsYXJpdHlcIl0pKHBlcmlvZCwgaW50ZXJ2YWwpO1xuXG4gICAgICB2YXIga2V5ID0gdGhpcy5fZ2V0S2V5KHtcbiAgICAgICAgc3ltYm9sOiBzeW1ib2wsXG4gICAgICAgIGdyYW51bGFyaXR5OiBncmFudWxhcml0eVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2ZvcmdldFN0cmVhbShrZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZm9yZ2V0U3RyZWFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9mb3JnZXRTdHJlYW0oa2V5KSB7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlU3RyZWFtc1trZXldKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XS5mb3JnZXQoKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5fYWN0aXZlU3RyZWFtc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaEluaXRpYWxEYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmV0Y2hJbml0aWFsRGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShzeW1ib2wsIHN1Z2dlc3RlZFN0YXJ0RGF0ZSwgc3VnZ2VzdGVkRW5kRGF0ZSwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgcGVyaW9kLCBpbnRlcnZhbCwgc3ltYm9sT2JqZWN0LCBncmFudWxhcml0eSwga2V5LCBsb2NhbERhdGUsIGlzQ29tcGFyaXNvbkNoYXJ0LCBzdGFydCwgZW5kLCBjb21wYXJpc29uQ2hhcnRTeW1ib2wsIHN5bWJvbE5hbWUsIGRhdGFDYWxsYmFjaywgdGlja0hpc3RvcnlSZXF1ZXN0LCBnZXRIaXN0b3J5T25seSwgcXVvdGVzLCBzdWJzY3JpcHRpb24sIGRlbGF5LCB0ZXh0LCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGFzUmVhY2hlZEVuZE9mRGF0YShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcGVyaW9kID0gcGFyYW1zLnBlcmlvZCwgaW50ZXJ2YWwgPSBwYXJhbXMuaW50ZXJ2YWwsIHN5bWJvbE9iamVjdCA9IHBhcmFtcy5zeW1ib2xPYmplY3Q7XG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjYWxjdWxhdGVHcmFudWxhcml0eVwiXSkocGVyaW9kLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAga2V5ID0gdGhpcy5fZ2V0S2V5KHtcbiAgICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IGdyYW51bGFyaXR5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbG9jYWxEYXRlID0gdGhpcy5fc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKTtcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRTdGFydERhdGUgPSBzdWdnZXN0ZWRTdGFydERhdGUgPiBsb2NhbERhdGUgPyBsb2NhbERhdGUgOiBzdWdnZXN0ZWRTdGFydERhdGU7XG4gICAgICAgICAgICAgICAgaXNDb21wYXJpc29uQ2hhcnQgPSB0aGlzLl9zdHguY2hhcnQuc3ltYm9sICE9PSBzeW1ib2w7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLnN0YXJ0RXBvY2ggfHwgTWF0aC5mbG9vcihzdWdnZXN0ZWRTdGFydERhdGUgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLm1hcmdpbiAmJiB0aGlzLnN0YXJ0RXBvY2ggPyBzdGFydCAtIHRoaXMubWFyZ2luIDogc3RhcnQ7XG4gICAgICAgICAgICAgICAgZW5kID0gdGhpcy5tYXJnaW4gJiYgdGhpcy5lbmRFcG9jaCA/IHRoaXMuZW5kRXBvY2ggKyB0aGlzLm1hcmdpbiA6IHRoaXMuZW5kRXBvY2g7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXJpc29uQ2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFN0cmFuZ2UgaXNzdWUgd2hlcmUgY29tcGFyaXNvbiBzZXJpZXMgaXMgb2Zmc2V0IGJ5IHRpbWV6b25lLi4uXG4gICAgICAgICAgICAgICAgICBzdGFydCAtPSBzdWdnZXN0ZWRTdGFydERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbXBhcmlzb25DaGFydFN5bWJvbCA9IGlzQ29tcGFyaXNvbkNoYXJ0ID8gc3ltYm9sIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHN5bWJvbE5hbWUgPSBzeW1ib2xPYmplY3QubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5zZXRTdGF0ZSgnY2hhcnQtZGF0YScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFkaW5nVGltZXMuaXNGZWVkVW5hdmFpbGFibGUoc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLm5vdGlmaWVyLm5vdGlmeUZlZWRVbmF2YWlsYWJsZShzeW1ib2xOYW1lKTtcblxuICAgICAgICAgICAgICAgIGRhdGFDYWxsYmFjayA9IHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGFyaXNvbkNoYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAvLyBQYXNzaW5nIGVycm9yIHdpbGwgcHJldmVudCB0aGUgY2hhcnQgZnJvbSBiZWluZyBzaG93bjsgZm9yXG4gICAgICAgICAgICAgICAgICAvLyBtYWluIGNoYXJ0IHdlIHN0aWxsIHdhbnQgdGhlIGNoYXJ0IHRvIGJlIHNob3duLCBqdXN0IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICBkYXRhQ2FsbGJhY2sgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdTdHJlYW1pbmdOb3RBbGxvd2VkJyxcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NBbGVydDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgfSwgZGF0YUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fbWFpblN0b3JlLmNoYXJ0LnNldENoYXJ0QXZhaWxhYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICB0aWNrSGlzdG9yeVJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiBncmFudWxhcml0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2V0SGlzdG9yeU9ubHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIGVuZDsgbm8gc3RyZWFtaW5nIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgdGlja0hpc3RvcnlSZXF1ZXN0LmVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICBnZXRIaXN0b3J5T25seSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFkaW5nVGltZXMuaXNNYXJrZXRPcGVuZWQoc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsYXkgPSB0aGlzLl90cmFkaW5nVGltZXMuZ2V0RGVsYXllZE1pbnV0ZXMoc3ltYm9sKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnlEZWxheWVkTWFya2V0KHN5bWJvbE5hbWUsIGRlbGF5KTtcblxuICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IF9zdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkRlbGF5ZWRTdWJzY3JpcHRpb25cIl0odGlja0hpc3RvcnlSZXF1ZXN0LCB0aGlzLl9iaW5hcnlBcGksIHRoaXMuX3N0eCwgZGVsYXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgX3N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiUmVhbHRpbWVTdWJzY3JpcHRpb25cIl0odGlja0hpc3RvcnlSZXF1ZXN0LCB0aGlzLl9iaW5hcnlBcGksIHRoaXMuX3N0eCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMztcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uLmluaXRpYWxGZXRjaCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzM6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzY7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDMwKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gX2NvbnRleHQudDAubWVzc2FnZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnkoe1xuICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnYWN0aXZlc3ltYm9sJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24ub25DaGFydERhdGEoZnVuY3Rpb24gKHRpY2tSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIGNvbW1pbmcgdGlja3MgdG8gY2hhcnQgb25seSBpZiBpdCBiZWxvbmdzIHRvIHNlbGVjdGVkIHN5bWJvbCBhZnRlciBzeW1ib2wgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGFyaXNvbkNoYXJ0IHx8IHN5bWJvbCA9PT0gX3RoaXMyLl9zdHguY2hhcnQuc3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuX3N0eC5pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5fYXBwZW5kQ2hhcnREYXRhKHRpY2tSZXNwb25zZSwga2V5LCBjb21wYXJpc29uQ2hhcnRTeW1ib2wpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pOyAvLyBpZiBzeW1ib2wgaXMgY2hhbmdlZCBiZWZvcmUgcmVxdWVzdCBpcyBjb21wbGV0ZWQsIHBhc3QgcmVxdWVzdCBuZWVkcyB0byBiZSBmb3Jnb3R0ZW46XG5cbiAgICAgICAgICAgICAgICBpZiAoISghaXNDb21wYXJpc29uQ2hhcnQgJiYgdGhpcy5fc3R4LmNoYXJ0LnN5bWJvbCAhPT0gc3ltYm9sKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5mb3JnZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDc6XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU3RyZWFtc1trZXldID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDUwOlxuICAgICAgICAgICAgICAgIHRoaXMuX21haW5TdG9yZS5ub3RpZmllci5ub3RpZnlNYXJrZXRDbG9zZShzeW1ib2xOYW1lKTsgLy8gQWx0aG91Z2ggbWFya2V0IGlzIGNsb3NlZCwgd2UgZGlzcGxheSB0aGUgcGFzdCB0aWNrIGhpc3RvcnkgZGF0YVxuXG5cbiAgICAgICAgICAgICAgICBnZXRIaXN0b3J5T25seSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgY2FzZSA1MjpcbiAgICAgICAgICAgICAgICBpZiAoIWdldEhpc3RvcnlPbmx5KSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmFyeUFwaS5nZXRUaWNrSGlzdG9yeSh0aWNrSGlzdG9yeVJlcXVlc3QpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIHF1b3RlcyA9IF9UaWNrSGlzdG9yeUZvcm1hdHRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiVGlja0hpc3RvcnlGb3JtYXR0ZXJcIl0uZm9ybWF0SGlzdG9yeShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1NzpcbiAgICAgICAgICAgICAgICBpZiAocXVvdGVzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBxdW90ZXMgZm91bmQhIScpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjE6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gdGhpcy5fdHJpbVF1b3RlcyhxdW90ZXMpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogcXVvdGVzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYWluU3RvcmUuY2hhcnQudXBkYXRlWWF4aXNXaWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZUNoYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0RGF0YVVwZGF0ZShxdW90ZXMsIGNvbXBhcmlzb25DaGFydFN5bWJvbCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzMwLCAzNl1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoSW5pdGlhbERhdGEoX3gsIF94MiwgX3gzLCBfeDQsIF94NSkge1xuICAgICAgICByZXR1cm4gX2ZldGNoSW5pdGlhbERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hQYWdpbmF0aW9uRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2ZldGNoUGFnaW5hdGlvbkRhdGEgPSBfYXN5bmNUb0dlbmVyYXRvcihcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHN5bWJvbCwgc3VnZ2VzdGVkU3RhcnREYXRlLCBlbmREYXRlLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbmQsIHN0YXJ0LCBwZXJpb2QsIGludGVydmFsLCBncmFudWxhcml0eSwgaXNNYWluQ2hhcnQ7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZW5kID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRXBvY2hcIl0pKGVuZERhdGUpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRXBvY2hcIl0pKHN1Z2dlc3RlZFN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICAgICAgcGVyaW9kID0gcGFyYW1zLnBlcmlvZCwgaW50ZXJ2YWwgPSBwYXJhbXMuaW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjYWxjdWxhdGVHcmFudWxhcml0eVwiXSkocGVyaW9kLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaXNNYWluQ2hhcnQgPSB0aGlzLl9zdHguY2hhcnQuc3ltYm9sID09PSBzeW1ib2w7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNNYWluQ2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBjb21wYXJpc29uc1xuICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfU1RBUlRfUEFHSU5BVElPTiwge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogZW5kXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFBhZ2luYXRpb25EYXRhKHN5bWJvbCwgZ3JhbnVsYXJpdHksIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZldGNoUGFnaW5hdGlvbkRhdGEoX3g2LCBfeDcsIF94OCwgX3g5LCBfeDEwKSB7XG4gICAgICAgIHJldHVybiBfZmV0Y2hQYWdpbmF0aW9uRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJfZ2V0UGFnaW5hdGlvbkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRQYWdpbmF0aW9uRGF0YTIgPSBfYXN5bmNUb0dlbmVyYXRvcihcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHN5bWJvbCwgZ3JhbnVsYXJpdHksIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpc01haW5DaGFydCwgbm93LCBzdGFydExpbWl0LCByZXN1bHQsIGZpcnN0RXBvY2gsIHJlc3BvbnNlLCBuZXdTdGFydCwgcGFnaW5hdGlvbkVuZDtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpc01haW5DaGFydCA9IHRoaXMuX3N0eC5jaGFydC5zeW1ib2wgPT09IHN5bWJvbDsgLy8gVE9ETyBUaGVyZSBpcyBubyBuZWVkIHRvIGdldCBoaXN0b3JpY2FsIGRhdGEgYmVmb3JlIHN0YXJ0VGltZVxuXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5zdGFydEVwb2NoXG4gICAgICAgICAgICAgICAgLyogJiYgc3RhcnQgPCB0aGlzLnN0YXJ0RXBvY2ggKi9cbiAgICAgICAgICAgICAgICB8fCB0aGlzLmVuZEVwb2NoICYmIGVuZCA+IHRoaXMuZW5kRXBvY2gpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBtb3JlQXZhaWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc01haW5DaGFydCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvbXBhcmlzb25zXG4gICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoRmVlZC5FVkVOVF9PTl9QQUdJTkFUSU9OLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIG5vdyA9IHRoaXMuX3NlcnZlclRpbWUuZ2V0RXBvY2goKTsgLy8gVGljayBoaXN0b3J5IGRhdGEgb25seSBnb2VzIGFzIGZhciBiYWNrIGFzIDMgeWVhcnM6XG5cbiAgICAgICAgICAgICAgICBzdGFydExpbWl0ID0gbm93IC0gTWF0aC5jZWlsKDIuOCAqIDM2NSAqIDI0ICogNjAgKiA2MCk7XG4gICAgICAgICAgICAgICAgLyogPT0gMyBZZWFycyAqL1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbXVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoIShlbmQgPiBzdGFydExpbWl0KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9iaW5hcnlBcGkuZ2V0VGlja0hpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgc3ltYm9sOiBzeW1ib2wsXG4gICAgICAgICAgICAgICAgICBncmFudWxhcml0eTogZ3JhbnVsYXJpdHksXG4gICAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5mbG9vcihNYXRoLm1heChzdGFydCwgc3RhcnRMaW1pdCkpLFxuICAgICAgICAgICAgICAgICAgZW5kOiBlbmRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgICAgZmlyc3RFcG9jaCA9IEZlZWQuZ2V0Rmlyc3RFcG9jaChyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShmaXJzdEVwb2NoID09PSB1bmRlZmluZWQgfHwgZmlyc3RFcG9jaCA9PT0gZW5kKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0ID0gc3RhcnQgLSAoZW5kIC0gc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEobmV3U3RhcnQgPD0gc3RhcnRMaW1pdCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQYXNzZWQgYXZhaWxhYmxlIHJhbmdlLiBQcmV2ZW50IGFueW1vcmUgcGFnaW5hdGlvbiByZXF1ZXN0czpcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICBtb3JlQXZhaWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHF1b3RlczogW11cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdpbmF0aW9uRGF0YShzeW1ib2wsIGdyYW51bGFyaXR5LCBuZXdTdGFydCwgZW5kLCBjYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5xdW90ZXMgPSBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlRpY2tIaXN0b3J5Rm9ybWF0dGVyXCJdLmZvcm1hdEhpc3RvcnkocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RXBvY2ggPD0gc3RhcnRMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBtb3JlQXZhaWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldEhhc1JlYWNoZWRFbmRPZkRhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjc7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oOSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDMudDApO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDMudDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhc2UgMzE6XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc01haW5DaGFydCkge1xuICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvbXBhcmlzb25zXG4gICAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IG92ZXJsYXBwaW5nIGJ5IHNldHRpbmcgcGFnaW5hdGlvbiBlbmQgYXMgZmlyc3RFcG9jaFxuICAgICAgICAgICAgICAgICAgLy8gaWYgJ2VuZCcgaXMgZ3JlYXRlciB0aGFuIGZpcnN0RXBvY2ggZnJvbSBmZWVkXG4gICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uRW5kID0gZW5kID4gZmlyc3RFcG9jaCA/IGZpcnN0RXBvY2ggOiBlbmQ7XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHBhZ2luYXRpb25FbmRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1s5LCAyN11dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9nZXRQYWdpbmF0aW9uRGF0YShfeDExLCBfeDEyLCBfeDEzLCBfeDE0LCBfeDE1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0UGFnaW5hdGlvbkRhdGEyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInNldEhhc1JlYWNoZWRFbmRPZkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SGFzUmVhY2hlZEVuZE9mRGF0YShoYXNSZWFjaGVkRW5kT2ZEYXRhKSB7XG4gICAgICBpZiAodGhpcy5fbWFpblN0b3JlLnN0YXRlLmhhc1JlYWNoZWRFbmRPZkRhdGEgIT09IGhhc1JlYWNoZWRFbmRPZkRhdGEpIHtcbiAgICAgICAgdGhpcy5fbWFpblN0b3JlLnN0YXRlLmhhc1JlYWNoZWRFbmRPZkRhdGEgPSBoYXNSZWFjaGVkRW5kT2ZEYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1bnN1YnNjcmliZUFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZUFsbCgpIHtcbiAgICAgIHZhciBfYXJyID0gT2JqZWN0LmtleXModGhpcy5fYWN0aXZlU3RyZWFtcyk7XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIga2V5ID0gX2FycltfaV07XG5cbiAgICAgICAgdGhpcy5fZm9yZ2V0U3RyZWFtKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9mb3JnZXRJZkVuZEVwb2NoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9mb3JnZXRJZkVuZEVwb2NoKGtleSkge1xuICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XTtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXG4gICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsYXN0RXBvY2ggPSBzdWJzY3JpcHRpb24ubGFzdFN0cmVhbUVwb2NoO1xuXG4gICAgICBpZiAodGhpcy5lbmRFcG9jaCAmJiBsYXN0RXBvY2ggKyB0aGlzLmdyYW51bGFyaXR5ID4gdGhpcy5lbmRFcG9jaCkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU3RyZWFtc1trZXldICYmIHRoaXMuZ3JhbnVsYXJpdHkgPT09IDAgJiYgIXRoaXMuX21haW5TdG9yZS5zdGF0ZS5pc1N0YXRpY0NoYXJ0ICYmIENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKHRoaXMuZW5kRXBvY2gpKS52YWx1ZU9mKCkgPj0gdGhpcy5fc3R4LmNoYXJ0LmRhdGFTZXQuc2xpY2UoLTEpWzBdLkRULnZhbHVlT2YoKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZm9yZ2V0U3RyZWFtKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FwcGVuZENoYXJ0RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ2hhcnREYXRhKHF1b3Rlcywga2V5LCBjb21wYXJpc29uQ2hhcnRTeW1ib2wpIHtcbiAgICAgIGlmICh0aGlzLl9mb3JnZXRJZkVuZEVwb2NoKGtleSkgJiYgIXRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XSkge1xuICAgICAgICBxdW90ZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbmRFcG9jaCAmJiBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKSh0aGlzLmVuZEVwb2NoKSkudmFsdWVPZigpICE9PSB0aGlzLl9zdHguY2hhcnQuZGF0YVNldC5zbGljZSgtMSlbMF0uRFQudmFsdWVPZigpKSB7XG4gICAgICAgIHRoaXMuX3N0eC51cGRhdGVDaGFydERhdGEoW3tcbiAgICAgICAgICBEVDogQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZ2V0VVRDRGF0ZVwiXSkodGhpcy5lbmRFcG9jaCkpLFxuICAgICAgICAgIENsb3NlOiBudWxsXG4gICAgICAgIH1dLCBudWxsLCB7XG4gICAgICAgICAgZmlsbEdhcHM6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc3R4LmNyZWF0ZURhdGFTZXQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXBhcmlzb25DaGFydFN5bWJvbCkge1xuICAgICAgICB0aGlzLl9zdHgudXBkYXRlQ2hhcnREYXRhKHF1b3RlcywgbnVsbCwge1xuICAgICAgICAgIHNlY29uZGFyeVNlcmllczogY29tcGFyaXNvbkNoYXJ0U3ltYm9sLFxuICAgICAgICAgIG5vQ3JlYXRlRGF0YVNldDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0eC51cGRhdGVDaGFydERhdGEocXVvdGVzLCBudWxsLCB7XG4gICAgICAgICAgYXBwZW5kaW5nOiAhdGhpcy5fbWFpblN0b3JlLnN0YXRlLmdyYW51bGFyaXR5LFxuICAgICAgICAgIGFsbG93UmVwbGFjZU9ITDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZW1pdERhdGFVcGRhdGUocXVvdGVzLCBjb21wYXJpc29uQ2hhcnRTeW1ib2wpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZW1pdERhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2VtaXREYXRhVXBkYXRlKHF1b3RlcywgY29tcGFyaXNvbkNoYXJ0U3ltYm9sKSB7XG4gICAgICB2YXIgaXNDaGFydFJlaW5pdGlhbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgICAgdmFyIHByZXYgPSBxdW90ZXNbcXVvdGVzLmxlbmd0aCAtIDJdO1xuICAgICAgdmFyIHByZXZDbG9zZSA9IHByZXYgIT09IHVuZGVmaW5lZCA/IHByZXYuQ2xvc2UgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBkYXRhVXBkYXRlID0gX29iamVjdFNwcmVhZCh7fSwgcXVvdGVzW3F1b3Rlcy5sZW5ndGggLSAxXSwge1xuICAgICAgICBwcmV2Q2xvc2U6IHByZXZDbG9zZVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghY29tcGFyaXNvbkNoYXJ0U3ltYm9sKSB7XG4gICAgICAgIGlmIChpc0NoYXJ0UmVpbml0aWFsaXplZCkge1xuICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChGZWVkLkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRSk7XG5cbiAgICAgICAgICB0aGlzLl9tYWluU3RvcmUuY2hhcnQuc2V0Q2hhcnRBdmFpbGFiaWxpdHkodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFLCBkYXRhVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KEZlZWQuRVZFTlRfQ09NUEFSSVNPTl9EQVRBX1VQREFURSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgc3ltYm9sOiBjb21wYXJpc29uQ2hhcnRTeW1ib2xcbiAgICAgICAgfSwgZGF0YVVwZGF0ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1hc3RlckRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25NYXN0ZXJEYXRhVXBkYXRlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfVVBEQVRFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZk1hc3RlckRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmTWFzdGVyRGF0YVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vZmYoRmVlZC5FVkVOVF9NQVNURVJfREFUQV9VUERBVEUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25NYXN0ZXJEYXRhUmVpbml0aWFsaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX01BU1RFUl9EQVRBX1JFSU5JVElBTElaRSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZmZNYXN0ZXJEYXRhUmVpbml0aWFsaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZk1hc3RlckRhdGFSZWluaXRpYWxpemUoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKEZlZWQuRVZFTlRfTUFTVEVSX0RBVEFfUkVJTklUSUFMSVpFLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ29tcGFyaXNvbkRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Db21wYXJpc29uRGF0YVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX0NPTVBBUklTT05fREFUQV9VUERBVEUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25QYWdpbmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbihjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmUGFnaW5hdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZQYWdpbmF0aW9uKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9mZihGZWVkLkVWRU5UX09OX1BBR0lOQVRJT04sIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25TdGFydFBhZ2luYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdGFydFBhZ2luYXRpb24oY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub24oRmVlZC5FVkVOVF9TVEFSVF9QQUdJTkFUSU9OLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZlN0YXJ0UGFnaW5hdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmZTdGFydFBhZ2luYXRpb24oY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKEZlZWQuRVZFTlRfU1RBUlRfUEFHSU5BVElPTiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNvbm5lY3Rpb25DaGFuZ2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29ubmVjdGlvbkNoYW5nZWQoKSB7XG4gICAgICB2YXIgaXNPcGVuZWQgPSB0aGlzLl9tYWluU3RvcmUuc3RhdGUuaXNDb25uZWN0aW9uT3BlbmVkO1xuXG4gICAgICBpZiAoaXNPcGVuZWQgPT09IHVuZGVmaW5lZCB8fCBpc09wZW5lZCA9PT0gdGhpcy5faXNDb25uZWN0aW9uT3BlbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNDb25uZWN0aW9uT3BlbmVkID0gaXNPcGVuZWQ7XG5cbiAgICAgIGlmIChpc09wZW5lZCkge1xuICAgICAgICB0aGlzLl9vbkNvbm5lY3Rpb25SZW9wZW5lZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fb25Db25uZWN0aW9uQ2xvc2VkKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbkNvbm5lY3Rpb25DbG9zZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uQ29ubmVjdGlvbkNsb3NlZCgpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLl9hY3RpdmVTdHJlYW1zKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XS5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jb25uZWN0aW9uQ2xvc2VkRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbkNvbm5lY3Rpb25SZW9wZW5lZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Db25uZWN0aW9uUmVvcGVuZWQoKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2FjdGl2ZVN0cmVhbXMpO1xuXG4gICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkX3VucGFja0tleSA9IHRoaXMuX3VucGFja0tleShrZXlzWzBdKSxcbiAgICAgICAgICBncmFudWxhcml0eSA9IF90aGlzJF91bnBhY2tLZXkuZ3JhbnVsYXJpdHk7XG5cbiAgICAgIHZhciBlbGFwc2VkU2Vjb25kcyA9IChuZXcgRGF0ZSgpIC0gdGhpcy5fY29ubmVjdGlvbkNsb3NlZERhdGUpIC8gMTAwMCB8IDA7XG4gICAgICB2YXIgbWF4SWRsZVNlY29uZHMgPSAoZ3JhbnVsYXJpdHkgfHwgMSkgKiB0aGlzLl9zdHguY2hhcnQubWF4VGlja3M7XG5cbiAgICAgIGlmIChlbGFwc2VkU2Vjb25kcyA+PSBtYXhJZGxlU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9tYWluU3RvcmUuY2hhcnQucmVmcmVzaENoYXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBrZXlzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tfaTJdO1xuXG4gICAgICAgICAgdGhpcy5fcmVzdW1lU3RyZWFtKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fY29ubmVjdGlvbkNsb3NlZERhdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9yZXN1bWVTdHJlYW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc3VtZVN0cmVhbShrZXkpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkX3VucGFja0tleTIgPSB0aGlzLl91bnBhY2tLZXkoa2V5KSxcbiAgICAgICAgICBzeW1ib2wgPSBfdGhpcyRfdW5wYWNrS2V5Mi5zeW1ib2w7XG5cbiAgICAgIHZhciBjb21wYXJpc29uQ2hhcnRTeW1ib2wgPSB0aGlzLl9zdHguY2hhcnQuc3ltYm9sICE9PSBzeW1ib2wgPyBzeW1ib2wgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuX2FjdGl2ZVN0cmVhbXNba2V5XS5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uIChxdW90ZXMpIHtcbiAgICAgICAgaWYgKF90aGlzMy5fc3R4LmlzRGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMzLl9hcHBlbmRDaGFydERhdGEocXVvdGVzLCBrZXksIGNvbXBhcmlzb25DaGFydFN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEtleVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0S2V5KF9yZWYyKSB7XG4gICAgICB2YXIgc3ltYm9sID0gX3JlZjIuc3ltYm9sLFxuICAgICAgICAgIGdyYW51bGFyaXR5ID0gX3JlZjIuZ3JhbnVsYXJpdHk7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoc3ltYm9sLCBcIi1cIikuY29uY2F0KGdyYW51bGFyaXR5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VucGFja0tleVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5wYWNrS2V5KGtleSkge1xuICAgICAgdmFyIF9rZXkkc3BsaXQgPSBrZXkuc3BsaXQoJy0nKSxcbiAgICAgICAgICBfa2V5JHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9rZXkkc3BsaXQsIDIpLFxuICAgICAgICAgIHN5bWJvbCA9IF9rZXkkc3BsaXQyWzBdLFxuICAgICAgICAgIGdyYW51bGFyaXR5ID0gX2tleSRzcGxpdDJbMV07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICBncmFudWxhcml0eTogK2dyYW51bGFyaXR5XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdHJpbVF1b3Rlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJpbVF1b3RlcygpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgcXVvdGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIHZhciBzdGFydFRpY2tJbmRleCA9IG51bGw7XG4gICAgICB2YXIgZW5kVGlja0luZGV4ID0gbnVsbDtcbiAgICAgIHZhciB0cmltbWVkUXVvdGVzID0gcXVvdGVzO1xuICAgICAgaWYgKCF0cmltbWVkUXVvdGVzLmxlbmd0aCkgcmV0dXJuIFtdO1xuXG4gICAgICBpZiAodGhpcy5zdGFydEVwb2NoICYmIHRoaXMubWFyZ2luKSB7XG4gICAgICAgIHN0YXJ0VGlja0luZGV4ID0gdHJpbW1lZFF1b3Rlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHRpY2spIHtcbiAgICAgICAgICByZXR1cm4gQ0lRLnN0clRvRGF0ZVRpbWUodGljay5EYXRlKSA+PSBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKShfdGhpczQuc3RhcnRFcG9jaCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3RhcnRUaWNrSW5kZXggPiAtMSkge1xuICAgICAgICAgIHRyaW1tZWRRdW90ZXMgPSB0cmltbWVkUXVvdGVzLnNsaWNlKHN0YXJ0VGlja0luZGV4IC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5kRXBvY2ggJiYgdGhpcy5tYXJnaW4pIHtcbiAgICAgICAgZW5kVGlja0luZGV4ID0gdHJpbW1lZFF1b3Rlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHRpY2spIHtcbiAgICAgICAgICByZXR1cm4gQ0lRLnN0clRvRGF0ZVRpbWUodGljay5EYXRlKSA+PSBDSVEuc3RyVG9EYXRlVGltZShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJnZXRVVENEYXRlXCJdKShfdGhpczQuZW5kRXBvY2gpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGVuZFRpY2tJbmRleCA+IC0xKSB7XG4gICAgICAgICAgdmFyIGFkZG9uID0gdHJpbW1lZFF1b3Rlc1tlbmRUaWNrSW5kZXhdLkRhdGUgPT09IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImdldFVUQ0RhdGVcIl0pKHRoaXMuZW5kRXBvY2gpID8gMiA6IDE7XG4gICAgICAgICAgdHJpbW1lZFF1b3RlcyA9IHRyaW1tZWRRdW90ZXMuc2xpY2UoMCwgZW5kVGlja0luZGV4ICsgYWRkb24pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmltbWVkUXVvdGVzO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldEZpcnN0RXBvY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmlyc3RFcG9jaChfcmVmMykge1xuICAgICAgdmFyIGNhbmRsZXMgPSBfcmVmMy5jYW5kbGVzLFxuICAgICAgICAgIGhpc3RvcnkgPSBfcmVmMy5oaXN0b3J5O1xuXG4gICAgICBpZiAoY2FuZGxlcyAmJiBjYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGNhbmRsZXNbMF0uZXBvY2g7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaXN0b3J5ICYmIGhpc3RvcnkudGltZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgdGltZXMgPSBoaXN0b3J5LnRpbWVzO1xuICAgICAgICByZXR1cm4gK3RpbWVzWzBdO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGZWVkO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKEZlZWQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL1RpY2tIaXN0b3J5Rm9ybWF0dGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVlZC9UaWNrSGlzdG9yeUZvcm1hdHRlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFRpY2tIaXN0b3J5Rm9ybWF0dGVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlRpY2tIaXN0b3J5Rm9ybWF0dGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGlja0hpc3RvcnlGb3JtYXR0ZXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG52YXIgVGlja0hpc3RvcnlGb3JtYXR0ZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaWNrSGlzdG9yeUZvcm1hdHRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja0hpc3RvcnlGb3JtYXR0ZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRpY2tIaXN0b3J5Rm9ybWF0dGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJmb3JtYXRIaXN0b3J5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEhpc3RvcnkocmVzcG9uc2UpIHtcbiAgICAgIHZhciBoaXN0b3J5ID0gcmVzcG9uc2UuaGlzdG9yeSxcbiAgICAgICAgICBjYW5kbGVzID0gcmVzcG9uc2UuY2FuZGxlcztcblxuICAgICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgICAgdmFyIHRpbWVzID0gaGlzdG9yeS50aW1lcyxcbiAgICAgICAgICAgIHByaWNlcyA9IGhpc3RvcnkucHJpY2VzO1xuICAgICAgICB2YXIgcXVvdGVzID0gcHJpY2VzLm1hcChmdW5jdGlvbiAocCwgaWR4KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIERhdGU6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFVUQ0RhdGVcIl0pKCt0aW1lc1tpZHhdKSxcbiAgICAgICAgICAgIENsb3NlOiArcFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcXVvdGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FuZGxlcykge1xuICAgICAgICB2YXIgX3F1b3RlcyA9IGNhbmRsZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIERhdGU6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFVUQ0RhdGVcIl0pKCtjLmVwb2NoKSxcbiAgICAgICAgICAgIE9wZW46ICtjLm9wZW4sXG4gICAgICAgICAgICBIaWdoOiArYy5oaWdoLFxuICAgICAgICAgICAgTG93OiArYy5sb3csXG4gICAgICAgICAgICBDbG9zZTogK2MuY2xvc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gX3F1b3RlcztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0VGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRUaWNrKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgdGljayA9IHJlc3BvbnNlLnRpY2ssXG4gICAgICAgICAgb2hsYyA9IHJlc3BvbnNlLm9obGM7XG5cbiAgICAgIGlmICh0aWNrKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgRGF0ZTogT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VVRDRGF0ZVwiXSkoK3RpY2suZXBvY2gpLFxuICAgICAgICAgIENsb3NlOiArdGljay5xdW90ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAob2hsYykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIERhdGU6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFVUQ0RhdGVcIl0pKCtvaGxjLm9wZW5fdGltZSksXG4gICAgICAgICAgT3BlbjogK29obGMub3BlbixcbiAgICAgICAgICBIaWdoOiArb2hsYy5oaWdoLFxuICAgICAgICAgIExvdzogK29obGMubG93LFxuICAgICAgICAgIENsb3NlOiArb2hsYy5jbG9zZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaWNrSGlzdG9yeUZvcm1hdHRlcjtcbn0oKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2ZlZWQvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBGZWVkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9GZWVkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0ZlZWQgKi8gXCIuL3NyYy9mZWVkL0ZlZWQuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJGZWVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX0ZlZWRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9EZWxheWVkU3Vic2NyaXB0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vRGVsYXllZFN1YnNjcmlwdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1N1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TdWJzY3JpcHRpb24gKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9TdWJzY3JpcHRpb24uanNcIik7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5nZXQpIHsgX2dldCA9IFJlZmxlY3QuZ2V0OyB9IGVsc2UgeyBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikgeyB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpOyBpZiAoIWJhc2UpIHJldHVybjsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTsgaWYgKGRlc2MuZ2V0KSB7IHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTsgfSByZXR1cm4gZGVzYy52YWx1ZTsgfTsgfSByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpOyB9XG5cbmZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHsgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHsgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrOyB9IHJldHVybiBvYmplY3Q7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5cblxudmFyIERlbGF5ZWRTdWJzY3JpcHRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9TdWJzY3JpcHRpb24pIHtcbiAgX2luaGVyaXRzKERlbGF5ZWRTdWJzY3JpcHRpb24sIF9TdWJzY3JpcHRpb24pO1xuXG4gIGZ1bmN0aW9uIERlbGF5ZWRTdWJzY3JpcHRpb24ocmVxdWVzdCwgYXBpLCBzdHgsIGRlbGF5KSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlbGF5ZWRTdWJzY3JpcHRpb24pO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRGVsYXllZFN1YnNjcmlwdGlvbikuY2FsbCh0aGlzLCByZXF1ZXN0LCBhcGksIHN0eCkpO1xuICAgIF90aGlzLl90aW1lcklkID0gdm9pZCAwO1xuICAgIF90aGlzLlVQREFURV9JTlRFUlZBTCA9IDMwMDA7XG4gICAgX3RoaXMub25VcGRhdGVEZWxheWVkRmVlZCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIF9hc3luY1RvR2VuZXJhdG9yKFxuICAgIC8qI19fUFVSRV9fKi9cbiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgdmFyIHRpY2tIaXN0b3J5UmVxdWVzdCwgcmVzcG9uc2UsIHF1b3RlcztcbiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5sYXN0U3RyZWFtRXBvY2gpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRpY2tIaXN0b3J5UmVxdWVzdCA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl9yZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IF90aGlzLmxhc3RTdHJlYW1FcG9jaCxcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVwZGF0aW5nIGRlbGF5ZWQgZmVlZHMsIHdlIGRvbid0IHdhbnQgdGhlXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdGltZSB0byBiZSBvZmZzZXQgYnkgdGhlIGRlbGF5ZWQgYW1vdW50OlxuICAgICAgICAgICAgICAgIGFkanVzdF9zdGFydF90aW1lOiAwXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9iaW5hcnlBcGkuZ2V0VGlja0hpc3RvcnkodGlja0hpc3RvcnlSZXF1ZXN0KTtcblxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgIHF1b3RlcyA9IF90aGlzLl9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fZW1pdHRlci5lbWl0KF9TdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uRVZFTlRfQ0hBUlRfREFUQSwgcXVvdGVzKTtcblxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byB1cGRhdGUgZGVsYXllZCBmZWVkIHdpdGhvdXQgZXBvY2ggZnJvbSBsYXN0IHRpY2snKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fZW5kVGltZXIoKTtcblxuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgIH0pKTtcbiAgICBfdGhpcy5fcmVxdWVzdCA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl9yZXF1ZXN0LCB7XG4gICAgICAvLyBzdGFydCB0aW1lcyBtdXN0IGJlIG9mZnNldCB3aXRoIGRlbGF5IGJlY2F1c2VcbiAgICAgIC8vIHRoZXJlIGlzIG5vIGRhdGEgd2l0aGluIGRlbGF5IGludGVydmFsc1xuICAgICAgc3RhcnQ6IF90aGlzLl9yZXF1ZXN0LnN0YXJ0IC0gZGVsYXkgKiA2MFxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEZWxheWVkU3Vic2NyaXB0aW9uLCBbe1xuICAgIGtleTogXCJwYXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIHRoaXMuX2VuZFRpbWVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGlja0hpc3RvcnlSZXF1ZXN0KSB7XG4gICAgICAgIHZhciByZXNwb25zZSwgcXVvdGVzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluYXJ5QXBpLmdldFRpY2tIaXN0b3J5KHRpY2tIaXN0b3J5UmVxdWVzdCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gdGhpcy5fcHJvY2Vzc0hpc3RvcnlSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFRpbWVyKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBxdW90ZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gX3N0YXJ0U3Vic2NyaWJlKF94KSB7XG4gICAgICAgIHJldHVybiBfc3RhcnRTdWJzY3JpYmUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImZvcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JnZXQoKSB7XG4gICAgICB0aGlzLl9lbmRUaW1lcigpO1xuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihEZWxheWVkU3Vic2NyaXB0aW9uLnByb3RvdHlwZSksIFwiZm9yZ2V0XCIsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFRpbWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydFRpbWVyKCkge1xuICAgICAgaWYgKCF0aGlzLl90aW1lcklkKSB7XG4gICAgICAgIHRoaXMuX3RpbWVySWQgPSBzZXRJbnRlcnZhbCh0aGlzLm9uVXBkYXRlRGVsYXllZEZlZWQsIHRoaXMuVVBEQVRFX0lOVEVSVkFMKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2VuZFRpbWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmRUaW1lcigpIHtcbiAgICAgIGlmICh0aGlzLl90aW1lcklkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fdGltZXJJZCk7XG4gICAgICAgIHRoaXMuX3RpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERlbGF5ZWRTdWJzY3JpcHRpb247XG59KF9TdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKERlbGF5ZWRTdWJzY3JpcHRpb24pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9SZWFsdGltZVN1YnNjcmlwdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9SZWFsdGltZVN1YnNjcmlwdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vdXRpbHMvUGVuZGluZ1Byb21pc2UgKi8gXCIuL3NyYy91dGlscy9QZW5kaW5nUHJvbWlzZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1N1YnNjcmlwdGlvbiAqLyBcIi4vc3JjL2ZlZWQvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1RpY2tIaXN0b3J5Rm9ybWF0dGVyICovIFwiLi9zcmMvZmVlZC9UaWNrSGlzdG9yeUZvcm1hdHRlci5qc1wiKTtcbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG52YXIgUmVhbHRpbWVTdWJzY3JpcHRpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9TdWJzY3JpcHRpb24pIHtcbiAgX2luaGVyaXRzKFJlYWx0aW1lU3Vic2NyaXB0aW9uLCBfU3Vic2NyaXB0aW9uKTtcblxuICBmdW5jdGlvbiBSZWFsdGltZVN1YnNjcmlwdGlvbigpIHtcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcblxuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWFsdGltZVN1YnNjcmlwdGlvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX2dldFByb3RvdHlwZU9mMiA9IF9nZXRQcm90b3R5cGVPZihSZWFsdGltZVN1YnNjcmlwdGlvbikpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuICAgIF90aGlzLl90aWNrQ2FsbGJhY2sgPSB2b2lkIDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlYWx0aW1lU3Vic2NyaXB0aW9uLCBbe1xuICAgIGtleTogXCJwYXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIC8vIHByZXZlbnQgZm9yZ2V0IHJlcXVlc3RzOyBhY3RpdmUgc3RyZWFtcyBhcmUgaW52YWxpZCB3aGVuIGNvbm5lY3Rpb24gY2xvc2VkXG4gICAgICB0aGlzLl90aWNrQ2FsbGJhY2sgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jlc3VtZSA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdGlja0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IGNhbm5vdCByZXN1bWUgYW4gYWN0aXZlIHN0cmVhbSEnKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfZ2V0KF9nZXRQcm90b3R5cGVPZihSZWFsdGltZVN1YnNjcmlwdGlvbi5wcm90b3R5cGUpLCBcInJlc3VtZVwiLCB0aGlzKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgIHJldHVybiBfcmVzdW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGlja0hpc3RvcnlSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyRfZ2V0UHJvY2Vzc1RpY2ssIF90aGlzJF9nZXRQcm9jZXNzVGljazIsIHRpY2tIaXN0b3J5UHJvbWlzZSwgcHJvY2Vzc1RpY2tIaXN0b3J5LCByZXNwb25zZSwgcXVvdGVzO1xuXG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMkX2dldFByb2Nlc3NUaWNrID0gdGhpcy5fZ2V0UHJvY2Vzc1RpY2tIaXN0b3J5Q2xvc3VyZSgpLCBfdGhpcyRfZ2V0UHJvY2Vzc1RpY2syID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2dldFByb2Nlc3NUaWNrLCAyKSwgdGlja0hpc3RvcnlQcm9taXNlID0gX3RoaXMkX2dldFByb2Nlc3NUaWNrMlswXSwgcHJvY2Vzc1RpY2tIaXN0b3J5ID0gX3RoaXMkX2dldFByb2Nlc3NUaWNrMlsxXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmFyeUFwaS5zdWJzY3JpYmVUaWNrSGlzdG9yeSh0aWNrSGlzdG9yeVJlcXVlc3QsIHByb2Nlc3NUaWNrSGlzdG9yeSk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpY2tIaXN0b3J5UHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgICBxdW90ZXMgPSB0aGlzLl9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrQ2FsbGJhY2sgPSBwcm9jZXNzVGlja0hpc3Rvcnk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcXVvdGVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9zdGFydFN1YnNjcmliZShfeCkge1xuICAgICAgICByZXR1cm4gX3N0YXJ0U3Vic2NyaWJlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJmb3JnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuX3RpY2tDYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMkX3JlcXVlc3QgPSB0aGlzLl9yZXF1ZXN0LFxuICAgICAgICAgICAgc3ltYm9sID0gX3RoaXMkX3JlcXVlc3Quc3ltYm9sLFxuICAgICAgICAgICAgZ3JhbnVsYXJpdHkgPSBfdGhpcyRfcmVxdWVzdC5ncmFudWxhcml0eTtcblxuICAgICAgICB0aGlzLl9iaW5hcnlBcGkuZm9yZ2V0KHtcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgICBncmFudWxhcml0eTogZ3JhbnVsYXJpdHlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fdGlja0NhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihSZWFsdGltZVN1YnNjcmlwdGlvbi5wcm90b3R5cGUpLCBcImZvcmdldFwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0UHJvY2Vzc1RpY2tIaXN0b3J5Q2xvc3VyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UHJvY2Vzc1RpY2tIaXN0b3J5Q2xvc3VyZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgaGFzSGlzdG9yeSA9IGZhbHNlO1xuICAgICAgdmFyIHRpY2tIaXN0b3J5UHJvbWlzZSA9IG5ldyBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oKTtcblxuICAgICAgdmFyIHByb2Nlc3NUaWNrSGlzdG9yeSA9IGZ1bmN0aW9uIHByb2Nlc3NUaWNrSGlzdG9yeShyZXNwKSB7XG4gICAgICAgIGlmIChfdGhpczIuX3N0eC5pc0Rlc3Ryb3llZCkge1xuICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JZCA9IHJlc3Auc3Vic2NyaXB0aW9uLmlkO1xuXG4gICAgICAgICAgX3RoaXMyLl9iaW5hcnlBcGkuZm9yZ2V0U3RyZWFtKHN1YnNjcmlwdGlvbklkKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBXZSBhc3N1bWUgdGhhdCAxc3QgcmVzcG9uc2UgaXMgdGhlIGhpc3RvcnksIGFuZCBzdWJzZXF1ZW50XG4gICAgICAgIC8vIHJlc3BvbnNlcyBhcmUgdGljayBzdHJlYW0gZGF0YS5cblxuXG4gICAgICAgIGlmIChoYXNIaXN0b3J5KSB7XG4gICAgICAgICAgX3RoaXMyLl9vblRpY2socmVzcCk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aWNrSGlzdG9yeVByb21pc2UucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgaGFzSGlzdG9yeSA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gW3RpY2tIaXN0b3J5UHJvbWlzZSwgcHJvY2Vzc1RpY2tIaXN0b3J5XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uVGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25UaWNrKHJlc3BvbnNlKSB7XG4gICAgICB0aGlzLmxhc3RTdHJlYW1FcG9jaCA9ICtfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLmdldEVwb2NoRnJvbVRpY2socmVzcG9uc2UpO1xuICAgICAgdmFyIHF1b3RlcyA9IFtfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcIlRpY2tIaXN0b3J5Rm9ybWF0dGVyXCJdLmZvcm1hdFRpY2socmVzcG9uc2UpXTtcblxuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KF9TdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0uRVZFTlRfQ0hBUlRfREFUQSwgcXVvdGVzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVhbHRpbWVTdWJzY3JpcHRpb247XG59KF9TdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFJlYWx0aW1lU3Vic2NyaXB0aW9uKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vU3Vic2NyaXB0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9mZWVkL3N1YnNjcmlwdGlvbi9TdWJzY3JpcHRpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50LWVtaXR0ZXItZXM2ICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfVGlja0hpc3RvcnlGb3JtYXR0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1RpY2tIaXN0b3J5Rm9ybWF0dGVyICovIFwiLi9zcmMvZmVlZC9UaWNrSGlzdG9yeUZvcm1hdHRlci5qc1wiKTtcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxuXG52YXIgU3Vic2NyaXB0aW9uID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbiwgbnVsbCwgW3tcbiAgICBrZXk6IFwiRVZFTlRfQ0hBUlRfREFUQVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdFVkVOVF9DSEFSVF9EQVRBJztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBTdWJzY3JpcHRpb24ocmVxdWVzdCwgYXBpLCBzdHgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaXB0aW9uKTtcblxuICAgIHRoaXMubGFzdFN0cmVhbUVwb2NoID0gdm9pZCAwO1xuICAgIHRoaXMuX2JpbmFyeUFwaSA9IGFwaTtcbiAgICB0aGlzLl9zdHggPSBzdHg7XG4gICAgdGhpcy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYSh7XG4gICAgICBlbWl0RGVsYXk6IDBcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdWJzY3JpcHRpb24sIFt7XG4gICAga2V5OiBcImluaXRpYWxGZXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2luaXRpYWxGZXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgdmFyIHF1b3RlcztcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydFN1YnNjcmliZSh0aGlzLl9yZXF1ZXN0KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHF1b3Rlcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdGlhbEZldGNoKCkge1xuICAgICAgICByZXR1cm4gX2luaXRpYWxGZXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJwYXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzdW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVzdW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIHRpY2tIaXN0b3J5UmVxdWVzdCwgcXVvdGVzO1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXN0U3RyZWFtRXBvY2gpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRpY2tIaXN0b3J5UmVxdWVzdCA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuX3JlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmxhc3RTdHJlYW1FcG9jaFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRTdWJzY3JpYmUodGlja0hpc3RvcnlSZXF1ZXN0KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcXVvdGVzID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcXVvdGVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXN1bWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmdldCgpIHtcbiAgICAgIHRoaXMubGFzdFN0cmVhbUVwb2NoID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLl9lbWl0dGVyLm9mZihTdWJzY3JpcHRpb24uRVZFTlRfQ0hBUlRfREFUQSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zdGFydFN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXJ0U3Vic2NyaWJlMiA9IF9hc3luY1RvR2VuZXJhdG9yKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugb3ZlcnJpZGUhJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBfc3RhcnRTdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBfc3RhcnRTdWJzY3JpYmUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzSGlzdG9yeVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHF1b3RlcyA9IF9UaWNrSGlzdG9yeUZvcm1hdHRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiVGlja0hpc3RvcnlGb3JtYXR0ZXJcIl0uZm9ybWF0SGlzdG9yeShyZXNwb25zZSk7XG5cbiAgICAgIGlmICghcXVvdGVzKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJVbmV4cGVjdGVkIHJlc3BvbnNlOiBcIi5jb25jYXQocmVzcG9uc2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFzdFN0cmVhbUVwb2NoID0gU3Vic2NyaXB0aW9uLmdldExhdGVzdEVwb2NoKHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiBxdW90ZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2hhcnREYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhcnREYXRhKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKFN1YnNjcmlwdGlvbi5FVkVOVF9DSEFSVF9EQVRBLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0TGF0ZXN0RXBvY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGF0ZXN0RXBvY2goX3JlZikge1xuICAgICAgdmFyIGNhbmRsZXMgPSBfcmVmLmNhbmRsZXMsXG4gICAgICAgICAgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcblxuICAgICAgaWYgKGNhbmRsZXMpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRsZXNbY2FuZGxlcy5sZW5ndGggLSAxXS5lcG9jaDtcbiAgICAgIH1cblxuICAgICAgaWYgKGhpc3RvcnkpIHtcbiAgICAgICAgdmFyIHRpbWVzID0gaGlzdG9yeS50aW1lcztcbiAgICAgICAgcmV0dXJuIHRpbWVzW3RpbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRFcG9jaEZyb21UaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVwb2NoRnJvbVRpY2soX3JlZjIpIHtcbiAgICAgIHZhciB0aWNrID0gX3JlZjIudGljayxcbiAgICAgICAgICBvaGxjID0gX3JlZjIub2hsYztcbiAgICAgIHJldHVybiB0aWNrID8gdGljay5lcG9jaCA6IG9obGMub3Blbl90aW1lO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdWJzY3JpcHRpb247XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoU3Vic2NyaXB0aW9uKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogRGVsYXllZFN1YnNjcmlwdGlvbiwgUmVhbHRpbWVTdWJzY3JpcHRpb24gKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0RlbGF5ZWRTdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRGVsYXllZFN1YnNjcmlwdGlvbiAqLyBcIi4vc3JjL2ZlZWQvc3Vic2NyaXB0aW9uL0RlbGF5ZWRTdWJzY3JpcHRpb24uanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJEZWxheWVkU3Vic2NyaXB0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX0RlbGF5ZWRTdWJzY3JpcHRpb25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1JlYWx0aW1lU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1JlYWx0aW1lU3Vic2NyaXB0aW9uICovIFwiLi9zcmMvZmVlZC9zdWJzY3JpcHRpb24vUmVhbHRpbWVTdWJzY3JpcHRpb24uanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJSZWFsdGltZVN1YnNjcmlwdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9SZWFsdGltZVN1YnNjcmlwdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogQXNzZXRJbmZvcm1hdGlvbiwgQmFycmllciwgQ2hhcnRTZXR0aW5nLCBDaGFydFNpemUsIENoYXJ0VGl0bGUsIENoYXJ0VHlwZXMsIENvbXBhcmlzb24sIENvbXBhcmlzb25MaXN0LCBjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlLCBDcm9zc2hhaXJUb2dnbGUsIERyYXdUb29scywgTWFya2VyLCBQZW5kaW5nUHJvbWlzZSwgc2V0U21hcnRDaGFydHNQdWJsaWNQYXRoLCBTaGFyZSwgU21hcnRDaGFydCwgU3R1ZHlMZWdlbmQsIFRpbWVwZXJpb2QsIEN1cnJlbnRTcG90LCBWaWV3cywgbG9nRXZlbnQsIExvZ0NhdGVnb3JpZXMsIExvZ0FjdGlvbnMsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0U21hcnRDaGFydHNQdWJsaWNQYXRoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0U21hcnRDaGFydHNQdWJsaWNQYXRoOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19CYXJyaWVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0JhcnJpZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9CYXJyaWVyLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkJhcnJpZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19CYXJyaWVyX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMvUGVuZGluZ1Byb21pc2UgKi8gXCIuL3NyYy91dGlscy9QZW5kaW5nUHJvbWlzZS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIlBlbmRpbmdQcm9taXNlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0NoYXJ0VHlwZXNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ2hhcnRUeXBlcy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VHlwZXMuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2hhcnRUeXBlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NoYXJ0VHlwZXNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1N0dWR5TGVnZW5kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL1N0dWR5TGVnZW5kLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU3R1ZHlMZWdlbmQuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU3R1ZHlMZWdlbmRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19TdHVkeUxlZ2VuZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfQ29tcGFyaXNvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9Db21wYXJpc29uLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ29tcGFyaXNvbi5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDb21wYXJpc29uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfQ29tcGFyaXNvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfVmlld3NfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvVmlld3MuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9WaWV3cy5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWaWV3c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1ZpZXdzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19Dcm9zc2hhaXJUb2dnbGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQ3Jvc3NoYWlyVG9nZ2xlLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkNyb3NzaGFpclRvZ2dsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9UaW1lcGVyaW9kLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvVGltZXBlcmlvZC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUaW1lcGVyaW9kXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfQ2hhcnRTaXplX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2l6ZS5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDaGFydFNpemVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19DaGFydFNpemVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0RyYXdUb29sc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9EcmF3VG9vbHMuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9EcmF3VG9vbHMuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiRHJhd1Rvb2xzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfRHJhd1Rvb2xzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19DaGFydFNldHRpbmdfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0NoYXJ0U2V0dGluZy5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0U2V0dGluZy5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDaGFydFNldHRpbmdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY29tcG9uZW50c19DaGFydFNldHRpbmdfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TaGFyZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvU2hhcmUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TaGFyZS5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJTaGFyZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1NoYXJlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfU21hcnRDaGFydF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvU21hcnRDaGFydC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NtYXJ0Q2hhcnQuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiU21hcnRDaGFydFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX1NtYXJ0Q2hhcnRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19Db21wYXJpc29uTGlzdF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ29tcGFyaXNvbkxpc3QuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9Db21wYXJpc29uTGlzdC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDb21wYXJpc29uTGlzdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NvbXBhcmlzb25MaXN0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfQ2hhcnRUaXRsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ2hhcnRUaXRsZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL0NoYXJ0VGl0bGUuanN4XCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiQ2hhcnRUaXRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0NoYXJ0VGl0bGVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19Bc3NldEluZm9ybWF0aW9uX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9Bc3NldEluZm9ybWF0aW9uLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvQXNzZXRJbmZvcm1hdGlvbi5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJBc3NldEluZm9ybWF0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2NvbXBvbmVudHNfQXNzZXRJbmZvcm1hdGlvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvTWFya2VyLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1hcmtlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX01hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0Zhc3RNYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb25lbnRzL0Zhc3RNYXJrZXIuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9GYXN0TWFya2VyLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19DdXJyZW50U3BvdF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvQ3VycmVudFNwb3QuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9DdXJyZW50U3BvdC5qc3hcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJDdXJyZW50U3BvdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb21wb25lbnRzX0N1cnJlbnRTcG90X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMThfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX1tcImNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2VcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibG9nRXZlbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX19bXCJsb2dFdmVudFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkxvZ0NhdGVnb3JpZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIwX19bXCJMb2dDYXRlZ29yaWVzXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTG9nQWN0aW9uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcIkxvZ0FjdGlvbnNcIl07IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcsIHJlYWN0L2pzeC1pbmRlbnQsIHJlYWN0L25vLWRhbmdlciwgcmVhY3QvanN4LWluZGVudC1wcm9wcyAqL1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBzZXRTbWFydENoYXJ0c1B1YmxpY1BhdGgocGF0aCkge1xuICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBwYXRoOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7XG4gIEFzc2V0SW5mb3JtYXRpb246IF9jb21wb25lbnRzX0Fzc2V0SW5mb3JtYXRpb25fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fW1wiZGVmYXVsdFwiXSxcbiAgQmFycmllcjogX2NvbXBvbmVudHNfQmFycmllcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gIENoYXJ0U2V0dGluZzogX2NvbXBvbmVudHNfQ2hhcnRTZXR0aW5nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfX1tcImRlZmF1bHRcIl0sXG4gIENoYXJ0U2l6ZTogX2NvbXBvbmVudHNfQ2hhcnRTaXplX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSxcbiAgQ2hhcnRUaXRsZTogX2NvbXBvbmVudHNfQ2hhcnRUaXRsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X19bXCJkZWZhdWx0XCJdLFxuICBDaGFydFR5cGVzOiBfY29tcG9uZW50c19DaGFydFR5cGVzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSxcbiAgQ29tcGFyaXNvbjogX2NvbXBvbmVudHNfQ29tcGFyaXNvbl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0sXG4gIENvbXBhcmlzb25MaXN0OiBfY29tcG9uZW50c19Db21wYXJpc29uTGlzdF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19bXCJkZWZhdWx0XCJdLFxuICBjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlOiBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdLFxuICBDcm9zc2hhaXJUb2dnbGU6IF9jb21wb25lbnRzX0Nyb3NzaGFpclRvZ2dsZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sXG4gIERyYXdUb29sczogX2NvbXBvbmVudHNfRHJhd1Rvb2xzX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSxcbiAgTWFya2VyOiBfY29tcG9uZW50c19NYXJrZXJfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fW1wiZGVmYXVsdFwiXSxcbiAgLy8gdGhpcyBpcyBkZXByaWNhdGVkIGluIGZhdm9yIG9mIEZhc3RNYXJrZXJcbiAgRmFzdE1hcmtlcjogX2NvbXBvbmVudHNfRmFzdE1hcmtlcl9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJkZWZhdWx0XCJdLFxuICBQZW5kaW5nUHJvbWlzZTogX3V0aWxzX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLFxuICBzZXRTbWFydENoYXJ0c1B1YmxpY1BhdGg6IHNldFNtYXJ0Q2hhcnRzUHVibGljUGF0aCxcbiAgU2hhcmU6IF9jb21wb25lbnRzX1NoYXJlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcImRlZmF1bHRcIl0sXG4gIFNtYXJ0Q2hhcnQ6IF9jb21wb25lbnRzX1NtYXJ0Q2hhcnRfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiZGVmYXVsdFwiXSxcbiAgU3R1ZHlMZWdlbmQ6IF9jb21wb25lbnRzX1N0dWR5TGVnZW5kX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSxcbiAgVGltZXBlcmlvZDogX2NvbXBvbmVudHNfVGltZXBlcmlvZF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0sXG4gIEN1cnJlbnRTcG90OiBfY29tcG9uZW50c19DdXJyZW50U3BvdF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJkZWZhdWx0XCJdLFxuICBWaWV3czogX2NvbXBvbmVudHNfVmlld3NfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLFxuICBsb2dFdmVudDogX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fW1wibG9nRXZlbnRcIl0sXG4gIExvZ0NhdGVnb3JpZXM6IF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcIkxvZ0NhdGVnb3JpZXNcIl0sXG4gIExvZ0FjdGlvbnM6IF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX1tcIkxvZ0FjdGlvbnNcIl1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9BbmltYXRlZFByaWNlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0FuaW1hdGVkUHJpY2VTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQW5pbWF0ZWRQcmljZVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfZGVjLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMztcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxudmFyIEFuaW1hdGVkUHJpY2VTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQW5pbWF0ZWRQcmljZVN0b3JlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQW5pbWF0ZWRQcmljZVN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJpY2VcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0luY3JlYXNlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXR1c1wiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgdGhpcy5vbGRQcmljZSA9ICcnO1xuICAgIHRoaXMuY29ubmVjdCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJpY2U6IF90aGlzLnByaWNlLFxuICAgICAgICBpc0luY3JlYXNlOiBfdGhpcy5pc0luY3JlYXNlLFxuICAgICAgICBzdGF0dXM6IF90aGlzLnN0YXR1cyxcbiAgICAgICAgY2xhc3NOYW1lOiBfdGhpcy5jbGFzc05hbWVcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQW5pbWF0ZWRQcmljZVN0b3JlLCBbe1xuICAgIGtleTogXCJzZXRQcmljZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQcmljZSh2YWwsIHByZXZQcmljZSkge1xuICAgICAgdmFyIG9sZFZhbCA9IHByZXZQcmljZSB8fCArdGhpcy5vbGRQcmljZTtcbiAgICAgIHZhciBuZXdWYWwgPSArdmFsO1xuICAgICAgdmFyIGlzSW5jcmVhc2UgPSBmYWxzZTtcblxuICAgICAgaWYgKG5ld1ZhbCA+IG9sZFZhbCkge1xuICAgICAgICBpc0luY3JlYXNlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAndXAnO1xuICAgICAgfSBlbHNlIGlmIChuZXdWYWwgPCBvbGRWYWwpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAnZG93bic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXR1cyA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpY2UgPSB2YWw7XG4gICAgICB0aGlzLm9sZFByaWNlID0gdGhpcy5wcmljZTtcbiAgICAgIHRoaXMuaXNJbmNyZWFzZSA9IGlzSW5jcmVhc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFuaW1hdGVkUHJpY2VTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInByaWNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzSW5jcmVhc2VcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3RhdHVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFByaWNlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFByaWNlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0Fzc2V0SW5mb3JtYXRpb25TdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQXNzZXRJbmZvcm1hdGlvblN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBc3NldEluZm9ybWF0aW9uU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxudmFyIEFzc2V0SW5mb3JtYXRpb25TdG9yZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFzc2V0SW5mb3JtYXRpb25TdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFzc2V0SW5mb3JtYXRpb25TdG9yZSk7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3R4LnByZXBlbmQoJ2hlYWRzVXBIUicsIF90aGlzLnVwZGF0ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgdGhpcy5fc3BvdCA9IG51bGw7XG4gICAgdGhpcy5fb3BlbiA9IG51bGw7XG4gICAgdGhpcy5fY2xvc2UgPSBudWxsO1xuICAgIHRoaXMuX2hpZ2ggPSBudWxsO1xuICAgIHRoaXMuX2xvdyA9IG51bGw7XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGRvIG5vdCBxdWVyeSBkb20gb24gZWFjaCBmcmFtZVxuICAgICAgaWYgKCFfdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgIF90aGlzLl9jb250YWluZXIgPSBfdGhpcy5jb250ZXh0LnRvcE5vZGUucXVlcnlTZWxlY3RvcignLmNpcS1hc3NldC1pbmZvcm1hdGlvbicpO1xuICAgICAgICBfdGhpcy5fc3BvdCA9IF90aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcignLmNpcS1haS1zcG90Jyk7XG4gICAgICAgIF90aGlzLl9vcGVuID0gX3RoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2lxLWFpLW9wZW4nKTtcbiAgICAgICAgX3RoaXMuX2Nsb3NlID0gX3RoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2lxLWFpLWNsb3NlJyk7XG4gICAgICAgIF90aGlzLl9oaWdoID0gX3RoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2lxLWFpLWhpZ2gnKTtcbiAgICAgICAgX3RoaXMuX2xvdyA9IF90aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcignLmNpcS1haS1sb3cnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLl9jb250YWluZXI7XG5cbiAgICAgIGlmICghX3RoaXMudmlzaWJsZSkge1xuICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBiYXIgPSBfdGhpcy5zdHguYmFyRnJvbVBpeGVsKF90aGlzLnN0eC5jeCk7XG5cbiAgICAgIHZhciBwcmljZXMgPSBfdGhpcy5zdHguY2hhcnQueGF4aXNbYmFyXTtcblxuICAgICAgaWYgKCFwcmljZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3JlZiA9IHByaWNlcy5kYXRhIHx8IHt9LFxuICAgICAgICAgIE9wZW4gPSBfcmVmLk9wZW4sXG4gICAgICAgICAgSGlnaCA9IF9yZWYuSGlnaCxcbiAgICAgICAgICBMb3cgPSBfcmVmLkxvdyxcbiAgICAgICAgICBDbG9zZSA9IF9yZWYuQ2xvc2U7XG5cbiAgICAgIGlmICghT3BlbiAmJiAhSGlnaCAmJiAhTG93ICYmICFDbG9zZSkge1xuICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuXG4gICAgICBpZiAoX3RoaXMuaXNUaWNrKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgdmFyIHZpc2liaWxpdHkgPSBfdGhpcy5pc1RpY2sgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcblxuICAgICAgICBmb3IgKHZhciBpZHggPSAxOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7ICsraWR4KSB7XG4gICAgICAgICAgY2hpbGRyZW5baWR4XS5zdHlsZS52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICBfdGhpcy5fb3Blbi50ZXh0Q29udGVudCA9IE9wZW4gJiYgIV90aGlzLmlzVGljayA/IE9wZW4udG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKSA6ICcnO1xuICAgICAgICBfdGhpcy5faGlnaC50ZXh0Q29udGVudCA9IEhpZ2ggJiYgIV90aGlzLmlzVGljayA/IEhpZ2gudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKSA6ICcnO1xuICAgICAgICBfdGhpcy5fbG93LnRleHRDb250ZW50ID0gTG93ICYmICFfdGhpcy5pc1RpY2sgPyBMb3cudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKSA6ICcnO1xuICAgICAgICBfdGhpcy5fY2xvc2UudGV4dENvbnRlbnQgPSBDbG9zZSAmJiAhX3RoaXMuaXNUaWNrID8gQ2xvc2UudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKSA6ICcnO1xuICAgICAgICBfdGhpcy5fc3BvdC50ZXh0Q29udGVudCA9IENsb3NlID8gQ2xvc2UudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKSA6IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBc3NldEluZm9ybWF0aW9uU3RvcmUsIFt7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1RpY2tcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS50aW1lcGVyaW9kLnRpbWVVbml0ID09PSAndGljayc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2aXNpYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gIXRoaXMubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlICYmIHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5hc3NldEluZm9ybWF0aW9uO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBc3NldEluZm9ybWF0aW9uU3RvcmU7XG59KCk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9CYXJyaWVyU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0JhcnJpZXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQmFycmllclN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUHJpY2VMaW5lU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vUHJpY2VMaW5lU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9QcmljZUxpbmVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2hhZGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TaGFkZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvU2hhZGVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfUGVuZGluZ1Byb21pc2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfUHJpY2VMaW5lX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9QcmljZUxpbmUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9QcmljZUxpbmUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1NoYWRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9TaGFkZS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NoYWRlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjUsIF9kZXNjcmlwdG9yNiwgX2Rlc2NyaXB0b3I3LCBfZGVzY3JpcHRvcjgsIF9kZXNjcmlwdG9yOSwgX2Rlc2NyaXB0b3IxMDtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxuXG5cblxuXG5cbnZhciBCYXJyaWVyU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKEJhcnJpZXJTdG9yZSwgW3tcbiAgICBrZXk6IFwicGlwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwieUF4aXNXaWR0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LnlBeGlzd2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInByaWNlTGFiZWxXaWR0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMueUF4aXNXaWR0aCArIDE7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiU0hBREVfTk9ORV9TSU5HTEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnU0hBREVfTk9ORV9TSU5HTEUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJTSEFERV9OT05FX0RPVUJMRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdTSEFERV9OT05FX0RPVUJMRSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIlNIQURFX0FCT1ZFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NIQURFX0FCT1ZFJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiU0hBREVfQkVMT1dcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnU0hBREVfQkVMT1cnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJTSEFERV9CRVRXRUVOXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NIQURFX0JFVFdFRU4nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJTSEFERV9PVVRTSURFXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ1NIQURFX09VVFNJREUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJCQVJSSUVSX0NIQU5HRURcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnQkFSUklFUl9DSEFOR0VEJztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBCYXJyaWVyU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXJyaWVyU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzaGFkZUNvbG9yXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29sb3JcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9yZWdyb3VuZENvbG9yXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQmV0d2VlblNoYWRlVmlzaWJsZVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1RvcFNoYWRlVmlzaWJsZVwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0JvdHRvbVNoYWRlVmlzaWJsZVwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoaWRlUHJpY2VMaW5lc1wiLCBfZGVzY3JpcHRvcjcsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJsaW5lU3R5bGVcIiwgX2Rlc2NyaXB0b3I4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNJbml0aWFsaXplZFwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsaXplUHJvbWlzZVwiLCBfZGVzY3JpcHRvcjEwLCB0aGlzKTtcblxuICAgIHRoaXMuX3NoYWRlU3RhdGUgPSB2b2lkIDA7XG4gICAgdGhpcy5fb25CYXJyaWVyQ2hhbmdlID0gbnVsbDtcblxuICAgIHRoaXMuX2ZpcmVPbkJhcnJpZXJDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGlnaCA9IF90aGlzLl9oaWdoX2JhcnJpZXIudmlzaWJsZSA/ICtfdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlLnRvRml4ZWQoX3RoaXMucGlwKSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBsb3cgPSBfdGhpcy5fbG93X2JhcnJpZXIudmlzaWJsZSA/ICtfdGhpcy5fbG93X2JhcnJpZXIucHJpY2UudG9GaXhlZChfdGhpcy5waXApIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoX3RoaXMuX29uQmFycmllckNoYW5nZSkge1xuICAgICAgICBfdGhpcy5fb25CYXJyaWVyQ2hhbmdlKHtcbiAgICAgICAgICBoaWdoOiBoaWdoLFxuICAgICAgICAgIGxvdzogbG93XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9kcmF3U2hhZGVkQXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0FCT1ZFKSB7XG4gICAgICAgIF90aGlzLl9zaGFkZUFib3ZlKCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLl9zaGFkZVN0YXRlID09PSBCYXJyaWVyU3RvcmUuU0hBREVfQkVMT1cpIHtcbiAgICAgICAgX3RoaXMuX3NoYWRlQmVsb3coKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9CRVRXRUVOKSB7XG4gICAgICAgIF90aGlzLl9zaGFkZUJldHdlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9PVVRTSURFKSB7XG4gICAgICAgIF90aGlzLl9zaGFkZU91dHNpZGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLl9sb3dfYmFycmllci52aXNpYmxlICYmIF90aGlzLl9pc0JhcnJpZXJzT2ZmU2NyZWVuKCkpIHtcbiAgICAgICAgdmFyIG9yZGVyID0gX3RoaXMuX2hpZ2hfYmFycmllci50b3AgPT09IDAgPyBudWxsIDogMTAxO1xuICAgICAgICBfdGhpcy5faGlnaF9iYXJyaWVyLnpJbmRleCA9IG9yZGVyO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLl9oaWdoX2JhcnJpZXIgPSBuZXcgX1ByaWNlTGluZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKHRoaXMubWFpblN0b3JlKTtcbiAgICB0aGlzLl9sb3dfYmFycmllciA9IG5ldyBfUHJpY2VMaW5lU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0odGhpcy5tYWluU3RvcmUpO1xuXG4gICAgdGhpcy5faGlnaF9iYXJyaWVyLm9uUHJpY2VDaGFuZ2VkKHRoaXMuX2RyYXdTaGFkZWRBcmVhKTtcblxuICAgIHRoaXMuX2xvd19iYXJyaWVyLm9uUHJpY2VDaGFuZ2VkKHRoaXMuX2RyYXdTaGFkZWRBcmVhKTtcblxuICAgIHRoaXMuX2hpZ2hfYmFycmllci5vbkRyYWdSZWxlYXNlZCh0aGlzLl9maXJlT25CYXJyaWVyQ2hhbmdlKTtcblxuICAgIHRoaXMuX2xvd19iYXJyaWVyLm9uRHJhZ1JlbGVhc2VkKHRoaXMuX2ZpcmVPbkJhcnJpZXJDaGFuZ2UpO1xuXG4gICAgdGhpcy5faW5qZWN0aW9uSWQgPSB0aGlzLnN0eC5hcHBlbmQoJ2RyYXcnLCB0aGlzLl9kcmF3U2hhZGVkQXJlYSk7XG5cbiAgICB0aGlzLl9zZXR1cENvbnN0cmFpbkJhcnJpZXJQcmljZXMoKTtcblxuICAgIHRoaXMuX2xpc3RlbmVySWQgPSB0aGlzLnN0eC5hZGRFdmVudExpc3RlbmVyKCduZXdDaGFydCcsIHRoaXMuaW5pdCk7XG4gICAgdGhpcy5hYm92ZVNoYWRlU3RvcmUgPSBuZXcgX1NoYWRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oJ3RvcC1zaGFkZScpO1xuICAgIHRoaXMuYmV0d2VlblNoYWRlU3RvcmUgPSBuZXcgX1NoYWRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oJ2JldHdlZW4tc2hhZGUnKTtcbiAgICB0aGlzLmJlbG93U2hhZGVTdG9yZSA9IG5ldyBfU2hhZGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSgnYm90dG9tLXNoYWRlJyk7XG4gICAgdGhpcy5BYm92ZVNoYWRlID0gdGhpcy5hYm92ZVNoYWRlU3RvcmUuY29ubmVjdChfY29tcG9uZW50c19TaGFkZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuQmV0d2VlblNoYWRlID0gdGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS5jb25uZWN0KF9jb21wb25lbnRzX1NoYWRlX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSk7XG4gICAgdGhpcy5CZWxvd1NoYWRlID0gdGhpcy5iZWxvd1NoYWRlU3RvcmUuY29ubmVjdChfY29tcG9uZW50c19TaGFkZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuc2hhZGVTdGF0ZSA9IEJhcnJpZXJTdG9yZS5TSEFERV9OT05FX1NJTkdMRTtcblxuICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5zdHguY3VycmVudFF1b3RlKCkpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHRoaXMuSGlnaFByaWNlTGluZSA9IHRoaXMuX2hpZ2hfYmFycmllci5jb25uZWN0KF9jb21wb25lbnRzX1ByaWNlTGluZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuTG93UHJpY2VMaW5lID0gdGhpcy5fbG93X2JhcnJpZXIuY29ubmVjdChfY29tcG9uZW50c19QcmljZUxpbmVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCYXJyaWVyU3RvcmUsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB0aGlzLmluaXRpYWxpemVQcm9taXNlLnJlc29sdmUoKTsgLy8gRW5hYmxlIHRoaXMgdG8gdGVzdCBiYXJyaWVyczsgaGlnaCBsb3cgdmFsdWVzIGFyZSBtYW5kYXRvcnlcbiAgICAgIC8vIGZvciBsaWJyYXJ5IHVzZXIgdG8gcHJvdmlkZVxuICAgICAgLy8gdGhpcy5zZXREZWZhdWx0QmFycmllcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXREZWZhdWx0QmFycmllclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0QmFycmllcigpIHtcbiAgICAgIHZhciBwcmljZSA9IHRoaXMucmVsYXRpdmUgPyAwIDogdGhpcy5zdHguY3VycmVudFF1b3RlKCkuQ2xvc2U7XG4gICAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLmNoYXJ0LnlBeGlzLnByaWNlVGljaztcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5wcmljZSA9IHByaWNlICsgZGlzdGFuY2U7XG4gICAgICB0aGlzLl9sb3dfYmFycmllci5wcmljZSA9IHByaWNlIC0gZGlzdGFuY2U7XG5cbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5fdXBkYXRlVG9wKCk7XG5cbiAgICAgIHRoaXMuX2xvd19iYXJyaWVyLl91cGRhdGVUb3AoKTtcblxuICAgICAgdGhpcy5fZHJhd1NoYWRlZEFyZWEoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUHJvcHMoX3JlZikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICAgICAgZm9yZWdyb3VuZENvbG9yID0gX3JlZi5mb3JlZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgc2hhZGVDb2xvciA9IF9yZWYuc2hhZGVDb2xvcixcbiAgICAgICAgICBzaGFkZSA9IF9yZWYuc2hhZGUsXG4gICAgICAgICAgaGlnaCA9IF9yZWYuaGlnaCxcbiAgICAgICAgICBsb3cgPSBfcmVmLmxvdyxcbiAgICAgICAgICByZWxhdGl2ZSA9IF9yZWYucmVsYXRpdmUsXG4gICAgICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgICAgIGhpZGVQcmljZUxpbmVzID0gX3JlZi5oaWRlUHJpY2VMaW5lcyxcbiAgICAgICAgICBsaW5lU3R5bGUgPSBfcmVmLmxpbmVTdHlsZTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVByb21pc2UudGhlbihPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgIF90aGlzMi5jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvcmVncm91bmRDb2xvcikge1xuICAgICAgICAgIF90aGlzMi5mb3JlZ3JvdW5kQ29sb3IgPSBmb3JlZ3JvdW5kQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhZGVDb2xvcikge1xuICAgICAgICAgIF90aGlzMi5zaGFkZUNvbG9yID0gc2hhZGVDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGFkZSkge1xuICAgICAgICAgIF90aGlzMi5zaGFkZVN0YXRlID0gXCJTSEFERV9cIi5jb25jYXQoc2hhZGUpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVsYXRpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIF90aGlzMi5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRyYWdnYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgX3RoaXMyLmRyYWdnYWJsZSA9IGRyYWdnYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc1ZhbGlkUHJvcFwiXSkoaGlnaCkpIHtcbiAgICAgICAgICBfdGhpczIuaGlnaF9iYXJyaWVyID0gaGlnaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJpc1ZhbGlkUHJvcFwiXSkobG93KSkge1xuICAgICAgICAgIF90aGlzMi5sb3dfYmFycmllciA9IGxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIF90aGlzMi5vbkJhcnJpZXJDaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG4gICAgICAgIF90aGlzMi5oaWRlUHJpY2VMaW5lcyA9ICEhaGlkZVByaWNlTGluZXM7XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3RydWN0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuc3R4LnJlbW92ZUluamVjdGlvbih0aGlzLl9pbmplY3Rpb25JZCk7XG4gICAgICB0aGlzLnN0eC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2xpc3RlbmVySWQpO1xuXG4gICAgICB0aGlzLl9oaWdoX2JhcnJpZXIuZGVzdHJ1Y3RvcigpO1xuXG4gICAgICB0aGlzLl9sb3dfYmFycmllci5kZXN0cnVjdG9yKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZXR1cENvbnN0cmFpbkJhcnJpZXJQcmljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwQ29uc3RyYWluQmFycmllclByaWNlcygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBiYXJyaWVyIDEgY2Fubm90IGdvIGJlbG93IGJhcnJpZXIgMlxuICAgICAgdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlQ29uc3RyYWluZXIgPSBmdW5jdGlvbiAobmV3UHJpY2UpIHtcbiAgICAgICAgdmFyIG5leHRQcmljZSA9IF90aGlzMy5fbG93X2JhcnJpZXIudmlzaWJsZSAmJiBuZXdQcmljZSA8IF90aGlzMy5fbG93X2JhcnJpZXIucmVhbFByaWNlID8gX3RoaXMzLl9oaWdoX2JhcnJpZXIucmVhbFByaWNlIDogbmV3UHJpY2U7XG5cbiAgICAgICAgX3RoaXMzLm1haW5TdG9yZS5jaGFydC5jYWxjdWxhdGVZYXhpc1dpZHRoKG5leHRQcmljZSk7XG5cbiAgICAgICAgcmV0dXJuIG5leHRQcmljZTtcbiAgICAgIH07IC8vIGJhcnJpZXIgMiBjYW5ub3QgZ28gYWJvdmUgYmFycmllciAxXG5cblxuICAgICAgdGhpcy5fbG93X2JhcnJpZXIucHJpY2VDb25zdHJhaW5lciA9IGZ1bmN0aW9uIChuZXdQcmljZSkge1xuICAgICAgICB2YXIgbmV4dFByaWNlID0gbmV3UHJpY2UgPiBfdGhpczMuX2hpZ2hfYmFycmllci5yZWFsUHJpY2UgPyBfdGhpczMuX2xvd19iYXJyaWVyLnJlYWxQcmljZSA6IG5ld1ByaWNlO1xuXG4gICAgICAgIF90aGlzMy5tYWluU3RvcmUuY2hhcnQuY2FsY3VsYXRlWWF4aXNXaWR0aChuZXh0UHJpY2UpO1xuXG4gICAgICAgIHJldHVybiBuZXh0UHJpY2U7XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaXNCYXJyaWVyc09mZlNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNCYXJyaWVyc09mZlNjcmVlbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oaWdoX2JhcnJpZXIub2ZmU2NyZWVuICYmIHRoaXMuX2xvd19iYXJyaWVyLm9mZlNjcmVlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NoYWRlQmV0d2VlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVCZXR3ZWVuKCkge1xuICAgICAgdGhpcy5iZXR3ZWVuU2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7XG4gICAgICAgIHRvcDogdGhpcy5faGlnaF9iYXJyaWVyLnRvcCxcbiAgICAgICAgYm90dG9tOiB0aGlzLl9sb3dfYmFycmllci50b3AsXG4gICAgICAgIHJpZ2h0OiB0aGlzLnlBeGlzV2lkdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2hhZGVCZWxvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVCZWxvdygpIHtcbiAgICAgIHZhciBiYXJyaWVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl9oaWdoX2JhcnJpZXI7XG4gICAgICB0aGlzLmJlbG93U2hhZGVTdG9yZS5zZXRQb3NpdGlvbih7XG4gICAgICAgIHRvcDogYmFycmllci50b3AsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgcmlnaHQ6IHRoaXMueUF4aXNXaWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zaGFkZUFib3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zaGFkZUFib3ZlKCkge1xuICAgICAgdmFyIGJhcnJpZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMuX2hpZ2hfYmFycmllcjtcbiAgICAgIHRoaXMuYWJvdmVTaGFkZVN0b3JlLnNldFBvc2l0aW9uKHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBib3R0b206IGJhcnJpZXIudG9wLFxuICAgICAgICByaWdodDogdGhpcy55QXhpc1dpZHRoXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NoYWRlT3V0c2lkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hhZGVPdXRzaWRlKCkge1xuICAgICAgdGhpcy5fc2hhZGVBYm92ZSh0aGlzLl9oaWdoX2JhcnJpZXIpO1xuXG4gICAgICB0aGlzLl9zaGFkZUJlbG93KHRoaXMuX2xvd19iYXJyaWVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGlnaF9iYXJyaWVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLnByaWNlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQocHJpY2UpIHtcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5wcmljZSA9IHByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb3dfYmFycmllclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvd19iYXJyaWVyLnByaWNlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQocHJpY2UpIHtcbiAgICAgIHRoaXMuX2xvd19iYXJyaWVyLnByaWNlID0gcHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3R4LmNoYXJ0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkJhcnJpZXJDaGFuZ2VcIixcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMuX29uQmFycmllckNoYW5nZSAhPT0gY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25CYXJyaWVyQ2hhbmdlID0gY2FsbGJhY2s7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoYWRlU3RhdGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaGFkZVN0YXRlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc2hhZGVTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuX3NoYWRlU3RhdGUgPT09IHNoYWRlU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zaGFkZVN0YXRlID0gc2hhZGVTdGF0ZTtcbiAgICAgIHZhciBub1NoYWRlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX05PTkVfU0lOR0xFIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9OT05FX0RPVUJMRTtcblxuICAgICAgaWYgKG5vU2hhZGUpIHtcbiAgICAgICAgdGhpcy5hYm92ZVNoYWRlU3RvcmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJldHdlZW5TaGFkZVN0b3JlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iZWxvd1NoYWRlU3RvcmUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFib3ZlU2hhZGVFbmFibGUgPSB0aGlzLl9zaGFkZVN0YXRlID09PSBCYXJyaWVyU3RvcmUuU0hBREVfQUJPVkUgfHwgdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX09VVFNJREU7XG4gICAgICAgIHZhciBiZWxvd1NoYWRlRW5hYmxlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0JFTE9XIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9PVVRTSURFO1xuICAgICAgICB2YXIgYmV0d2VlblNoYWRlRW5hYmxlID0gdGhpcy5fc2hhZGVTdGF0ZSA9PT0gQmFycmllclN0b3JlLlNIQURFX0JFVFdFRU47XG4gICAgICAgIHRoaXMuYWJvdmVTaGFkZVN0b3JlLnZpc2libGUgPSBhYm92ZVNoYWRlRW5hYmxlO1xuICAgICAgICB0aGlzLmJldHdlZW5TaGFkZVN0b3JlLnZpc2libGUgPSBiZXR3ZWVuU2hhZGVFbmFibGU7XG4gICAgICAgIHRoaXMuYmVsb3dTaGFkZVN0b3JlLnZpc2libGUgPSBiZWxvd1NoYWRlRW5hYmxlO1xuXG4gICAgICAgIHRoaXMuX2RyYXdTaGFkZWRBcmVhKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93TG93QmFycmllciA9IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9PVVRTSURFIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9CRVRXRUVOIHx8IHRoaXMuX3NoYWRlU3RhdGUgPT09IEJhcnJpZXJTdG9yZS5TSEFERV9OT05FX0RPVUJMRTtcbiAgICAgIHZhciB3YXNMb3dCYXJyaWVyVmlzaWJsZSA9IHRoaXMuX2xvd19iYXJyaWVyLnZpc2libGU7XG4gICAgICB0aGlzLl9sb3dfYmFycmllci52aXNpYmxlID0gc2hvd0xvd0JhcnJpZXI7XG5cbiAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgc2hvd0xvd0JhcnJpZXIgJiYgIXdhc0xvd0JhcnJpZXJWaXNpYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb3dfYmFycmllci5yZWFsUHJpY2UgPj0gdGhpcy5faGlnaF9iYXJyaWVyLnJlYWxQcmljZSkge1xuICAgICAgICAgIC8vIGZpeCBwb3NpdGlvbiBpZiBfbG93X2JhcnJpZXIgYWJvdmUgX2hpZ2hfYmFycmllciwgc2luY2UgX2xvd19iYXJyaWVyIHBvc2l0aW9uIGlzIG5vdCB1cGRhdGVkIHdoZW4gbm90IHZpc2libGVcbiAgICAgICAgICB0aGlzLl9sb3dfYmFycmllci5wcmljZSA9IHRoaXMuX2hpZ2hfYmFycmllci5wcmljZSAtIHRoaXMuY2hhcnQueUF4aXMucHJpY2VUaWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbGF0aXZlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLnJlbGF0aXZlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2hpZ2hfYmFycmllci5yZWxhdGl2ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5fbG93X2JhcnJpZXIucmVsYXRpdmUgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ2dhYmxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGlnaF9iYXJyaWVyLmRyYWdnYWJsZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl9oaWdoX2JhcnJpZXIuZHJhZ2dhYmxlID0gdmFsdWU7XG4gICAgICB0aGlzLl9sb3dfYmFycmllci5kcmFnZ2FibGUgPSB2YWx1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQmFycmllclN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hhZGVDb2xvclwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29sb3JcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZvcmVncm91bmRDb2xvclwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNCZXR3ZWVuU2hhZGVWaXNpYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzVG9wU2hhZGVWaXNpYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I2ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQm90dG9tU2hhZGVWaXNpYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhpZGVQcmljZUxpbmVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxpbmVTdHlsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNJbml0aWFsaXplZFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTAgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdGlhbGl6ZVByb21pc2VcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbmV3IF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSgpO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicGlwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInlBeGlzV2lkdGhcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInlBeGlzV2lkdGhcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicHJpY2VMYWJlbFdpZHRoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJwcmljZUxhYmVsV2lkdGhcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpbml0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZXN0cnVjdG9yXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZXN0cnVjdG9yXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0JvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBCb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xudmFyIF9kZWMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNTtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cbnZhciBCb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhCb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmUsIFt7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEJvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJvdHRvbVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzUmVhZHlUb1Nob3dcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwibWFpbkNoYXJ0SGVpZ2h0XCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3RhbEhlaWdodFwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgdGhpcy5pbml0aWFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3R4LmFwcGVuZCgnZHJhd1BhbmVscycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZUNoYXJ0SGVpZ2h0KCk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuaXNSZWFkeVRvU2hvdyA9IHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlQ2hhcnRNYXJnaW4gPSBmdW5jdGlvbiAobWFyZ2luKSB7XG4gICAgICBpZiAoX3RoaXMuY29udGV4dCAmJiBfdGhpcy5zdHgpIHtcbiAgICAgICAgdmFyIG1hcmdpblRvcCA9IDEyNTtcblxuICAgICAgICBpZiAobWFyZ2luID09PSAyMDApIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc3R4LmNoYXJ0LnlBeGlzLmhlaWdodCA8IDMyNSkge1xuICAgICAgICAgICAgbWFyZ2luID0gMTAwO1xuICAgICAgICAgICAgdmFyIG1hcmdpblRvcERpZmYgPSAzMjUgLSBtYXJnaW4gLSBfdGhpcy5zdHguY2hhcnQueUF4aXMuaGVpZ2h0O1xuICAgICAgICAgICAgbWFyZ2luVG9wID0gbWFyZ2luVG9wRGlmZiA+IDAgPyBtYXJnaW5Ub3BEaWZmIDogMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKF90aGlzLnN0eC5wYW5lbHMpLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgIG1hcmdpbiA9IDEwMDtcbiAgICAgICAgICAgIG1hcmdpblRvcCA9IDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnN0eC5jaGFydC55QXhpcy5pbml0aWFsTWFyZ2luVG9wID0gbWFyZ2luVG9wO1xuICAgICAgICBfdGhpcy5zdHguY2hhcnQueUF4aXMuaW5pdGlhbE1hcmdpbkJvdHRvbSA9IG1hcmdpbjtcblxuICAgICAgICBfdGhpcy5zdHguY2FsY3VsYXRlWUF4aXNNYXJnaW5zKF90aGlzLnN0eC5jaGFydC5wYW5lbC55QXhpcyk7XG5cbiAgICAgICAgX3RoaXMuc3R4LmRyYXcoKTtcblxuICAgICAgICBpZiAoIV90aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG91bGRNaW5pbWlzZUxhc3REaWdpdHMpIHtcbiAgICAgICAgICBfdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXQoX3RoaXMuc3R4LmNoYXJ0LnBhbmVsLmhlaWdodCA8IDQ2MCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMuaW5pdGlhbCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlLCBbe1xuICAgIGtleTogXCJ1cGRhdGVDaGFydEhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDaGFydEhlaWdodCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLm1haW5DaGFydEhlaWdodCA9IHRoaXMuc3R4LnBhbmVscy5jaGFydC5oZWlnaHQ7XG4gICAgICB0aGlzLnRvdGFsSGVpZ2h0ID0gT2JqZWN0LmtleXModGhpcy5zdHgucGFuZWxzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHJldHVybiBhY2MgKyAoX3RoaXMyLnN0eC5wYW5lbHNba2V5XS5oaWRkZW4gPyAwIDogX3RoaXMyLnN0eC5wYW5lbHNba2V5XS5oZWlnaHQpO1xuICAgICAgfSwgMCk7XG4gICAgICB2YXIgbWFyZ2luID0gdGhpcy50b3RhbEhlaWdodCA+IHRoaXMubWFpbkNoYXJ0SGVpZ2h0ID8gMCA6IDMwO1xuICAgICAgdmFyIHBhbmVsUG9zaXRpb24gPSB0aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcucG9zaXRpb247XG4gICAgICB2YXIgY2hhcnRDb250cm9sc0hlaWdodCA9IHBhbmVsUG9zaXRpb24gPT09ICdib3R0b20nICYmIHRoaXMubWFpblN0b3JlLnN0YXRlLmNoYXJ0Q29udHJvbHNXaWRnZXRzID8gNDAgOiAwO1xuICAgICAgdGhpcy50b3AgPSB0aGlzLm1haW5DaGFydEhlaWdodCAtIG1hcmdpbiAtIDIwMDtcbiAgICAgIHRoaXMuYm90dG9tID0gdGhpcy50b3RhbEhlaWdodCAtIHRoaXMubWFpbkNoYXJ0SGVpZ2h0ICsgbWFyZ2luICsgY2hhcnRDb250cm9sc0hlaWdodDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYm90dG9tXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNSZWFkeVRvU2hvd1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJtYWluQ2hhcnRIZWlnaHRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b3BcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b3RhbEhlaWdodFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZUNoYXJ0SGVpZ2h0XCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZUNoYXJ0SGVpZ2h0XCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NhdGVnb3JpY2FsRGlzcGxheVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NhdGVnb3JpY2FsRGlzcGxheVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX1NlYXJjaElucHV0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9TZWFyY2hJbnB1dC5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1NlYXJjaElucHV0LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19jYXRlZ29yaWNhbGRpc3BsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5ICovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvaW5kZXguanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2RlYzgsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX2Rlc2NyaXB0b3I5O1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxuXG5cblxudmFyIENhdGVnb3JpY2FsRGlzcGxheVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzcgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM4ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZ2V0Q2F0ZWdvcmljYWxJdGVtcyA9IF9yZWYuZ2V0Q2F0ZWdvcmljYWxJdGVtcyxcbiAgICAgICAgb25TZWxlY3RJdGVtID0gX3JlZi5vblNlbGVjdEl0ZW0sXG4gICAgICAgIGdldElzU2hvd24gPSBfcmVmLmdldElzU2hvd24sXG4gICAgICAgIGdldEFjdGl2ZUNhdGVnb3J5ID0gX3JlZi5nZXRBY3RpdmVDYXRlZ29yeSxcbiAgICAgICAgYWN0aXZlT3B0aW9ucyA9IF9yZWYuYWN0aXZlT3B0aW9ucyxcbiAgICAgICAgcGxhY2Vob2xkZXJUZXh0ID0gX3JlZi5wbGFjZWhvbGRlclRleHQsXG4gICAgICAgIGZhdm9yaXRlc0lkID0gX3JlZi5mYXZvcml0ZXNJZCxcbiAgICAgICAgbWFpblN0b3JlID0gX3JlZi5tYWluU3RvcmUsXG4gICAgICAgIGlkID0gX3JlZi5pZCxcbiAgICAgICAgZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5ID0gX3JlZi5nZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnksXG4gICAgICAgIGdldEN1cnJlbnRBY3RpdmVTdWJDYXRlZ29yeSA9IF9yZWYuZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5LFxuICAgICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZSA9IF9yZWYuc2VhcmNoSW5wdXRDbGFzc05hbWU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1Nob3duXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2Nyb2xsUGFuZWxcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsdGVyVGV4dFwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVDYXRlZ29yeUtleVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJmb2N1c2VkQ2F0ZWdvcnlLZXlcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNTY3JvbGxpbmdEb3duXCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICB0aGlzLnNjcm9sbFRvcCA9IHVuZGVmaW5lZDtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlSGVhZEtleVwiLCBfZGVzY3JpcHRvcjcsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVIZWFkVG9wXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFjdGl2ZUhlYWRPZmZzZXRcIiwgX2Rlc2NyaXB0b3I5LCB0aGlzKTtcblxuICAgIHRoaXMuaXNVc2VyU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmxhc3RGaWx0ZXJlZEl0ZW1zID0gW107XG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zOiBfdGhpcy5maWx0ZXJlZEl0ZW1zLFxuICAgICAgICB1cGRhdGVTY3JvbGxTcHk6IF90aGlzLnVwZGF0ZVNjcm9sbFNweSxcbiAgICAgICAgc2V0U2Nyb2xsUGFuZWw6IF90aGlzLnNldFNjcm9sbFBhbmVsLFxuICAgICAgICBpc1Njcm9sbGluZ0Rvd246IF90aGlzLmlzU2Nyb2xsaW5nRG93bixcbiAgICAgICAgc2Nyb2xsVXA6IF90aGlzLnNjcm9sbFVwLFxuICAgICAgICBzY3JvbGxEb3duOiBfdGhpcy5zY3JvbGxEb3duLFxuICAgICAgICBvblNlbGVjdEl0ZW06IF90aGlzLm9uU2VsZWN0SXRlbSxcbiAgICAgICAgUmVzdWx0c1BhbmVsOiBfdGhpcy5SZXN1bHRzUGFuZWwsXG4gICAgICAgIEZpbHRlclBhbmVsOiBfdGhpcy5GaWx0ZXJQYW5lbCxcbiAgICAgICAgU2VhcmNoSW5wdXQ6IF90aGlzLlNlYXJjaElucHV0LFxuICAgICAgICBpc01vYmlsZTogX3RoaXMuY2hhcnQuaXNNb2JpbGUsXG4gICAgICAgIGhlaWdodDogX3RoaXMuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0pO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJyZWFjdGlvblwiXSkoZ2V0SXNTaG93biwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGdldElzU2hvd24oKSkge1xuICAgICAgICBfdGhpcy5mb2N1c2VkQ2F0ZWdvcnlLZXkgPSBudWxsO1xuICAgICAgICBfdGhpcy5hY3RpdmVDYXRlZ29yeUtleSA9IF90aGlzLmdldEN1cnJlbnRBY3RpdmVDYXRlZ29yeSA/IF90aGlzLmdldEN1cnJlbnRBY3RpdmVDYXRlZ29yeSgpIDogJ2Zhdm9yaXRlJztcbiAgICAgICAgX3RoaXMuYWN0aXZlU3ViQ2F0ZWdvcnkgPSBfdGhpcy5nZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkgPyBfdGhpcy5nZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkoKSA6ICcnO1xuICAgICAgICB2YXIgZWwgPSBfdGhpcy5jYXRlZ29yeUVsZW1lbnRzW190aGlzLmFjdGl2ZUNhdGVnb3J5S2V5XTtcbiAgICAgICAgdmFyIGFjdGl2ZVN1YkNhdGVnb3J5Q2xhc3NOYW1lID0gX3RoaXMuaWQgPyBcIi5cIi5jb25jYXQoX3RoaXMuaWQsIFwiLXN1YmNhdGVnb3J5LWl0ZW0tXCIpLmNvbmNhdChfdGhpcy5hY3RpdmVTdWJDYXRlZ29yeSkgOiBcIi5zdWJjYXRlZ29yeS1pdGVtLVwiLmNvbmNhdChfdGhpcy5hY3RpdmVTdWJDYXRlZ29yeSk7XG5cbiAgICAgICAgdmFyIGVsX2FjdGl2ZV9zdWJfY2F0ZWdvcnkgPSBfdGhpcy5tYWluU3RvcmUuY2hhcnQucm9vdE5vZGUucXVlcnlTZWxlY3RvcihhY3RpdmVTdWJDYXRlZ29yeUNsYXNzTmFtZSk7XG5cbiAgICAgICAgX3RoaXMuYWN0aXZlSGVhZEtleSA9IF90aGlzLmFjdGl2ZUNhdGVnb3J5S2V5IHx8IG51bGw7XG5cbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgX3RoaXMucGF1c2VTY3JvbGxTcHkgPSB0cnVlO1xuICAgICAgICAgIF90aGlzLmlzVXNlclNjcm9sbGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgX3RoaXMuc2Nyb2xsUGFuZWwuc2Nyb2xsVG9wKGVsLm9mZnNldFRvcCk7XG5cbiAgICAgICAgICBpZiAoZWxfYWN0aXZlX3N1Yl9jYXRlZ29yeSkge1xuICAgICAgICAgICAgX3RoaXMuc2Nyb2xsUGFuZWwuc2Nyb2xsVG9wKGVsLm9mZnNldFRvcCArIGVsX2FjdGl2ZV9zdWJfY2F0ZWdvcnkub2Zmc2V0VG9wIC0gNDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucGF1c2VTY3JvbGxTcHkgPSBmYWxzZTtcbiAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIV90aGlzLmlzSW5pdCkge1xuICAgICAgICAgIF90aGlzLmluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZWFyY2hJbnB1dC5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmdldENhdGVnb3JpY2FsSXRlbXMgPSBnZXRDYXRlZ29yaWNhbEl0ZW1zO1xuICAgIHRoaXMub25TZWxlY3RJdGVtID0gb25TZWxlY3RJdGVtO1xuICAgIHRoaXMuZ2V0QWN0aXZlQ2F0ZWdvcnkgPSBnZXRBY3RpdmVDYXRlZ29yeTtcbiAgICB0aGlzLmZhdm9yaXRlc0lkID0gZmF2b3JpdGVzSWQ7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuY2F0ZWdvcnlFbGVtZW50cyA9IHt9O1xuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIHRoaXMuZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5ID0gZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5O1xuICAgIHRoaXMuZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5ID0gZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5O1xuICAgIHRoaXMuaXNJbml0ID0gZmFsc2U7XG4gICAgdGhpcy5zZWFyY2hJbnB1dCA9IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZVJlZigpO1xuICAgIHRoaXMuc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBzZWFyY2hJbnB1dENsYXNzTmFtZTtcbiAgICB2YXIgbm9ybWFsSXRlbSA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmF2b3JpdGVzSWQ6IGZhdm9yaXRlc0lkLFxuICAgICAgICBpZDogaWRcbiAgICAgIH07XG4gICAgfSkoX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJOb3JtYWxJdGVtXCJdKTtcbiAgICB2YXIgYWN0aXZlSXRlbSA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZlT3B0aW9uczogYWN0aXZlT3B0aW9ucyxcbiAgICAgICAgZmF2b3JpdGVzSWQ6IGZhdm9yaXRlc0lkXG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiQWN0aXZlSXRlbVwiXSk7XG5cbiAgICB2YXIgZ2V0SXRlbVR5cGUgPSBmdW5jdGlvbiBnZXRJdGVtVHlwZShjYXRlZ29yeUlkKSB7XG4gICAgICBpZiAoY2F0ZWdvcnlJZCA9PT0gJ2FjdGl2ZScgJiYgX3RoaXMuZ2V0QWN0aXZlQ2F0ZWdvcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlSXRlbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vcm1hbEl0ZW07XG4gICAgfTtcblxuICAgIHRoaXMuUmVzdWx0c1BhbmVsID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zOiBfdGhpcy5maWx0ZXJlZEl0ZW1zLFxuICAgICAgICBzZXRDYXRlZ29yeUVsZW1lbnQ6IF90aGlzLnNldENhdGVnb3J5RWxlbWVudCxcbiAgICAgICAgZ2V0SXRlbVR5cGU6IGdldEl0ZW1UeXBlLFxuICAgICAgICBhY3RpdmVIZWFkVG9wOiBfdGhpcy5hY3RpdmVIZWFkVG9wLFxuICAgICAgICBhY3RpdmVIZWFkS2V5OiBfdGhpcy5hY3RpdmVIZWFkS2V5LFxuICAgICAgICBhY3RpdmVIZWFkT2Zmc2V0OiBfdGhpcy5hY3RpdmVIZWFkT2Zmc2V0XG4gICAgICB9O1xuICAgIH0pKF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiUmVzdWx0c1BhbmVsXCJdKTtcbiAgICB0aGlzLkZpbHRlclBhbmVsID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBjaGFydCA9IF9yZWYyLmNoYXJ0O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNb2JpbGU6IGNoYXJ0LmlzTW9iaWxlLFxuICAgICAgICBmaWx0ZXJlZEl0ZW1zOiBfdGhpcy5maWx0ZXJlZEl0ZW1zLFxuICAgICAgICBoYW5kbGVGaWx0ZXJDbGljazogX3RoaXMuaGFuZGxlRmlsdGVyQ2xpY2ssXG4gICAgICAgIGFjdGl2ZUNhdGVnb3J5S2V5OiBfdGhpcy5hY3RpdmVDYXRlZ29yeUtleSxcbiAgICAgICAgZm9jdXNlZENhdGVnb3J5S2V5OiBfdGhpcy5mb2N1c2VkQ2F0ZWdvcnlLZXlcbiAgICAgIH07XG4gICAgfSkoX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJGaWx0ZXJQYW5lbFwiXSk7XG4gICAgdGhpcy5TZWFyY2hJbnB1dCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgdmFsdWU6IF90aGlzLmZpbHRlclRleHQsXG4gICAgICAgIG9uQ2hhbmdlOiBfdGhpcy5zZXRGaWx0ZXJUZXh0LFxuICAgICAgICBzZWFyY2hJbnB1dDogX3RoaXMuc2VhcmNoSW5wdXQsXG4gICAgICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lOiBfdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZVxuICAgICAgfTtcbiAgICB9KShfY29tcG9uZW50c19TZWFyY2hJbnB1dF9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhdGVnb3JpY2FsRGlzcGxheVN0b3JlLCBbe1xuICAgIGtleTogXCJ1cGRhdGVTY3JvbGxTcHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsU3B5KCkge1xuICAgICAgaWYgKHRoaXMucGF1c2VTY3JvbGxTcHkgfHwgIXRoaXMuc2Nyb2xsUGFuZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5maWx0ZXJlZEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjYXRlZ29yeVRpdGxlSGVpZ2h0ID0gNDA7XG4gICAgICB2YXIgc2Nyb2xsUGFuZWxUb3AgPSB0aGlzLnNjcm9sbFBhbmVsLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICB2YXIgYWN0aXZlSGVhZFRvcCA9IDA7XG4gICAgICB2YXIgYWN0aXZlTWVudUlkID0gbnVsbDtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmZpbHRlcmVkSXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIGVsID0gdGhpcy5jYXRlZ29yeUVsZW1lbnRzW2NhdGVnb3J5LmNhdGVnb3J5SWRdO1xuXG4gICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgdmFyIHRvcCA9IHIudG9wIC0gc2Nyb2xsUGFuZWxUb3A7XG5cbiAgICAgICAgICBpZiAodG9wIDwgMCkge1xuICAgICAgICAgICAgYWN0aXZlTWVudUlkID0gY2F0ZWdvcnkuY2F0ZWdvcnlJZDtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeVN3aXRjaFBvaW50ID0gci5oZWlnaHQgKyB0b3AgLSBjYXRlZ29yeVRpdGxlSGVpZ2h0O1xuICAgICAgICAgICAgYWN0aXZlSGVhZFRvcCA9IGNhdGVnb3J5U3dpdGNoUG9pbnQgPCAwID8gY2F0ZWdvcnlTd2l0Y2hQb2ludCA6IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxQYW5lbC5nZXRWYWx1ZXMoKS50b3A7XG5cbiAgICAgIGlmICh0aGlzLnNjcm9sbFRvcCA+IHNjcm9sbFRvcCkge1xuICAgICAgICB0aGlzLnNjcm9sbFVwKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbERvd24oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVIZWFkT2Zmc2V0ID0gdGhpcy5jaGFydC5pc01vYmlsZSA/IHRoaXMuc2Nyb2xsUGFuZWwuY29udGFpbmVyLm9mZnNldFRvcCA6IDA7XG4gICAgICB0aGlzLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIHRoaXMuZm9jdXNlZENhdGVnb3J5S2V5ID0gYWN0aXZlTWVudUlkIHx8IHRoaXMuZmlsdGVyZWRJdGVtc1swXS5jYXRlZ29yeUlkO1xuICAgICAgdGhpcy5hY3RpdmVIZWFkVG9wID0gYWN0aXZlSGVhZFRvcDtcbiAgICAgIHRoaXMuYWN0aXZlSGVhZEtleSA9IHRoaXMuc2Nyb2xsVG9wID09PSAwID8gbnVsbCA6IHRoaXMuZm9jdXNlZENhdGVnb3J5S2V5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY3JvbGxVcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxVcCgpIHtcbiAgICAgIHRoaXMuaXNTY3JvbGxpbmdEb3duID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNjcm9sbERvd25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsRG93bigpIHtcbiAgICAgIC8vIFRoaXMgb25seSBhZmZlY3RzIHdoZW4gc2Nyb2xsaW5nIGJ5IG1vdXNlIG5vdCBieSBjb2RlXG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nRG93biA9IHRoaXMuaXNVc2VyU2Nyb2xsaW5nO1xuICAgICAgdGhpcy5pc1VzZXJTY3JvbGxpbmcgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB0aGlzLmlzSW5pdCA9IHRydWU7IC8vIFNlbGVjdCBmaXJzdCBub24tZW1wdHkgY2F0ZWdvcnk6XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2ZUNhdGVnb3J5S2V5ID09PSAnJyAmJiB0aGlzLmZpbHRlcmVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5maWx0ZXJlZEl0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmNhdGVnb3J5RWxlbWVudHNbY2F0ZWdvcnkuY2F0ZWdvcnlJZF07XG5cbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUNhdGVnb3J5S2V5ID0gY2F0ZWdvcnkuY2F0ZWdvcnlJZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDYXRlZ29yeUVsZW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2F0ZWdvcnlFbGVtZW50KGVsZW1lbnQsIGlkKSB7XG4gICAgICB0aGlzLmNhdGVnb3J5RWxlbWVudHNbaWRdID0gZWxlbWVudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RmlsdGVyVGV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJUZXh0KGZpbHRlclRleHQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmZpbHRlclRleHQgPSBmaWx0ZXJUZXh0O1xuICAgICAgdGhpcy5pc1VzZXJTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudXBkYXRlU2Nyb2xsU3B5KCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlRmlsdGVyQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRmlsdGVyQ2xpY2soY2F0ZWdvcnkpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZWwgPSB0aGlzLmNhdGVnb3J5RWxlbWVudHNbY2F0ZWdvcnkuY2F0ZWdvcnlJZF07XG5cbiAgICAgIGlmIChlbCkge1xuICAgICAgICAvLyBUT0RPOiBTY3JvbGwgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucGF1c2VTY3JvbGxTcHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzVXNlclNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjcm9sbFBhbmVsLnNjcm9sbFRvcChlbC5vZmZzZXRUb3ApO1xuICAgICAgICB0aGlzLmZvY3VzZWRDYXRlZ29yeUtleSA9IGNhdGVnb3J5LmNhdGVnb3J5SWQ7XG4gICAgICAgIHRoaXMuYWN0aXZlSGVhZEtleSA9IG51bGw7IC8vIHNjcm9sbFRvcCB0YWtlcyBzb21lIHRpbWUgdG8gdGFrZSBhZmZlY3QsIHNvIHdlIG5lZWRcbiAgICAgICAgLy8gYSBzbGlnaHQgZGVsYXkgYmVmb3JlIGVuYWJsaW5nIHRoZSBzY3JvbGwgc3B5IGFnYWluXG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMzLnBhdXNlU2Nyb2xsU3B5ID0gZmFsc2U7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2Nyb2xsUGFuZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsUGFuZWwoZWxlbWVudCkge1xuICAgICAgdGhpcy5zY3JvbGxQYW5lbCA9IGVsZW1lbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhlaWdodFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuY2hhcnRDb250YWluZXJIZWlnaHQgLSAodGhpcy5jaGFydC5pc01vYmlsZSA/IDAgOiAxMjApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmYXZvcml0ZXNDYXRlZ29yeVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHRoaXMucGF1c2VTY3JvbGxTcHkgPSB0cnVlO1xuICAgICAgdmFyIGZhdm9yaXRlc0NhdGVnb3J5ID0ge1xuICAgICAgICBjYXRlZ29yeU5hbWU6IHQudHJhbnNsYXRlKCdGYXZvcml0ZXMnKSxcbiAgICAgICAgY2F0ZWdvcnlJZDogJ2Zhdm9yaXRlJyxcbiAgICAgICAgaGFzU3ViY2F0ZWdvcnk6IGZhbHNlLFxuICAgICAgICBlbXB0eURlc2NyaXB0aW9uOiB0LnRyYW5zbGF0ZSgnVGhlcmUgYXJlIG5vIGZhdm9yaXRlcyB5ZXQuJyksXG4gICAgICAgIGRhdGE6IE9iamVjdC5rZXlzKHRoaXMubWFpblN0b3JlLmZhdm9yaXRlcy5mYXZvcml0ZXNNYXBbdGhpcy5mYXZvcml0ZXNJZF0pIHx8IFtdXG4gICAgICB9O1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5wYXVzZVNjcm9sbFNweSA9IGZhbHNlO1xuICAgICAgfSwgMjApO1xuICAgICAgcmV0dXJuIGZhdm9yaXRlc0NhdGVnb3J5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaWx0ZXJlZEl0ZW1zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZmlsdGVyZWRJdGVtcyA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImNsb25lQ2F0ZWdvcmllc1wiXSkodGhpcy5nZXRDYXRlZ29yaWNhbEl0ZW1zKCkpO1xuXG4gICAgICBpZiAodGhpcy5mYXZvcml0ZXNJZCkge1xuICAgICAgICB2YXIgZmF2c0NhdGVnb3J5ID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5mYXZvcml0ZXNDYXRlZ29yeSk7XG5cbiAgICAgICAgdmFyIGZpbmRGYXZJdGVtID0gZnVuY3Rpb24gZmluZEZhdkl0ZW0oY2F0ZWdvcnkpIHtcbiAgICAgICAgICB2YXIgZm91bmRJdGVtcyA9IFtdO1xuXG4gICAgICAgICAgaWYgKGNhdGVnb3J5Lmhhc1N1YmNhdGVnb3J5KSB7XG4gICAgICAgICAgICBjYXRlZ29yeS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKHN1YmNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZFN1Ykl0ZW1zID0gZmluZEZhdkl0ZW0oc3ViY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICBmb3VuZEl0ZW1zLnB1c2guYXBwbHkoZm91bmRJdGVtcywgX3RvQ29uc3VtYWJsZUFycmF5KGZvdW5kU3ViSXRlbXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYXZzQ2F0ZWdvcnkuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChmYXZJdGVtKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmF2SXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbU9iaiA9IGNhdGVnb3J5LmRhdGEuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXRlbUlkID09PSBmYXZJdGVtO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1PYmopIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kSXRlbXMucHVzaChpdGVtT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmb3VuZEl0ZW1zO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBmYXZzQ2F0ZWdvcnlJdGVtID0gZmF2c0NhdGVnb3J5LmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChmYXZJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBmYXZJdGVtICE9PSAnc3RyaW5nJztcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICB2YXIgZm91bmRJdGVtcyA9IGZpbmRGYXZJdGVtKGNhdGVnb3J5KTtcbiAgICAgICAgICBmYXZzQ2F0ZWdvcnlJdGVtLnB1c2guYXBwbHkoZmF2c0NhdGVnb3J5SXRlbSwgX3RvQ29uc3VtYWJsZUFycmF5KGZvdW5kSXRlbXMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZhdnNDYXRlZ29yeS5kYXRhID0gZmF2c0NhdGVnb3J5SXRlbS5maWx0ZXIoZnVuY3Rpb24gKGZhdkl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZmF2SXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMudW5zaGlmdChmYXZzQ2F0ZWdvcnkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5nZXRBY3RpdmVDYXRlZ29yeSkge1xuICAgICAgICB2YXIgYWN0aXZlQ2F0ZWdvcnkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJjbG9uZUNhdGVnb3J5XCJdKSh0aGlzLmdldEFjdGl2ZUNhdGVnb3J5KCkpO1xuICAgICAgICBmaWx0ZXJlZEl0ZW1zLnVuc2hpZnQoYWN0aXZlQ2F0ZWdvcnkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5maWx0ZXJUZXh0ID09PSAnJykge1xuICAgICAgICB0aGlzLmxhc3RGaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcztcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkSXRlbXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWFyY2hIYXNSZXN1bHQgPSBmYWxzZTtcbiAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5maWx0ZXJUZXh0LnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4ICE9PSAnJztcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIH0pOyAvLyByZWdleCB0byBjaGVjayBhbGwgc2VwYXJhdGUgd29yZHMgYnkgY29tbWEsIHNob3VsZCBleGlzdCBpbiB0aGUgc3RyaW5nXG5cbiAgICAgIHZhciBoYXNTZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiBoYXNTZWFyY2hTdHJpbmcodGV4dCkge1xuICAgICAgICByZXR1cm4gcXVlcmllcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGIpICYmIGE7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGZpbHRlckNhdGVnb3J5ID0gZnVuY3Rpb24gZmlsdGVyQ2F0ZWdvcnkoYykge1xuICAgICAgICBjLmRhdGEgPSBjLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc1NlYXJjaFN0cmluZyhpdGVtLmRpc3BsYXkgfHwgX3R5cGVvZihpdGVtLmRhdGFPYmplY3QpID09PSAnb2JqZWN0JyAmJiBpdGVtLmRhdGFPYmplY3Quc3ltYm9sKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICBzZWFyY2hIYXNSZXN1bHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IGZpbHRlcmVkSXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICBpZiAoY2F0ZWdvcnkuaGFzU3ViY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gY2F0ZWdvcnkuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJjYXRlZ29yeSA9IF9zdGVwNC52YWx1ZTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJDYXRlZ29yeShzdWJjYXRlZ29yeSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXJDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzZWFyY2hIYXNSZXN1bHQpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IHRoaXMubGFzdEZpbHRlcmVkSXRlbXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5wYXVzZVNjcm9sbFNweSkge1xuICAgICAgICB0aGlzLmxhc3RGaWx0ZXJlZEl0ZW1zID0gZmlsdGVyZWRJdGVtcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbHRlcmVkSXRlbXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3JpY2FsRGlzcGxheVN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNTaG93blwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzY3JvbGxQYW5lbFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmlsdGVyVGV4dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVDYXRlZ29yeUtleVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmb2N1c2VkQ2F0ZWdvcnlLZXlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSksIF9kZXNjcmlwdG9yNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Njcm9sbGluZ0Rvd25cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjcgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlSGVhZEtleVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlSGVhZFRvcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I5ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZUhlYWRPZmZzZXRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVNjcm9sbFNweVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVTY3JvbGxTcHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2Nyb2xsVXBcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFVwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbERvd25cIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbERvd25cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdFwiLCBbX2RlYzRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW5pdFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmYXZvcml0ZXNDYXRlZ29yeVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmF2b3JpdGVzQ2F0ZWdvcnlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmlsdGVyZWRJdGVtc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmlsdGVyZWRJdGVtc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDYXRlZ29yeUVsZW1lbnRcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENhdGVnb3J5RWxlbWVudFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRGaWx0ZXJUZXh0XCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRGaWx0ZXJUZXh0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhbmRsZUZpbHRlckNsaWNrXCIsIFtfZGVjN10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVGaWx0ZXJDbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTY3JvbGxQYW5lbFwiLCBbX2RlYzhdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0U2Nyb2xsUGFuZWxcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U2V0dGluZ1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0NoYXJ0U2V0dGluZ1N0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hhcnRTZXR0aW5nU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NZW51U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9NZW51U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL01lbnUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2RlYzgsIF9kZWM5LCBfZGVjMTAsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX2Rlc2NyaXB0b3I5O1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cblxuXG5cbnZhciBDaGFydFNldHRpbmdTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM3ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzkgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0U2V0dGluZ1N0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRTZXR0aW5nU3RvcmUpO1xuXG4gICAgdGhpcy5sYW5ndWFnZXMgPSBbe1xuICAgICAga2V5OiAnZW4nLFxuICAgICAgbmFtZTogJ0VuZ2xpc2gnLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5VU0QsIG51bGwpXG4gICAgfSwge1xuICAgICAga2V5OiAncHQnLFxuICAgICAgbmFtZTogJ1BvcnR1Z3XDqnMnLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5Qb3J0dWdhbCwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICdkZScsXG4gICAgICBuYW1lOiAnRGV1dHNjaCcsXG4gICAgICBpY29uOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiRmxhZ0ljb25zXCJdLkdlcm1hbiwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICdydScsXG4gICAgICBuYW1lOiAn0KDRg9GB0YHQutC40LknLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5SdXNzaWEsIG51bGwpXG4gICAgfSwge1xuICAgICAga2V5OiAnZnInLFxuICAgICAgbmFtZTogJ0ZyZW5jaCcsXG4gICAgICBpY29uOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiRmxhZ0ljb25zXCJdLkZyZW5jaCwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICd0aCcsXG4gICAgICBuYW1lOiAnVGhhaScsXG4gICAgICBpY29uOiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiRmxhZ0ljb25zXCJdLlRoYWlsYW5kLCBudWxsKVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2lkJyxcbiAgICAgIG5hbWU6ICdJbmRvbmVzaWEnLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5JbmRvbmVzaWEsIG51bGwpXG4gICAgfSwge1xuICAgICAga2V5OiAndmknLFxuICAgICAgbmFtZTogJ1Rp4bq/bmcgVmnhu4d0JyxcbiAgICAgIGljb246IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJGbGFnSWNvbnNcIl0uVmlldG5hbSwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICdpdCcsXG4gICAgICBuYW1lOiAnSXRhbGlhbm8nLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5JdGFseSwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICd6aF9jbicsXG4gICAgICBuYW1lOiAn566A5L2T5Lit5paHJyxcbiAgICAgIGljb246IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJGbGFnSWNvbnNcIl0uQ2hpbmVzZSwgbnVsbClcbiAgICB9LCB7XG4gICAgICBrZXk6ICdwbCcsXG4gICAgICBuYW1lOiAnUG9saXNoJyxcbiAgICAgIGljb246IHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJGbGFnSWNvbnNcIl0uUG9sYW5kLCBudWxsKVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3poX3R3JyxcbiAgICAgIG5hbWU6ICfnuYHpq5TkuK3mlocnLFxuICAgICAgaWNvbjogcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkZsYWdJY29uc1wiXS5DaGluZXNlVHJhZGl0aW9uYWwsIG51bGwpXG4gICAgfV07XG4gICAgdGhpcy5kZWZhdWx0TGFuZ3VhZ2UgPSB7fTtcbiAgICB0aGlzLm9uU2V0dGluZ3NDaGFuZ2UgPSB2b2lkIDA7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFzc2V0SW5mb3JtYXRpb25cIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ2aWV3XCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhbmd1YWdlXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvc2l0aW9uXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRoZW1lXCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvdW50ZG93blwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoaXN0b3JpY2FsXCIsIF9kZXNjcmlwdG9yNywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQXV0b1NjYWxlXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWRcIiwgX2Rlc2NyaXB0b3I5LCB0aGlzKTtcblxuICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXNbMF07XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ3NldHRpbmcnXG4gICAgfSk7XG4gICAgdGhpcy5DaGFydFNldHRpbmdNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1haW5TdG9yZS5zdGF0ZS5zZXR0aW5ncztcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTZXR0aW5ncyhtYWluU3RvcmUuc3RhdGUuc2V0dGluZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0U2V0dGluZ1N0b3JlLCBbe1xuICAgIGtleTogXCJzZXRTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgICAgaWYgKHNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXNzZXRJbmZvcm1hdGlvbiA9IHNldHRpbmdzLmFzc2V0SW5mb3JtYXRpb24sXG4gICAgICAgICAgY291bnRkb3duID0gc2V0dGluZ3MuY291bnRkb3duLFxuICAgICAgICAgIGhpc3RvcmljYWwgPSBzZXR0aW5ncy5oaXN0b3JpY2FsLFxuICAgICAgICAgIGxhbmd1YWdlID0gc2V0dGluZ3MubGFuZ3VhZ2UsXG4gICAgICAgICAgcG9zaXRpb24gPSBzZXR0aW5ncy5wb3NpdGlvbixcbiAgICAgICAgICBpc0F1dG9TY2FsZSA9IHNldHRpbmdzLmlzQXV0b1NjYWxlLFxuICAgICAgICAgIGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPSBzZXR0aW5ncy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkLFxuICAgICAgICAgIHRoZW1lID0gc2V0dGluZ3MudGhlbWU7XG5cbiAgICAgIGlmICh0aGVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0VGhlbWUodGhlbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvdW50ZG93biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2hvd0NvdW50ZG93bihjb3VudGRvd24pO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFuZ3VhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldExhbmd1YWdlKGxhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFzc2V0SW5mb3JtYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldEFzc2V0SW5mb3JtYXRpb24oYXNzZXRJbmZvcm1hdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChoaXN0b3JpY2FsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRIaXN0b3JpY2FsKGhpc3RvcmljYWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBdXRvU2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldEF1dG9TY2FsZShpc0F1dG9TY2FsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyKGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlU2V0dGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlU2V0dGluZygpIHtcbiAgICAgIGlmICh0aGlzLm9uU2V0dGluZ3NDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5vblNldHRpbmdzQ2hhbmdlKHtcbiAgICAgICAgICBhc3NldEluZm9ybWF0aW9uOiB0aGlzLmFzc2V0SW5mb3JtYXRpb24sXG4gICAgICAgICAgY291bnRkb3duOiB0aGlzLmNvdW50ZG93bixcbiAgICAgICAgICBoaXN0b3JpY2FsOiB0aGlzLmhpc3RvcmljYWwsXG4gICAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2Uua2V5LFxuICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLFxuICAgICAgICAgIGlzQXV0b1NjYWxlOiB0aGlzLmlzQXV0b1NjYWxlLFxuICAgICAgICAgIGlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQ6IHRoaXMuaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZCxcbiAgICAgICAgICB0aGVtZTogdGhpcy50aGVtZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Vmlld1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaWV3KHZpZXcpIHtcbiAgICAgIHRoaXMudmlldyA9IHZpZXcgfHwgJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldExhbmd1YWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExhbmd1YWdlKGxuZykge1xuICAgICAgaWYgKGxuZyA9PT0gdGhpcy5sYW5ndWFnZS5rZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5sYW5ndWFnZXMuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5rZXkgPT09IGxuZztcbiAgICAgIH0pO1xuICAgICAgdC5zZXRMYW5ndWFnZShsbmcpO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNldHRpbmcsIFwiQ2hhbmdlIGxhbmd1YWdlIHRvIFwiLmNvbmNhdChsbmcpKTtcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0VGhlbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGhlbWUodGhlbWUpIHtcbiAgICAgIGlmICh0aGlzLnRoZW1lID09PSB0aGVtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcblxuICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydFRoZW1lKHRoZW1lKTtcbiAgICAgICAgdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyLnNldEZsb2F0UHJpY2VMYWJlbFN0eWxlKHRoZW1lKTtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNldHRpbmcsIFwiQ2hhbmdlIHRoZW1lIHRvIFwiLmNvbmNhdCh0aGVtZSkpO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zaXRpb24gPSB2YWx1ZTtcblxuICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLnN0eC5jbGVhclN0eWxlcygpO1xuICAgICAgfVxuXG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0U2V0dGluZywgJ0NoYW5nZSBQb3NpdGlvbicpO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgICAgLyoqXG4gICAgICAqIENoYXJ0IHNob3VsZCBmaXggaXRzIGhlaWdodCAmIHdpZHRoIGFmdGVyIHRoZSBwb3NpdGlvbiBjaGFuZ2VkLFxuICAgICAgKiBmb3IgdGhhdCBwdXJwb3NlIHdlIHN0YXkgc29tZSAxMCBtcyBzbyB0aGF0IHBvc2l0aW9uIHZhcmFpYmxlIHVwZGF0ZVxuICAgICAgKiBvbiBjaGFydCBjb250ZXh0IHRoZW4gYXNrIGNoYXJ0IHRvIHVwZGF0ZSBpdHNlbGYgaGlnaHQgJiB3aWR0aFxuICAgICAgKi9cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5tYWluU3RvcmUuY2hhcnQucmVzaXplU2NyZWVuKCk7XG4gICAgICB9LCAxMCk7XG4gICAgICB0aGlzLm1lbnUuc2V0T3BlbihmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEFzc2V0SW5mb3JtYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXNzZXRJbmZvcm1hdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuYXNzZXRJbmZvcm1hdGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFzc2V0SW5mb3JtYXRpb24gPSB2YWx1ZTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0FjdGlvbnNcIl0uQ2hhcnRTZXR0aW5nLCBcIlwiLmNvbmNhdCh2YWx1ZSA/ICdTaG93JyA6ICdIaWRlJywgXCIgQXNzZXQgSW5mb3JtYXRpb25cIikpO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93Q291bnRkb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dDb3VudGRvd24odmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmNvdW50ZG93biA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvdW50ZG93biA9IHZhbHVlO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNldHRpbmcsIFwiXCIuY29uY2F0KHZhbHVlID8gJ1Nob3cnIDogJ0hpZGUnLCBcIiBDb3VudGRvd25cIikpO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRIaXN0b3JpY2FsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhpc3RvcmljYWwodmFsdWUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5oaXN0b3JpY2FsID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGlzdG9yaWNhbCA9IHZhbHVlO1xuICAgICAgdGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkID0gIXZhbHVlO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgICAgLyoqXG4gICAgICAqIENoYXJ0IHNob3VsZCBmaXggaXRzIGhlaWdodCAmIHdpZHRoIGFmdGVyIHRoZSBwb3NpdGlvbiBjaGFuZ2VkLFxuICAgICAgKiBmb3IgdGhhdCBwdXJwb3NlIHdlIHN0YXkgc29tZSAxMCBtcyBzbyB0aGF0IHBvc2l0aW9uIHZhcmFpYmxlIHVwZGF0ZVxuICAgICAgKiBvbiBjaGFydCBjb250ZXh0IHRoZW4gYXNrIGNoYXJ0IHRvIHVwZGF0ZSBpdHNlbGYgaGlnaHQgJiB3aWR0aFxuICAgICAgKi9cblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5tYWluU3RvcmUuY2hhcnQucmVzaXplU2NyZWVuKCk7XG4gICAgICB9LCAxMCk7XG4gICAgICB0aGlzLm1lbnUuc2V0T3BlbihmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldEF1dG9TY2FsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRvU2NhbGUodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmlzQXV0b1NjYWxlID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNBdXRvU2NhbGUgPSB2YWx1ZTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0FjdGlvbnNcIl0uQ2hhcnRTZXR0aW5nLCBcIiBDaGFuZ2UgQXV0b1NjYWxlIHRvIFwiLmNvbmNhdCh2YWx1ZSkpO1xuICAgICAgdGhpcy5zYXZlU2V0dGluZygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUhpZ2hlc3RMb3dlc3RNYXJrZXIodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkID0gdmFsdWU7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0U2V0dGluZywgXCIgXCIuY29uY2F0KHZhbHVlID8gJ1Nob3cnIDogJ0hpZGUnLCBcIiBIaWdoZXN0TG93ZXN0TWFya2VyLlwiKSk7XG4gICAgICB0aGlzLnNhdmVTZXR0aW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFydFNldHRpbmdTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFzc2V0SW5mb3JtYXRpb25cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ2aWV3XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxhbmd1YWdlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubGFuZ3VhZ2VzWzBdO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdib3R0b20nO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRoZW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICdsaWdodCc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY291bnRkb3duXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhpc3RvcmljYWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNBdXRvU2NhbGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yOSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0U2V0dGluZ3NcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0U2V0dGluZ3NcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Vmlld1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Vmlld1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRMYW5ndWFnZVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0TGFuZ3VhZ2VcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0VGhlbWVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFRoZW1lXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFBvc2l0aW9uXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRQb3NpdGlvblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRBc3NldEluZm9ybWF0aW9uXCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRBc3NldEluZm9ybWF0aW9uXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dDb3VudGRvd25cIiwgW19kZWM3XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dDb3VudGRvd25cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0SGlzdG9yaWNhbFwiLCBbX2RlYzhdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0SGlzdG9yaWNhbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRBdXRvU2NhbGVcIiwgW19kZWM5XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldEF1dG9TY2FsZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b2dnbGVIaWdoZXN0TG93ZXN0TWFya2VyXCIsIFtfZGVjMTBdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9nZ2xlSGlnaGVzdExvd2VzdE1hcmtlclwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvQ2hhcnRTaXplU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ2hhcnRTaXplU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hhcnRTaXplU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2NsYXNzLCBfZGVzY3JpcHRvcjtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxudmFyIENoYXJ0U2l6ZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2hhcnRTaXplU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydFNpemVTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0eFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3R4ID0gX3RoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQuc3R4O1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0U2l6ZVN0b3JlLCBbe1xuICAgIGtleTogXCJ6b29tSW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gem9vbUluKCkge1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNpemUsICd6b29tIEluJyk7XG5cbiAgICAgIGlmICh0aGlzLnN0eCkge1xuICAgICAgICB0aGlzLnN0eC56b29tSW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiem9vbU91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB6b29tT3V0KCkge1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiTG9nQWN0aW9uc1wiXS5DaGFydFNpemUsICd6b29tIE91dCcpO1xuXG4gICAgICBpZiAodGhpcy5zdHgpIHtcbiAgICAgICAgdGhpcy5zdHguem9vbU91dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFydFNpemVTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN0eFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiem9vbUluXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInpvb21JblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ6b29tT3V0XCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ6b29tT3V0XCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U3RhdGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DaGFydFN0YXRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvX3RoZW1lcy5zY3NzICovIFwiLi9zYXNzL190aGVtZXMuc2Nzc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfZGVjNiwgX2RlYzcsIF9kZWM4LCBfZGVjOSwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNywgX2Rlc2NyaXB0b3I4LCBfZGVzY3JpcHRvcjksIF9kZXNjcmlwdG9yMTAsIF9kZXNjcmlwdG9yMTEsIF9kZXNjcmlwdG9yMTIsIF9kZXNjcmlwdG9yMTMsIF9kZXNjcmlwdG9yMTQsIF9kZXNjcmlwdG9yMTUsIF9kZXNjcmlwdG9yMTYsIF9kZXNjcmlwdG9yMTcsIF9kZXNjcmlwdG9yMTgsIF9kZXNjcmlwdG9yMTksIF9kZXNjcmlwdG9yMjAsIF9kZXNjcmlwdG9yMjEsIF9kZXNjcmlwdG9yMjIsIF9kZXNjcmlwdG9yMjM7XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi9cblxuXG5cbnZhciBDaGFydFN0YXRlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzcgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM4ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhDaGFydFN0YXRlLCBbe1xuICAgIGtleTogXCJjb21wYXJpc29uU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jb21wYXJpc29uO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHh4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFydFN0b3JlLnN0eHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0U3RvcmUuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRUeXBlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydFR5cGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRpbWVwZXJpb2RTdG9yZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2Q7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmxvYWRlcjtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBDaGFydFN0YXRlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRTdGF0ZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdyYW51bGFyaXR5XCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhcnRUeXBlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0RXBvY2hcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhcnRFcG9jaE1hcmdpblwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmRFcG9jaFwiLCBfZGVzY3JpcHRvcjUsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmRFcG9jaE1hcmdpblwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzeW1ib2xcIiwgX2Rlc2NyaXB0b3I3LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDb25uZWN0aW9uT3BlbmVkXCIsIF9kZXNjcmlwdG9yOCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQ2hhcnRSZWFkeVwiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFydFN0YXR1c0xpc3RlbmVyXCIsIF9kZXNjcmlwdG9yMTAsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXR0aW5nc1wiLCBfZGVzY3JpcHRvcjExLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvd0xhc3REaWdpdFN0YXRzXCIsIF9kZXNjcmlwdG9yMTIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzY3JvbGxUb0Vwb2NoXCIsIF9kZXNjcmlwdG9yMTMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkV4cG9ydExheW91dFwiLCBfZGVzY3JpcHRvcjE0LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xlYXJDaGFydFwiLCBfZGVzY3JpcHRvcjE1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW1wb3J0ZWRMYXlvdXRcIiwgX2Rlc2NyaXB0b3IxNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzQ2hhcnRDbG9zZWRcIiwgX2Rlc2NyaXB0b3IxNywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1wiLCBfZGVzY3JpcHRvcjE4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNTdGF0aWNDaGFydFwiLCBfZGVzY3JpcHRvcjE5LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvdWxkRmV0Y2hUcmFkaW5nVGltZXNcIiwgX2Rlc2NyaXB0b3IyMCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlZnJlc2hBY3RpdmVTeW1ib2xzXCIsIF9kZXNjcmlwdG9yMjEsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoYXNSZWFjaGVkRW5kT2ZEYXRhXCIsIF9kZXNjcmlwdG9yMjIsIHRoaXMpO1xuXG4gICAgdGhpcy5jaGFydENvbnRyb2xzV2lkZ2V0cyA9IHZvaWQgMDtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib25Db250ZXh0UmVhZHlcIiwgX2Rlc2NyaXB0b3IyMywgdGhpcyk7XG5cbiAgICB0aGlzLnNjcm9sbENoYXJ0VG9MZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2sgPSBudWxsO1xuXG4gICAgICBpZiAoX3RoaXMuc2Nyb2xsVG9FcG9jaCAmJiAhX3RoaXMuc3RhcnRFcG9jaCkge1xuICAgICAgICB2YXIgc3RhcnRFbnRyeSA9IF90aGlzLnN0eHguY2hhcnQuZGF0YVNldC5maW5kKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgIHJldHVybiBlbnRyeS5EVC52YWx1ZU9mKCkgPT09IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFVUQ0RhdGVcIl0pKF90aGlzLnNjcm9sbFRvRXBvY2gpKS52YWx1ZU9mKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghc3RhcnRFbnRyeSkge1xuICAgICAgICAgIHN0YXJ0RW50cnkgPSB7XG4gICAgICAgICAgICBEVDogQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0VVRDRGF0ZVwiXSkoX3RoaXMuc2Nyb2xsVG9FcG9jaCkpLFxuICAgICAgICAgICAgQ2xvc2U6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFkZGluZyBhbiBpbnZpc2libGUgYmFyIGlmIHRoZSBiYXJcbiAgICAgICAgICAgKiBkb2VzIG5vdCBleGlzdCBvbiB0aGUgbWFzdGVyRGF0YVxuICAgICAgICAgICAqL1xuXG4gICAgICAgICAgX3RoaXMuc3R4eC51cGRhdGVDaGFydERhdGEoc3RhcnRFbnRyeSwgbnVsbCwge1xuICAgICAgICAgICAgZmlsbEdhcHM6IHRydWVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLnN0eHguY3JlYXRlRGF0YVNldCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZSA9IDA7XG4gICAgICAgIF90aGlzLnN0eHgubWljcm9waXhlbHMgPSAwO1xuXG4gICAgICAgIF90aGlzLnN0eHguZHJhdygpO1xuXG4gICAgICAgIF90aGlzLnN0eHguY2hhcnQuZW50cnlUaWNrID0gX3RoaXMuc3R4eC50aWNrRnJvbURhdGUoc3RhcnRFbnRyeS5EVCk7IC8vIHRoZSBjYWxjdWxhdGlvbiBvZiBlbnRyeSB0aWNrIHNob3VsZCBiZSBkb25lIGFmdGVyIGRyYXdcblxuICAgICAgICB2YXIgc2Nyb2xsVG9UYXJnZXQgPSBfdGhpcy5zdHh4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC0gX3RoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2s7XG5cbiAgICAgICAgaWYgKF90aGlzLnN0eHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsICYmIF90aGlzLnN0eHguYW5pbWF0aW9ucy5saXZlU2Nyb2xsLnJ1bm5pbmcpIHtcbiAgICAgICAgICBfdGhpcy5zdHh4LmFuaW1hdGlvbnMubGl2ZVNjcm9sbC5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdHh4LnNjcm9sbFRvKF90aGlzLnN0eHguY2hhcnQsIHNjcm9sbFRvVGFyZ2V0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc3R4eC5zZXRNYXhUaWNrcyg1KTtcblxuICAgICAgICAgIF90aGlzLnN0eHgubWljcm9waXhlbHMgPSAwO1xuICAgICAgICAgIF90aGlzLnN0eHguY2hhcnQubG9ja0F1dG9TY3JvbGwgPSB0cnVlO1xuICAgICAgICAgIF90aGlzLnN0eHguY2hhcnQuaXNTY3JvbGxMb2NhdGlvbkNoYW5nZWQgPSB0cnVlOyAvLyBzZXQgdG8gdHJ1ZSB0byBkcmF3IG1hcmtlcnNcblxuICAgICAgICAgIF90aGlzLnN0eHguZHJhdygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc3RhcnRFcG9jaCkge1xuICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3R4eC5jaGFydC5pc1Njcm9sbExvY2F0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zdHh4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN0eHguY2hhcnQuaXNTY3JvbGxMb2NhdGlvbkNoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5zdHh4LmhvbWUoKTtcblxuICAgICAgICBfdGhpcy5zdHh4LmRyYXcoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub2ZmTWFzdGVyRGF0YVJlaW5pdGlhbGl6ZShfdGhpcy5zY3JvbGxDaGFydFRvTGVmdCk7XG5cbiAgICAgIF90aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkLm9mZk1hc3RlckRhdGFVcGRhdGUoX3RoaXMuc2Nyb2xsQ2hhcnRUb0xlZnQpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLmNoYXJ0U3RvcmUgPSBtYWluU3RvcmUuY2hhcnQ7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0U3RhdGUsIFt7XG4gICAga2V5OiBcInVwZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKF9yZWYpIHtcbiAgICAgIHZhciBjaGFydENvbnRyb2xzV2lkZ2V0cyA9IF9yZWYuY2hhcnRDb250cm9sc1dpZGdldHMsXG4gICAgICAgICAgY2hhcnRTdGF0dXNMaXN0ZW5lciA9IF9yZWYuY2hhcnRTdGF0dXNMaXN0ZW5lcixcbiAgICAgICAgICBjaGFydFR5cGUgPSBfcmVmLmNoYXJ0VHlwZSxcbiAgICAgICAgICBjbGVhckNoYXJ0ID0gX3JlZi5jbGVhckNoYXJ0LFxuICAgICAgICAgIGVuZEVwb2NoID0gX3JlZi5lbmRFcG9jaCxcbiAgICAgICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICAgICAgaW1wb3J0ZWRMYXlvdXQgPSBfcmVmLmltcG9ydGVkTGF5b3V0LFxuICAgICAgICAgIF9yZWYkaXNBbmltYXRpb25FbmFibCA9IF9yZWYuaXNBbmltYXRpb25FbmFibGVkLFxuICAgICAgICAgIGlzQW5pbWF0aW9uRW5hYmxlZCA9IF9yZWYkaXNBbmltYXRpb25FbmFibCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkaXNBbmltYXRpb25FbmFibCxcbiAgICAgICAgICBpc0Nvbm5lY3Rpb25PcGVuZWQgPSBfcmVmLmlzQ29ubmVjdGlvbk9wZW5lZCxcbiAgICAgICAgICBpc1N0YXRpY0NoYXJ0ID0gX3JlZi5pc1N0YXRpY0NoYXJ0LFxuICAgICAgICAgIGdyYW51bGFyaXR5ID0gX3JlZi5ncmFudWxhcml0eSxcbiAgICAgICAgICBfcmVmJG1hcmdpbiA9IF9yZWYubWFyZ2luLFxuICAgICAgICAgIG1hcmdpbiA9IF9yZWYkbWFyZ2luID09PSB2b2lkIDAgPyAwIDogX3JlZiRtYXJnaW4sXG4gICAgICAgICAgb25FeHBvcnRMYXlvdXQgPSBfcmVmLm9uRXhwb3J0TGF5b3V0LFxuICAgICAgICAgIHJlZnJlc2hBY3RpdmVTeW1ib2xzID0gX3JlZi5yZWZyZXNoQWN0aXZlU3ltYm9scyxcbiAgICAgICAgICByZW1vdmVBbGxDb21wYXJpc29ucyA9IF9yZWYucmVtb3ZlQWxsQ29tcGFyaXNvbnMsXG4gICAgICAgICAgc2Nyb2xsVG9FcG9jaCA9IF9yZWYuc2Nyb2xsVG9FcG9jaCxcbiAgICAgICAgICBfcmVmJHNjcm9sbFRvRXBvY2hPZmYgPSBfcmVmLnNjcm9sbFRvRXBvY2hPZmZzZXQsXG4gICAgICAgICAgc2Nyb2xsVG9FcG9jaE9mZnNldCA9IF9yZWYkc2Nyb2xsVG9FcG9jaE9mZiA9PT0gdm9pZCAwID8gMCA6IF9yZWYkc2Nyb2xsVG9FcG9jaE9mZixcbiAgICAgICAgICBzZXR0aW5ncyA9IF9yZWYuc2V0dGluZ3MsXG4gICAgICAgICAgX3JlZiRzaG91bGRGZXRjaFRyYWRpID0gX3JlZi5zaG91bGRGZXRjaFRyYWRpbmdUaW1lcyxcbiAgICAgICAgICBzaG91bGRGZXRjaFRyYWRpbmdUaW1lcyA9IF9yZWYkc2hvdWxkRmV0Y2hUcmFkaSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkc2hvdWxkRmV0Y2hUcmFkaSxcbiAgICAgICAgICBfcmVmJHNob3dMYXN0RGlnaXRTdGEgPSBfcmVmLnNob3dMYXN0RGlnaXRTdGF0cyxcbiAgICAgICAgICBzaG93TGFzdERpZ2l0U3RhdHMgPSBfcmVmJHNob3dMYXN0RGlnaXRTdGEgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRzaG93TGFzdERpZ2l0U3RhLFxuICAgICAgICAgIHN0YXJ0RXBvY2ggPSBfcmVmLnN0YXJ0RXBvY2gsXG4gICAgICAgICAgc3ltYm9sID0gX3JlZi5zeW1ib2wsXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbTtcbiAgICAgIHZhciBpc1N5bWJvbENoYW5nZWQgPSBmYWxzZTtcbiAgICAgIHZhciBpc0dyYW51bGFyaXR5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jaGFydElkID0gaWQ7XG4gICAgICB0aGlzLmNoYXJ0U3RhdHVzTGlzdGVuZXIgPSBjaGFydFN0YXR1c0xpc3RlbmVyO1xuICAgICAgdGhpcy5pc0FuaW1hdGlvbkVuYWJsZWQgPSBpc0FuaW1hdGlvbkVuYWJsZWQ7XG4gICAgICB0aGlzLmlzQ29ubmVjdGlvbk9wZW5lZCA9IGlzQ29ubmVjdGlvbk9wZW5lZDtcbiAgICAgIHRoaXMuaXNTdGF0aWNDaGFydCA9IGlzU3RhdGljQ2hhcnQ7XG4gICAgICB0aGlzLm1hcmdpbiA9IG1hcmdpbjtcbiAgICAgIHRoaXMuc2Nyb2xsVG9FcG9jaE9mZnNldCA9IHNjcm9sbFRvRXBvY2hPZmZzZXQ7XG4gICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICB0aGlzLnNob3VsZEZldGNoVHJhZGluZ1RpbWVzID0gc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXM7XG4gICAgICB0aGlzLnNob3dMYXN0RGlnaXRTdGF0cyA9IHNob3dMYXN0RGlnaXRTdGF0cztcblxuICAgICAgaWYgKGNoYXJ0Q29udHJvbHNXaWRnZXRzICE9PSB0aGlzLmNoYXJ0Q29udHJvbHNXaWRnZXRzKSB7XG4gICAgICAgIHRoaXMuY2hhcnRDb250cm9sc1dpZGdldHMgPSBjaGFydENvbnRyb2xzV2lkZ2V0cztcbiAgICAgICAgaWYgKHRoaXMuc3R4eCkgdGhpcy5tYWluU3RvcmUuY2hhcnQudXBkYXRlSGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzeW1ib2wgIT09IHRoaXMuc3ltYm9sKSB7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICAgICAgICBpc1N5bWJvbENoYW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5jaGFydCAmJiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkKSB7XG4gICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFSZWluaXRpYWxpemUodGhpcy5zY3JvbGxDaGFydFRvTGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG9uRXhwb3J0TGF5b3V0ICE9PSB0aGlzLm9uRXhwb3J0TGF5b3V0KSB7XG4gICAgICAgIHRoaXMub25FeHBvcnRMYXlvdXQgPSBvbkV4cG9ydExheW91dDtcbiAgICAgICAgdGhpcy5leHBvcnRMYXlvdXQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYXJ0VHlwZSAhPT0gdGhpcy5jaGFydFR5cGUgJiYgdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuc2V0Q2hhcnRUeXBlKGNoYXJ0VHlwZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkICYmIGdyYW51bGFyaXR5ICE9PSB0aGlzLmdyYW51bGFyaXR5KSB7XG4gICAgICAgIHRoaXMuc2V0Q2hhcnRHcmFudWxhcml0eShncmFudWxhcml0eSk7XG4gICAgICAgIGlzR3JhbnVsYXJpdHlDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQgJiYgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCAmJiAhaXNTeW1ib2xDaGFuZ2VkKSB7XG4gICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFSZWluaXRpYWxpemUodGhpcy5zY3JvbGxDaGFydFRvTGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzICYmIHJlZnJlc2hBY3RpdmVTeW1ib2xzICE9PSB0aGlzLnJlZnJlc2hBY3RpdmVTeW1ib2xzKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaEFjdGl2ZVN5bWJvbHMgPSByZWZyZXNoQWN0aXZlU3ltYm9scztcbiAgICAgICAgdGhpcy5jaGFydFN0b3JlLmFjdGl2ZVN5bWJvbHMucmV0cmlldmVBY3RpdmVTeW1ib2xzKHRoaXMucmVmcmVzaEFjdGl2ZVN5bWJvbHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2xlYXJDaGFydCAhPT0gdGhpcy5jbGVhckNoYXJ0KSB7XG4gICAgICAgIHRoaXMuY2xlYXJDaGFydCA9IGNsZWFyQ2hhcnQ7XG4gICAgICAgIHRoaXMuY2xlYW5DaGFydCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wb3J0ZWRMYXlvdXQgJiYgSlNPTi5zdHJpbmdpZnkoaW1wb3J0ZWRMYXlvdXQpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLmltcG9ydGVkTGF5b3V0KSkge1xuICAgICAgICB0aGlzLmltcG9ydGVkTGF5b3V0ID0gaW1wb3J0ZWRMYXlvdXQ7XG4gICAgICAgIHRoaXMuaW1wb3J0TGF5b3V0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTdGF0aWNDaGFydCAmJiBzY3JvbGxUb0Vwb2NoICE9PSB0aGlzLnNjcm9sbFRvRXBvY2gpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0Vwb2NoID0gc2Nyb2xsVG9FcG9jaDtcblxuICAgICAgICBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQgJiYgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCAmJiAhaXNTeW1ib2xDaGFuZ2VkICYmICFpc0dyYW51bGFyaXR5Q2hhbmdlZCkge1xuICAgICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub25NYXN0ZXJEYXRhVXBkYXRlKHRoaXMuc2Nyb2xsQ2hhcnRUb0xlZnQpO1xuICAgICAgICB9XG4gICAgICB9IC8vIFRoaXMgaWYgc3RhdGVtZW50IHNob3VsZCBiZSBhbHdheXMgYWZ0ZXIgc2V0dGluZyBgdGhpcy5zY3JvbGxUb0Vwb2NoYCB2YWx1ZVxuXG5cbiAgICAgIGlmICh0aGlzLnN0YXJ0RXBvY2ggIT09IHN0YXJ0RXBvY2ggfHwgdGhpcy5lbmRFcG9jaCAhPT0gZW5kRXBvY2gpIHtcbiAgICAgICAgdGhpcy5zdGFydEVwb2NoID0gc3RhcnRFcG9jaDtcbiAgICAgICAgdGhpcy5lbmRFcG9jaCA9IGVuZEVwb2NoO1xuXG4gICAgICAgIGlmIChpc1N0YXRpY0NoYXJ0ICYmIHRoaXMuc3R4eCAmJiB0aGlzLmdyYW51bGFyaXR5ID09PSB0aGlzLm1haW5TdG9yZS5jaGFydC5ncmFudWxhcml0eSkge1xuICAgICAgICAgIC8vIFJlbG9hZCB0aGUgY2hhcnQgaWYgaXQgaXMgYSBzdGF0aWMgY2hhcnQgYW5kIHRoZSBncmFudWxhcml0eSBoYXNuJ3QgY2hhbmdlZFxuICAgICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0Lm5ld0NoYXJ0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCkge1xuICAgICAgICAgIC8qIFdoZW4gbGF5b3V0IGlzIGltcG9ydGluZyBhbmQgcmFuZ2UgaXMgY2hhbmdpbmcgYXMgdGhlIHNhbWUgdGltZSB3ZSBkb250IG5lZWQgdG8gc2V0IHRoZSByYW5nZSxcbiAgICAgICAgICAgICB0aGUgaW1wb3J0ZWQgbGF5b3V0IHdpdGxsIHRha2UgY2FyZSBvZiBpdC4gKi9cbiAgICAgICAgICBpZiAoIXRoaXMuaW1wb3J0ZWRMYXlvdXQgJiYgIXRoaXMuc2Nyb2xsVG9FcG9jaCkge1xuICAgICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vblJhbmdlQ2hhbmdlZCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlbW92ZUFsbENvbXBhcmlzb25zKSB7XG4gICAgICAgIHRoaXMuY29tcGFyaXNvblN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoem9vbSAhPT0gdGhpcy56b29tKSB7XG4gICAgICAgIHRoaXMuem9vbSA9ICt6b29tO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5zdHh4ICYmIHRoaXMuem9vbSkge1xuICAgICAgICAgIGlmICh0aGlzLnpvb20gPj0gMCkgey8vIHRoaXMuc3R4eC56b29tSW4obnVsbCwgKE1hdGguYWJzKDEwMCAtIHRoaXMuem9vbSkgfHwgMC4wMSkgLyAxMDApO1xuICAgICAgICAgIH0gZWxzZSB7Ly8gdGhpcy5zdHh4Lnpvb21PdXQobnVsbCwgKDEwMCArIE1hdGguYWJzKHRoaXMuem9vbSkpIC8gMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdHh4KSB7XG4gICAgICAgIHRoaXMuc3R4eC5jaGFydC5wYW5lbC55QXhpcy5kcmF3Q3VycmVudFByaWNlTGFiZWwgPSAhdGhpcy5lbmRFcG9jaDtcbiAgICAgICAgdGhpcy5zdHh4LnByZWZlcmVuY2VzLmN1cnJlbnRQcmljZUxpbmUgPSAhdGhpcy5lbmRFcG9jaDtcbiAgICAgICAgdGhpcy5zdHh4LmlzQXV0b1NjYWxlID0gdGhpcy5zZXR0aW5ncyAmJiB0aGlzLnNldHRpbmdzLmlzQXV0b1NjYWxlICE9PSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdHh4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFzUmVhY2hlZEVuZE9mRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNSZWFjaGVkRW5kT2ZEYXRhKF9oYXNSZWFjaGVkRW5kT2ZEYXRhKSB7XG4gICAgICB0aGlzLmhhc1JlYWNoZWRFbmRPZkRhdGEgPSBfaGFzUmVhY2hlZEVuZE9mRGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRDbG9zZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hhcnRDbG9zZWQoaXNDbG9zZWQpIHtcbiAgICAgIHRoaXMuaXNDaGFydENsb3NlZCA9IGlzQ2xvc2VkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDaGFydFRoZW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0VGhlbWUodGhlbWUpIHtcbiAgICAgIHZhciBpc0NoYXJ0Q2xvc2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLmlzQ2hhcnRDbG9zZWQ7XG4gICAgICB0aGlzLnN0eHguY2xlYXJTdHlsZXMoKTtcbiAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2dyaWQnLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGdyaWRcIildKTtcbiAgICAgIGlmICghdGhpcy5yb290Tm9kZSkgcmV0dXJuO1xuICAgICAgdGhpcy5yb290Tm9kZS5xdWVyeVNlbGVjdG9yKCcuY2hhcnRDb250YWluZXInKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGJnXCIpXTtcblxuICAgICAgaWYgKGlzQ2hhcnRDbG9zZWQpIHtcbiAgICAgICAgdmFyIGNsb3NlZENoYXJ0Q29sb3IgPSAncmdiYSgxMjksIDEzMywgMTUyLCAwLjM1KSc7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X21vdW50YWluX2NoYXJ0JywgJ2JvcmRlclRvcENvbG9yJywgY2xvc2VkQ2hhcnRDb2xvcik7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X21vdW50YWluX2NoYXJ0JywgJ2JhY2tncm91bmQtY29sb3InLCAndHJhbnNwYXJlbnQnKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbW91bnRhaW5fY2hhcnQnLCAnY29sb3InLCAndHJhbnNwYXJlbnQnKTsgLy8gbGluZSBjaGFydFxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2xpbmVfY2hhcnQnLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbGluZV91cCcsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9saW5lX2Rvd24nLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbGluZV9ldmVuJywgJ2NvbG9yJywgY2xvc2VkQ2hhcnRDb2xvcik7IC8vIGJhciBjaGFydFxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2Jhcl91cCcsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9iYXJfZG93bicsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9iYXJfZXZlbicsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpOyAvLyBjYW5kbGUgY2hhcnRcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfdXAnLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGNsb3NlZGNhbmRsZVwiKV0pO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfZG93bicsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImNoYXJ0Y2xvc2VkY2FuZGxlXCIpXSk7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2NhbmRsZV9ldmVuJywgJ2NvbG9yJywgX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiY2hhcnRjbG9zZWRjYW5kbGVcIildKTsgLy8gY2FuZGxlIHdpY2tcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfc2hhZG93X3VwJywgJ2NvbG9yJywgY2xvc2VkQ2hhcnRDb2xvcik7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2NhbmRsZV9zaGFkb3dfZG93bicsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jYW5kbGVfc2hhZG93X2V2ZW4nLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTsgLy8gaG9sbG93IGNhbmRsZVxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2hvbGxvd19jYW5kbGVfdXAnLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGNsb3NlZGNhbmRsZVwiKV0pO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9ob2xsb3dfY2FuZGxlX2Rvd24nLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGNsb3NlZGNhbmRsZVwiKV0pO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9ob2xsb3dfY2FuZGxlX2V2ZW4nLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjaGFydGNsb3NlZGNhbmRsZVwiKV0pOyAvLyBiYXNlbGluZSBjaGFydFxuXG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2Jhc2VsaW5lX3VwJywgJ2NvbG9yJywgY2xvc2VkQ2hhcnRDb2xvcik7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2Jhc2VsaW5lX2Rvd24nLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfYmFzZWxpbmVfZXZlbicsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpOyAvLyBrYWdpXG5cbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfa2FnaV91cCcsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpO1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9rYWdpX2Rvd24nLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTsgLy8gdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfa2FnaV9ldmVuJywgJ2NvbG9yJywgY2xvc2VkQ2hhcnRDb2xvcik7XG4gICAgICAgIC8vIHBhbmRmXG5cbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfcGFuZGZfdXAnLCAnY29sb3InLCBjbG9zZWRDaGFydENvbG9yKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfcGFuZGZfZG93bicsICdjb2xvcicsIGNsb3NlZENoYXJ0Q29sb3IpOyAvLyBjdXJyZW50IHByaWNlIHRleHQgY29sb3JcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jdXJyZW50X2hyX2Rvd24nLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjYW5kbGV0ZXh0Y2xvc2VkXCIpXSk7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2N1cnJlbnRfaHJfdXAnLCAnY29sb3InLCBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQuYVtcIlwiLmNvbmNhdCh0aGVtZSwgXCJjYW5kbGV0ZXh0Y2xvc2VkXCIpXSk7IC8vIGN1cnJlbnQgcHJpY2UgYmcgY29sb3JcblxuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9jdXJyZW50X2hyX2Rvd24nLCAnYmFja2dyb3VuZC1jb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImNhbmRsZWJnY2xvc2VkXCIpXSk7XG4gICAgICAgIHRoaXMuc3R4eC5zZXRTdHlsZSgnc3R4X2N1cnJlbnRfaHJfdXAnLCAnYmFja2dyb3VuZC1jb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImNhbmRsZWJnY2xvc2VkXCIpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0eHguc2V0U3R5bGUoJ3N0eF9tb3VudGFpbl9jaGFydCcsICdib3JkZXJUb3BDb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImNoYXJ0bW91bnRhaW5ib3JkZXJcIildKTtcbiAgICAgICAgdGhpcy5zdHh4LnNldFN0eWxlKCdzdHhfbGluZV9jaGFydCcsICdjb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImNoYXJ0bW91bnRhaW5ib3JkZXJcIildKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdHh4LmRyYXcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRJc1JlYWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0SXNSZWFkeShpc0NoYXJ0UmVhZHkpIHtcbiAgICAgIGlmICh0aGlzLmlzQ2hhcnRSZWFkeSAhPT0gaXNDaGFydFJlYWR5KSB7XG4gICAgICAgIHRoaXMuaXNDaGFydFJlYWR5ID0gaXNDaGFydFJlYWR5O1xuXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0U3RhdHVzTGlzdGVuZXIgJiYgdHlwZW9mIHRoaXMuY2hhcnRTdGF0dXNMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuY2hhcnRTdGF0dXNMaXN0ZW5lcihpc0NoYXJ0UmVhZHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENoYXJ0R3JhbnVsYXJpdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2hhcnRHcmFudWxhcml0eShncmFudWxhcml0eSkge1xuICAgICAgdmFyIGlzVGltZVVuaXRTZWNvbmQgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjYWxjdWxhdGVUaW1lVW5pdEludGVydmFsXCJdKShncmFudWxhcml0eSkudGltZVVuaXQgPT09ICdzZWNvbmQnO1xuICAgICAgdmFyIGlzQ2hhcnRUeXBlQ2FuZGxlID0gdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlLmlzQ2FuZGxlIHx8IHRoaXMuY2hhcnRUeXBlICYmIHRoaXMubWFpblN0b3JlLmNoYXJ0VHlwZS5pc1R5cGVDYW5kbGUodGhpcy5jaGFydFR5cGUpO1xuXG4gICAgICBpZiAodGhpcy5jb250ZXh0ICYmIGlzVGltZVVuaXRTZWNvbmQgJiYgaXNDaGFydFR5cGVDYW5kbGUpIHtcbiAgICAgICAgdGhpcy5zZXRDaGFydFR5cGUoJ21vdW50YWluJyk7IC8vIGlmIGdyYW51bGFyaXR5IGlzIHplcm8sIHNldCB0aGUgY2hhcnRUeXBlIHRvICdtb3VudGFpbidcbiAgICAgIH1cblxuICAgICAgdGhpcy5ncmFudWxhcml0eSA9IGdyYW51bGFyaXR5ID09PSBudWxsID8gdW5kZWZpbmVkIDogZ3JhbnVsYXJpdHk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENoYXJ0VHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGFydFR5cGUoY2hhcnRUeXBlKSB7XG4gICAgICB0aGlzLmNoYXJ0VHlwZSA9IGNoYXJ0VHlwZTtcblxuICAgICAgaWYgKHRoaXMuY2hhcnRUeXBlU3RvcmUub25DaGFydFR5cGVDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuY2hhcnRUeXBlU3RvcmUub25DaGFydFR5cGVDaGFuZ2VkKGNoYXJ0VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFNob3VsZE1pbmltaXNlTGFzdERpZ2l0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNob3VsZE1pbmltaXNlTGFzdERpZ2l0KHN0YXR1cykge1xuICAgICAgdGhpcy5zaG91bGRNaW5pbWlzZUxhc3REaWdpdHMgPSBzdGF0dXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNhdmVMYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUxheW91dCgpIHtcbiAgICAgIGlmICghdGhpcy5jaGFydElkKSByZXR1cm47XG4gICAgICB2YXIgbGF5b3V0RGF0YSA9IHRoaXMuc3R4eC5leHBvcnRMYXlvdXQodHJ1ZSk7XG4gICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KGxheW91dERhdGEpO1xuICAgICAgQ0lRLmxvY2FsU3RvcmFnZVNldEl0ZW0oXCJsYXlvdXQtXCIuY29uY2F0KHRoaXMuY2hhcnRJZCksIGpzb24pO1xuICAgIH0gLy8gcmV0dXJucyBmYWxzZSBpZiByZXN0b3JpbmcgbGF5b3V0IGZhaWxzXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXN0b3JlTGF5b3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmVMYXlvdXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGxheW91dERhdGEgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKShcImxheW91dC1cIi5jb25jYXQodGhpcy5jaGFydElkKSk7XG4gICAgICBpZiAoIWxheW91dERhdGEgfHwgIWxheW91dERhdGEuc3ltYm9scy5sZW5ndGgpIHJldHVybiBmYWxzZTsgLy8gcHJvcCB2YWx1ZXMgd2lsbCBhbHdheXMgdGFrZSBwcmVjZWRlbmNlXG5cbiAgICAgIGlmICh0aGlzLnN5bWJvbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc3ltYm9sICE9PSBsYXlvdXREYXRhLnN5bWJvbHNbMF0uc3ltYm9sKSB7XG4gICAgICAgIC8vIHN5bWJvbCBwcm9wIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBsb2NhbCBzdG9yYWdlIGRhdGFcbiAgICAgICAgdmFyIHN5bWJvbE9iamVjdCA9IHRoaXMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaih0aGlzLnN5bWJvbCk7XG4gICAgICAgIGxheW91dERhdGEuc3ltYm9scyA9IFt7XG4gICAgICAgICAgc3ltYm9sOiB0aGlzLnN5bWJvbCxcbiAgICAgICAgICBzeW1ib2xPYmplY3Q6IHN5bWJvbE9iamVjdFxuICAgICAgICB9XTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGxheW91dERhdGEuc3ltYm9sc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgc3ltYm9sRGF0ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgLy8gU3ltYm9sIGZyb20gY2FjaGUgbWF5IGJlIGluIGRpZmZlcmVudCBsYW5ndWFnZSwgc28gcmVwbGFjZSBpdCB3aXRoIHNlcnZlcidzXG4gICAgICAgICAgdmFyIGNhY2hlZFN5bWJvbCA9IHN5bWJvbERhdC5zeW1ib2w7XG4gICAgICAgICAgdmFyIHVwZGF0ZWRTeW1ib2wgPSB0aGlzLmNoYXJ0U3RvcmUuYWN0aXZlU3ltYm9scy5nZXRTeW1ib2xPYmooY2FjaGVkU3ltYm9sKTtcbiAgICAgICAgICBzeW1ib2xEYXQuc3ltYm9sT2JqZWN0ID0gdXBkYXRlZFN5bWJvbDtcblxuICAgICAgICAgIGlmIChzeW1ib2xEYXQucGFyYW1ldGVycykge1xuICAgICAgICAgICAgc3ltYm9sRGF0LnBhcmFtZXRlcnMuZGlzcGxheSA9IHVwZGF0ZWRTeW1ib2wubmFtZTsgLy8gVGhlc2UgZ2FwIHNldHRpbmdzIGFyZSBkZWZhdWx0IHdoZW4gbmV3IGNvbXBhcmlzb25zIGFyZSBhZGRlZCxcbiAgICAgICAgICAgIC8vIGJ1dCBmb3IgYmFja3dhcmQgc3VwcG9ydCB3ZSBuZWVkIHRvIHNldCB0aGVtIGhlcmUuXG5cbiAgICAgICAgICAgIHN5bWJvbERhdC5wYXJhbWV0ZXJzLmZpbGxHYXBzID0gdHJ1ZTtcbiAgICAgICAgICAgIHN5bWJvbERhdC5wYXJhbWV0ZXJzLmdhcERpc3BsYXlTdHlsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5ncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBwZXJpb2RpY2l0eSA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWxcIl0pKHRoaXMuZ3JhbnVsYXJpdHkpO1xuICAgICAgICBsYXlvdXREYXRhID0gX29iamVjdFNwcmVhZCh7fSwgbGF5b3V0RGF0YSwgcGVyaW9kaWNpdHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoaXMuZ3JhbnVsYXJpdHkgd2l0aCBjaGFydExheW91dFxuICAgICAgICB2YXIgX2xheW91dERhdGEgPSBsYXlvdXREYXRhLFxuICAgICAgICAgICAgdGltZVVuaXQgPSBfbGF5b3V0RGF0YS50aW1lVW5pdCxcbiAgICAgICAgICAgIGludGVydmFsID0gX2xheW91dERhdGEuaW50ZXJ2YWwsXG4gICAgICAgICAgICBfcGVyaW9kaWNpdHkgPSBfbGF5b3V0RGF0YS5wZXJpb2RpY2l0eTtcbiAgICAgICAgdmFyIHBlcmlvZCA9IHRpbWVVbml0ID8gaW50ZXJ2YWwgOiBfcGVyaW9kaWNpdHk7XG4gICAgICAgIHRoaXMuY2hhcnRTdG9yZS5ncmFudWxhcml0eSA9IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNhbGN1bGF0ZUdyYW51bGFyaXR5XCJdKShwZXJpb2QsIHRpbWVVbml0IHx8IGludGVydmFsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhcnRFcG9jaCB8fCB0aGlzLmVuZEVwb2NoKSB7XG4gICAgICAgIC8vIGFscmVhZHkgc2V0IGluIGNoYXJ0IHBhcmFtc1xuICAgICAgICBkZWxldGUgbGF5b3V0RGF0YS5zcGFuO1xuICAgICAgICBkZWxldGUgbGF5b3V0RGF0YS5yYW5nZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2hhcnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGF5b3V0RGF0YS5jaGFydFR5cGUgPSB0aGlzLmNoYXJ0VHlwZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdHh4LmltcG9ydExheW91dChsYXlvdXREYXRhLCB7XG4gICAgICAgIG1hbmFnZVBlcmlvZGljaXR5OiB0cnVlLFxuICAgICAgICBjYjogZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgICAgaWYgKGxheW91dERhdGEudGVuc2lvbikge1xuICAgICAgICAgICAgX3RoaXMyLnN0eHguY2hhcnQudGVuc2lvbiA9IGxheW91dERhdGEudGVuc2lvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIucmVzdG9yZURyYXdpbmdzKF90aGlzMi5zdHh4LCBfdGhpczIuc3R4eC5jaGFydC5zeW1ib2wpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMi5jaGFydFN0b3JlLmxvYWRlcikge1xuICAgICAgICAgICAgX3RoaXMyLmNoYXJ0U3RvcmUubG9hZGVyLmhpZGUoKTtcblxuICAgICAgICAgICAgX3RoaXMyLnNldENoYXJ0SXNSZWFkeSh0cnVlKTtcblxuICAgICAgICAgICAgX3RoaXMyLnN0eHguaG9tZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMi5jaGFydFN0b3JlLnNldE1haW5TZXJpZXNEaXNwbGF5KF90aGlzMi5zdHh4LmNoYXJ0LnN5bWJvbE9iamVjdC5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNoYXJ0U3RvcmUudXBkYXRlQ3VycmVudEFjdGl2ZVN5bWJvbCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNhdmVEcmF3aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRHJhd2luZ3MoKSB7XG4gICAgICBpZiAoIXRoaXMuY2hhcnRJZCkgcmV0dXJuO1xuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R4eC5leHBvcnREcmF3aW5ncygpO1xuICAgICAgdmFyIHN5bWJvbCA9IHRoaXMuc3R4eC5jaGFydC5zeW1ib2w7XG5cbiAgICAgIGlmIChvYmoubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIENJUS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlwiLmNvbmNhdChzeW1ib2wsIFwiLVwiKS5jb25jYXQodGhpcy5jaGFydElkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBDSVEubG9jYWxTdG9yYWdlU2V0SXRlbShcIlwiLmNvbmNhdChzeW1ib2wsIFwiLVwiKS5jb25jYXQodGhpcy5jaGFydElkKSwgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc3RvcmVEcmF3aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0b3JlRHJhd2luZ3MoKSB7XG4gICAgICB2YXIgZHJhd2luZ3MgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKShcIlwiLmNvbmNhdCh0aGlzLnN0eHguY2hhcnQuc3ltYm9sLCBcIi1cIikuY29uY2F0KHRoaXMuY2hhcnRJZCkpO1xuXG4gICAgICBpZiAoZHJhd2luZ3MpIHtcbiAgICAgICAgdGhpcy5zdHh4LmltcG9ydERyYXdpbmdzKGRyYXdpbmdzKTtcbiAgICAgICAgdGhpcy5zdHh4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW5DaGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbkNoYXJ0KCkge1xuICAgICAgaWYgKCF0aGlzLmNsZWFyQ2hhcnQpIHJldHVybjsgLy8gUmVtb3ZlIGNvbXBhcnNpb25zXG5cbiAgICAgIGZvciAodmFyIGZpZWxkIGluIHRoaXMuc3R4eC5jaGFydC5zZXJpZXMpIHtcbiAgICAgICAgdGhpcy5zdHh4LnJlbW92ZVNlcmllcyhmaWVsZCk7XG4gICAgICB9IC8vIFJlbW92ZSBpbmRpYWN0b3JzXG5cblxuICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5zdHh4LmxheW91dC5zdHVkaWVzKSB7XG4gICAgICAgIHZhciBzZCA9IHRoaXMuc3R4eC5sYXlvdXQuc3R1ZGllc1tpZF07XG4gICAgICAgIENJUS5TdHVkaWVzLnJlbW92ZVN0dWR5KHRoaXMuc3R4eCwgc2QpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0eHguY2xlYXJEcmF3aW5ncygpOyAvLyBUT0RPOiB1c2UgY29uc3RhbnRcblxuICAgICAgdGhpcy5tYWluU3RvcmUuY3Jvc3NoYWlyLnNldENyb3NzaGFpclN0YXRlKDIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbXBvcnRMYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW1wb3J0TGF5b3V0KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5zdHh4IHx8ICF0aGlzLmltcG9ydGVkTGF5b3V0IHx8ICFPYmplY3Qua2V5cyh0aGlzLmltcG9ydGVkTGF5b3V0KS5sZW5ndGgpIHJldHVybjtcbiAgICAgIHRoaXMubG9hZGVyLnNob3coKTtcbiAgICAgIHRoaXMubG9hZGVyLnNldFN0YXRlKCdjaGFydC1kYXRhJyk7XG4gICAgICAvKiBDbGVhciBjdXJyZW50IGNoYXJ0IGludGVydmFsIHRvIG1ha2Ugc3VyZSBpbXBvcnRlZGxheW91dCB3b3JrcyBhcyBleHBlY3RlZFxuICAgICAgaWYgaXQgaGFzIHNhbWUgaW50ZXJ2YWwgd2l0aCBwcmV2aW91cyBzdGF0ZSBvZiBjaGFydCBidXQgdGhlcmUgaXMgbm8gc3RyZWFtIGZvciBpdCAqL1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5fYWN0aXZlU3RyZWFtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc3R4eC5sYXlvdXQuaW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgICB9IC8vIENsZWFyIHN0YXJ0IGFuZCBlbmQgZXBvY2ggYmVmb3JlIGltcG9ydGluZyB0aGF0IGxheW91dFxuXG5cbiAgICAgIHRoaXMuc3RhcnRFcG9jaCA9IHRoaXMuZW5kRXBvY2ggPSBudWxsO1xuICAgICAgdGhpcy5zdHh4LmltcG9ydExheW91dCh0aGlzLmltcG9ydGVkTGF5b3V0LCB7XG4gICAgICAgIG1hbmFnZVBlcmlvZGljaXR5OiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZVRpY2tzQW5kQ2FuZGxlV2lkdGg6IHRydWUsXG4gICAgICAgIGNiOiBmdW5jdGlvbiBjYigpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLmltcG9ydGVkTGF5b3V0ICYmIF90aGlzMy5pbXBvcnRlZExheW91dC5zZXJpZXMpIHtcbiAgICAgICAgICAgIF90aGlzMy5pbXBvcnRlZExheW91dC5zZXJpZXMuZm9yRWFjaChmdW5jdGlvbiAoc3ltYm9sKSB7XG4gICAgICAgICAgICAgIHZhciBzeW1ib2xPYmplY3QgPSBfdGhpczMuY2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaihzeW1ib2wpO1xuXG4gICAgICAgICAgICAgIF90aGlzMy5tYWluU3RvcmUuY29tcGFyaXNvbi5vblNlbGVjdEl0ZW0oc3ltYm9sT2JqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfdGhpczMkaW1wb3J0ZWRMYXlvdXQgPSBfdGhpczMuaW1wb3J0ZWRMYXlvdXQsXG4gICAgICAgICAgICAgIHRpbWVVbml0ID0gX3RoaXMzJGltcG9ydGVkTGF5b3V0LnRpbWVVbml0LFxuICAgICAgICAgICAgICBpbnRlcnZhbCA9IF90aGlzMyRpbXBvcnRlZExheW91dC5pbnRlcnZhbCxcbiAgICAgICAgICAgICAgcGVyaW9kaWNpdHkgPSBfdGhpczMkaW1wb3J0ZWRMYXlvdXQucGVyaW9kaWNpdHk7XG4gICAgICAgICAgdmFyIHBlcmlvZCA9IHRpbWVVbml0ID8gaW50ZXJ2YWwgOiBwZXJpb2RpY2l0eTtcbiAgICAgICAgICB2YXIgZ3JhbnVsYXJpdHkgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjYWxjdWxhdGVHcmFudWxhcml0eVwiXSkocGVyaW9kLCB0aW1lVW5pdCB8fCBpbnRlcnZhbCk7XG4gICAgICAgICAgX3RoaXMzLmNoYXJ0U3RvcmUuZ3JhbnVsYXJpdHkgPSBncmFudWxhcml0eTtcblxuICAgICAgICAgIGlmIChfdGhpczMudGltZXBlcmlvZFN0b3JlLm9uR3JhbnVsYXJpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgIF90aGlzMy50aW1lcGVyaW9kU3RvcmUub25HcmFudWxhcml0eUNoYW5nZShncmFudWxhcml0eSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzMy5jaGFydFR5cGVTdG9yZS5vbkNoYXJ0VHlwZUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHZhciBjaGFydFR5cGUgPSBfdGhpczMuY2hhcnRUeXBlU3RvcmUuZ2V0Q2hhcnRUeXBlRnJvbUxheW91dChfdGhpczMuaW1wb3J0ZWRMYXlvdXQpO1xuXG4gICAgICAgICAgICBfdGhpczMuY2hhcnRUeXBlU3RvcmUuc2V0Q2hhcnRUeXBlRnJvbUxheW91dChfdGhpczMuaW1wb3J0ZWRMYXlvdXQpO1xuXG4gICAgICAgICAgICBfdGhpczMuY2hhcnRUeXBlU3RvcmUub25DaGFydFR5cGVDaGFuZ2VkKGNoYXJ0VHlwZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMzLnN0eHguY2hhbmdlT2NjdXJyZWQoJ2xheW91dCcpO1xuXG4gICAgICAgICAgX3RoaXMzLm1haW5TdG9yZS5zdHVkaWVzLnVwZGF0ZUFjdGl2ZVN0dWRpZXMoKTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzMy5pbXBvcnRlZExheW91dCAmJiBfdGhpczMuaW1wb3J0ZWRMYXlvdXQuZHJhd2luZ3MpIHtcbiAgICAgICAgICAgICAgX3RoaXMzLnN0eHguaW1wb3J0RHJhd2luZ3MoX3RoaXMzLmltcG9ydGVkTGF5b3V0LmRyYXdpbmdzKTtcblxuICAgICAgICAgICAgICBfdGhpczMuc3R4eC5kcmF3KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpczMuaW1wb3J0ZWRMYXlvdXQgJiYgX3RoaXMzLmltcG9ydGVkTGF5b3V0LmlzRG9uZSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMzLmltcG9ydGVkTGF5b3V0LnByZXZpb3VzTWF4VGlja3MpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuc3R4eC5zZXRNYXhUaWNrcyhfdGhpczMuaW1wb3J0ZWRMYXlvdXQucHJldmlvdXNNYXhUaWNrcyk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczMuc3R4eC5ob21lKCk7XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMzLmltcG9ydExheW91dC5wcmV2aW91c01heFRpY2tzO1xuICAgICAgICAgICAgICB9IC8vIFJ1biB0aGUgY2FsbGJhY2sgd2hlbiBsYXlvdXQgaW1wb3J0IGlzIGRvbmVcblxuXG4gICAgICAgICAgICAgIF90aGlzMy5pbXBvcnRlZExheW91dC5pc0RvbmUoKTtcblxuICAgICAgICAgICAgICBfdGhpczMubG9hZGVyLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpblN0b3JlLmNyb3NzaGFpci5zZXRDcm9zc2hhaXJTdGF0ZSh0aGlzLmltcG9ydGVkTGF5b3V0LmNyb3NzaGFpcik7XG4gICAgICB0aGlzLnN0eHguY2hhcnQubG9ja0F1dG9TY3JvbGwgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3R4eC5jaGFydC5lbnRyeVRpY2sgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN0eHgubWF4TWFzdGVyRGF0YVNpemUgPSA1MDAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRMYXlvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwb3J0TGF5b3V0KCkge1xuICAgICAgaWYgKCF0aGlzLm9uRXhwb3J0TGF5b3V0IHx8ICF0aGlzLnN0eHgpIHJldHVybjtcbiAgICAgIHZhciBjdXJyZW50TGF5b3V0ID0gdGhpcy5zdHh4LmV4cG9ydExheW91dCgpO1xuICAgICAgY3VycmVudExheW91dC5kcmF3aW5ncyA9IHRoaXMuc3R4eC5leHBvcnREcmF3aW5ncygpO1xuICAgICAgY3VycmVudExheW91dC5zZXJpZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5zdHh4LmNoYXJ0LnNlcmllcykge1xuICAgICAgICBjdXJyZW50TGF5b3V0LnNlcmllcy5wdXNoKGZpZWxkKTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudExheW91dC5wcmV2aW91c01heFRpY2tzID0gdGhpcy5zdHh4LmNoYXJ0Lm1heFRpY2tzO1xuICAgICAgdGhpcy5vbkV4cG9ydExheW91dChjdXJyZW50TGF5b3V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2Nyb2xsTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsTGlzdGVuZXIoX3JlZjIpIHtcbiAgICAgIHZhciBncmFiID0gX3JlZjIuZ3JhYjtcblxuICAgICAgaWYgKGdyYWIgJiYgdGhpcy5zdHh4LmNoYXJ0LmxvY2tBdXRvU2Nyb2xsKSB7XG4gICAgICAgIHRoaXMuc3R4eC5jaGFydC5sb2NrQXV0b1Njcm9sbCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdHh4ICYmIHRoaXMuc3R4eC5jaGFydCkge1xuICAgICAgICB2YXIgZGF0YVNlZ21lbnQgPSB0aGlzLnN0eHguY2hhcnQuZGF0YVNlZ21lbnQ7XG4gICAgICAgIHZhciB3aGl0ZVNwYWNlID0gdGhpcy5jaGFydFN0b3JlLmlzTW9iaWxlID8gNTAgOiAxNTA7XG5cbiAgICAgICAgaWYgKHRoaXMuc3R4eC5tYXN0ZXJEYXRhLmxlbmd0aCA8IHRoaXMuc3R4eC5jaGFydC5tYXhUaWNrcyAtIHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICB0aGlzLnN0eHgubWluaW11bUxlZnRCYXJzID0gdGhpcy5zdHh4LmNoYXJ0Lm1heFRpY2tzIC0gd2hpdGVTcGFjZTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhU2VnbWVudCkge1xuICAgICAgICAgIHZhciBoYXNSZWFjaGVkUmlnaHQgPSB0aGlzLnN0eHguY2hhcnQuc2Nyb2xsIDw9IHRoaXMuc3R4eC5jaGFydC5tYXhUaWNrcyAtIDE7XG4gICAgICAgICAgdmFyIG5vTW9yZVNjcm9sbCA9IHRoaXMuaGFzUmVhY2hlZEVuZE9mRGF0YSB8fCB0aGlzLnN0eHgubWFzdGVyRGF0YS5sZW5ndGggPT09IHRoaXMuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZTtcbiAgICAgICAgICB0aGlzLnN0eHgubWluaW11bUxlZnRCYXJzID0gbm9Nb3JlU2Nyb2xsICYmICFoYXNSZWFjaGVkUmlnaHQgPyB0aGlzLnN0eHguY2hhcnQubWF4VGlja3MgOiAyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0U3RhdGU7XG59KCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJncmFudWxhcml0eVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2hhcnRUeXBlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzdGFydEVwb2NoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzdGFydEVwb2NoTWFyZ2luXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJlbmRFcG9jaFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZW5kRXBvY2hNYXJnaW5cIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN5bWJvbFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjggPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNDb25uZWN0aW9uT3BlbmVkXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yOSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0NoYXJ0UmVhZHlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjEwID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNoYXJ0U3RhdHVzTGlzdGVuZXJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxMSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXR0aW5nc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjEyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dMYXN0RGlnaXRTdGF0c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjEzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNjcm9sbFRvRXBvY2hcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkV4cG9ydExheW91dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjE1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyQ2hhcnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IxNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpbXBvcnRlZExheW91dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjE3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQ2hhcnRDbG9zZWRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjE4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNTdGF0aWNDaGFydFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMjAgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvdWxkRmV0Y2hUcmFkaW5nVGltZXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMjEgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVmcmVzaEFjdGl2ZVN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IyMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYXNSZWFjaGVkRW5kT2ZEYXRhXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNvbnRleHRSZWFkeVwiLCBbX2RlY10sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ2xheW91dCcsIF90aGlzNC5zYXZlTGF5b3V0LmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ3N5bWJvbENoYW5nZScsIF90aGlzNC5zYXZlTGF5b3V0LmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYXdpbmcnLCBfdGhpczQuc2F2ZURyYXdpbmdzLmJpbmQoX3RoaXM0KSk7XG5cbiAgICAgIF90aGlzNC5zdHh4LmFkZEV2ZW50TGlzdGVuZXIoJ21vdmUnLCBfdGhpczQuc2Nyb2xsTGlzdGVuZXIuYmluZChfdGhpczQpKTtcblxuICAgICAgX3RoaXM0LnJvb3ROb2RlID0gX3RoaXM0Lm1haW5TdG9yZS5jaGFydC5yb290Tm9kZTtcbiAgICAgIF90aGlzNC5ncmFudWxhcml0eSA9IF90aGlzNC5jaGFydFN0b3JlLmdyYW51bGFyaXR5O1xuICAgICAgX3RoaXM0LnN0eHgubWF4TWFzdGVyRGF0YVNpemUgPSBfdGhpczQuY2hhcnRTdG9yZS5nZXRNYXhNYXN0ZXJEYXRhU2l6ZShfdGhpczQuZ3JhbnVsYXJpdHkpO1xuICAgIH07XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhc1JlYWNoZWRFbmRPZkRhdGFcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImhhc1JlYWNoZWRFbmRPZkRhdGFcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRDbG9zZWRcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0Q2xvc2VkXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0VGhlbWVcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0VGhlbWVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRJc1JlYWR5XCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydElzUmVhZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRHcmFudWxhcml0eVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0Q2hhcnRHcmFudWxhcml0eVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydFR5cGVcIiwgW19kZWM4XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0VHlwZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTaG91bGRNaW5pbWlzZUxhc3REaWdpdFwiLCBbX2RlYzldLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXRcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKENoYXJ0U3RhdGUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9DaGFydFN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ2hhcnRTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfYmluYXJ5YXBpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9iaW5hcnlhcGkgKi8gXCIuL3NyYy9iaW5hcnlhcGkvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NoYXJ0aXFfaW5qZWN0aW9uc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY2hhcnRpcV9pbmplY3Rpb25zICovIFwiLi9zcmMvY2hhcnRpcV9pbmplY3Rpb25zL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX3VpX0NvbnRleHRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvdWkvQ29udGV4dCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvQ29udGV4dC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c191aV9LZXlzdHJva2VIdWJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvdWkvS2V5c3Ryb2tlSHViICovIFwiLi9zcmMvY29tcG9uZW50cy91aS9LZXlzdHJva2VIdWIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfdWlfQW5pbWF0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL3VpL0FuaW1hdGlvbiAqLyBcIi4vc3JjL2NvbXBvbmVudHMvdWkvQW5pbWF0aW9uLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9mZWVkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9mZWVkICovIFwiLi9zcmMvZmVlZC9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU3BsaW5lUGxvdHRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vU3BsaW5lUGxvdHRlciAqLyBcIi4vc3JjL1NwbGluZVBsb3R0ZXIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvUGVuZGluZ1Byb21pc2UgKi8gXCIuL3NyYy91dGlscy9QZW5kaW5nUHJvbWlzZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9yZXNpemVfaWNvbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0L3Jlc2l6ZS1pY29uLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9jaGFydC9yZXNpemUtaWNvbi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfZWRpdF9pY19lZGl0X3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvZWRpdC9pYy1lZGl0LnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9lZGl0L2ljLWVkaXQuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9pY29ucy9kZWxldGUvaWMtZGVsZXRlLnN2ZyAqLyBcIi4vc2Fzcy9pY29ucy9kZWxldGUvaWMtZGVsZXRlLnN2Z1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc19pY29uc19jaGFydF9pY19kb3duX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQvaWMtZG93bi5zdmcgKi8gXCIuL3Nhc3MvaWNvbnMvY2hhcnQvaWMtZG93bi5zdmdcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3Nhc3NfaWNvbnNfY2hhcnRfanVtcF90b190b2RheV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zYXNzL2ljb25zL2NoYXJ0L2p1bXAtdG8tdG9kYXkuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L2p1bXAtdG8tdG9kYXkuc3ZnXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX2ljb25zX2NoYXJ0X2ljX21heGltaXplX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3Nhc3MvaWNvbnMvY2hhcnQvaWMtbWF4aW1pemUuc3ZnICovIFwiLi9zYXNzL2ljb25zL2NoYXJ0L2ljLW1heGltaXplLnN2Z1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9kZWM3LCBfZGVjOCwgX2RlYzksIF9kZWMxMCwgX2RlYzExLCBfZGVjMTIsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX2Rlc2NyaXB0b3I5LCBfZGVzY3JpcHRvcjEwLCBfZGVzY3JpcHRvcjExLCBfZGVzY3JpcHRvcjEyLCBfY2xhc3MyLCBfdGVtcDtcblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAvLyBpbXBvcnQgJy4uL3V0aWxzL3JhZic7XG5cbmZ1bmN0aW9uIHJlbmRlclNWR1N0cmluZyhpY29uKSB7XG4gIHZhciB2YiA9IGljb24udmlld0JveC5zcGxpdCgnICcpLnNsaWNlKDIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblxuICByZXR1cm4gXCI8c3ZnIHdpZHRoPVxcXCJcIi5jb25jYXQodmJbMF0sIFwiXFxcIiBoZWlnaHQ9XFxcIlwiKS5jb25jYXQodmJbMV0sIFwiXFxcIj48dXNlIHhsaW5rOmhyZWY9XFxcIlwiKS5jb25jYXQoX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgaWNvbi51cmwsIFwiXFxcIiAvPjwvc3ZnPlwiKTtcbn1cblxudmFyIENoYXJ0U3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM2ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzggPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM5ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMTAgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzEyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gX2NsYXNzMiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0U3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydFN0b3JlKTtcblxuICAgIHRoaXMuUkFOR0VfUEFERElOR19QWCA9IDEyNTtcbiAgICB0aGlzLmNvbnRleHRQcm9taXNlID0gbmV3IF91dGlsc19QZW5kaW5nUHJvbWlzZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSgpO1xuICAgIHRoaXMucm9vdE5vZGUgPSBudWxsO1xuICAgIHRoaXMuc3R4eCA9IG51bGw7XG4gICAgdGhpcy5hcGkgPSBudWxsO1xuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBncmFudWxhcml0eTogMCxcbiAgICAgIGNoYXJ0VHlwZTogJ21vdW50YWluJ1xuICAgIH07XG4gICAgdGhpcy5ncmFudWxhcml0eSA9IHZvaWQgMDtcbiAgICB0aGlzLmVuYWJsZVJvdXRpbmcgPSBudWxsO1xuICAgIHRoaXMuY2hhcnROb2RlID0gbnVsbDtcbiAgICB0aGlzLmNoYXJ0Q29udHJvbHNOb2RlID0gbnVsbDtcbiAgICB0aGlzLmhvbGRlclN0eWxlID0gdm9pZCAwO1xuICAgIHRoaXMuc3RhdGUgPSB2b2lkIDA7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBudWxsO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjb250YWluZXJXaWR0aFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRleHRcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3VycmVudEFjdGl2ZVN5bWJvbFwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0NoYXJ0QXZhaWxhYmxlXCIsIF9kZXNjcmlwdG9yNCwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0SGVpZ2h0XCIsIF9kZXNjcmlwdG9yNSwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXJ0Q29udGFpbmVySGVpZ2h0XCIsIF9kZXNjcmlwdG9yNiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzTW9iaWxlXCIsIF9kZXNjcmlwdG9yNywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnNvckluQ2hhcnRcIiwgX2Rlc2NyaXB0b3I4LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvdWxkUmVuZGVyRGlhbG9nc1wiLCBfZGVzY3JpcHRvcjksIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ5QXhpc3dpZHRoXCIsIF9kZXNjcmlwdG9yMTAsIHRoaXMpO1xuXG4gICAgdGhpcy51cGRhdGVDYW52YXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnN0eHgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuc3R4eC5zbGlkZXIpIHtcbiAgICAgICAgX3RoaXMuc3R4eC5zbGlkZXIuZGlzcGxheShfdGhpcy5zdHh4LmxheW91dC5yYW5nZVNsaWRlcik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnN0eHgucmVzaXplQ2hhcnQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKHJvb3ROb2RlLCBtb2RhbE5vZGUsIHByb3BzKSB7XG4gICAgICBfdGhpcy5sb2FkZXIuc2hvdygpO1xuXG4gICAgICBfdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KGZhbHNlKTtcblxuICAgICAgX3RoaXMubG9hZGVyLnNldFN0YXRlKCdjaGFydC1lbmdpbmUnKTtcblxuICAgICAgaWYgKHdpbmRvdy5DSVEpIHtcbiAgICAgICAgX3RoaXMuX2luaXRDaGFydChyb290Tm9kZSwgbW9kYWxOb2RlLCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoLyohIGltcG9ydCgpIHwgY2hhcnRpcSAqLyBcImNoYXJ0aXFcIikudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fLnQuYmluZChudWxsLCAvKiEgY2hhcnRpcSAqLyBcIi4vY2hhcnRpcS9jaGFydGlxLmpzXCIsIDcpKS50aGVuKE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0pKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIENJUSA9IF9yZWYuQ0lRLFxuICAgICAgICAgICAgICBTcGxpbmVQbG90dGVyID0gX3JlZi5TcGxpbmVQbG90dGVyO1xuICAgICAgICAgIENJUS5DaGFydEVuZ2luZS5odG1sQ29udHJvbHMuYmFzZWxpbmVIYW5kbGUgPSBcIjxkaXYgY2xhc3M9XFxcInN0eC1iYXNlbGluZS1oYW5kbGVcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XCIuY29uY2F0KHJlbmRlclNWR1N0cmluZyhfc2Fzc19pY29uc19jaGFydF9yZXNpemVfaWNvbl9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJkZWZhdWx0XCJdKSwgXCI8L2Rpdj5cIik7XG4gICAgICAgICAgQ0lRLkNoYXJ0RW5naW5lLmh0bWxDb250cm9scy5pY29uc1RlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPVxcXCJzdHgtcGFuZWwtY29udHJvbFxcXCI+PGRpdiBjbGFzcz1cXFwic3R4LXBhbmVsLXRpdGxlXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJzdHgtYnRuLXBhbmVsXFxcIj48c3BhbiBjbGFzcz1cXFwic3R4LWljby11cFxcXCI+XCIuY29uY2F0KHJlbmRlclNWR1N0cmluZyhfc2Fzc19pY29uc19jaGFydF9pY19kb3duX3N2Z19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRcIl0pLCBcIjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJzdHgtYnRuLXBhbmVsXFxcIj48c3BhbiBjbGFzcz1cXFwic3R4LWljby1mb2N1c1xcXCI+XCIpLmNvbmNhdChyZW5kZXJTVkdTdHJpbmcoX3Nhc3NfaWNvbnNfY2hhcnRfaWNfbWF4aW1pemVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fW1wiZGVmYXVsdFwiXSksIFwiPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0eC1idG4tcGFuZWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdHgtaWNvLWRvd25cXFwiPlwiKS5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2NoYXJ0X2ljX2Rvd25fc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fW1wiZGVmYXVsdFwiXSksIFwiPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcInN0eC1idG4tcGFuZWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdHgtaWNvLWVkaXRcXFwiPlwiKS5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJkZWZhdWx0XCJdKSwgXCI8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwic3R4LWJ0bi1wYW5lbFxcXCI+PHNwYW4gY2xhc3M9XFxcInN0eC1pY28tY2xvc2VcXFwiPlwiKS5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiZGVmYXVsdFwiXSksIFwiPC9zcGFuPjwvZGl2PjwvZGl2PlwiKTtcbiAgICAgICAgICBDSVEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzLm1TdGlja3kgPSBcIjxkaXYgY2xhc3M9XFxcInN0eF9zdGlja3lcXFwiPiA8c3BhbiBjbGFzcz1cXFwibVN0aWNreUludGVyaW9yXFxcIj48L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJtU3RpY2t5UmlnaHRDbGlja1xcXCI+PHNwYW4gY2xhc3M9XFxcIm92ZXJsYXlFZGl0IHN0eC1idG5cXFwiIHN0eWxlPVxcXCJkaXNwbGF5Om5vbmVcXFwiPjxzcGFuIGNsYXNzPVxcXCJpYy1lZGl0XFxcIj5cIi5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2VkaXRfaWNfZWRpdF9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX19bXCJkZWZhdWx0XCJdKSwgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImljLWRlbGV0ZVxcXCI+XCIpLmNvbmNhdChyZW5kZXJTVkdTdHJpbmcoX3Nhc3NfaWNvbnNfZGVsZXRlX2ljX2RlbGV0ZV9zdmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJkZWZhdWx0XCJdKSwgXCI8L3NwYW4+PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwib3ZlcmxheVRyYXNoQ2FuIHN0eC1idG5cXFwiIHN0eWxlPVxcXCJkaXNwbGF5Om5vbmVcXFwiPjxzcGFuIGNsYXNzPVxcXCJpYy1lZGl0XFxcIj5cIikuY29uY2F0KHJlbmRlclNWR1N0cmluZyhfc2Fzc19pY29uc19lZGl0X2ljX2VkaXRfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiZGVmYXVsdFwiXSksIFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJpYy1kZWxldGVcXFwiPlwiKS5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2RlbGV0ZV9pY19kZWxldGVfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMl9fW1wiZGVmYXVsdFwiXSksIFwiPC9zcGFuPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm1vdXNlRGVsZXRlSW5zdHJ1Y3Rpb25zXFxcIj48c3Bhbj4oPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJtb3VzZURlbGV0ZVRleHRcXFwiPnJpZ2h0LWNsaWNrIHRvIGRlbGV0ZTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibW91c2VNYW5hZ2VUZXh0XFxcIj5yaWdodC1jbGljayB0byBtYW5hZ2U8L3NwYW4+PHNwYW4+KTwvc3Bhbj48L3NwYW4+PC9zcGFuPjwvZGl2PlwiKTtcbiAgICAgICAgICBDSVEuQ2hhcnRFbmdpbmUuaHRtbENvbnRyb2xzLmhvbWUgPSBcIjxkaXYgY2xhc3M9XFxcInN0eF9qdW1wX3RvZGF5XFxcIiBzdHlsZT1cXFwiZGlzcGxheTpub25lXFxcIj5cIi5jb25jYXQocmVuZGVyU1ZHU3RyaW5nKF9zYXNzX2ljb25zX2NoYXJ0X2p1bXBfdG9fdG9kYXlfc3ZnX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiZGVmYXVsdFwiXSksIFwiPC9kaXY+XCIpO1xuICAgICAgICAgIHdpbmRvdy5DSVEgPSBDSVE7XG4gICAgICAgICAgU3BsaW5lUGxvdHRlci5wbG90U3BsaW5lID0gX1NwbGluZVBsb3R0ZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl07XG5cbiAgICAgICAgICBfdGhpcy5faW5pdENoYXJ0KHJvb3ROb2RlLCBtb2RhbE5vZGUsIHByb3BzKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uTWFya2V0T3BlbkNsb3NlZENoYW5nZSA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICB2YXIgc3ltYm9sT2JqZWN0cyA9IF90aGlzLnN0eHguZ2V0U3ltYm9scygpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5zeW1ib2xPYmplY3Q7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNob3VsZFJlZnJlc2hDaGFydCA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHN5bWJvbE9iamVjdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWUsXG4gICAgICAgICAgICAgIHN5bWJvbCA9IF9zdGVwJHZhbHVlLnN5bWJvbCxcbiAgICAgICAgICAgICAgbmFtZSA9IF9zdGVwJHZhbHVlLm5hbWU7XG5cbiAgICAgICAgICBpZiAoc3ltYm9sIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzW3N5bWJvbF0pIHtcbiAgICAgICAgICAgICAgc2hvdWxkUmVmcmVzaENoYXJ0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBfdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRUaGVtZShfdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnRoZW1lLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0Q2xvc2VkKGZhbHNlKTtcblxuICAgICAgICAgICAgICBfdGhpcy5tYWluU3RvcmUubm90aWZpZXIubm90aWZ5TWFya2V0T3BlbihuYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydFRoZW1lKF90aGlzLm1haW5TdG9yZS5jaGFydFNldHRpbmcudGhlbWUsIHRydWUpO1xuXG4gICAgICAgICAgICAgIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydENsb3NlZCh0cnVlKTtcblxuICAgICAgICAgICAgICBfdGhpcy5tYWluU3RvcmUubm90aWZpZXIubm90aWZ5TWFya2V0Q2xvc2UobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkUmVmcmVzaENoYXJ0KSB7XG4gICAgICAgIC8vIHJlZnJlc2ggdG8gc3RyZWFtIG9wZW5lZCBtYXJrZXRcbiAgICAgICAgX3RoaXMucmVmcmVzaENoYXJ0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsY3VsYXRlWWF4aXNXaWR0aFwiLCBfZGVzY3JpcHRvcjExLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidXBkYXRlWWF4aXNXaWR0aFwiLCBfZGVzY3JpcHRvcjEyLCB0aGlzKTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0U3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZUhlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVIZWlnaHQocG9zaXRpb24pIHtcbiAgICAgIHZhciBoaXN0b3JpY2FsTW9iaWxlID0gdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLmhpc3RvcmljYWwgJiYgdGhpcy5pc01vYmlsZTtcbiAgICAgIHZhciBwYW5lbFBvc2l0aW9uID0gcG9zaXRpb24gfHwgdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnBvc2l0aW9uOyAvLyBUT0RPIHVzZSBjb25zdGFudCBoZXJlIGZvciBjaGFydGNvbnRyb2wgaGVpZ2h0XG5cbiAgICAgIHZhciBvZmZzZXRIZWlnaHQgPSBwYW5lbFBvc2l0aW9uID09PSAnYm90dG9tJyAmJiB0aGlzLnN0YXRlU3RvcmUuY2hhcnRDb250cm9sc1dpZGdldHMgPyA0MCA6IDA7XG4gICAgICB0aGlzLmNoYXJ0SGVpZ2h0ID0gdGhpcy5jaGFydE5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgdGhpcy5jaGFydENvbnRhaW5lckhlaWdodCA9IHRoaXMuY2hhcnRIZWlnaHQgLSBvZmZzZXRIZWlnaHQgLSAoaGlzdG9yaWNhbE1vYmlsZSA/IDQ1IDogMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2l6ZVNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemVTY3JlZW4oKSB7XG4gICAgICBpZiAoIXRoaXMuY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm1vZGFsTm9kZS5jbGllbnRXaWR0aCA+PSAxMjgwKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGggPSAxMjgwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGFsTm9kZS5jbGllbnRXaWR0aCA+PSA5MDApIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aCA9IDkwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGggPSA0ODA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XG4gICAgICB0aGlzLnVwZGF0ZUNhbnZhcygpOyAvLyBIZWlnaHQgdXBkYXRlcyBhcmUgbm90IGltbWVkaWF0ZSwgc28gd2UgbXVzdCByZXNpemUgdGhlIGNhbnZhcyB3aXRoXG4gICAgICAvLyBhIHNsaWdodCBkZWxheSBmb3IgaXQgdG8gcGljayB1cCB0aGUgY29ycmVjdCBjaGFydENvbnRhaW5lciBoZWlnaHQuXG4gICAgICAvLyBJbiBtb2JpbGUgZGV2aWNlcywgYSBsb25nZXIgZGVsYXkgaXMgZ2l2ZW4gYXMgRE9NIHVwZGF0ZXMgYXJlIHNsb3dlci5cblxuICAgICAgc2V0VGltZW91dCh0aGlzLnVwZGF0ZUNhbnZhcywgdGhpcy5pc01vYmlsZSA/IDUwMCA6IDEwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9pbml0Q2hhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRDaGFydChyb290Tm9kZSwgbW9kYWxOb2RlLCBwcm9wcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfc2VsZiA9IHRoaXM7IC8vIEFkZCBjdXN0b20gaW5qZWN0aW9ucyB0byB0aGUgQ0lRXG5cblxuICAgICAgT2JqZWN0KF9jaGFydGlxX2luamVjdGlvbnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKCk7XG4gICAgICAvKipcbiAgICAgICAqIG9ubHkgaG9tZSBidXR0b24gY2xpY2sgcGFydCBtb2RpZmllZCB0byBhdm9pZCBjYWxsaW5nXG4gICAgICAgKiBuZXdDaGFydCgpIG9uIGhvbWUgZnVuY3Rpb24gd2hpbGUgaGlzdG9yaWNhbCBlbmFibGVcbiAgICAgICAqL1xuXG4gICAgICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLnJlZ2lzdGVySFRNTEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYyA9IHRoaXMuY2hhcnQuY29udGFpbmVyO1xuXG4gICAgICAgIGZvciAodmFyIGNvbnRyb2wgaW4gQ0lRLkNoYXJ0RW5naW5lLmh0bWxDb250cm9scykge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jaGFydFtjb250cm9sXSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMuY29udHJvbHNbY29udHJvbF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dab29tICYmIGNvbnRyb2wgPT09ICdjaGFydENvbnRyb2xzJykgY29udGludWU7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChjb250cm9sKSwgYyk7XG5cbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICB0aGlzLmNoYXJ0W2NvbnRyb2xdID0gZWw7XG4gICAgICAgICAgICAgIHRoaXMuY29udHJvbHNbY29udHJvbF0gPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciByYXdIVE1MID0gQ0lRLkNoYXJ0RW5naW5lLmh0bWxDb250cm9sc1tjb250cm9sXTtcbiAgICAgICAgICAgICAgaWYgKCFyYXdIVE1MKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gcmF3SFRNTDtcbiAgICAgICAgICAgICAgZWwgPSBkaXYuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgYy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgICAgICAgIHRoaXMuY2hhcnRbY29udHJvbF0gPSBlbDtcbiAgICAgICAgICAgICAgdGhpcy5jb250cm9sc1tjb250cm9sXSA9IGVsO1xuICAgICAgICAgICAgICBDSVEuYXBwZW5kQ2xhc3NOYW1lKGVsLCBjb250cm9sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhcnRDb250cm9scyA9IHRoaXMuY29udHJvbHMuY2hhcnRDb250cm9scyxcbiAgICAgICAgICAgIGhvbWUgPSB0aGlzLmNvbnRyb2xzLmhvbWU7XG5cbiAgICAgICAgaWYgKGNoYXJ0Q29udHJvbHMpIHtcbiAgICAgICAgICB2YXIgem9vbUluID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnN0eC16b29tLWluJywgY2hhcnRDb250cm9scyk7XG4gICAgICAgICAgdmFyIHpvb21PdXQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc3R4LXpvb20tb3V0JywgY2hhcnRDb250cm9scyk7XG4gICAgICAgICAgQ0lRLnNhZmVDbGlja1RvdWNoKHpvb21JbiwgZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBzZWxmLnpvb21JbihlKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSh0aGlzKSk7XG4gICAgICAgICAgQ0lRLnNhZmVDbGlja1RvdWNoKHpvb21PdXQsIGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgc2VsZi56b29tT3V0KGUpO1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KHRoaXMpKTtcblxuICAgICAgICAgIGlmICghQ0lRLnRvdWNoRGV2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLm1ha2VNb2RhbCh6b29tSW4pO1xuICAgICAgICAgICAgdGhpcy5tYWtlTW9kYWwoem9vbU91dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhvbWUpIHtcbiAgICAgICAgICBDSVEuc2FmZUNsaWNrVG91Y2goaG9tZSwgZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBzZWxmLmhvbWUoe1xuICAgICAgICAgICAgICAgIGFuaW1hdGU6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0odGhpcykpO1xuXG4gICAgICAgICAgaWYgKCFDSVEudG91Y2hEZXZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMubWFrZU1vZGFsKGhvbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgQ0lRLkNoYXJ0RW5naW5lLnByb3RvdHlwZS5ob21lID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB0aGlzLnN3aXBlLmFtcGxpdHVkZSA9IDA7XG4gICAgICAgIHZhciBsYXlvdXQgPSB0aGlzLmxheW91dDtcblxuICAgICAgICBpZiAoX3R5cGVvZihwYXJhbXMpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgICBtYWludGFpbldoaXRlc3BhY2U6IHBhcmFtc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNldFBhbmVsWm9vbXMoc3R4KSB7XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzdHgucGFuZWxzKSB7XG4gICAgICAgICAgICB2YXIgeUF4ZXMgPSBzdHgucGFuZWxzW3BdLnlheGlzTEhTLmNvbmNhdChzdHgucGFuZWxzW3BdLnlheGlzUkhTKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB5QXhlcy5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgICBzdHguY2FsY3VsYXRlWUF4aXNNYXJnaW5zKHlBeGVzW2FdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxUb0NhbGxiYWNrKHNlbGYsIGNoYXJ0LCBleGFjdFNjcm9sbCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNldFBhbmVsWm9vbXMoc2VsZik7XG4gICAgICAgICAgICBjaGFydC5zY3JvbGwgPSBleGFjdFNjcm9sbDtcbiAgICAgICAgICAgIHNlbGYuZHJhdygpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcy5tYWludGFpbldoaXRlc3BhY2UgPT09ICd1bmRlZmluZWQnKSBwYXJhbXMubWFpbnRhaW5XaGl0ZXNwYWNlID0gdHJ1ZTsgLy8gbWFpbnRhaW4gdGhlIHdoaXRlc3BhY2UgdW5sZXNzIHNldCB0byBmYWxzZVxuXG4gICAgICAgIHRoaXMuY2FuY2VsVG91Y2hTaW5nbGVDbGljayA9IHRydWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNoYXJ0LmRhdGFTZXQgfHwgIXRoaXMuY2hhcnQuZGF0YVNldC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyB0byBjbGVhciBvdXQgYW55dGhpbmcgdGhhdCBtYXkgaGF2ZSBiZWVuIG9uIHRoZSBzY3JlZW4uIE90aGVyd2lzZSB3ZSBzdGlsbCBzaG93IHN0YWxlIGRhdGEuXG4gICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taWNyb3BpeGVscyA9IDA7XG4gICAgICAgIHZhciBiYXJzRGlzcGxheWVkT25TY3JlZW4gPSBNYXRoLmZsb29yKHRoaXMuY2hhcnQud2lkdGggLyBsYXlvdXQuY2FuZGxlV2lkdGgpO1xuXG4gICAgICAgIGZvciAodmFyIGNoYXJ0TmFtZSBpbiB0aGlzLmNoYXJ0cykge1xuICAgICAgICAgIHZhciBjaGFydCA9IHRoaXMuY2hhcnRzW2NoYXJ0TmFtZV07XG4gICAgICAgICAgaWYgKHBhcmFtcy5jaGFydCAmJiBwYXJhbXMuY2hhcnQgIT09IGNoYXJ0KSBjb250aW51ZTtcbiAgICAgICAgICB2YXIgd2hpdGVzcGFjZSA9IDA7XG4gICAgICAgICAgaWYgKHBhcmFtcy5tYWludGFpbldoaXRlc3BhY2UgJiYgdGhpcy5wcmVmZXJlbmNlcy53aGl0ZXNwYWNlID49IDApIHdoaXRlc3BhY2UgPSB0aGlzLnByZWZlcmVuY2VzLndoaXRlc3BhY2U7XG4gICAgICAgICAgaWYgKHBhcmFtcy53aGl0ZXNwYWNlIHx8IHBhcmFtcy53aGl0ZXNwYWNlID09PSAwKSB3aGl0ZXNwYWNlID0gcGFyYW1zLndoaXRlc3BhY2U7XG4gICAgICAgICAgdmFyIGxlZnRNYXJnaW4gPSB0aGlzLmdldExhYmVsT2Zmc2V0SW5QaXhlbHMoY2hhcnQsIGxheW91dC5jaGFydFR5cGUpO1xuICAgICAgICAgIGlmIChsZWZ0TWFyZ2luID4gd2hpdGVzcGFjZSkgd2hpdGVzcGFjZSA9IGxlZnRNYXJnaW47XG4gICAgICAgICAgdmFyIGV4YWN0U2Nyb2xsID0gTWF0aC5taW4oYmFyc0Rpc3BsYXllZE9uU2NyZWVuLCBjaGFydC5kYXRhU2V0Lmxlbmd0aCk7IC8vIHRoZSBzY3JvbGwgbXVzdCBiZSB0aGUgbnVtYmVyIG9mIGJhcnMgeW91IHdhbnQgdG8gc2VlLlxuXG4gICAgICAgICAgaWYgKHRoaXMuY2hhcnQuYWxsb3dTY3JvbGxQYXN0KSBleGFjdFNjcm9sbCA9IGJhcnNEaXNwbGF5ZWRPblNjcmVlbjsgLy8gSWYgd2hpdGVzcGFjZSBhbGxvd2VkIG9uIGxlZnQgb2Ygc2NyZWVuXG5cbiAgICAgICAgICB0aGlzLm1pY3JvcGl4ZWxzID0gdGhpcy5jaGFydC53aWR0aCAtIGV4YWN0U2Nyb2xsICogbGF5b3V0LmNhbmRsZVdpZHRoIC0gd2hpdGVzcGFjZTtcbiAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzLndoaXRlc3BhY2UgPSB3aGl0ZXNwYWNlO1xuXG4gICAgICAgICAgd2hpbGUgKHRoaXMubWljcm9waXhlbHMgPiBsYXlvdXQuY2FuZGxlV2lkdGgpIHtcbiAgICAgICAgICAgIC8vIElmIG1pY3JvcGl4ZWxzIGlzIGxhcmdlciB0aGFuIGEgY2FuZGxlIHRoZW4gc2Nyb2xsIGJhY2sgZnVydGhlclxuICAgICAgICAgICAgZXhhY3RTY3JvbGwrKztcbiAgICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgLT0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdoaWxlICh0aGlzLm1pY3JvcGl4ZWxzIDwgMCkge1xuICAgICAgICAgICAgZXhhY3RTY3JvbGwtLTtcbiAgICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgKz0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubWljcm9waXhlbHMgLT0gbGF5b3V0LmNhbmRsZVdpZHRoO1xuICAgICAgICAgIGV4YWN0U2Nyb2xsKys7XG4gICAgICAgICAgaWYgKCghdGhpcy5tYWluU2VyaWVzUmVuZGVyZXIgfHwgIXRoaXMubWFpblNlcmllc1JlbmRlcmVyLnN0YW5kYWxvbmVCYXJzKSAmJiAhdGhpcy5zdGFuZGFsb25lQmFyc1tsYXlvdXQuY2hhcnRUeXBlXSkgdGhpcy5taWNyb3BpeGVscyArPSBsYXlvdXQuY2FuZGxlV2lkdGggLyAyOyAvLyBiYXIgY2hhcnRzIGRpc3BsYXkgYXQgYmVnaW5uaW5nIG9mIGNhbmRsZVxuXG4gICAgICAgICAgaWYgKHRoaXMuaXNIaXN0b3JpY2FsTW9kZSgpICYmIF9zZWxmLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICBleGFjdFNjcm9sbCA9IHBhcnNlSW50KGV4YWN0U2Nyb2xsICogMC44LCAxMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNIaXN0b3JpY2FsTW9kZSgpKSB7XG4gICAgICAgICAgICBleGFjdFNjcm9sbCA9IHBhcnNlSW50KGV4YWN0U2Nyb2xsICogMC45LCAxMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGFyYW1zLmFuaW1hdGUpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8oY2hhcnQsIGV4YWN0U2Nyb2xsLCBzY3JvbGxUb0NhbGxiYWNrKHNlbGYsIGNoYXJ0LCBleGFjdFNjcm9sbCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFydC5zY3JvbGwgPSBleGFjdFNjcm9sbDtcbiAgICAgICAgICAgIHJlc2V0UGFuZWxab29tcyh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIENJUS5DaGFydEVuZ2luZS5wcm90b3R5cGUuaXNIaXN0b3JpY2FsTW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhX3NlbGYuc3RhdGVTdG9yZS5lbmRFcG9jaDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucm9vdE5vZGUgPSByb290Tm9kZTtcbiAgICAgIHRoaXMubW9kYWxOb2RlID0gbW9kYWxOb2RlO1xuICAgICAgdGhpcy5jaGFydE5vZGUgPSB0aGlzLnJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5jaXEtY2hhcnQtYXJlYScpO1xuICAgICAgdGhpcy5jaGFydENvbnRyb2xzTm9kZSA9IHRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcignLmNxLWNoYXJ0LWNvbnRyb2xzJyk7XG5cbiAgICAgIENJUS5QbG90dGVyLnByb3RvdHlwZS5nZXRZQXhpc1dpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnlBeGlzd2lkdGg7XG4gICAgICB9OyAvLyBtb25rZXkgcGF0Y2hpbmcgdG8gaGFuZGxlIHJhZGl1cyBhbmQgaGVpZ2h0IGZvciBgY3VycmVudCBwcmljZSBsYWJlbGBcblxuXG4gICAgICBDSVEuQ2hhcnRFbmdpbmUucHJvdG90eXBlLmNyZWF0ZVlBeGlzTGFiZWwgPSBmdW5jdGlvbiAocGFuZWwsIHR4dCwgeSwgYmFja2dyb3VuZENvbG9yLCBjb2xvciwgY3R4LCB5QXhpcykge1xuICAgICAgICBpZiAocGFuZWwueUF4aXMuZHJhd1ByaWNlTGFiZWxzID09PSBmYWxzZSB8fCBwYW5lbC55QXhpcy5ub0RyYXcpIHJldHVybjtcbiAgICAgICAgdmFyIHlheCA9IHlBeGlzIHx8IHBhbmVsLnlBeGlzO1xuICAgICAgICBpZiAoeWF4Lm5vRHJhdyB8fCAheWF4LndpZHRoKSByZXR1cm47XG4gICAgICAgIHZhciBjb250ZXh0ID0gY3R4IHx8IHRoaXMuY2hhcnQuY29udGV4dDsgLy8gU21hcnRDaGFydCBUZWFtOiB0aGlzIHByb3AgbW9kaWZpZWRcblxuICAgICAgICB2YXIgbWFyZ2luID0gOTtcbiAgICAgICAgdmFyIGhlaWdodCA9IDI0O1xuICAgICAgICB2YXIgcmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5jYW52YXNGb250KCdzdHhfcHJpY2VfbGFiZWwnLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIHRpY2tXaWR0aCA9IHRoaXMuZHJhd0JvcmRlcnMgPyAzIDogMDsgLy8gcGl4ZWwgd2lkdGggb2YgdGljayBvZmYgZWRnZSBvZiBib3JkZXJcblxuICAgICAgICB2YXIgdGV4dFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0eHQpLndpZHRoO1xuICAgICAgICB2YXIgd2lkdGg7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGV4dFdpZHRoICsgbWFyZ2luID4geWF4LndpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRleHRXaWR0aCArIHRpY2tXaWR0aCArIG1hcmdpbiAqIDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0geWF4LndpZHRoICsgbWFyZ2luO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHdpZHRoID0geWF4LndpZHRoO1xuICAgICAgICB9IC8vIEZpcmVmb3ggZG9lc24ndCBsaWtlIHRoaXMgaW4gaGlkZGVuIGlmcmFtZVxuICAgICAgICAvLyBzb21lIHktYXhpcyBsYWJlbCBoYXMgc3R5bGUgb2YgYHJvdW5kUmVjdEFycm93YCBhbmQgc29tZSBoYXMgYHJlY3RgLCB3ZSByZWR1Y2VcbiAgICAgICAgLy8gMTRweCB3aGljaCBpcyBhYm91dCB0aGUgYHJvdW5kUmVjdEFycm93YCBzdHlsZSBhcnJvdyB0byBtYWtlIHRoZSBsYWJlbCBhbGwgZml0XG5cblxuICAgICAgICB3aWR0aCAtPSAxNDtcblxuICAgICAgICBpZiAodGhpcy5jaGFydC55QXhpcy53aWR0aCA8IHdpZHRoKSB7XG4gICAgICAgICAgdGhpcy5jaGFydC55QXhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlWUF4aXNQb3NpdGlvbnMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aWR0aCA9IHRoaXMuY2hhcnQueUF4aXMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeCA9IHRoaXMud2lkdGggLSB0aGlzLmNoYXJ0LnlBeGlzLndpZHRoO1xuICAgICAgICB2YXIgbGVmdCA9ICh3aWR0aCAtIHRleHRXaWR0aCkgLyAyO1xuICAgICAgICBpZiAoeWF4LndpZHRoIDwgMCkgeCArPSB5YXgud2lkdGggLSB3aWR0aDtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0geWF4LnBvc2l0aW9uID09PSBudWxsID8gcGFuZWwuY2hhcnQueUF4aXMucG9zaXRpb24gOiB5YXgucG9zaXRpb247XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB3aWR0aCAqPSAtMTtcbiAgICAgICAgICBpZiAoeWF4LndpZHRoIDwgMCkgeCAtPSB5YXgud2lkdGggKyB3aWR0aDtcbiAgICAgICAgICByYWRpdXMgPSAtMztcbiAgICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSArIGhlaWdodCAvIDIgPiB5YXguYm90dG9tKSB5ID0geWF4LmJvdHRvbSAtIGhlaWdodCAvIDI7XG4gICAgICAgIGlmICh5IC0gaGVpZ2h0IC8gMiA8IHlheC50b3ApIHkgPSB5YXgudG9wICsgaGVpZ2h0IC8gMjtcblxuICAgICAgICBpZiAodHlwZW9mIENJUVt0aGlzLnlheGlzTGFiZWxTdHlsZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy55YXhpc0xhYmVsU3R5bGUgPSAncm91bmRSZWN0QXJyb3cnOyAvLyBpbiBjYXNlIG9mIHVzZXIgZXJyb3IsIHNldCBhIGRlZmF1bHQuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeWF4aXNMYWJlbFN0eWxlID0gdGhpcy55YXhpc0xhYmVsU3R5bGU7XG4gICAgICAgIGlmICh5YXgueWF4aXNMYWJlbFN0eWxlKSB5YXhpc0xhYmVsU3R5bGUgPSB5YXgueWF4aXNMYWJlbFN0eWxlOyAvLyBhcyBjcm9zc2hhaXIgYW5kIGNvdW50ZG93biBzdHlsZSBpcyBgcmVjdGAsIHNvIGR1ZSB0byBwcmV2aW91cyBydWxlIHdlIHNob3VsZFxuICAgICAgICAvLyBpbmNyZWFzZSB0aGVyZSB4IHBvc2l0aW9uIHRvIGZpdCB0aGUgeS1heGlzXG5cbiAgICAgICAgaWYgKHRoaXMubGFiZWxUeXBlICE9PSAnY3Jvc3NoYWlyJyAmJiB0aGlzLmxhYmVsVHlwZSAhPT0gJ2NvdW50ZG93bicpIHtcbiAgICAgICAgICB4ICs9IDE0O1xuICAgICAgICAgIGxlZnQgLT0gODtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgY3R4OiBjb250ZXh0LFxuICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgeTogeSxcbiAgICAgICAgICB0b3A6IHkgLSBoZWlnaHQgLyAyLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBmaWxsOiB0cnVlLFxuICAgICAgICAgIHN0cm9rZTogZmFsc2UsXG4gICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgdG9wOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eHQ6IHR4dCxcbiAgICAgICAgICBjb2xvcjogY29sb3JcbiAgICAgICAgfTtcbiAgICAgICAgQ0lRW3lheGlzTGFiZWxTdHlsZV0ocGFyYW1zKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzeW1ib2wgPSBwcm9wcy5zeW1ib2wsXG4gICAgICAgICAgY2hhcnRUeXBlID0gcHJvcHMuY2hhcnRUeXBlLFxuICAgICAgICAgIGdyYW51bGFyaXR5ID0gcHJvcHMuZ3JhbnVsYXJpdHksXG4gICAgICAgICAgcmVxdWVzdEFQSSA9IHByb3BzLnJlcXVlc3RBUEksXG4gICAgICAgICAgcmVxdWVzdFN1YnNjcmliZSA9IHByb3BzLnJlcXVlc3RTdWJzY3JpYmUsXG4gICAgICAgICAgcmVxdWVzdEZvcmdldCA9IHByb3BzLnJlcXVlc3RGb3JnZXQsXG4gICAgICAgICAgcmVxdWVzdEZvcmdldFN0cmVhbSA9IHByb3BzLnJlcXVlc3RGb3JnZXRTdHJlYW0sXG4gICAgICAgICAgaXNNb2JpbGUgPSBwcm9wcy5pc01vYmlsZSxcbiAgICAgICAgICBlbmFibGVSb3V0aW5nID0gcHJvcHMuZW5hYmxlUm91dGluZyxcbiAgICAgICAgICBvbk1lc3NhZ2UgPSBwcm9wcy5vbk1lc3NhZ2UsXG4gICAgICAgICAgc2V0dGluZ3MgPSBwcm9wcy5zZXR0aW5ncyxcbiAgICAgICAgICBvblNldHRpbmdzQ2hhbmdlID0gcHJvcHMub25TZXR0aW5nc0NoYW5nZTtcbiAgICAgIHRoaXMuYXBpID0gbmV3IF9iaW5hcnlhcGlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkJpbmFyeUFQSVwiXShyZXF1ZXN0QVBJLCByZXF1ZXN0U3Vic2NyaWJlLCByZXF1ZXN0Rm9yZ2V0LCByZXF1ZXN0Rm9yZ2V0U3RyZWFtKTsgLy8gdHJhZGluZyB0aW1lcyBhbmQgYWN0aXZlIHN5bWJvbHMgY2FuIGJlIHJldXNlZCBhY3Jvc3MgbXVsdGlwbGUgY2hhcnRzXG5cbiAgICAgIHRoaXMudHJhZGluZ1RpbWVzID0gQ2hhcnRTdG9yZS50cmFkaW5nVGltZXMgfHwgKENoYXJ0U3RvcmUudHJhZGluZ1RpbWVzID0gbmV3IF9iaW5hcnlhcGlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIlRyYWRpbmdUaW1lc1wiXSh0aGlzLmFwaSwgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2hvdWxkRmV0Y2hUcmFkaW5nVGltZXMpKTtcbiAgICAgIHRoaXMuYWN0aXZlU3ltYm9scyA9IENoYXJ0U3RvcmUuYWN0aXZlU3ltYm9scyB8fCAoQ2hhcnRTdG9yZS5hY3RpdmVTeW1ib2xzID0gbmV3IF9iaW5hcnlhcGlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIkFjdGl2ZVN5bWJvbHNcIl0odGhpcy5hcGksIHRoaXMudHJhZGluZ1RpbWVzKSk7XG4gICAgICB2YXIgY2hhcnRTZXR0aW5nID0gdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nO1xuICAgICAgY2hhcnRTZXR0aW5nLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgIGNoYXJ0U2V0dGluZy5vblNldHRpbmdzQ2hhbmdlID0gb25TZXR0aW5nc0NoYW5nZTtcbiAgICAgIHRoaXMuaXNNb2JpbGUgPSBpc01vYmlsZTtcbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICAgIHRoaXMubWFpblN0b3JlLm5vdGlmaWVyLm9uTWVzc2FnZSA9IG9uTWVzc2FnZTtcbiAgICAgIHRoaXMuZ3JhbnVsYXJpdHkgPSBncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkID8gZ3JhbnVsYXJpdHkgOiB0aGlzLmRlZmF1bHRzLmdyYW51bGFyaXR5O1xuICAgICAgdmFyIGVuZ2luZVBhcmFtcyA9IHtcbiAgICAgICAgbWF4TWFzdGVyRGF0YVNpemU6IHRoaXMuZ2V0TWF4TWFzdGVyRGF0YVNpemUodGhpcy5ncmFudWxhcml0eSksXG4gICAgICAgIC8vIGNhcCBzaXplIHNvIHRpY2tfaGlzdG9yeSByZXF1ZXN0cyBkbyBub3QgYmVjb21lIHRvbyBsYXJnZVxuICAgICAgICBtYXJrZXJEZWxheTogbnVsbCxcbiAgICAgICAgLy8gZGlzYWJsZSAyNW1zIGRlbGF5IGZvciBwbGFjZW1lbnQgb2YgbWFya2Vyc1xuICAgICAgICBjb250YWluZXI6IHRoaXMucm9vdE5vZGUucXVlcnlTZWxlY3RvcignLmNoYXJ0Q29udGFpbmVyJyksXG4gICAgICAgIGNvbnRyb2xzOiB7XG4gICAgICAgICAgY2hhcnRDb250cm9sczogbnVsbFxuICAgICAgICB9LFxuICAgICAgICAvLyBoaWRlIHRoZSBkZWZhdWx0IHpvb20gYnV0dG9uc1xuICAgICAgICBwcmVmZXJlbmNlczoge1xuICAgICAgICAgIGN1cnJlbnRQcmljZUxpbmU6IHRydWUsXG4gICAgICAgICAgd2hpdGVzcGFjZTogaXNNb2JpbGUgPyA1MCA6IDE1MFxuICAgICAgICB9LFxuICAgICAgICBjaGFydDoge1xuICAgICAgICAgIHlBeGlzOiB7XG4gICAgICAgICAgICAvLyBQdXQgc29tZSB0b3AgbWFyZ2luIHNvIGNoYXJ0IGRvZXNuJ3QgZ2V0IGJsb2NrZWQgYnkgY2hhcnQgdGl0bGVcbiAgICAgICAgICAgIGluaXRpYWxNYXJnaW5Ub3A6IDEyNSxcbiAgICAgICAgICAgIGluaXRpYWxNYXJnaW5Cb3R0b206IDEwMCxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uOiAnbGVmdCcsXG4gICAgICAgICAgICBkaXNwbGF5Qm9yZGVyOiB0cnVlLFxuICAgICAgICAgICAganVzdGlmeVJpZ2h0OiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeEF4aXM6IHtcbiAgICAgICAgICAgIGRpc3BsYXlCb3JkZXI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdhcGxpbmVzOiB0cnVlLFxuICAgICAgICAgIGR5bmFtaWNZQXhpczogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtaW5pbXVtTGVmdEJhcnM6IDIsXG4gICAgICAgIHlUb2xlcmFuY2U6IDk5OTk5OSAvLyBkaXNhYmxlIHZlcnRpY2FsIHNjcm9sbGluZ1xuXG4gICAgICB9O1xuICAgICAgdmFyIGNoYXJ0TGF5b3V0ID0ge1xuICAgICAgICBjaGFydFR5cGU6IGNoYXJ0VHlwZSB8fCB0aGlzLmRlZmF1bHRzLmNoYXJ0VHlwZVxuICAgICAgfTtcblxuICAgICAgaWYgKGNoYXJ0TGF5b3V0LmNoYXJ0VHlwZSA9PT0gJ3NwbGluZScpIHtcbiAgICAgICAgLy8gY2F1c2UgdGhlcmUncyBubyBzdWNoIHRoaW5nIGFzIHNwbGluZSBjaGFydCBpbiBDaGFydElRXG4gICAgICAgIGNoYXJ0TGF5b3V0LmNoYXJ0VHlwZSA9ICdtb3VudGFpbic7XG4gICAgICAgIGVuZ2luZVBhcmFtcy5jaGFydC50ZW5zaW9uID0gY2hhcnRMYXlvdXQudGVuc2lvbiA9IDAuNTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJhbmdlU3BhbiA9IHRoaXMuZ2V0UmFuZ2VTcGFuKCk7XG5cbiAgICAgIGlmIChyYW5nZVNwYW4pIHtcbiAgICAgICAgY2hhcnRMYXlvdXQgPSBfb2JqZWN0U3ByZWFkKHt9LCBjaGFydExheW91dCwgcmFuZ2VTcGFuKTtcbiAgICAgIH1cblxuICAgICAgZW5naW5lUGFyYW1zLmxheW91dCA9IGNoYXJ0TGF5b3V0O1xuICAgICAgdmFyIHN0eHggPSB0aGlzLnN0eHggPSBuZXcgQ0lRLkNoYXJ0RW5naW5lKGVuZ2luZVBhcmFtcyk7XG4gICAgICB2YXIgdGlja0FuaW1hdG9yID0gbmV3IENJUS5FYXNlTWFjaGluZShNYXRoLmVhc2VPdXRDdWJpYywgNTAwKTsgLy8gbWFjb3MgdHJhY2twYWQgaXMgc28gc2Vuc2l0aXZlIHRoYXQgaXQnbGwgYnJlYWsgb3VyIHpvb20gYW5pbWF0aW9uLlxuICAgICAgLy8gdW5mb3J0dW5hdGVseSB0aGVyZSBpcyBubyB3YXkgdG8gZGV0ZWN0IGEgdHJhY2twYWQgZnJvbSBqYXZhc2NyaXB0LFxuICAgICAgLy8gaGVyZSB3ZSBkcm9wICd3aGVlbCcgZXZlbnRzIHNob3J0ZXIgdGhhdCA0MG1zXG4gICAgICAvLyBUT0RPOiBlbWFpbCBjaGFydGlxIHN1cHBvcnQgdG8gZml4IHRoaXMuXG5cbiAgICAgIHZhciBvcmdfcnVuID0gc3R4eC5hbmltYXRpb25zLnpvb20ucnVuLmJpbmQoc3R4eC5hbmltYXRpb25zLnpvb20pO1xuICAgICAgdmFyIHdoZWVsSW5Nb3Rpb24gPSBmYWxzZTtcblxuICAgICAgc3R4eC5hbmltYXRpb25zLnpvb20ucnVuID0gZnVuY3Rpb24gKGZjLCBzdGFydFZhbHVlcywgZW5kVmFsdWVzKSB7XG4gICAgICAgIGlmICh3aGVlbEluTW90aW9uKSByZXR1cm47XG4gICAgICAgIHdoZWVsSW5Nb3Rpb24gPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3aGVlbEluTW90aW9uID0gZmFsc2U7XG4gICAgICAgIH0sIDQwKTtcbiAgICAgICAgcmV0dXJuIG9yZ19ydW4oZmMsIHN0YXJ0VmFsdWVzLCBlbmRWYWx1ZXMpO1xuICAgICAgfTtcblxuICAgICAgc3R4eC5pc0F1dG9TY2FsZSA9IHNldHRpbmdzICYmIHNldHRpbmdzLmlzQXV0b1NjYWxlICE9PSBmYWxzZTtcbiAgICAgIENoYXJ0U3RvcmUuY2hhcnRDb3VudCArPSAxO1xuICAgICAgdmFyIGRlbGV0ZUVsZW1lbnQgPSBzdHh4LmNoYXJ0LnBhbmVsLmhvbGRlci5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3VzZURlbGV0ZVRleHQnKTtcbiAgICAgIHZhciBtYW5hZ2VFbGVtZW50ID0gc3R4eC5jaGFydC5wYW5lbC5ob2xkZXIucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW91c2VNYW5hZ2VUZXh0Jyk7XG4gICAgICBkZWxldGVFbGVtZW50LnRleHRDb250ZW50ID0gdC50cmFuc2xhdGUoJ3JpZ2h0LWNsaWNrIHRvIGRlbGV0ZScpO1xuICAgICAgbWFuYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IHQudHJhbnNsYXRlKCdyaWdodC1jbGljayB0byBtYW5hZ2UnKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQW5pbWF0aW9uRW5hYmxlZCkgT2JqZWN0KF9jb21wb25lbnRzX3VpX0FuaW1hdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoc3R4eCwge1xuICAgICAgICBzdGF5UHV0OiB0cnVlXG4gICAgICB9LCB0aWNrQW5pbWF0b3IpO1xuICAgICAgc3R4eC5jaGFydC5sb2NrU2Nyb2xsID0gdHJ1ZTsgLy8gY29ubmVjdCBjaGFydCB0byBkYXRhXG5cbiAgICAgIHRoaXMuZmVlZCA9IG5ldyBfZmVlZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiRmVlZFwiXSh0aGlzLmFwaSwgc3R4eCwgdGhpcy5tYWluU3RvcmUsIHRoaXMudHJhZGluZ1RpbWVzKTtcbiAgICAgIHN0eHguYXR0YWNoUXVvdGVGZWVkKHRoaXMuZmVlZCwge1xuICAgICAgICByZWZyZXNoSW50ZXJ2YWw6IG51bGxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbmFibGVSb3V0aW5nID0gZW5hYmxlUm91dGluZztcblxuICAgICAgaWYgKHRoaXMuZW5hYmxlUm91dGluZykge1xuICAgICAgICB0aGlzLnJvdXRpbmdTdG9yZS5oYW5kbGVSb3V0aW5nKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaG9sZGVyU3R5bGUgPSBzdHh4LmNoYXJ0LnBhbmVsLmhvbGRlci5zdHlsZTtcbiAgICAgIHZhciBjb250ZXh0ID0gbmV3IF9jb21wb25lbnRzX3VpX0NvbnRleHRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0oc3R4eCwgdGhpcy5yb290Tm9kZSk7IC8vIG9ubHkgb25lIGluc3RhbmNlIG9mIGtleXN0cm9rZUh1YiBzaG91bGQgZXhpc3RcblxuICAgICAgaWYgKENoYXJ0U3RvcmUua2V5c3Ryb2tlSHViID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgQ2hhcnRTdG9yZS5rZXlzdHJva2VIdWIgPSBuZXcgX2NvbXBvbmVudHNfdWlfS2V5c3Ryb2tlSHViX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHksIG51bGwsIHtcbiAgICAgICAgICBjYjogX2NvbXBvbmVudHNfdWlfS2V5c3Ryb2tlSHViX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLmRlZmF1bHRIb3RLZXlzXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBUT0RPOiBleGNsdWRlZCBzdHVkaWVzXG5cblxuICAgICAgdmFyIHN0dWRpZXNTdG9yZSA9IHRoaXMubWFpblN0b3JlLnN0dWRpZXM7XG4gICAgICBzdHh4LmNhbGxiYWNrcy5zdHVkeU92ZXJsYXlFZGl0ID0gc3R1ZGllc1N0b3JlLmVkaXRTdHVkeTtcbiAgICAgIHN0eHguY2FsbGJhY2tzLnN0dWR5UGFuZWxFZGl0ID0gc3R1ZGllc1N0b3JlLmVkaXRTdHVkeTtcbiAgICAgIHRoaXMubG9hZGVyLnNldFN0YXRlKCdtYXJrZXQtc3ltYm9sJyk7XG4gICAgICB0aGlzLmFjdGl2ZVN5bWJvbHMucmV0cmlldmVBY3RpdmVTeW1ib2xzKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5sb2FkZXIuc2V0U3RhdGUoJ3RyYWRpbmctdGltZScpO1xuXG4gICAgICAgIF90aGlzMi50cmFkaW5nVGltZXMuaW5pdGlhbGl6ZSgpLnRoZW4oT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIEluIHRoZSBvZGQgZXZlbnQgdGhhdCBjaGFydCBpcyBkZXN0cm95ZWQgYnkgdGhlIHRpbWVcbiAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBmaW5pc2hlcywganVzdCBjYWxtbHkgcmV0dXJuLi4uXG4gICAgICAgICAgaWYgKHN0eHguaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaXNSZXN0b3JlU3VjY2VzcyA9IF90aGlzMi5zdGF0ZS5yZXN0b3JlTGF5b3V0KCk7XG5cbiAgICAgICAgICBpZiAoIWlzUmVzdG9yZVN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIF90aGlzMi5jaGFuZ2VTeW1ib2woIC8vIGRlZmF1bHQgdG8gZmlyc3QgYXZhaWxhYmxlIHN5bWJvbFxuICAgICAgICAgICAgc3ltYm9sIHx8IE9iamVjdC5rZXlzKF90aGlzMi5hY3RpdmVTeW1ib2xzLnN5bWJvbE1hcClbMF0sIF90aGlzMi5ncmFudWxhcml0eSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgICAgX3RoaXMyLmNoYXJ0Q2xvc2VkT3BlblRoZW1lQ2hhbmdlKCFfdGhpczIuY3VycmVudEFjdGl2ZVN5bWJvbC5leGNoYW5nZV9pc19vcGVuKTtcblxuICAgICAgICAgIF90aGlzMi5tYWluU3RvcmUuY2hhcnQudHJhZGluZ1RpbWVzLm9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdKShmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgc3kgaW4gY2hhbmdlcykge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMyLmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sID09PSBzeSkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5jaGFydENsb3NlZE9wZW5UaGVtZUNoYW5nZSghY2hhbmdlc1tzeV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMi5zdGF0ZS5pbXBvcnRlZExheW91dCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBsYXlvdXQgc2V0IGJ5IGltcG9ydGVkTGF5b3V0IHBvcnAsIGltcG9ydCBpdCBoZXJlIGFmdGVyIGNoYXJ0IGlzIGxvYWRlZFxuICAgICAgICAgICAgX3RoaXMyLnN0YXRlLmltcG9ydExheW91dCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0eHguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBfdGhpczIub25Nb3VzZUVudGVyKTtcbiAgICAgICAgICBzdHh4LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgX3RoaXMyLm9uTW91c2VMZWF2ZSk7XG5cbiAgICAgICAgICBfdGhpczIuY29udGV4dFByb21pc2UucmVzb2x2ZShfdGhpczIuY29udGV4dCk7XG5cbiAgICAgICAgICBfdGhpczIucmVzaXplU2NyZWVuKCk7XG5cbiAgICAgICAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbX3RoaXMyLnN0YXRlLnN5bWJvbCwgX3RoaXMyLnN0YXRlLmdyYW51bGFyaXR5XTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlLnN5bWJvbCAhPT0gdW5kZWZpbmVkIHx8IF90aGlzMi5zdGF0ZS5ncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkICYmICFfdGhpczIuc3RhdGUuaW1wb3J0ZWRMYXlvdXQpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmNoYW5nZVN5bWJvbChfdGhpczIuc3RhdGUuc3ltYm9sLCBfdGhpczIuc3RhdGUuZ3JhbnVsYXJpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLnRyYWRpbmdUaW1lcy5vbk1hcmtldE9wZW5DbG9zZUNoYW5nZWQoX3RoaXMyLm9uTWFya2V0T3BlbkNsb3NlZENoYW5nZSk7XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIERlZmVyIHRoZSByZW5kZXIgb2YgdGhlIGRpYWxvZ3MgYW5kIGRyb3Bkb3duczsgdGhpcyBlbmFibGVzXG4gICAgICAgICAgICAvLyBjb25zaWRlcmFibGUgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzIGZvciBzbG93ZXIgZGV2aWNlcy5cbiAgICAgICAgICAgIF90aGlzMi5zaG91bGRSZW5kZXJEaWFsb2dzID0gdHJ1ZTtcbiAgICAgICAgICB9KSwgNTAwKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICgnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMucmVzaXplU2NyZWVuKTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKG1vZGFsTm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoLyohIGltcG9ydCgpIHwgcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsICovIFwidmVuZG9yc35yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIikudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fLmJpbmQobnVsbCwgLyohIHJlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbCAqLyBcIi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzXCIpKS50aGVuKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICAgIHZhciBSZXNpemVPYnNlcnZlciA9IF9yZWYyLmRlZmF1bHQ7XG4gICAgICAgICAgd2luZG93LlJlc2l6ZU9ic2VydmVyID0gUmVzaXplT2JzZXJ2ZXI7XG5cbiAgICAgICAgICBpZiAoc3R4eC5pc0Rlc3Ryb3llZCB8fCAhbW9kYWxOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF90aGlzMi5yZXNpemVTY3JlZW4pO1xuXG4gICAgICAgICAgX3RoaXMyLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUobW9kYWxOb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE1heE1hc3RlckRhdGFTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1heE1hc3RlckRhdGFTaXplKGdyYW51bGFyaXR5KSB7XG4gICAgICB2YXIgbWF4TWFzdGVyRGF0YVNpemUgPSA1MDAwOyAvLyBXaGVuIGdyYW51bGFyaXR5IGlzIDEgZGF5XG5cbiAgICAgIGlmIChncmFudWxhcml0eSA9PT0gODY0MDApIG1heE1hc3RlckRhdGFTaXplID0gTWF0aC5mbG9vcigyLjggKiAzNjUpOyAvLyBXaGVuIGdyYW51bGFyaXR5IGlzIDggaG91cnNcbiAgICAgIGVsc2UgaWYgKGdyYW51bGFyaXR5ID09PSAyODgwMCkgbWF4TWFzdGVyRGF0YVNpemUgPSBNYXRoLmZsb29yKDIuOCAqIDM2NSAqIDMpO1xuICAgICAgcmV0dXJuIG1heE1hc3RlckRhdGFTaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFydENsb3NlZE9wZW5UaGVtZUNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFydENsb3NlZE9wZW5UaGVtZUNoYW5nZShpc0NoYXJ0Q2xvc2VkKSB7XG4gICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydENsb3NlZChpc0NoYXJ0Q2xvc2VkKTtcbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0VGhlbWUodGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLnRoZW1lLCBpc0NoYXJ0Q2xvc2VkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZUVudGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VFbnRlcigpIHtcbiAgICAgIHRoaXMuY3Vyc29ySW5DaGFydCA9IHRydWU7XG4gICAgICAvKlxuICAgICAgKiBEaXNhYmxlIGtleSBwcmVzcyBldmVudHMgZm9yIGNoYXJ0IHVudGlsIHdlIGNhbiBnZXQgaXQgbm90IHRvXG4gICAgICAqIGludGVyZmVyZSB3aXRoIGtleSBwcmVzc2VzIG91dHNpZGUgdGhlIGNoYXJ0OlxuICAgICAgKi9cbiAgICAgIC8vIENoYXJ0U3RvcmUua2V5c3Ryb2tlSHViLnNldEFjdGl2ZUNvbnRleHQodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZUxlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgIHRoaXMuY3Vyc29ySW5DaGFydCA9IGZhbHNlO1xuICAgICAgLypcbiAgICAgICogRGlzYWJsZSBrZXkgcHJlc3MgZXZlbnRzIGZvciBjaGFydCB1bnRpbCB3ZSBjYW4gZ2V0IGl0IG5vdCB0b1xuICAgICAgKiBpbnRlcmZlcmUgd2l0aCBrZXkgcHJlc3NlcyBvdXRzaWRlIHRoZSBjaGFydDpcbiAgICAgICovXG4gICAgICAvLyBDaGFydFN0b3JlLmtleXN0cm9rZUh1Yi5zZXRBY3RpdmVDb250ZXh0KG51bGwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRBY3RpdmVTeW1ib2woKSB7XG4gICAgICB2YXIgc3ltYm9sT2JqZWN0ID0gdGhpcy5zdHh4LmNoYXJ0LnN5bWJvbE9iamVjdDtcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVN5bWJvbCA9IHN5bWJvbE9iamVjdDtcbiAgICAgIHRoaXMuc3R4eC5jaGFydC55QXhpcy5kZWNpbWFsUGxhY2VzID0gc3ltYm9sT2JqZWN0LmRlY2ltYWxfcGxhY2VzO1xuICAgICAgdGhpcy5zZXRNYWluU2VyaWVzRGlzcGxheShzeW1ib2xPYmplY3QubmFtZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENoYXJ0QXZhaWxhYmlsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENoYXJ0QXZhaWxhYmlsaXR5KHN0YXR1cykge1xuICAgICAgdGhpcy5pc0NoYXJ0QXZhaWxhYmxlID0gc3RhdHVzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VTeW1ib2xcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU3ltYm9sKHN5bWJvbE9iaiwgZ3JhbnVsYXJpdHkpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3ltYm9sT2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICBzeW1ib2xPYmogPSB0aGlzLmFjdGl2ZVN5bWJvbHMuZ2V0U3ltYm9sT2JqKHN5bWJvbE9iaik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1N5bWJvbEF2YWlsYWJsZSA9IHN5bWJvbE9iaiAmJiB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2w7XG5cbiAgICAgIGlmIChpc1N5bWJvbEF2YWlsYWJsZSAmJiBzeW1ib2xPYmouc3ltYm9sID09PSB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wuc3ltYm9sICYmIGdyYW51bGFyaXR5ICE9PSB1bmRlZmluZWQgJiYgZ3JhbnVsYXJpdHkgPT09IHRoaXMuZ3JhbnVsYXJpdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyYW1zO1xuXG4gICAgICBpZiAoZ3JhbnVsYXJpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmdyYW51bGFyaXR5ID0gZ3JhbnVsYXJpdHk7XG4gICAgICAgIHRoaXMuc3R4eC5tYXhNYXN0ZXJEYXRhU2l6ZSA9IHRoaXMuZ2V0TWF4TWFzdGVyRGF0YVNpemUodGhpcy5ncmFudWxhcml0eSk7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBwZXJpb2RpY2l0eTogT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiXSkoZ3JhbnVsYXJpdHkpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMgPT09IHVuZGVmaW5lZCAmJiBzeW1ib2xPYmopIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbXBhcmlzb25zIGJlZm9yZSBzeW1ib2wgY2hhbmdlc1xuICAgICAgICBmb3IgKHZhciBmaWVsZCBpbiB0aGlzLnN0eHguY2hhcnQuc2VyaWVzKSB7XG4gICAgICAgICAgdGhpcy5zdHh4LnJlbW92ZVNlcmllcyhmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5uZXdDaGFydChzeW1ib2xPYmosIHBhcmFtcyk7XG5cbiAgICAgIGlmIChzeW1ib2xPYmopIHtcbiAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm5ld0NoYXJ0XCIsXG4gICAgLy8gQ2FsbGluZyBuZXdDaGFydCB3aXRoIHN5bWJvbE9iaiBhcyB1bmRlZmluZWQgcmVmcmVzaGVzIHRoZSBjaGFydFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZXdDaGFydCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgc3ltYm9sT2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2w7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoIXN5bWJvbE9iaikgcmV0dXJuO1xuICAgICAgdGhpcy5zdHh4LmNoYXJ0LnN5bWJvbERpc3BsYXkgPSBzeW1ib2xPYmoubmFtZTtcbiAgICAgIHRoaXMubG9hZGVyLnNob3coKTtcbiAgICAgIHRoaXMubWFpblN0b3JlLnN0YXRlLnNldENoYXJ0SXNSZWFkeShmYWxzZSk7XG5cbiAgICAgIHZhciBvbkNoYXJ0TG9hZCA9IGZ1bmN0aW9uIG9uQ2hhcnRMb2FkKGVycikge1xuICAgICAgICBfdGhpczMuc2V0TWFpblNlcmllc0Rpc3BsYXkoc3ltYm9sT2JqLm5hbWUpO1xuXG4gICAgICAgIF90aGlzMy5sb2FkZXIuaGlkZSgpO1xuXG4gICAgICAgIF90aGlzMy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KHRydWUpO1xuXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAvKiBUT0RPLCBzeW1ib2wgbm90IGZvdW5kIGVycm9yICovXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnN0YXRlLnJlc3RvcmVEcmF3aW5ncygpO1xuXG4gICAgICAgIF90aGlzMy5tYWluU3RvcmUuY2hhcnQuZmVlZC5zY2FsZUNoYXJ0KCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnlBeGlzd2lkdGggPSAwO1xuICAgICAgdmFyIHJhbmdlU3BhbiA9IHRoaXMuZ2V0UmFuZ2VTcGFuKCk7XG4gICAgICB0aGlzLnN0eHgubmV3Q2hhcnQoc3ltYm9sT2JqLCBudWxsLCBudWxsLCBvbkNoYXJ0TG9hZCwgX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zLCByYW5nZVNwYW4pKTtcbiAgICAgIHRoaXMuY2hhcnRDbG9zZWRPcGVuVGhlbWVDaGFuZ2UoIXN5bWJvbE9iai5leGNoYW5nZV9pc19vcGVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmFuZ2VTcGFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhbmdlU3BhbigpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc3RhcnRFcG9jaCA9IF90aGlzJHN0YXRlLnN0YXJ0RXBvY2gsXG4gICAgICAgICAgZW5kRXBvY2ggPSBfdGhpcyRzdGF0ZS5lbmRFcG9jaDtcbiAgICAgIHZhciByYW5nZSwgc3BhbjtcbiAgICAgIHZhciBwYWRkaW5nUmF0aW8gPSB0aGlzLmNoYXJ0Tm9kZS5jbGllbnRXaWR0aCAvIHRoaXMuUkFOR0VfUEFERElOR19QWDtcbiAgICAgIHZhciBlbGFwc2VkU2Vjb25kcyA9IChlbmRFcG9jaCB8fCBzdGFydEVwb2NoKSAtIChzdGFydEVwb2NoIHx8IGVuZEVwb2NoKTtcbiAgICAgIHZhciBlcG9jaFBhZGRpbmcgPSBlbGFwc2VkU2Vjb25kcyAvIHBhZGRpbmdSYXRpbyB8IDA7XG5cbiAgICAgIGlmIChzdGFydEVwb2NoIHx8IGVuZEVwb2NoKSB7XG4gICAgICAgIHZhciBkdExlZnQgPSBzdGFydEVwb2NoID8gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZ2V0VVRDRGF0ZVwiXSkoc3RhcnRFcG9jaCAtIGVwb2NoUGFkZGluZykpIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZHRSaWdodCA9IGVuZEVwb2NoID8gQ0lRLnN0clRvRGF0ZVRpbWUoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZ2V0VVRDRGF0ZVwiXSkoZW5kRXBvY2ggKyBlcG9jaFBhZGRpbmcpKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHBlcmlvZGljaXR5ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiXSkodGhpcy5ncmFudWxhcml0eSk7XG4gICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgIGR0TGVmdDogZHRMZWZ0LFxuICAgICAgICAgIGR0UmlnaHQ6IGR0UmlnaHQsXG4gICAgICAgICAgcGVyaW9kaWNpdHk6IHBlcmlvZGljaXR5LFxuICAgICAgICAgIGdvSW50b0Z1dHVyZTogdHJ1ZSxcbiAgICAgICAgICBnb0ludG9QYXN0OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGR0TGVmdCkge1xuICAgICAgICAgIHNwYW4gPSB7XG4gICAgICAgICAgICBiYXNlOiAnYWxsJyxcbiAgICAgICAgICAgIHBlcmlvZGljaXR5OiBwZXJpb2RpY2l0eVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgICBzcGFuOiBzcGFuXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldE1haW5TZXJpZXNEaXNwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1haW5TZXJpZXNEaXNwbGF5KG5hbWUpIHtcbiAgICAgIC8vIFNldCBkaXNwbGF5IG5hbWUgb2YgbWFpbiBzZXJpZXMgKHRvIGJlIHNob3duIGluIGNyb3NzaGFpciB0b29sdGlwKVxuICAgICAgdGhpcy5zdHh4LmNoYXJ0LnNlcmllc1JlbmRlcmVycy5fbWFpbl9zZXJpZXMuc2VyaWVzUGFyYW1zWzBdLmRpc3BsYXkgPSBuYW1lOyAvLyBUT0RPLCB3ZSB1c2UgdG8gdXNlIGBmaWVsZGAgZmllbGQgdG8gcmVjZ25pemUgbWFpbiBzZXJpcyBhbmQgc2hvd1xuICAgICAgLy8gaXQncyBjcm9zc2hhaXIsIGFzIGluIENoYXJ0SVEgNi4yLjIgdGhleSBhcmUgZ29pbmcgdG8gcmVtb3ZlIHRoaXMgZmllbGRcbiAgICAgIC8vIHdlIHNob3VsZCBmaW5kIGFub3RoZXIgd2F5IG9mIGRldGVjdGluZyBtYWluIHNlcmllcyBwcmljZSwgdGlsbCB0aGVuXG4gICAgICAvLyB3ZSBmb3VuZCB0aGlzIHRlbXBvcmFyeSBzb2x1dGlvbi5cblxuICAgICAgdGhpcy5zdHh4LmNoYXJ0LnNlcmllc1JlbmRlcmVycy5fbWFpbl9zZXJpZXMuc2VyaWVzUGFyYW1zWzBdLmZpZWxkID0gJ0Nsb3NlJztcbiAgICB9IC8vIE1ha2VzIHJlcXVlc3RzIHRvIHRpY2sgaGlzdG9yeSBBUEkgdGhhdCB3aWxsIHJlcGxhY2VcbiAgICAvLyBFeGlzdGluZyBjaGFydCB0aWNrL29obGMgZGF0YVxuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaENoYXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hDaGFydCgpIHtcbiAgICAgIHRoaXMubmV3Q2hhcnQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgQ2hhcnRTdG9yZS5jaGFydENvdW50IC09IDE7XG5cbiAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50cmFkaW5nVGltZXMgJiYgQ2hhcnRTdG9yZS5jaGFydENvdW50ID09PSAwKSB7XG4gICAgICAgIENoYXJ0U3RvcmUudHJhZGluZ1RpbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFkaW5nVGltZXMuZGVzdHJ1Y3RvcigpO1xuICAgICAgfSAvLyBEZXN0cm95aW5nIHRoZSBjaGFydCBkb2VzIG5vdCB1bnN1YnNjcmliZSB0aGUgc3RyZWFtcztcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFudWFsbHkgdW5zdWJzY3JpYmUgdGhlbS5cblxuXG4gICAgICBpZiAodGhpcy5mZWVkKSB7XG4gICAgICAgIHRoaXMuZmVlZC51bnN1YnNjcmliZUFsbCgpO1xuICAgICAgICB0aGlzLmZlZWQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoQ2hhcnRTdG9yZS5rZXlzdHJva2VIdWIuY29udGV4dCA9PT0gdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIENoYXJ0U3RvcmUua2V5c3Ryb2tlSHViLnNldEFjdGl2ZUNvbnRleHQobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0eHgpIHtcbiAgICAgICAgdGhpcy5zdHh4LmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xuICAgICAgICB0aGlzLnN0eHguY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG5cbiAgICAgICAgdGhpcy5zdHh4LnVwZGF0ZUNoYXJ0RGF0YSA9IGZ1bmN0aW9uICgpIHt9OyAvLyBwcmV2ZW50IGFueSBkYXRhIGZyb20gZW50ZXJpbmcgdGhlIGNoYXJ0XG5cblxuICAgICAgICB0aGlzLnN0eHguaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0eHguZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0eHggPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkZXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5sb2FkZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvdXRpbmdTdG9yZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnJvdXRpbmc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0YXRlU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGlwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYXRlZ29yaXplZFN5bWJvbHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuYWN0aXZlU3ltYm9scyB8fCB0aGlzLmFjdGl2ZVN5bWJvbHMuY2F0ZWdvcml6ZWRTeW1ib2xzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICAgICAgdmFyIGFjdGl2ZVN5bWJvbHMgPSB0aGlzLmFjdGl2ZVN5bWJvbHMuYWN0aXZlU3ltYm9scztcbiAgICAgIHJldHVybiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJjbG9uZUNhdGVnb3JpZXNcIl0pKGFjdGl2ZVN5bWJvbHMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IGl0ZW0uZGF0YU9iamVjdC5zeW1ib2wgPT09IF90aGlzNC5jdXJyZW50QWN0aXZlU3ltYm9sLnN5bWJvbDtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGl0ZW0sIHtcbiAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhcnRTdG9yZTtcbn0oKSwgX2NsYXNzMi5rZXlzdHJva2VIdWIgPSB2b2lkIDAsIF9jbGFzczIuY2hhcnRDb3VudCA9IDAsIF9jbGFzczIudHJhZGluZ1RpbWVzID0gdm9pZCAwLCBfY2xhc3MyLmFjdGl2ZVN5bWJvbHMgPSB2b2lkIDAsIF90ZW1wKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNvbnRhaW5lcldpZHRoXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29udGV4dFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRBY3RpdmVTeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzQ2hhcnRBdmFpbGFibGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFydEhlaWdodFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2hhcnRDb250YWluZXJIZWlnaHRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzTW9iaWxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I4ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnNvckluQ2hhcnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvdWxkUmVuZGVyRGlhbG9nc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMTAgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwieUF4aXN3aWR0aFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicGlwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlc2l6ZVNjcmVlblwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZXNpemVTY3JlZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2luaXRDaGFydFwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2luaXRDaGFydFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjYXRlZ29yaXplZFN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNhdGVnb3JpemVkU3ltYm9sc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlRW50ZXJcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VFbnRlclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1vdXNlTGVhdmVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VMZWF2ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVDdXJyZW50QWN0aXZlU3ltYm9sXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldENoYXJ0QXZhaWxhYmlsaXR5XCIsIFtfZGVjNl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydEF2YWlsYWJpbGl0eVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjaGFuZ2VTeW1ib2xcIiwgW19kZWM3XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNoYW5nZVN5bWJvbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yMTEgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2FsY3VsYXRlWWF4aXNXaWR0aFwiLCBbX2RlYzhdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIGlmICghcHJpY2UpIHJldHVybjtcbiAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM1LmNvbnRleHQuc3R4LmNoYXJ0LmNvbnRleHQ7XG4gICAgICB2YXIgcHJpY2VXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQocHJpY2UudG9GaXhlZChfdGhpczUucGlwKSkud2lkdGggKyAyMDtcblxuICAgICAgaWYgKHByaWNlV2lkdGggPiBfdGhpczUueUF4aXN3aWR0aCkge1xuICAgICAgICBfdGhpczUueUF4aXN3aWR0aCA9IHByaWNlV2lkdGg7XG4gICAgICAgIF90aGlzNS5zdHh4LmNoYXJ0LnlBeGlzLndpZHRoID0gcHJpY2VXaWR0aDtcblxuICAgICAgICBfdGhpczUuc3R4eC5jYWxjdWxhdGVZQXhpc1Bvc2l0aW9ucygpO1xuXG4gICAgICAgIF90aGlzNS5zdHh4LmRyYXcoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSwgX2Rlc2NyaXB0b3IxMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVZYXhpc1dpZHRoXCIsIFtfZGVjOV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpczYuc3R4eC5tYXN0ZXJEYXRhICYmIF90aGlzNi5zdHh4Lm1hc3RlckRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjdXJyZW50UXVvdGUgPSBfdGhpczYuY29udGV4dC5zdHguY3VycmVudFF1b3RlKCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRRdW90ZSAmJiBjdXJyZW50UXVvdGUuQ2xvc2UpIHtcbiAgICAgICAgICBfdGhpczYuY2FsY3VsYXRlWWF4aXNXaWR0aChjdXJyZW50UXVvdGUuQ2xvc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBsYXN0RGF0YVdpdGhDbG9zZSA9IF90aGlzNi5zdHh4Lm1hc3RlckRhdGEuZmluZChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHguQ2xvc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobGFzdERhdGFXaXRoQ2xvc2UpIHtcbiAgICAgICAgICAgIF90aGlzNi5jYWxjdWxhdGVZYXhpc1dpZHRoKGxhc3REYXRhV2l0aENsb3NlLkNsb3NlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm5ld0NoYXJ0XCIsIFtfZGVjMTBdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibmV3Q2hhcnRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVmcmVzaENoYXJ0XCIsIFtfZGVjMTFdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVmcmVzaENoYXJ0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlc3Ryb3lcIiwgW19kZWMxMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZXN0cm95XCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDaGFydFN0b3JlKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0VGFibGVTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ2hhcnRUYWJsZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDaGFydFRhYmxlU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvRGlhbG9nLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvRGlhbG9nLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vRGlhbG9nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9EaWFsb2dTdG9yZS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMjtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5cblxuXG52YXIgQ2hhcnRUYWJsZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0VGFibGVTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0VGFibGVTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhYmxlRGF0YVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzVGlja1wiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5kaWFsb2cgPSBuZXcgX0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKG1haW5TdG9yZSk7XG4gICAgdGhpcy5EaWFsb2cgPSB0aGlzLmRpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmRpYWxvZy5vcGVuO1xuICAgIH0sIHRoaXMubG9hZFRhYmxlRGF0YSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhcnRUYWJsZVN0b3JlLCBbe1xuICAgIGtleTogXCJzZXRPcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wZW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpYWxvZy5zZXRPcGVuKHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFRhYmxlRGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkVGFibGVEYXRhKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zdHgubWFzdGVyRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZVRhYmxlRGF0YShyb3cpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUodGhpcy51cGRhdGVUYWJsZURhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vZmZNYXN0ZXJEYXRhVXBkYXRlKHRoaXMudXBkYXRlVGFibGVEYXRhKTtcbiAgICAgICAgdGhpcy50YWJsZURhdGEgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVGFibGVEYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYmxlRGF0YShfcmVmKSB7XG4gICAgICB2YXIgRFQgPSBfcmVmLkRULFxuICAgICAgICAgIE9wZW4gPSBfcmVmLk9wZW4sXG4gICAgICAgICAgSGlnaCA9IF9yZWYuSGlnaCxcbiAgICAgICAgICBMb3cgPSBfcmVmLkxvdyxcbiAgICAgICAgICBDbG9zZSA9IF9yZWYuQ2xvc2U7XG4gICAgICB0aGlzLmlzVGljayA9IHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXQgPT09ICd0aWNrJztcbiAgICAgIHZhciB5ZWFyID0gRFQuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHZhciBtb250aCA9IERULmdldE1vbnRoKCkgKyAxO1xuICAgICAgdmFyIGRheSA9IERULmdldERhdGUoKTtcbiAgICAgIHZhciBob3VycyA9IERULmdldEhvdXJzKCk7XG4gICAgICB2YXIgbWludXRlcyA9IERULmdldE1pbnV0ZXMoKTtcbiAgICAgIHZhciBzZWNvbmRzID0gRFQuZ2V0U2Vjb25kcygpO1xuICAgICAgdmFyIGRhdGUgPSBcIlwiLmNvbmNhdCh5ZWFyLCBcIi1cIikuY29uY2F0KG1vbnRoID4gOSA/IG1vbnRoIDogXCIwXCIuY29uY2F0KG1vbnRoKSwgXCItXCIpLmNvbmNhdChkYXkgPiA5ID8gZGF5IDogXCIwXCIuY29uY2F0KGRheSkpO1xuICAgICAgdmFyIHRpbWUgPSBcIlwiLmNvbmNhdChob3VycyA+IDkgPyBob3VycyA6IFwiMFwiLmNvbmNhdChob3VycyksIFwiOlwiKS5jb25jYXQobWludXRlcyA+IDkgPyBtaW51dGVzIDogXCIwXCIuY29uY2F0KG1pbnV0ZXMpLCBcIjpcIikuY29uY2F0KHNlY29uZHMgPiA5ID8gc2Vjb25kcyA6IFwiMFwiLmNvbmNhdChzZWNvbmRzKSk7XG4gICAgICB2YXIgZGF0ZVRpbWUgPSBcIlwiLmNvbmNhdChkYXRlLCBcIiBcIikuY29uY2F0KHRpbWUpO1xuICAgICAgdmFyIGxhc3RUaWNrID0gdGhpcy50YWJsZURhdGEubGVuZ3RoID4gMCA/IHRoaXMudGFibGVEYXRhWzBdIDoge307XG4gICAgICB2YXIgY2hhbmdlID0gQ2xvc2UgLSBsYXN0VGljay5DbG9zZSB8fCAwO1xuICAgICAgdmFyIHN0YXR1cyA9ICcnO1xuICAgICAgaWYgKE1hdGguc2lnbihjaGFuZ2UpICE9PSAwKSBzdGF0dXMgPSBNYXRoLnNpZ24oY2hhbmdlKSA9PT0gMSA/ICd1cCcgOiAnZG93bic7XG5cbiAgICAgIGlmICh0aGlzLmlzVGljayAmJiBDbG9zZSkge1xuICAgICAgICB0aGlzLnRhYmxlRGF0YS51bnNoaWZ0KHtcbiAgICAgICAgICBEYXRlOiBkYXRlVGltZSxcbiAgICAgICAgICBDbG9zZTogQ2xvc2UsXG4gICAgICAgICAgQ2hhbmdlOiBNYXRoLmFicyhjaGFuZ2UpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgICBTdGF0dXM6IHN0YXR1c1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNUaWNrICYmIE9wZW4gJiYgSGlnaCAmJiBMb3cgJiYgQ2xvc2UpIHtcbiAgICAgICAgaWYgKGxhc3RUaWNrLkRhdGUgPT09IGRhdGVUaW1lKSB7XG4gICAgICAgICAgbGFzdFRpY2suQ2xvc2UgPSBDbG9zZS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgbGFzdFRpY2suQ2hhbmdlID0gTWF0aC5hYnMoQ2xvc2UgLSB0aGlzLnRhYmxlRGF0YVsxXS5DbG9zZSkudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGFibGVEYXRhLnVuc2hpZnQoe1xuICAgICAgICAgICAgRGF0ZTogZGF0ZVRpbWUsXG4gICAgICAgICAgICBPcGVuOiBPcGVuLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgICAgIEhpZ2g6IEhpZ2gudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpLFxuICAgICAgICAgICAgTG93OiBMb3cudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpLFxuICAgICAgICAgICAgQ2xvc2U6IENsb3NlLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSxcbiAgICAgICAgICAgIENoYW5nZTogTWF0aC5hYnMoY2hhbmdlKS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcyksXG4gICAgICAgICAgICBTdGF0dXM6IHN0YXR1c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy50YWJsZURhdGEuc2xpY2UoMCk7IC8vIGZvcmNlIGFycmF5IHVwZGF0ZVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3BlblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nLm9wZW47XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN5bWJvbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wgPyB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sIDoge307XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlY2ltYWxQbGFjZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFydFRhYmxlU3RvcmU7XG59KCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRPcGVuXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE9wZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0YWJsZURhdGFcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNUaWNrXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN5bWJvbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWNpbWFsUGxhY2VzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWNpbWFsUGxhY2VzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxvYWRUYWJsZURhdGFcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxvYWRUYWJsZURhdGFcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlVGFibGVEYXRhXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVUYWJsZURhdGFcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvQ2hhcnRUaXRsZVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DaGFydFRpdGxlU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQ2hhcnRUaXRsZVN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQW5pbWF0ZWRQcmljZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0FuaW1hdGVkUHJpY2VTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0FuaW1hdGVkUHJpY2VTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheSAqLyBcIi4vc3JjL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5L2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0FuaW1hdGVkUHJpY2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0FuaW1hdGVkUHJpY2UuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFByaWNlLmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TeW1ib2xTZWxlY3RCdXR0b25fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL1N5bWJvbFNlbGVjdEJ1dHRvbi5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjM7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgQ2hhcnRUaXRsZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0VGl0bGVTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0VGl0bGVTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvZGF5Q2hhbmdlXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9kYXlDaGFuZ2VQZXJjZW50XCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzVmlzaWJsZVwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZSA9IHZvaWQgMDtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jaGFydC5mZWVkLm9uTWFzdGVyRGF0YVVwZGF0ZShfdGhpcy51cGRhdGUpO1xuXG4gICAgICBfdGhpcy51cGRhdGUoKTtcblxuICAgICAgX3RoaXMudHJhZGluZ1RpbWVzLm9uTWFya2V0T3BlbkNsb3NlQ2hhbmdlZChPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdKShmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBmb3IgKHZhciBzeW1ib2wgaW4gY2hhbmdlcykge1xuICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50U3ltYm9sLnN5bWJvbCA9PT0gc3ltYm9sKSB7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50U3ltYm9sLmV4Y2hhbmdlX2lzX29wZW4gPSBjaGFuZ2VzW3N5bWJvbF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnY2hhcnQtdGl0bGUnXG4gICAgfSk7XG4gICAgdGhpcy5hbmltYXRlZFByaWNlID0gbmV3IF9BbmltYXRlZFByaWNlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oKTtcbiAgICB0aGlzLmNhdGVnb3JpY2FsRGlzcGxheSA9IG5ldyBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgZ2V0Q2F0ZWdvcmljYWxJdGVtczogZnVuY3Rpb24gZ2V0Q2F0ZWdvcmljYWxJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5jaGFydC5jYXRlZ29yaXplZFN5bWJvbHM7XG4gICAgICB9LFxuICAgICAgZ2V0SXNTaG93bjogZnVuY3Rpb24gZ2V0SXNTaG93bigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1lbnUub3BlbjtcbiAgICAgIH0sXG4gICAgICBwbGFjZWhvbGRlclRleHQ6IHQudHJhbnNsYXRlKCdTZWFyY2guLi4nKSxcbiAgICAgIGZhdm9yaXRlc0lkOiAnY2hhcnRUaXRsZSZDb21wYXJpc29uJyxcbiAgICAgIG1haW5TdG9yZTogbWFpblN0b3JlLFxuICAgICAgaWQ6ICdtYXJrZXRfZHJvcGRvd24nLFxuICAgICAgZ2V0Q3VycmVudEFjdGl2ZUNhdGVnb3J5OiBmdW5jdGlvbiBnZXRDdXJyZW50QWN0aXZlQ2F0ZWdvcnkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbCA/IF90aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLm1hcmtldCA6ICdmYXZvcml0ZSc7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudEFjdGl2ZVN1YkNhdGVnb3J5OiBmdW5jdGlvbiBnZXRDdXJyZW50QWN0aXZlU3ViQ2F0ZWdvcnkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbCA/IF90aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLnN5bWJvbCA6ICcnO1xuICAgICAgfSxcbiAgICAgIHNlYXJjaElucHV0Q2xhc3NOYW1lOiBmdW5jdGlvbiBzZWFyY2hJbnB1dENsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5DaGFydFRpdGxlTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLk1hcmtldFNlbGVjdG9yID0gdGhpcy5jYXRlZ29yaWNhbERpc3BsYXkuY29ubmVjdChfY29tcG9uZW50c19jYXRlZ29yaWNhbGRpc3BsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkNhdGVnb3JpY2FsRGlzcGxheVwiXSk7XG4gICAgdmFyIFNwb3RQcmljZSA9IHRoaXMuYW5pbWF0ZWRQcmljZS5jb25uZWN0KF9jb21wb25lbnRzX0FuaW1hdGVkUHJpY2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKTtcbiAgICB2YXIgUHJpY2VEaXNwbGF5ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1Zpc2libGU6IF90aGlzLmlzVmlzaWJsZSAmJiBfdGhpcy5pc1Nob3dDaGFydFByaWNlLFxuICAgICAgICBzdGF0dXM6IF90aGlzLmFuaW1hdGVkUHJpY2Uuc3RhdHVzLFxuICAgICAgICB0b2RheUNoYW5nZTogX3RoaXMudG9kYXlDaGFuZ2UsXG4gICAgICAgIHRvZGF5Q2hhbmdlUGVyY2VudDogX3RoaXMudG9kYXlDaGFuZ2VQZXJjZW50LFxuICAgICAgICBTcG90UHJpY2U6IFNwb3RQcmljZVxuICAgICAgfTtcbiAgICB9KShfY29tcG9uZW50c19TeW1ib2xTZWxlY3RCdXR0b25fanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJDaGFydFByaWNlXCJdKTtcbiAgICB0aGlzLlN5bWJvbFNlbGVjdEJ1dHRvbiA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3ltYm9sOiBfdGhpcy5jdXJyZW50U3ltYm9sLFxuICAgICAgICBDaGFydFByaWNlOiBQcmljZURpc3BsYXksXG4gICAgICAgIGlzU3ltYm9sT3BlbjogX3RoaXMuaXNTeW1ib2xPcGVuLFxuICAgICAgICBzeW1ib2xPcGVuVGltZTogX3RoaXMuc3ltYm9sT3BlblRpbWVcbiAgICAgIH07XG4gICAgfSkoX2NvbXBvbmVudHNfU3ltYm9sU2VsZWN0QnV0dG9uX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiU3ltYm9sU2VsZWN0QnV0dG9uXCJdKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaGFydFRpdGxlU3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKHNlYXJjaElucHV0Q2xhc3NOYW1lKSB7XG4gICAgICB0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lID0gc2VhcmNoSW5wdXRDbGFzc05hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFN5bWJvbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTeW1ib2woc3ltYm9sT2JqKSB7XG4gICAgICBpZiAodGhpcy5tYWluU3RvcmUuc3RhdGUuc3ltYm9sICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ2hhbmdpbmcgc3ltYm9sIGRvZXMgbm90aGluZyBiZWNhdXNlIHN5bWJvbCBwcm9wIGlzIGJlaW5nIHNldC4gQ29uc2lkZXIgb3ZlcnJpZGluZyB0aGUgb25DaGFuZ2UgcHJvcCBpbiA8Q2hhcnRUaXRsZSAvPicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhcnQuY2hhbmdlU3ltYm9sKHN5bWJvbE9iaik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUocXVvdGUpIHtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50U3ltYm9sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc1Zpc2libGUgPSBxdW90ZSB8fCAhdGhpcy5pc1Nob3dDaGFydFByaWNlO1xuXG4gICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1cnJlbnRQcmljZSA9IHF1b3RlLkNsb3NlO1xuXG4gICAgICBpZiAoY3VycmVudFByaWNlKSB7XG4gICAgICAgIGN1cnJlbnRQcmljZSA9IGN1cnJlbnRQcmljZS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcyk7XG4gICAgICAgIHZhciBvbGRQcmljZSA9IHF1b3RlLnByZXZDbG9zZSB8fCB0aGlzLmFuaW1hdGVkUHJpY2UucHJpY2U7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWRQcmljZS5zZXRQcmljZShjdXJyZW50UHJpY2UsIG9sZFByaWNlKTtcblxuICAgICAgICBpZiAob2xkUHJpY2UpIHtcbiAgICAgICAgICB0aGlzLnRvZGF5Q2hhbmdlID0gTWF0aC5hYnMoY3VycmVudFByaWNlIC0gb2xkUHJpY2UpLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKTtcbiAgICAgICAgICB0aGlzLnRvZGF5Q2hhbmdlUGVyY2VudCA9ICh0aGlzLnRvZGF5Q2hhbmdlIC8gb2xkUHJpY2UgKiAxMDApLnRvRml4ZWQoMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1cnJlbnRTeW1ib2xcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1N5bWJvbE9wZW5cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTeW1ib2wuZXhjaGFuZ2VfaXNfb3BlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVjaW1hbFBsYWNlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzU2hvd0NoYXJ0UHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5pc0NoYXJ0QXZhaWxhYmxlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0cmFkaW5nVGltZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC50cmFkaW5nVGltZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN5bWJvbE9wZW5UaW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgdGltZXMgPSB0aGlzLnRyYWRpbmdUaW1lcy5fdHJhZGluZ1RpbWVzTWFwICYmIHRoaXMudHJhZGluZ1RpbWVzLl90cmFkaW5nVGltZXNNYXAubGVuZ3RoID8gdGhpcy50cmFkaW5nVGltZXMuX3RyYWRpbmdUaW1lc01hcFt0aGlzLmN1cnJlbnRTeW1ib2wuc3ltYm9sXS50aW1lcyA6IFtdO1xuICAgICAgdmFyIG5vdyA9IHRoaXMuc2VydmVyVGltZS5nZXRMb2NhbERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICB2YXIgb3BlblRpbWUgPSB0aW1lcyA/IHRpbWVzLmZpbmQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRpbWUub3Blbi5nZXRUaW1lKCkgPiBub3c7XG4gICAgICB9KSA6IG51bGw7XG5cbiAgICAgIGlmICghKG9wZW5UaW1lIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgb3BlblRpbWUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuVGltZTogb3BlblRpbWVcbiAgICAgIH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0VGl0bGVTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZGF5Q2hhbmdlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidG9kYXlDaGFuZ2VQZXJjZW50XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNWaXNpYmxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRTeW1ib2xcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRTeW1ib2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNTeW1ib2xPcGVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1N5bWJvbE9wZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Nob3dDaGFydFByaWNlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Nob3dDaGFydFByaWNlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRyYWRpbmdUaW1lc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidHJhZGluZ1RpbWVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInN5bWJvbE9wZW5UaW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzeW1ib2xPcGVuVGltZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRTeW1ib2xcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN5bWJvbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvQ2hhcnRUeXBlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ2hhcnRUeXBlU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBDaGFydFR5cGVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NZW51U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9NZW51U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0xpc3RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9MaXN0U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9MaXN0U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0ljb25zLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvSWNvbnMuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TZXR0aW5nc0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1NldHRpbmdzRGlhbG9nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9TZXR0aW5nc0RpYWxvZ1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0xpc3RfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0xpc3QuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9MaXN0LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfU2V0dGluZ3NEaWFsb2dfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL1NldHRpbmdzRGlhbG9nLmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2NsYXNzLCBfZGVzY3JpcHRvcjtcblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gZ2V0Q2hhcnRUeXBlcygpIHtcbiAgcmV0dXJuIFt7XG4gICAgaWQ6ICdtb3VudGFpbicsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0xpbmUnKSxcbiAgICBjYW5kbGVPbmx5OiBmYWxzZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxpbmVJY29uXCJdXG4gIH0sIHtcbiAgICBpZDogJ2xpbmUnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdEb3QnKSxcbiAgICBjYW5kbGVPbmx5OiBmYWxzZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkRvdEljb25cIl1cbiAgfSwge1xuICAgIGlkOiAnY29sb3JlZF9saW5lJyxcbiAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnQ29sb3JlZCBEb3QnKSxcbiAgICBjYW5kbGVPbmx5OiBmYWxzZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxpbmVEb3RJY29uXCJdXG4gIH0sIHtcbiAgICBpZDogJ3NwbGluZScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ1NwbGluZScpLFxuICAgIGNhbmRsZU9ubHk6IGZhbHNlLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiU3BsaW5lSWNvblwiXVxuICB9LCB7XG4gICAgaWQ6ICdiYXNlbGluZScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0Jhc2VsaW5lJyksXG4gICAgY2FuZGxlT25seTogZmFsc2UsXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJCYXNlTGluZUljb25cIl1cbiAgfSwge1xuICAgIGlkOiAnY2FuZGxlJyxcbiAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnQ2FuZGxlJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkNhbmRsZUljb25cIl1cbiAgfSwge1xuICAgIGlkOiAnY29sb3JlZF9iYXInLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdPSExDJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIk9ITENJY29uXCJdXG4gIH0sIHtcbiAgICBpZDogJ2hvbGxvd19jYW5kbGUnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdIb2xsb3cgQ2FuZGxlJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkhvbGxvd0NhbmRsZUljb25cIl1cbiAgfSwge1xuICAgIGlkOiAnaGVpa2luYXNoaScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ0hlaWtpbiBBc2hpJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkhlaWtpbkFzaGlJY29uXCJdXG4gIH0sIHtcbiAgICBpZDogJ2thZ2knLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdLYWdpJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkthZ2lJY29uXCJdLFxuICAgIHNldHRpbmdzT25DbGljazogdHJ1ZVxuICB9LCB7XG4gICAgaWQ6ICdsaW5lYnJlYWsnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdMaW5lIEJyZWFrJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIkxpbmVCcmVha0ljb25cIl0sXG4gICAgc2V0dGluZ3NPbkNsaWNrOiB0cnVlXG4gIH0sIHtcbiAgICBpZDogJ3JlbmtvJyxcbiAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnUmVua28nKSxcbiAgICBjYW5kbGVPbmx5OiB0cnVlLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiUmVua29JY29uXCJdLFxuICAgIHNldHRpbmdzT25DbGljazogdHJ1ZVxuICB9LCB7XG4gICAgaWQ6ICdyYW5nZWJhcnMnLFxuICAgIHRleHQ6IHQudHJhbnNsYXRlKCdSYW5nZSBCYXJzJyksXG4gICAgY2FuZGxlT25seTogdHJ1ZSxcbiAgICBpY29uOiBfY29tcG9uZW50c19JY29uc19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcIlJhbmdlQmFyc0ljb25cIl0sXG4gICAgc2V0dGluZ3NPbkNsaWNrOiB0cnVlXG4gIH0sIHtcbiAgICBpZDogJ3BhbmRmJyxcbiAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnUG9pbnQgJiBGaWd1cmUnKSxcbiAgICBjYW5kbGVPbmx5OiB0cnVlLFxuICAgIGljb246IF9jb21wb25lbnRzX0ljb25zX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiUG9pbnRGaWd1cmVJY29uXCJdLFxuICAgIHNldHRpbmdzT25DbGljazogdHJ1ZVxuICB9LCB7XG4gICAgaWQ6ICd0YWJsZScsXG4gICAgdGV4dDogdC50cmFuc2xhdGUoJ1RhYmxlJyksXG4gICAgY2FuZGxlT25seTogZmFsc2UsXG4gICAgaWNvbjogX2NvbXBvbmVudHNfSWNvbnNfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJUYWJsZUljb25cIl1cbiAgfV07XG59XG5cbnZhciBub3RDYW5kbGVzID0gZ2V0Q2hhcnRUeXBlcygpLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICByZXR1cm4gIXQuY2FuZGxlT25seTtcbn0pLm1hcChmdW5jdGlvbiAodCkge1xuICByZXR1cm4gdC5pZDtcbn0pO1xudmFyIGFnZ3JlZ2F0ZUNoYXJ0cyA9IGdldENoYXJ0VHlwZXMoKS5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIHQuc2V0dGluZ3NPbkNsaWNrO1xufSk7XG5cbmZ1bmN0aW9uIGdldEFnZ3JlZ2F0ZXMoKSB7XG4gIHJldHVybiB7XG4gICAgaGVpa2luYXNoaTogdHJ1ZSxcbiAgICBrYWdpOiB7XG4gICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ0thZ2knKSxcbiAgICAgIGlucHV0czogW3tcbiAgICAgICAgaWQ6ICdrYWdpJyxcbiAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdSZXZlcnNhbCBQZXJjZW50YWdlJyksXG4gICAgICAgIHR5cGU6ICdudW1lcmljaW5wdXQnXG4gICAgICB9XVxuICAgIH0sXG4gICAgcmVua286IHtcbiAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmVua28nKSxcbiAgICAgIGlucHV0czogW3tcbiAgICAgICAgaWQ6ICdyZW5rbycsXG4gICAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmFuZ2UnKSxcbiAgICAgICAgdHlwZTogJ251bWVyaWNpbnB1dCdcbiAgICAgIH1dXG4gICAgfSxcbiAgICBsaW5lYnJlYWs6IHtcbiAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnTGluZSBCcmVhaycpLFxuICAgICAgaW5wdXRzOiBbe1xuICAgICAgICBpZDogJ3ByaWNlTGluZXMnLFxuICAgICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1ByaWNlIExpbmVzJyksXG4gICAgICAgIHR5cGU6ICdudW1lcmljaW5wdXQnLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAxLFxuICAgICAgICBtaW46IDFcbiAgICAgIH1dXG4gICAgfSxcbiAgICByYW5nZWJhcnM6IHtcbiAgICAgIHRpdGxlOiB0LnRyYW5zbGF0ZSgnUmFuZ2UgQmFycycpLFxuICAgICAgaW5wdXRzOiBbe1xuICAgICAgICBpZDogJ3JhbmdlJyxcbiAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdSYW5nZScpLFxuICAgICAgICB0eXBlOiAnbnVtZXJpY2lucHV0J1xuICAgICAgfV1cbiAgICB9LFxuICAgIHBhbmRmOiB7XG4gICAgICB0aXRsZTogdC50cmFuc2xhdGUoJ1BvaW50ICYgRmlndXJlJyksXG4gICAgICBpbnB1dHM6IFt7XG4gICAgICAgIGlkOiAnYm94JyxcbiAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdCb3ggU2l6ZScpLFxuICAgICAgICB0eXBlOiAnbnVtZXJpY2lucHV0J1xuICAgICAgfSwge1xuICAgICAgICBpZDogJ3JldmVyc2FsJyxcbiAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKCdSZXZlcnNhbCcpLFxuICAgICAgICB0eXBlOiAnbnVtZXJpY2lucHV0J1xuICAgICAgfV1cbiAgICB9XG4gIH07XG59XG5cbnZhciBDaGFydFR5cGVTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYXJ0VHlwZVN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRUeXBlU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBlXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIHRoaXMub25DaGFydFR5cGVDaGFuZ2VkID0gdm9pZCAwO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmFnZ3JlZ2F0ZXMgPSBnZXRBZ2dyZWdhdGVzKCk7XG4gICAgICBfdGhpcy5jaGFydFR5cGVzID0gZ2V0Q2hhcnRUeXBlcygpO1xuXG4gICAgICBfdGhpcy5zZXRDaGFydFR5cGVGcm9tTGF5b3V0KF90aGlzLnN0eC5sYXlvdXQpO1xuXG4gICAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGU7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5tYWluU3RvcmUuc3RhdGUuY2hhcnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBfdGhpcy5zZXRUeXBlKF90aGlzLm1haW5TdG9yZS5zdGF0ZS5jaGFydFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVBZ2dyZWdhdGUgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBpdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgaWQgPSBfc3RlcCR2YWx1ZS5pZCxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcCR2YWx1ZS52YWx1ZTtcbiAgICAgICAgICB2YXIgdHVwbGUgPSBDSVEuZGVyaXZlRnJvbU9iamVjdENoYWluKF90aGlzLnN0eC5sYXlvdXQsIGlkKTtcbiAgICAgICAgICB0dXBsZS5vYmpbdHVwbGUubWVtYmVyXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfdGhpcy5zdHguY2hhbmdlT2NjdXJyZWQoJ2xheW91dCcpO1xuXG4gICAgICBfdGhpcy5zdHguY3JlYXRlRGF0YVNldCgpO1xuXG4gICAgICBfdGhpcy5zdHguZHJhdygpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ2NoYXJ0LXR5cGUnXG4gICAgfSk7XG4gICAgdGhpcy5saXN0ID0gbmV3IF9MaXN0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgICB9LFxuICAgICAgZ2V0SXRlbXM6IGZ1bmN0aW9uIGdldEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMudHlwZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXR0aW5nc0RpYWxvZyA9IG5ldyBfU2V0dGluZ3NEaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSh7XG4gICAgICBtYWluU3RvcmU6IG1haW5TdG9yZSxcbiAgICAgIG9uQ2hhbmdlZDogZnVuY3Rpb24gb25DaGFuZ2VkKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVBZ2dyZWdhdGUoaXRlbXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuQ2hhcnRUeXBlTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLkNoYXJ0VHlwZUxpc3QgPSB0aGlzLmxpc3QuY29ubmVjdChfY29tcG9uZW50c19MaXN0X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSk7XG4gICAgdGhpcy5BZ2dyZWdhdGVDaGFydFNldHRpbmdzRGlhbG9nID0gdGhpcy5zZXR0aW5nc0RpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX1NldHRpbmdzRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhcnRUeXBlU3RvcmUsIFt7XG4gICAga2V5OiBcInNldFR5cGVGcm9tVUlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHlwZUZyb21VSSh0eXBlKSB7XG4gICAgICBpZiAodGhpcy5jaGFydFR5cGVQcm9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ2hhbmdpbmcgY2hhcnQgdHlwZSBkb2VzIG5vdGhpbmcgYmVjYXVzZSBjaGFydFR5cGUgcHJvcCBpcyBiZWluZyBzZXQuIENvbnNpZGVyIG92ZXJyaWRpbmcgdGhlIG9uQ2hhbmdlIHByb3AgaW4gPENoYXJ0VHlwZXMgLz4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFR5cGUodHlwZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHlwZSh0eXBlKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJMb2dBY3Rpb25zXCJdLkNoYXJ0VHlwZSwgdHlwZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHlwZSA9IHRoaXMudHlwZXMuZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LmlkID09PSB0eXBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUuaWQgPT09IHRoaXMudHlwZS5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlLmlkID09PSAndGFibGUnKSB7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0VGFibGUuc2V0T3Blbih0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZS5pZCA9PT0gJ3NwbGluZScpIHtcbiAgICAgICAgLy8gU3BsaW5lIGlzIGp1c3QgYSBsaW5lIHdpdGggdGVuc2lvblxuICAgICAgICB0aGlzLnN0eC5jaGFydC50ZW5zaW9uID0gdGhpcy5zdHgubGF5b3V0LnRlbnNpb24gPSAwLjU7XG4gICAgICAgIHRoaXMuc3R4LnNldENoYXJ0VHlwZSgnbW91bnRhaW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3R4LmNoYXJ0LnRlbnNpb24gPSAwO1xuICAgICAgICBkZWxldGUgdGhpcy5zdHgubGF5b3V0LnRlbnNpb247XG5cbiAgICAgICAgaWYgKHRoaXMuYWdncmVnYXRlc1t0eXBlLmlkXSkge1xuICAgICAgICAgIC8vIFNldCBiYXNlbGluZS51c2VyTGV2ZWwgdG8gZmFsc2Ugc28gY2hhcnQgd29uJ3QgbW92ZSB1cCBhZnRlciBBZ2dyZWdhdGlvblR5cGUgc2V0LlxuICAgICAgICAgIHRoaXMuc3R4LmNoYXJ0LmJhc2VsaW5lLnVzZXJMZXZlbCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc3R4LnNldEFnZ3JlZ2F0aW9uVHlwZSh0eXBlLmlkKTsgLy8gUmVzZXQgYmFzZWxpbmUudXNlckxldmVsIHRvIGl0cyBkZWZhdWx0IHZhbHVlXG5cbiAgICAgICAgICB0aGlzLnN0eC5jaGFydC5iYXNlbGluZS51c2VyTGV2ZWwgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3R4LnNldENoYXJ0VHlwZSh0eXBlLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhvbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYXJ0VHlwZUNoYW5nZWQgPSBvbkNoYW5nZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd0FnZ3JlZ2F0ZURpYWxvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93QWdncmVnYXRlRGlhbG9nKGFnZ3JlZ2F0ZUlkKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKGFnZ3JlZ2F0ZUlkICE9PSB0aGlzLnR5cGUuaWQpIHtcbiAgICAgICAgdGhpcy5zZXRUeXBlKGFnZ3JlZ2F0ZUlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFnZ3JlZ2F0ZSA9IHRoaXMuYWdncmVnYXRlc1thZ2dyZWdhdGVJZF07XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnRpdGxlID0gYWdncmVnYXRlLnRpdGxlO1xuICAgICAgdmFyIGlucHV0cyA9IGFnZ3JlZ2F0ZS5pbnB1dHMubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICAgICAgICBhZ2cgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiaWRcIl0pO1xuXG4gICAgICAgIHZhciBuYW1lID0gaWQgPT09ICdib3gnIHx8IGlkID09PSAncmV2ZXJzYWwnID8gXCJwYW5kZi5cIi5jb25jYXQoaWQpIDogaWQ7XG4gICAgICAgIHZhciB0dXBsZSA9IENJUS5kZXJpdmVGcm9tT2JqZWN0Q2hhaW4oX3RoaXMyLnN0eC5sYXlvdXQsIG5hbWUpO1xuICAgICAgICB2YXIgdmFsdWUgPSB0dXBsZS5vYmpbdHVwbGUubWVtYmVyXTtcbiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IF90aGlzMi5zdHguY2hhcnQuZGVmYXVsdENoYXJ0U3R5bGVDb25maWdbaWRdO1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgaWQ6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlICE9IHVuZGVmaW5lZCA/IHZhbHVlIDogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVcbiAgICAgICAgfSwgYWdnKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy5pdGVtcyA9IGlucHV0cztcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuc2V0T3Blbih0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2hhcnRUeXBlRnJvbUxheW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDaGFydFR5cGVGcm9tTGF5b3V0KGxheW91dCkge1xuICAgICAgdmFyIGNoYXJ0VHlwZSA9IHRoaXMuZ2V0Q2hhcnRUeXBlRnJvbUxheW91dChsYXlvdXQpO1xuICAgICAgdmFyIHR5cGVJZHggPSB0aGlzLmNoYXJ0VHlwZXMuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0LmlkID09PSBjaGFydFR5cGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudHlwZSA9IHRoaXMuY2hhcnRUeXBlc1t0eXBlSWR4XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2hhcnRUeXBlRnJvbUxheW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGFydFR5cGVGcm9tTGF5b3V0KGxheW91dCkge1xuICAgICAgdmFyIGNoYXJ0VHlwZTtcblxuICAgICAgaWYgKGxheW91dC50ZW5zaW9uKSB7XG4gICAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IGlmIHRlbnNpb24gaXMgc2V0LCBzcGxpbmUgaXMgZW5hYmxlZFxuICAgICAgICBjaGFydFR5cGUgPSAnc3BsaW5lJztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hZ2dyZWdhdGVzW2xheW91dC5hZ2dyZWdhdGlvblR5cGVdKSB7XG4gICAgICAgIGNoYXJ0VHlwZSA9IGxheW91dC5hZ2dyZWdhdGlvblR5cGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFydFR5cGUgPSBsYXlvdXQuY2hhcnRUeXBlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhcnRUeXBlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1R5cGVDYW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNUeXBlQ2FuZGxlKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHlwZSA9IHRoaXMudHlwZXMuZmluZChmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LmlkID09PSB0eXBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vdENhbmRsZXMuaW5kZXhPZih0eXBlLmlkKSA9PT0gLTE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFydFR5cGVQcm9wXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuc3RhdGUuY2hhcnRUeXBlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0NhbmRsZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5vdENhbmRsZXMuaW5kZXhPZih0aGlzLnR5cGUuaWQpID09PSAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNTcGxpbmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnR5cGUuaWQgPT09ICdzcGxpbmUnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0FnZ3JlZ2F0ZUNoYXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuICEhYWdncmVnYXRlQ2hhcnRzLmZpbmQoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuaWQgPT09IF90aGlzMy5zdHgubGF5b3V0LmFnZ3JlZ2F0aW9uVHlwZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0eXBlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBpc1RpY2tTZWxlY3RlZCA9IHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXQgPT09ICd0aWNrJztcblxuICAgICAgaWYgKHRoaXMuY2hhcnRUeXBlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuY2hhcnRUeXBlcyA9IGdldENoYXJ0VHlwZXMoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnRUeXBlcy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHQsIHtcbiAgICAgICAgICBhY3RpdmU6IHQuaWQgPT09IF90aGlzNC50eXBlLmlkLFxuICAgICAgICAgIGRpc2FibGVkOiB0LmNhbmRsZU9ubHkgPyBpc1RpY2tTZWxlY3RlZCA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0VHlwZVN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidHlwZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnbW91bnRhaW4nO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFR5cGVGcm9tVUlcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0VHlwZUZyb21VSVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRUeXBlXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRUeXBlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG93QWdncmVnYXRlRGlhbG9nXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG93QWdncmVnYXRlRGlhbG9nXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInR5cGVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0eXBlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydFR5cGVGcm9tTGF5b3V0XCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRDaGFydFR5cGVGcm9tTGF5b3V0XCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Db21wYXJpc29uTGlzdFN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ29tcGFyaXNvbkxpc3RTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENvbXBhcmlzb25MaXN0U3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9BbmltYXRlZFByaWNlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQW5pbWF0ZWRQcmljZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvQW5pbWF0ZWRQcmljZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX0FuaW1hdGVkUHJpY2VfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL0FuaW1hdGVkUHJpY2UuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFByaWNlLmpzeFwiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3I7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxudmFyIENvbXBhcmlzb25MaXN0U3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29tcGFyaXNvbkxpc3RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbXBhcmlzb25MaXN0U3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhbmltYXRlZFByaWNlc1wiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLmFuaW1hdGVkUHJpY2VTdG9yZSA9IFtdO1xuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlOyAvLyBUaGUgb3JkZXIgb2Ygc2V0dGluZyB0aGUgcmVhY3Rpb24gaXMgaW1wb3J0YW50LiBUaGUgYW5pbWF0ZWRQcmljZXMgYXJyYXkgbXVzdCBtYXRjaFxuICAgIC8vIGNvbXBhcmlzb25TeW1ib2xzIGFycmF5IF9iZWZvcmVfIHVwZGF0aW5nIHRoZSBwcmljZXNcblxuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbXBhcmlzb25TeW1ib2xzLmxlbmd0aDtcbiAgICB9LCB0aGlzLnN5bmNBbmltYXRlZFByaWNlc1dpdGhDb21wYXJpc29ucyk7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInJlYWN0aW9uXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29tcGFyaXNvblN5bWJvbHMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLnByaWNlO1xuICAgICAgfSk7XG4gICAgfSwgdGhpcy51cGRhdGVQcmljZXMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbXBhcmlzb25MaXN0U3RvcmUsIFt7XG4gICAga2V5OiBcInN5bmNBbmltYXRlZFByaWNlc1dpdGhDb21wYXJpc29uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jQW5pbWF0ZWRQcmljZXNXaXRoQ29tcGFyaXNvbnMoKSB7XG4gICAgICB2YXIgZGlmZiA9IHRoaXMuY29tcGFyaXNvblN5bWJvbHMubGVuZ3RoIC0gdGhpcy5hbmltYXRlZFByaWNlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChkaWZmID4gMCkge1xuICAgICAgICB3aGlsZSAoZGlmZi0tICE9PSAwKSB7XG4gICAgICAgICAgdmFyIHN0b3JlID0gbmV3IF9BbmltYXRlZFByaWNlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oKTtcbiAgICAgICAgICB0aGlzLmFuaW1hdGVkUHJpY2VTdG9yZS5wdXNoKHN0b3JlKTtcbiAgICAgICAgICB0aGlzLmFuaW1hdGVkUHJpY2VzID0gdGhpcy5hbmltYXRlZFByaWNlcy5jb25jYXQoW3N0b3JlLmNvbm5lY3QoX2NvbXBvbmVudHNfQW5pbWF0ZWRQcmljZV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgd2hpbGUgKGRpZmYrKyAhPT0gMCkge1xuICAgICAgICAgIHRoaXMuYW5pbWF0ZWRQcmljZXMucG9wKCk7XG4gICAgICAgICAgdGhpcy5hbmltYXRlZFByaWNlU3RvcmUucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUHJpY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByaWNlcygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmNvbXBhcmlzb25TeW1ib2xzLm1hcChmdW5jdGlvbiAoX3JlZiwgaSkge1xuICAgICAgICB2YXIgcHJpY2UgPSBfcmVmLnByaWNlLFxuICAgICAgICAgICAgcHJldlByaWNlID0gX3JlZi5wcmV2UHJpY2U7XG4gICAgICAgIHZhciBhbmltYXRlZFByaWNlID0gX3RoaXMyLmFuaW1hdGVkUHJpY2VTdG9yZVtpXTtcbiAgICAgICAgYW5pbWF0ZWRQcmljZS5zZXRQcmljZShwcmljZSwgcHJldlByaWNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRlbGV0ZUl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EZWxldGVJdGVtKHN5bWJvbE9iamVjdCkge1xuICAgICAgdGhpcy5tYWluU3RvcmUuY29tcGFyaXNvbi5yZW1vdmVDb21wYXJpc29uKHN5bWJvbE9iamVjdCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBhcmlzb25TeW1ib2xzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY29tcGFyaXNvbi5jb21wYXJpc29uU3ltYm9scztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbXBhcmlzb25MaXN0U3RvcmU7XG59KCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhbmltYXRlZFByaWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzeW5jQW5pbWF0ZWRQcmljZXNXaXRoQ29tcGFyaXNvbnNcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic3luY0FuaW1hdGVkUHJpY2VzV2l0aENvbXBhcmlzb25zXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByaWNlc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJpY2VzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uRGVsZXRlSXRlbVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVJdGVtXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0NvbXBhcmlzb25TdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ29tcGFyaXNvblN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIENvbXBhcmlzb25TdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwicmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19jYXRlZ29yaWNhbGRpc3BsYXlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvY2F0ZWdvcmljYWxkaXNwbGF5ICovIFwiLi9zcmMvY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTWVudS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfZGVjNSwgX2RlYzYsIF9jbGFzcywgX2Rlc2NyaXB0b3I7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxuXG5cblxuXG52YXIgc3dhdGNoQ29sb3JzID0gWycjOGVjNjQ4JywgJyMwMGFmZWQnLCAnI2VlNjUyZScsICcjOTEyYThlJywgJyNmZmYxMjYnLCAnI2U5MDg4YycsICcjZWExZDJjJywgJyMwMGE1NTMnLCAnIzAwYTk5YycsICcjMDA1NmE0JywgJyNmNDkzMmYnLCAnIzAwNzNiYScsICcjNjYzMDhmJywgJyMzMjMzOTAnXTtcbnZhciBDb21wYXJpc29uU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM2ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLy8ganVzdCB1c2VkIHRvIHRyYWNrIGlmIHN5bWJvbCBoYXMgY2hhbmdlZFxuICBmdW5jdGlvbiBDb21wYXJpc29uU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wYXJpc29uU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21wYXJpc29uU3ltYm9sc1wiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wgPSB2b2lkIDA7XG4gICAgdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZSA9IHZvaWQgMDtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3R4ID0gX3RoaXMuY29udGV4dC5zdHg7XG4gICAgICB2YXIgZmVlZCA9IF90aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkO1xuICAgICAgX3RoaXMuY3VycmVudEFjdGl2ZVN5bWJvbCA9IHN0eC5jaGFydC5zeW1ib2w7XG4gICAgICBzdHguYWRkRXZlbnRMaXN0ZW5lcignc3ltYm9sQ2hhbmdlJywgX3RoaXMub25TeW1ib2xDaGFuZ2UpO1xuICAgICAgZmVlZC5vbkNvbXBhcmlzb25EYXRhVXBkYXRlKF90aGlzLnVwZGF0ZUNvbXBhcmlzb25QcmljZXMpO1xuXG4gICAgICBfdGhpcy51cGRhdGVDb21wYXJpc29ucygpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnY29tcGFyaXNvbidcbiAgICB9KTtcbiAgICB0aGlzLkNvbXBhcmlzb25NZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuY2F0ZWdvcmljYWxEaXNwbGF5ID0gbmV3IF9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSh7XG4gICAgICBnZXRBY3RpdmVDYXRlZ29yeTogZnVuY3Rpb24gZ2V0QWN0aXZlQ2F0ZWdvcnkoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5hY3RpdmVDb21wYXJpc29ucztcbiAgICAgIH0sXG4gICAgICBnZXRDYXRlZ29yaWNhbEl0ZW1zOiBmdW5jdGlvbiBnZXRDYXRlZ29yaWNhbEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMubWFpblN0b3JlLmNoYXJ0LmNhdGVnb3JpemVkU3ltYm9scztcbiAgICAgIH0sXG4gICAgICBnZXRJc1Nob3duOiBmdW5jdGlvbiBnZXRJc1Nob3duKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMubWVudS5vcGVuO1xuICAgICAgfSxcbiAgICAgIGFjdGl2ZU9wdGlvbnM6IFt7XG4gICAgICAgIGlkOiAnY21wLWNvbG9yJyxcbiAgICAgICAgcmVuZGVyQ2hpbGQ6IGZ1bmN0aW9uIHJlbmRlckNoaWxkKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpdGVtLmRhdGFPYmplY3QuY29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2RlbGV0ZScsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25EZWxldGVJdGVtXG4gICAgICB9XSxcbiAgICAgIG9uU2VsZWN0SXRlbTogdGhpcy5vblNlbGVjdEl0ZW0uYmluZCh0aGlzKSxcbiAgICAgIHBsYWNlaG9sZGVyVGV4dDogdC50cmFuc2xhdGUoJ1NlYXJjaC4uLicpLFxuICAgICAgZmF2b3JpdGVzSWQ6ICdjaGFydFRpdGxlJkNvbXBhcmlzb24nLFxuICAgICAgbWFpblN0b3JlOiBtYWluU3RvcmUsXG4gICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZTogZnVuY3Rpb24gc2VhcmNoSW5wdXRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLkNvbXBhcmlzb25TZWxlY3RvciA9IHRoaXMuY2F0ZWdvcmljYWxEaXNwbGF5LmNvbm5lY3QoX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJDYXRlZ29yaWNhbERpc3BsYXlcIl0pO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb21wYXJpc29uU3RvcmUsIFt7XG4gICAga2V5OiBcInVwZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKHNlYXJjaElucHV0Q2xhc3NOYW1lKSB7XG4gICAgICB0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lID0gc2VhcmNoSW5wdXRDbGFzc05hbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvbXBhcmlzb25QcmljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ29tcGFyaXNvblByaWNlcyhkYXRhKSB7XG4gICAgICB2YXIgY29tcGFyaXNvbiA9IHRoaXMuY29tcGFyaXNvblN5bWJvbHMuZmluZChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5zeW1ib2xPYmplY3Quc3ltYm9sID09PSBkYXRhLnN5bWJvbDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY29tcGFyaXNvbikge1xuICAgICAgICBjb21wYXJpc29uLnByaWNlID0gZGF0YS5DbG9zZTtcbiAgICAgICAgY29tcGFyaXNvbi5wcmV2UHJpY2UgPSBkYXRhLnByZXZDbG9zZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcGFyaXNvbnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQ29tcGFyaXNvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDb21wYXJpc29uKHN5bWJvbE9iaikge1xuICAgICAgdGhpcy5jb250ZXh0LnN0eC5yZW1vdmVTZXJpZXMoc3ltYm9sT2JqLnN5bWJvbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uRGVsZXRlSXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRlbGV0ZUl0ZW0oX3JlZikge1xuICAgICAgdmFyIHN5bWJvbE9iamVjdCA9IF9yZWYuc3ltYm9sT2JqZWN0O1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiTG9nQWN0aW9uc1wiXS5Db21wYXJpc29uLCBcIlJlbW92ZSBcIi5jb25jYXQoc3ltYm9sT2JqZWN0Lm5hbWUpKTtcbiAgICAgIHRoaXMucmVtb3ZlQ29tcGFyaXNvbihzeW1ib2xPYmplY3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVBbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY29tcGFyaXNvblN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICBfdGhpczIub25EZWxldGVJdGVtKHgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU2VsZWN0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlbGVjdEl0ZW0oc3ltYm9sT2JqZWN0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiTG9nQWN0aW9uc1wiXS5Db21wYXJpc29uLCBcIkFkZCBcIi5jb25jYXQoc3ltYm9sT2JqZWN0Lm5hbWUpKTtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgdmFyIHBhdHRlcm4gPSBudWxsO1xuICAgICAgdmFyIHdpZHRoID0gMTtcbiAgICAgIHZhciBjb2xvciA9IHRoaXMuZ2V0U3dhdGNoQ29sb3IoKSB8fCAnYXV0byc7XG4gICAgICB2YXIgc3R4ID0gY29udGV4dC5zdHg7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBzeW1ib2xPYmplY3Q6IHN5bWJvbE9iamVjdCxcbiAgICAgICAgaXNDb21wYXJpc29uOiB0cnVlLFxuICAgICAgICBkaXNwbGF5OiBzeW1ib2xPYmplY3QubmFtZSxcbiAgICAgICAgZmlsbEdhcHM6IHRydWUsXG4gICAgICAgIGdhcERpc3BsYXlTdHlsZTogdHJ1ZSxcbiAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VEZWZhdWx0UXVvdGVGZWVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlRGF0YTogdHJ1ZVxuICAgICAgfTsgLy8gZG9uJ3QgYWxsb3cgc3ltYm9sIGlmIHNhbWUgYXMgbWFpbiBjaGFydCwgY29tcGFyaXNvbiBhbHJlYWR5IGV4aXN0cywgb3IganVzdCB3aGl0ZSBzcGFjZVxuXG4gICAgICB2YXIgZXhpc3RzID0gc3R4LmdldFNlcmllcyh7XG4gICAgICAgIHN5bWJvbE9iamVjdDogc3ltYm9sT2JqZWN0XG4gICAgICB9KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGV4aXN0c1tpXS5wYXJhbWV0ZXJzLmlzQ29tcGFyaXNvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBkb24ndCBhbGxvdyBzeW1ib2wgaWYgc2FtZSBhcyBtYWluIGNoYXJ0IG9yIGp1c3Qgd2hpdGUgc3BhY2VcblxuXG4gICAgICBpZiAoY29udGV4dC5zdHguY2hhcnQuc3ltYm9sICE9PSBzeW1ib2xPYmplY3Quc3ltYm9sKSB7XG4gICAgICAgIHRoaXMuY29tcGFyaXNvblN5bWJvbHMucHVzaCh7XG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgIHN5bWJvbE9iamVjdDogc3ltYm9sT2JqZWN0XG4gICAgICAgIH0pO1xuICAgICAgICBzdHguYWRkU2VyaWVzKHN5bWJvbE9iamVjdC5zeW1ib2wsIHBhcmFtcywgZnVuY3Rpb24gKGVyciwgc2VyaWVzKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgX3RoaXMzLnJlbW92ZUNvbXBhcmlzb24oc2VyaWVzLnBhcmFtZXRlcnMuc3ltYm9sT2JqZWN0KTtcblxuICAgICAgICAgICAgc2VyaWVzLnBhcmFtZXRlcnMuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVudS5zZXRPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U3dhdGNoQ29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3dhdGNoQ29sb3IoKSB7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHZhciBzZWxlY3RlZENvbG9yID0gJyc7XG4gICAgICB2YXIgdXNlZENvbG9ycyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBzIGluIHN0eC5jaGFydC5zZXJpZXMpIHtcbiAgICAgICAgdmFyIHNlcmllcyA9IHN0eC5jaGFydC5zZXJpZXNbc107XG5cbiAgICAgICAgaWYgKCFzZXJpZXMucGFyYW1ldGVycy5pc0NvbXBhcmlzb24pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVzZWRDb2xvcnNbc2VyaWVzLnBhcmFtZXRlcnMuY29sb3JdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzd2F0Y2hDb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZmluZCBmaXJzdCB1bnVzZWQgY29sb3IgZnJvbSBhdmFpbGFibGUgY29sb3JzXG4gICAgICAgIGlmICghdXNlZENvbG9yc1tzd2F0Y2hDb2xvcnNbaV1dKSB7XG4gICAgICAgICAgc2VsZWN0ZWRDb2xvciA9IHN3YXRjaENvbG9yc1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZWN0ZWRDb2xvcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25TeW1ib2xDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TeW1ib2xDaGFuZ2UoX3JlZjIpIHtcbiAgICAgIHZhciBzeW1ib2xBY3Rpb24gPSBfcmVmMi5hY3Rpb247XG5cbiAgICAgIGlmIChzeW1ib2xBY3Rpb24gPT09ICdtYXN0ZXInKSB7XG4gICAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBY3RpdmVTeW1ib2wgIT09IHN0eC5jaGFydC5zeW1ib2wpIHtcbiAgICAgICAgICB0aGlzLmNvbXBhcmlzb25TeW1ib2xzID0gW107XG5cbiAgICAgICAgICBmb3IgKHZhciBmaWVsZCBpbiBzdHguY2hhcnQuc2VyaWVzKSB7XG4gICAgICAgICAgICBpZiAoc3R4LmNoYXJ0LnNlcmllc1tmaWVsZF0ucGFyYW1ldGVycy5idWNrZXQgIT09ICdzdHVkeScpIHtcbiAgICAgICAgICAgICAgc3R4LnJlbW92ZVNlcmllcyhmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50QWN0aXZlU3ltYm9sID0gc3R4LmNoYXJ0LnN5bWJvbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3ltYm9sQWN0aW9uID0gJ2FkZC1zZXJpZXMnIG9yICdyZW1vdmUtc2VyaWVzJ1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBhcmlzb25zKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvbXBhcmlzb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvbXBhcmlzb25zKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHZhciBjb21wYXJpc29uU3ltYm9sc0tleXMgPSBPYmplY3Qua2V5cyhzdHguY2hhcnQuc2VyaWVzKTtcblxuICAgICAgaWYgKGNvbXBhcmlzb25TeW1ib2xzS2V5cy5sZW5ndGggIT09IHRoaXMuY29tcGFyaXNvblN5bWJvbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjb21wYXJpc29ucyA9IFtdO1xuICAgICAgICB2YXIgcSA9IHN0eC5jdXJyZW50UXVvdGUoKTtcblxuICAgICAgICBpZiAocSkge1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBjb21wYXJpc29uU3ltYm9sc0tleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3libCA9IGNvbXBhcmlzb25TeW1ib2xzS2V5c1tfaV07XG4gICAgICAgICAgICB2YXIgc3JzID0gc3R4LmNoYXJ0LnNlcmllc1tzeWJsXTtcbiAgICAgICAgICAgIHZhciBwcm0gPSBzcnMucGFyYW1ldGVycztcbiAgICAgICAgICAgIHZhciBjb21wID0gcVtzeWJsXTsgLy8gU3ltYm9sIGZyb20gY2FjaGUgbWF5IGJlIGluIGRpZmZlcmVudCBsYW5ndWFnZSwgc28gcmVwbGFjZSBpdCB3aXRoIHNlcnZlcidzXG5cbiAgICAgICAgICAgIHZhciBzeW1ib2xPYmplY3QgPSB0aGlzLm1haW5TdG9yZS5jaGFydC5hY3RpdmVTeW1ib2xzLmdldFN5bWJvbE9iaihwcm0uc3ltYm9sT2JqZWN0LnN5bWJvbCk7XG4gICAgICAgICAgICBjb21wYXJpc29ucy5wdXNoKHtcbiAgICAgICAgICAgICAgY29sb3I6IHBybS5jb2xvcixcbiAgICAgICAgICAgICAgcHJpY2U6IGNvbXAgJiYgY29tcC5DbG9zZSxcbiAgICAgICAgICAgICAgcHJldlByaWNlOiBjb21wICYmIGNvbXAuaXFQcmV2Q2xvc2UsXG4gICAgICAgICAgICAgIHN5bWJvbE9iamVjdDogc3ltYm9sT2JqZWN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBhcmlzb25TeW1ib2xzID0gY29tcGFyaXNvbnM7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVDb21wYXJpc29uc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29tcGFyaXNvblN5bWJvbHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHN5bWJvbCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBkaXNwbGF5OiBzeW1ib2wuc3ltYm9sT2JqZWN0Lm5hbWUsXG4gICAgICAgICAgICBpdGVtSWQ6IHN5bWJvbC5zeW1ib2xPYmplY3Quc3ltYm9sLFxuICAgICAgICAgICAgZGF0YU9iamVjdDogc3ltYm9sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhdGVnb3J5TmFtZTogdC50cmFuc2xhdGUoJ0FjdGl2ZScpLFxuICAgICAgICBjYXRlZ29yeUlkOiAnYWN0aXZlJyxcbiAgICAgICAgaGFzU3ViY2F0ZWdvcnk6IGZhbHNlLFxuICAgICAgICBlbXB0eURlc2NyaXB0aW9uOiB0LnRyYW5zbGF0ZSgnVGhlcmUgYXJlIG5vIGFjdGl2ZSBjb21wYXJpc29ucyB5ZXQuJyksXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29tcGFyaXNvblN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY29tcGFyaXNvblN5bWJvbHNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQ29tcGFyaXNvblByaWNlc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlQ29tcGFyaXNvblByaWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVDb21wYXJpc29uc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlQ29tcGFyaXNvbnNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVJdGVtXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkRlbGV0ZUl0ZW1cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVtb3ZlQWxsXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZW1vdmVBbGxcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TZWxlY3RJdGVtXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblNlbGVjdEl0ZW1cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TeW1ib2xDaGFuZ2VcIiwgW19kZWM2XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU3ltYm9sQ2hhbmdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvQ29ubmVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGNvbm5lY3QgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29ubmVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbm5lY3Q7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcInJlYWN0XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4ocmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieC1yZWFjdCAqLyBcIm1vYngtcmVhY3RcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5cblxuXG5mdW5jdGlvbiBjb25uZWN0TWFpblN0b3JlKG1hcHBlckZ1bmN0aW9uKSB7XG4gIC8vIENvbWJpbmUgYm90aCBzdG9yZXMgYW5kIHByb3BzLCB3aXRoIHByb3BzIHRha2luZyBwcmVjZWRlbmNlXG4gIHZhciBtYXBTdG9yZXNBbmRQcm9wcyA9IGZ1bmN0aW9uIG1hcFN0b3Jlc0FuZFByb3BzKG1haW5TdG9yZSwgcHJvcHNcbiAgLyogLCBjb250ZXh0ICovXG4gICkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBwZXJGdW5jdGlvbihtYWluU3RvcmUpLCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIE9iamVjdChtb2J4X3JlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJpbmplY3RcIl0pKG1hcFN0b3Jlc0FuZFByb3BzKShXcmFwcGVkQ29tcG9uZW50KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29ubmVjdEN1c3RvbVN0b3JlKG1hcHBlckZ1bmN0aW9uLCBDdXN0b21TdG9yZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICB2YXIgU3RvcmVkQ29tcG9uZW50ID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0cyhTdG9yZWRDb21wb25lbnQsIF9Db21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBTdG9yZWRDb21wb25lbnQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZWRDb21wb25lbnQpO1xuXG4gICAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFN0b3JlZENvbXBvbmVudCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuICAgICAgICB2YXIgbWFpblN0b3JlID0gX3RoaXMucHJvcHMubWFpblN0b3JlO1xuICAgICAgICBfdGhpcy5zdG9yZSA9IG5ldyBDdXN0b21TdG9yZShtYWluU3RvcmUpO1xuXG4gICAgICAgIHZhciBtYXBTdG9yZXNBbmRQcm9wcyA9IGZ1bmN0aW9uIG1hcFN0b3Jlc0FuZFByb3BzKF9tYWluU3RvcmUsIG5leHRQcm9wcykge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBwZXJGdW5jdGlvbihfdGhpcy5zdG9yZSksIG5leHRQcm9wcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKF90aGlzLnN0b3JlLnVwZGF0ZVByb3BzKSB7XG4gICAgICAgICAgX3RoaXMuc3RvcmUudXBkYXRlUHJvcHMocHJvcHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaW5qZWN0ZWRDb21wb25lbnQgPSBPYmplY3QobW9ieF9yZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaW5qZWN0XCJdKShtYXBTdG9yZXNBbmRQcm9wcykoV3JhcHBlZENvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgX2NyZWF0ZUNsYXNzKFN0b3JlZENvbXBvbmVudCwgW3tcbiAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RvcmUudXBkYXRlUHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlUHJvcHMobmV4dFByb3BzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdG9yZS5kZXN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRlc3RydWN0b3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHJldHVybiByZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHRoaXMuaW5qZWN0ZWRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBTdG9yZWRDb21wb25lbnQ7XG4gICAgfShyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiQ29tcG9uZW50XCJdKTsgLy8gbWFrZSBzb21lIG5pY2UgbmFtZXMgdGhhdCB3aWxsIHNob3cgdXAgaW4gdGhlIFJlYWN0IERldnRvb2xzXG5cblxuICAgIHZhciB3cmFwcGVkRGlzcGxheU5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50LmNvbnN0cnVjdG9yICYmIFdyYXBwZWRDb21wb25lbnQuY29uc3RydWN0b3IubmFtZSB8fCAnVW5rbm93bic7XG4gICAgU3RvcmVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gXCJ1bmJveC1cIi5jb25jYXQod3JhcHBlZERpc3BsYXlOYW1lKTtcbiAgICByZXR1cm4gT2JqZWN0KG1vYnhfcmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImluamVjdFwiXSkoZnVuY3Rpb24gKG1haW5TdG9yZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFpblN0b3JlOiBtYWluU3RvcmVcbiAgICAgIH07XG4gICAgfSkoU3RvcmVkQ29tcG9uZW50KTtcbiAgfTtcbn0gLy8gaWYgc3RvcmUgaXMgbm90IGRlZmluZWQsIG1haW4gc3RvcmUgaXMgdXNlZFxuXG5cbmZ1bmN0aW9uIGNvbm5lY3QobWFwcGVyRnVuY3Rpb24sIEN1c3RvbVN0b3JlKSB7XG4gIGlmIChDdXN0b21TdG9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbm5lY3RNYWluU3RvcmUobWFwcGVyRnVuY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNvbm5lY3RDdXN0b21TdG9yZShtYXBwZXJGdW5jdGlvbiwgQ3VzdG9tU3RvcmUpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Dcm9zc2hhaXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9Dcm9zc2hhaXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2Fzc190aGVtZXNfc2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc2Fzcy9fdGhlbWVzLnNjc3MgKi8gXCIuL3Nhc3MvX3RoZW1lcy5zY3NzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG52YXIgX2RlYywgX2NsYXNzLCBfZGVzY3JpcHRvcjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5cblxuXG52YXIgTUFYX1RPT0xUSVBfV0lEVEggPSAzMTU7XG52YXIgQ3Jvc3NoYWlyU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENyb3NzaGFpclN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3Jvc3NoYWlyU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGF0ZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLm5vZGUgPSBudWxsO1xuICAgIHRoaXMubGFzdEJhciA9IHt9O1xuICAgIHRoaXMuc2hvd0NoYW5nZSA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd1NlcmllcyA9IHRydWU7XG4gICAgdGhpcy5zaG93U3R1ZGllcyA9IHRydWU7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlZFN0YXRlID0gX3RoaXMuc3R4LmxheW91dC5jcm9zc2hhaXI7XG4gICAgICB2YXIgc3RhdGUgPSB0eXBlb2Ygc3RvcmVkU3RhdGUgIT09ICdudW1iZXInID8gMiA6IHN0b3JlZFN0YXRlO1xuXG4gICAgICBfdGhpcy5zZXRDcm9zc2hhaXJTdGF0ZShzdGF0ZSk7XG5cbiAgICAgIF90aGlzLnN0eC5hcHBlbmQoJ2hlYWRzVXBIUicsIF90aGlzLnJlbmRlckNyb3NzaGFpclRvb2x0aXApO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckNyb3NzaGFpclRvb2x0aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBpZiBubyB0b29sdGlwIGV4aXN0cywgdGhlbiBza2lwXG4gICAgICBpZiAoX3RoaXMuc3RhdGUgIT09IDIpIHJldHVybjtcbiAgICAgIHZhciBzdHggPSBfdGhpcy5zdHg7XG4gICAgICB2YXIgX3N0eCRjb250cm9scyA9IHN0eC5jb250cm9scyxcbiAgICAgICAgICBjcm9zc1ggPSBfc3R4JGNvbnRyb2xzLmNyb3NzWCxcbiAgICAgICAgICBjcm9zc1kgPSBfc3R4JGNvbnRyb2xzLmNyb3NzWTsgLy8gY3Jvc3NoYWlycyBhcmUgbm90IG9uXG5cbiAgICAgIGlmIChjcm9zc1ggJiYgY3Jvc3NYLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fCBjcm9zc1kgJiYgY3Jvc3NZLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBiYXIgPSBzdHguYmFyRnJvbVBpeGVsKHN0eC5jeCk7XG4gICAgICB2YXIgZGF0YSA9IHN0eC5jaGFydC5kYXRhU2VnbWVudFtiYXJdO1xuXG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgX3RoaXMudXBkYXRlVG9vbHRpcFBvc2l0aW9uKHtcbiAgICAgICAgICBsZWZ0OiAtNTAwMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcm93czogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG93T3ZlckJhck9ubHkgPSBmYWxzZTtcbiAgICAgIHZhciBnb29kQmFyO1xuICAgICAgdmFyIG92ZXJCYXIgPSB0cnVlO1xuICAgICAgdmFyIGhpZ2hQeCwgbG93UHg7XG5cbiAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQgJiYgZGF0YSAmJiBkYXRhLkRUKSB7XG4gICAgICAgIGdvb2RCYXIgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhLkhpZ2gpIHtcbiAgICAgICAgICBoaWdoUHggPSBzdHgucGl4ZWxGcm9tUHJpY2UoZGF0YS5IaWdoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLkxvdykge1xuICAgICAgICAgIGxvd1B4ID0gc3R4LnBpeGVsRnJvbVByaWNlKGRhdGEuTG93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3R4LmhpZ2hMb3dCYXJzW3N0eC5sYXlvdXQuY2hhcnRUeXBlXSkge1xuICAgICAgICAgIGlmIChkYXRhLkNsb3NlKSB7XG4gICAgICAgICAgICBoaWdoUHggPSBzdHgucGl4ZWxGcm9tUHJpY2UoZGF0YS5DbG9zZSkgLSAxNTtcbiAgICAgICAgICAgIGxvd1B4ID0gc3R4LnBpeGVsRnJvbVByaWNlKGRhdGEuQ2xvc2UpICsgMTU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3dPdmVyQmFyT25seSAmJiAhKHN0eC5jeSA+PSBoaWdoUHggJiYgc3R4LmN5IDw9IGxvd1B4KSkge1xuICAgICAgICAgIG92ZXJCYXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIShDSVEuQ2hhcnRFbmdpbmUuaW5zaWRlQ2hhcnQgJiYgc3R4LmxheW91dC5jcm9zc2hhaXIgJiYgc3R4LmRpc3BsYXlDcm9zc2hhaXJzICYmICFzdHgub3ZlclhBeGlzICYmICFzdHgub3ZlcllBeGlzICYmICFzdHgub3BlbkRpYWxvZyAmJiAhc3R4LmFjdGl2ZURyYXdpbmcgJiYgIXN0eC5ncmFiYmluZ1NjcmVlbiAmJiBnb29kQmFyICYmIG92ZXJCYXIpKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVRvb2x0aXBQb3NpdGlvbih7XG4gICAgICAgICAgbGVmdDogLTUwMDAsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIHJvd3M6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMubGFzdEJhciA9IHt9O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByb3dzID0gbnVsbDtcblxuICAgICAgaWYgKCEoT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wic2FtZUJhclwiXSkoZGF0YSwgX3RoaXMubGFzdEJhcikgJiYgYmFyICE9PSBzdHguY2hhcnQuZGF0YVNlZ21lbnQubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgcm93cyA9IF90aGlzLmNhbGN1bGF0ZVJvd3MoZGF0YSk7XG4gICAgICAgIF90aGlzLmxhc3RCYXIgPSBkYXRhO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy51cGRhdGVUb29sdGlwUG9zaXRpb24oe1xuICAgICAgICBsZWZ0OiBDSVEuQ2hhcnRFbmdpbmUuY3Jvc3NoYWlyWCAtIF90aGlzLnN0eC5sZWZ0LFxuICAgICAgICB0b3A6IENJUS5DaGFydEVuZ2luZS5jcm9zc2hhaXJZIC0gX3RoaXMuc3R4LnRvcCxcbiAgICAgICAgcm93czogcm93c1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDcm9zc2hhaXJTdG9yZSwgW3tcbiAgICBrZXk6IFwic2V0RmxvYXRQcmljZUxhYmVsU3R5bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmxvYXRQcmljZUxhYmVsU3R5bGUoKSB7XG4gICAgICB2YXIgdGhlbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy50aGVtZTtcbiAgICAgIHZhciBjcm9zc2hhaXIgPSB0aGlzLnN0eC5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmNxLWNyb3NzaGFpcicpO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMikge1xuICAgICAgICB0aGlzLnN0eC5zZXRTdHlsZSgnc3R4LWZsb2F0LXByaWNlJywgJ2NvbG9yJywgJ3RyYW5zcGFyZW50Jyk7XG4gICAgICAgIHRoaXMuc3R4LnNldFN0eWxlKCdzdHgtZmxvYXQtcHJpY2UnLCAnYmFja2dyb3VuZC1jb2xvcicsICd0cmFuc3BhcmVudCcpO1xuICAgICAgICB0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuY29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuY3Jvc3NYLnN0eWxlLmhlaWdodCA9IFwiY2FsYygxMDAlIC0gXCIuY29uY2F0KHRoaXMuc3R4LnhheGlzSGVpZ2h0LCBcInB4KVwiKTtcbiAgICAgICAgY3Jvc3NoYWlyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdHguc2V0U3R5bGUoJ3N0eC1mbG9hdC1wcmljZScsICdjb2xvcicsICcjZmZmJyk7XG4gICAgICAgIHRoaXMuc3R4LnNldFN0eWxlKCdzdHgtZmxvYXQtcHJpY2UnLCAnYmFja2dyb3VuZC1jb2xvcicsIF9zYXNzX3RoZW1lc19zY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdC5hW1wiXCIuY29uY2F0KHRoZW1lLCBcImZsb2F0bGFiZWxzYmdcIildKTtcbiAgICAgICAgdGhpcy5zdHguY29udHJvbHMuZmxvYXREYXRlLnN0eWxlLmNvbG9yID0gJyNmZmYnO1xuICAgICAgICB0aGlzLnN0eC5jb250cm9scy5mbG9hdERhdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gX3Nhc3NfdGhlbWVzX3Njc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0LmFbXCJcIi5jb25jYXQodGhlbWUsIFwiZmxvYXRsYWJlbHNiZ1wiKV07XG4gICAgICAgIHRoaXMuc3R4LmNvbnRyb2xzLmNyb3NzWC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGNyb3NzaGFpci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlU3RhdGUoKSB7XG4gICAgICB2YXIgc3RhdGUgPSAodGhpcy5zdGF0ZSArIDEpICUgMztcbiAgICAgIHRoaXMuc2V0Q3Jvc3NoYWlyU3RhdGUoc3RhdGUpO1xuICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2F2ZUxheW91dCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRDcm9zc2hhaXJTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDcm9zc2hhaXJTdGF0ZShzdGF0ZSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgdGhpcy5zZXRGbG9hdFByaWNlTGFiZWxTdHlsZSgpO1xuICAgICAgdGhpcy5zdHgubGF5b3V0LmNyb3NzaGFpciA9IHN0YXRlO1xuICAgICAgdGhpcy5zdHguZG9EaXNwbGF5Q3Jvc3NoYWlycygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYWxjdWxhdGVSb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVJvd3MoZGF0YSkge1xuICAgICAgdmFyIHN0eCA9IHRoaXMuc3R4O1xuICAgICAgdmFyIGR1cE1hcCA9IHt9O1xuICAgICAgdmFyIGZpZWxkcyA9IFtdO1xuICAgICAge1xuICAgICAgICAvLyBBY2Nlc3MgbWFpbiBjaGFydCBwYW5lbCBhbmQgeUF4aXMgaW4gdGhpcyBzY29wZTpcbiAgICAgICAgdmFyIHBhbmVsID0gc3R4LmNoYXJ0LnBhbmVsO1xuICAgICAgICB2YXIgeUF4aXMgPSBwYW5lbC55QXhpcztcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgIG1lbWJlcjogJ0RUJyxcbiAgICAgICAgICBkaXNwbGF5OiAnRFQnLFxuICAgICAgICAgIHBhbmVsOiBwYW5lbCxcbiAgICAgICAgICB5QXhpczogeUF4aXNcbiAgICAgICAgfSk7XG4gICAgICAgIGR1cE1hcC5EVCA9IGR1cE1hcC5DbG9zZSA9IDE7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0NoYW5nZSAmJiBDSVEuQ2hhcnRFbmdpbmUuaXNEYWlseUludGVydmFsKHN0eC5sYXlvdXQuaW50ZXJ2YWwpKSB7XG4gICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgbWVtYmVyOiAnQ2hhbmdlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdDaGFuZ2UnLFxuICAgICAgICAgICAgcGFuZWw6IHBhbmVsLFxuICAgICAgICAgICAgeUF4aXM6IHlBeGlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zaG93T2hsKSB7XG4gICAgICAgICAgdmFyIF9hcnIgPSBbJ09wZW4nLCAnQ2xvc2UnLCAnSGlnaCcsICdMb3cnXTtcblxuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGVsID0gX2FycltfaV07XG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgIG1lbWJlcjogZWwsXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGVsLFxuICAgICAgICAgICAgICBwYW5lbDogcGFuZWwsXG4gICAgICAgICAgICAgIHlBeGlzOiB5QXhpc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZHVwTWFwLk9wZW4gPSBkdXBNYXAuSGlnaCA9IGR1cE1hcC5Mb3cgPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNob3dTZXJpZXMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVycyA9IHN0eC5jaGFydC5zZXJpZXNSZW5kZXJlcnM7XG5cbiAgICAgICAgZm9yICh2YXIgcmVuZGVyZXIgaW4gcmVuZGVyZXJzKSB7XG4gICAgICAgICAgdmFyIHJlbmRlcmVyVG9EaXNwbGF5ID0gcmVuZGVyZXJzW3JlbmRlcmVyXTtcbiAgICAgICAgICB2YXIgX3BhbmVsID0gc3R4LnBhbmVsc1tyZW5kZXJlclRvRGlzcGxheS5wYXJhbXMucGFuZWxdO1xuICAgICAgICAgIHZhciBfeUF4aXMgPSByZW5kZXJlclRvRGlzcGxheS5wYXJhbXMueUF4aXM7XG5cbiAgICAgICAgICBpZiAoIV95QXhpcyAmJiByZW5kZXJlclRvRGlzcGxheS5wYXJhbXMuc2hhcmVZQXhpcykge1xuICAgICAgICAgICAgX3lBeGlzID0gX3BhbmVsLnlBeGlzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGlkID0gMDsgaWQgPCByZW5kZXJlclRvRGlzcGxheS5zZXJpZXNQYXJhbXMubGVuZ3RoOyBpZCsrKSB7XG4gICAgICAgICAgICB2YXIgc2VyaWVzUGFyYW1zID0gcmVuZGVyZXJUb0Rpc3BsYXkuc2VyaWVzUGFyYW1zW2lkXTtcblxuICAgICAgICAgICAgaWYgKHNlcmllc1BhcmFtcy5kaXNwbGF5ID09PSB0aGlzLmFjdGl2ZVN5bWJvbC5zeW1ib2wpIHtcbiAgICAgICAgICAgICAgdmFyIGRpc3BsYXkgPSB0aGlzLmFjdGl2ZVN5bWJvbC5uYW1lO1xuICAgICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWVtYmVyOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgICAgICAgICAgcGFuZWw6IF9wYW5lbCxcbiAgICAgICAgICAgICAgICB5QXhpczogX3lBeGlzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBkdXBNYXBbZGlzcGxheV0gPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaWYgYSBzZXJpZXMgaGFzIGEgc3ltYm9sIGFuZCBhIGZpZWxkIHRoZW4gaXQgbWF5YmUgYSBvYmplY3QgY2hhaW5cbiAgICAgICAgICAgICAgdmFyIHNLZXkgPSBzZXJpZXNQYXJhbXMuc3ltYm9sO1xuICAgICAgICAgICAgICB2YXIgc3ViRmllbGQgPSBzZXJpZXNQYXJhbXMuZmllbGQ7XG5cbiAgICAgICAgICAgICAgaWYgKCFzS2V5KSB7XG4gICAgICAgICAgICAgICAgc0tleSA9IHN1YkZpZWxkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YkZpZWxkICYmIHNLZXkgIT09IHN1YkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgc0tleSA9IENJUS5jcmVhdGVPYmplY3RDaGFpbk5hbWVzKHNLZXksIHN1YkZpZWxkKVswXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBfZGlzcGxheSA9IHNlcmllc1BhcmFtcy5kaXNwbGF5IHx8IHNlcmllc1BhcmFtcy5zeW1ib2wgfHwgc2VyaWVzUGFyYW1zLmZpZWxkO1xuXG4gICAgICAgICAgICAgIGlmIChzS2V5ICYmICghZHVwTWFwW19kaXNwbGF5XSB8fCBzZXJpZXNQYXJhbXMuc3ltYm9sID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgbWVtYmVyOiBzS2V5LFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogX2Rpc3BsYXksXG4gICAgICAgICAgICAgICAgICBwYW5lbDogX3BhbmVsLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IF95QXhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGR1cE1hcFtfZGlzcGxheV0gPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNob3dTdHVkaWVzKSB7XG4gICAgICAgIHZhciBzdHVkaWVzID0gc3R4LmxheW91dC5zdHVkaWVzO1xuXG4gICAgICAgIGZvciAodmFyIHN0dWR5IGluIHN0dWRpZXMpIHtcbiAgICAgICAgICB2YXIgX3BhbmVsMiA9IHN0eC5wYW5lbHNbc3R1ZGllc1tzdHVkeV0ucGFuZWxdO1xuICAgICAgICAgIHZhciBfeUF4aXMyID0gX3BhbmVsMi55QXhpcztcblxuICAgICAgICAgIGZvciAodmFyIG91dHB1dCBpbiBzdHVkaWVzW3N0dWR5XS5vdXRwdXRNYXApIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQgJiYgIWR1cE1hcFtvdXRwdXRdKSB7XG4gICAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZW1iZXI6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFuZWw6IF9wYW5lbDIsXG4gICAgICAgICAgICAgICAgeUF4aXM6IF95QXhpczJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGR1cE1hcFtvdXRwdXRdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaGlzdCA9IFwiXCIuY29uY2F0KHN0dWR5LCBcIl9oaXN0XCIpO1xuXG4gICAgICAgICAgaWYgKCFkdXBNYXBbaGlzdF0pIHtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgbWVtYmVyOiBoaXN0LFxuICAgICAgICAgICAgICBkaXNwbGF5OiBoaXN0LFxuICAgICAgICAgICAgICBwYW5lbDogX3BhbmVsMixcbiAgICAgICAgICAgICAgeUF4aXM6IF95QXhpczJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGhpc3QxID0gXCJcIi5jb25jYXQoc3R1ZHksIFwiX2hpc3QxXCIpO1xuICAgICAgICAgICAgdmFyIGhpc3QyID0gXCJcIi5jb25jYXQoc3R1ZHksIFwiX2hpc3QyXCIpO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICBtZW1iZXI6IGhpc3QxLFxuICAgICAgICAgICAgICBkaXNwbGF5OiBoaXN0MSxcbiAgICAgICAgICAgICAgcGFuZWw6IF9wYW5lbDIsXG4gICAgICAgICAgICAgIHlBeGlzOiBfeUF4aXMyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgbWVtYmVyOiBoaXN0MixcbiAgICAgICAgICAgICAgZGlzcGxheTogaGlzdDIsXG4gICAgICAgICAgICAgIHBhbmVsOiBfcGFuZWwyLFxuICAgICAgICAgICAgICB5QXhpczogX3lBeGlzMlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkdXBNYXBbaGlzdF0gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcm93cyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBmaWVsZHMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICB2YXIgb2JqID0gZmllbGRzW19pMl07XG4gICAgICAgIHZhciBuYW1lID0gb2JqLm1lbWJlcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gb2JqLmRpc3BsYXksXG4gICAgICAgICAgICBfcGFuZWwzID0gb2JqLnBhbmVsLFxuICAgICAgICAgICAgX3lBeGlzMyA9IG9iai55QXhpcztcbiAgICAgICAgdmFyIGxhYmVsRGVjaW1hbFBsYWNlcyA9IHRoaXMuZGVjaW1hbFBsYWNlcztcblxuICAgICAgICBpZiAoX3lBeGlzMykge1xuICAgICAgICAgIGlmIChfcGFuZWwzICE9PSBfcGFuZWwzLmNoYXJ0LnBhbmVsKSB7XG4gICAgICAgICAgICAvLyBJZiBhIHN0dWR5IHBhbmVsLCB1c2UgeUF4aXMgc2V0dGluZ3MgdG8gZGV0ZXJtaW5lIGRlY2ltYWwgcGxhY2VzXG4gICAgICAgICAgICBpZiAoX3lBeGlzMy5kZWNpbWFsUGxhY2VzIHx8IF95QXhpczMuZGVjaW1hbFBsYWNlcyA9PT0gMCkge1xuICAgICAgICAgICAgICBsYWJlbERlY2ltYWxQbGFjZXMgPSBfeUF4aXMzLmRlY2ltYWxQbGFjZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyB8fCBfeUF4aXMzLm1heERlY2ltYWxQbGFjZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgbGFiZWxEZWNpbWFsUGxhY2VzID0gX3lBeGlzMy5tYXhEZWNpbWFsUGxhY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBhIGNoYXJ0IHBhbmVsLCB0aGVuIGFsd2F5cyBkaXNwbGF5IGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgYXMgY2FsY3VsYXRlZCBieSBtYXN0ZXJEYXRhIChwYW5lbC5jaGFydC5kZWNpbWFsUGxhY2VzKVxuICAgICAgICAgICAgLy8gYnV0IGlmIHdlIGFyZSB6b29tZWQgdG8gaGlnaCBncmFudWxhcml0eSB0aGVuIGV4cGFuZCBhbGwgdGhlIHdheSBvdXQgdG8gdGhlIHktYXhpcyBzaWduaWZpY2FudCBkaWdpdHMgKHBhbmVsLnlBeGlzLnByaW50RGVjaW1hbFBsYWNlcylcbiAgICAgICAgICAgIGxhYmVsRGVjaW1hbFBsYWNlcyA9IE1hdGgubWF4KF95QXhpczMucHJpbnREZWNpbWFsUGxhY2VzLCBfcGFuZWwzLmNoYXJ0LmRlY2ltYWxQbGFjZXMpOyAvLyAuLi4gYW5kIG5ldmVyIGRpc3BsYXkgbW9yZSBkZWNpbWFsIHBsYWNlcyB0aGFuIHRoZSBzeW1ib2wgaXMgc3VwcG9zZWQgdG8gYmUgcXVvdGluZyBhdFxuXG4gICAgICAgICAgICBpZiAoX3lBeGlzMy5tYXhEZWNpbWFsUGxhY2VzIHx8IF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyA9PT0gMCkge1xuICAgICAgICAgICAgICBsYWJlbERlY2ltYWxQbGFjZXMgPSBNYXRoLm1pbihsYWJlbERlY2ltYWxQbGFjZXMsIF95QXhpczMubWF4RGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRzRmllbGQgPSBudWxsOyAvLyBhY2NvdW50IGZvciBvYmplY3QgY2hhaW5zXG5cbiAgICAgICAgdmFyIHR1cGxlID0gQ0lRLmV4aXN0c0luT2JqZWN0Q2hhaW4oZGF0YSwgbmFtZSk7XG5cbiAgICAgICAgaWYgKHR1cGxlKSB7XG4gICAgICAgICAgZHNGaWVsZCA9IHR1cGxlLm9ialt0dXBsZS5tZW1iZXJdO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdDaGFuZ2UnKSB7XG4gICAgICAgICAgZHNGaWVsZCA9IGRhdGEuQ2xvc2UgLSBkYXRhLmlxUHJldkNsb3NlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGRpc3BsYXlOYW1lLnJlcGxhY2UoL14oUmVzdWx0ICkoLiopLywgJyQyJyk7XG5cbiAgICAgICAgaWYgKChkc0ZpZWxkIHx8IGRzRmllbGQgPT09IDApICYmIChuYW1lID09PSAnRFQnIHx8IF90eXBlb2YoZHNGaWVsZCkgIT09ICdvYmplY3QnIHx8IGRzRmllbGQuQ2xvc2UgfHwgZHNGaWVsZC5DbG9zZSA9PT0gMCkpIHtcbiAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9ICcnO1xuXG4gICAgICAgICAgaWYgKGRzRmllbGQuQ2xvc2UgfHwgZHNGaWVsZC5DbG9zZSA9PT0gMCkge1xuICAgICAgICAgICAgZHNGaWVsZCA9IGRzRmllbGQuQ2xvc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRzRmllbGQuY29uc3RydWN0b3IgPT09IE51bWJlcikge1xuICAgICAgICAgICAgaWYgKCFfeUF4aXMzKSB7XG4gICAgICAgICAgICAgIC8vIHJhdyB2YWx1ZVxuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gZHNGaWVsZC50b0ZpeGVkKGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMub3JpZ2luYWxQcmljZUZvcm1hdHRlciAmJiBfeUF4aXMzLm9yaWdpbmFsUHJpY2VGb3JtYXR0ZXIuZnVuYykge1xuICAgICAgICAgICAgICAvLyBpbiBjb21wYXJpc29uIG1vZGUgd2l0aCBjdXN0b20gZm9ybWF0dGVyXG4gICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBfeUF4aXMzLm9yaWdpbmFsUHJpY2VGb3JtYXR0ZXIuZnVuYyhzdHgsIF9wYW5lbDMsIGRzRmllbGQsIGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF95QXhpczMucHJpY2VGb3JtYXR0ZXIgJiYgX3lBeGlzMy5wcmljZUZvcm1hdHRlciAhPT0gQ0lRLkNvbXBhcmlzb24ucHJpY2VGb3JtYXQpIHtcbiAgICAgICAgICAgICAgLy8gdXNpbmcgY3VzdG9tIGZvcm1hdHRlclxuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gX3lBeGlzMy5wcmljZUZvcm1hdHRlcihzdHgsIF9wYW5lbDMsIGRzRmllbGQsIGxhYmVsRGVjaW1hbFBsYWNlcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gc3R4LmZvcm1hdFlBeGlzUHJpY2UoZHNGaWVsZCwgX3BhbmVsMywgbGFiZWxEZWNpbWFsUGxhY2VzLCBfeUF4aXMzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGRzRmllbGQuY29uc3RydWN0b3IgPT09IERhdGUpIHtcbiAgICAgICAgICAgIHZhciBmbG9hdERhdGUgPSBzdHguY29udHJvbHMuZmxvYXREYXRlO1xuXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ0RUJyAmJiBmbG9hdERhdGUgJiYgZmxvYXREYXRlLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICBpZiAoc3R4LmNoYXJ0LnhBeGlzLm5vRHJhdykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBmbG9hdERhdGUuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gQ0lRLnl5eXltbWRkKGRzRmllbGQpO1xuXG4gICAgICAgICAgICAgIGlmICghQ0lRLkNoYXJ0RW5naW5lLmlzRGFpbHlJbnRlcnZhbChzdHgubGF5b3V0LmludGVydmFsKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgKz0gXCIgXCIuY29uY2F0KGRzRmllbGQudG9UaW1lU3RyaW5nKCkuc3Vic3RyKDAsIDgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZFZhbHVlID0gZHNGaWVsZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByb3dzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogZmllbGROYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICB2YWx1ZTogZmllbGRWYWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb3dzO1xuICAgIH0gLy8gWUVTISB3ZSBhcmUgbWFudWFsbHkgcGF0Y2hpbmcgRE9NLCBCZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gcGF5XG4gICAgLy8gZm9yIHJlYWN0IHJlY29uY2lsZXIgJiBtb3ggdHJhY2tpbmcgb2JzZXJ2YWJsZXMuXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVUb29sdGlwUG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVG9vbHRpcFBvc2l0aW9uKF9yZWYpIHtcbiAgICAgIHZhciB0b3AgPSBfcmVmLnRvcCxcbiAgICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0LFxuICAgICAgICAgIHJvd3MgPSBfcmVmLnJvd3M7XG4gICAgICB2YXIgY3Jvc3NoYWlyID0gdGhpcy5zdHguY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jcS1jcm9zc2hhaXInKTtcbiAgICAgIGNyb3NzaGFpci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCwgXCIpLmNvbmNhdCh0b3AsIFwicHgpXCIpO1xuICAgICAgdmFyIGFycm93ID0gbGVmdCA8PSBNQVhfVE9PTFRJUF9XSURUSCA/ICdhcnJvdy1sZWZ0JyA6ICdhcnJvdy1yaWdodCc7XG5cbiAgICAgIGlmIChhcnJvdyAhPT0gdGhpcy5wcmV2X2Fycm93KSB7XG4gICAgICAgIGNyb3NzaGFpci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMucHJldl9hcnJvdyk7XG4gICAgICAgIGNyb3NzaGFpci5jbGFzc0xpc3QuYWRkKGFycm93KTtcbiAgICAgICAgdGhpcy5wcmV2X2Fycm93ID0gYXJyb3c7XG4gICAgICB9IC8vIGlmIHRoZXJlIGlzIGEgbmVlZCB0byB1cGRhdGUgdGhlIHJvd3MuXG5cblxuICAgICAgaWYgKHJvd3MgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBjcm9zc2hhaXIucXVlcnlTZWxlY3RvcignLmNxLWNyb3NzaGFpci1jb250ZW50Jyk7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gcm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiLmNvbmNhdChyLm5hbWUgIT09ICdEVCcgPyByLm5hbWUgOiByLnZhbHVlLCBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiKS5jb25jYXQoci5uYW1lICE9PSAnRFQnID8gci52YWx1ZSA6ICcnLCBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCIpO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWN0aXZlU3ltYm9sXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVjaW1hbFBsYWNlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93T2hsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHgubGF5b3V0LnRpbWVVbml0ICE9PSAnc2Vjb25kJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENyb3NzaGFpclN0b3JlO1xufSgpLCAoX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFjdGl2ZVN5bWJvbFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWN0aXZlU3ltYm9sXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlY2ltYWxQbGFjZXNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlY2ltYWxQbGFjZXNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAyO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZVN0YXRlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZVN0YXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDcm9zc2hhaXJTdG9yZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0N1cnJlbnRTcG90U3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9DdXJyZW50U3BvdFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG5cbnZhciBDdXJyZW50U3BvdFN0b3JlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ3VycmVudFNwb3RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1cnJlbnRTcG90U3RvcmUpO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5tYWluU3RvcmUuc3RhdGUuaXNBbmltYXRpb25FbmFibGVkKSBfdGhpcy5zdHguYXBwZW5kKCdkcmF3JywgX3RoaXMudXBkYXRlU3BvdCk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlU3BvdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdHggPSBfdGhpcy5zdHg7XG5cbiAgICAgIHZhciBjcV9zcG90ID0gX3RoaXMuY29udGV4dC50b3BOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5jcS1zcG90Jyk7XG5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5lbmRFcG9jaCkge1xuICAgICAgICBjcV9zcG90LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYXJ0ID0gc3R4LmNoYXJ0O1xuICAgICAgdmFyIGxheW91dCA9IHN0eC5sYXlvdXQ7XG4gICAgICB2YXIgbWFpblNlcmllc1JlbmRlcmVyID0gc3R4Lm1haW5TZXJpZXNSZW5kZXJlcjtcbiAgICAgIHZhciB0b3AgPSAwLFxuICAgICAgICAgIGxlZnQgPSAwLFxuICAgICAgICAgIHNob3cgPSB0cnVlO1xuXG4gICAgICBpZiAoY2hhcnQuZGF0YVNldCAmJiBjaGFydC5kYXRhU2V0Lmxlbmd0aCAmJiBtYWluU2VyaWVzUmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHBhbmVsID0gY2hhcnQucGFuZWw7XG4gICAgICAgIHZhciBjdXJyZW50UXVvdGUgPSBzdHguY3VycmVudFF1b3RlKCk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50UXVvdGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJpY2UgPSBjdXJyZW50UXVvdGUuQ2xvc2U7XG4gICAgICAgIHZhciB4ID0gc3R4LnBpeGVsRnJvbVRpY2soY3VycmVudFF1b3RlLnRpY2ssIGNoYXJ0KSArIChjaGFydC5sYXN0VGlja09mZnNldCB8fCAwKTtcbiAgICAgICAgdmFyIHkgPSBzdHgucGl4ZWxGcm9tUHJpY2UocHJpY2UsIHBhbmVsKTtcblxuICAgICAgICBpZiAoY2hhcnQueUF4aXMubGVmdCA+IHggJiYgY2hhcnQueUF4aXMudG9wIDw9IHkgJiYgY2hhcnQueUF4aXMuYm90dG9tID49IHkpIHtcbiAgICAgICAgICAvLyBMaW1pdCBwcmVjaXNpb24gdG8gcmVkdWNlIHdvYmJseS1uZXNzIGluIHRoZSBzcG90OlxuICAgICAgICAgIHRvcCA9ICt5O1xuICAgICAgICAgIGxlZnQgPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3cgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzaG93ID0gc2hvdyAmJiBsYXlvdXQuY2hhcnRUeXBlICE9PSAnY2FuZGxlJyAmJiBsYXlvdXQuY2hhcnRUeXBlICE9PSAnY29sb3JlZF9iYXInICYmIGxheW91dC5jaGFydFR5cGUgIT09ICdob2xsb3dfY2FuZGxlJyAmJiAhX3RoaXMuc3RhdGUuZW5kRXBvY2g7IC8vIFlFUyEgd2UgYXJlIG1hbnVhbGx5IHBhdGNoaW5nIERPTSwgQmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHBheVxuICAgICAgLy8gZm9yIHJlYWN0IHJlY29uY2lsZXIgJiBtb3ggdHJhY2tpbmcgb2JzZXJ2YWJsZXMuXG5cbiAgICAgIGNxX3Nwb3Quc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGxlZnQsIFwicHgsIFwiKS5jb25jYXQodG9wLCBcInB4KVwiKTtcbiAgICAgIGNxX3Nwb3Quc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnaW5pdGlhbCcgOiAnbm9uZSc7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDdXJyZW50U3BvdFN0b3JlLCBbe1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhdGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5zdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ3VycmVudFNwb3RTdG9yZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChDdXJyZW50U3BvdFN0b3JlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvRGlhbG9nU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvRGlhbG9nU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRGlhbG9nU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbG9kYXNoLmRlYm91bmNlICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLmRlYm91bmNlL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfY2xhc3MsIF9kZXNjcmlwdG9yO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cbnZhciBhY3RpdmVEaWFsb2c7XG52YXIgRGlhbG9nU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERpYWxvZ1N0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlhbG9nU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIHRoaXMuc2V0T3BlbiA9IGxvZGFzaF9kZWJvdW5jZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQoKShmdW5jdGlvbiAodmFsKSB7XG4gICAgICBfdGhpcy5vcGVuRGlhbG9nKHZhbCk7XG4gICAgfSwgMzAwLCB7XG4gICAgICBsZWFkaW5nOiB0cnVlLFxuICAgICAgdHJhaWxpbmc6IGZhbHNlXG4gICAgfSk7XG5cbiAgICB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaXNSaWdodENsaWNrID0gZmFsc2U7XG5cbiAgICAgIGlmICgnd2hpY2gnIGluIGUpIHtcbiAgICAgICAgaXNSaWdodENsaWNrID0gZS53aGljaCA9PT0gMztcbiAgICAgIH0gZWxzZSBpZiAoJ2J1dHRvbicgaW4gZSkge1xuICAgICAgICBpc1JpZ2h0Q2xpY2sgPSBlLmJ1dHRvbiA9PT0gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlLmlzSGFuZGxlZEJ5RGlhbG9nICYmICFpc1JpZ2h0Q2xpY2spIHtcbiAgICAgICAgX3RoaXMuc2V0T3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VPbkVzY2FwZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgRVNDQVBFID0gMjc7XG5cbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEVTQ0FQRSkge1xuICAgICAgICBfdGhpcy5zZXRPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcGVuOiBfdGhpcy5vcGVuLFxuICAgICAgICBzZXRPcGVuOiBfdGhpcy5zZXRPcGVuLFxuICAgICAgICBvbkNvbnRhaW5lckNsaWNrOiBfdGhpcy5vbkNvbnRhaW5lckNsaWNrLFxuICAgICAgICBjaGFydEhlaWdodDogX3RoaXMubWFpblN0b3JlLmNoYXJ0LmNoYXJ0SGVpZ2h0LFxuICAgICAgICBjaGFydENvbnRhaW5lckhlaWdodDogX3RoaXMubWFpblN0b3JlLmNoYXJ0LmNoYXJ0Q29udGFpbmVySGVpZ2h0LFxuICAgICAgICBpc01vYmlsZTogX3RoaXMubWFpblN0b3JlLmNoYXJ0LmlzTW9iaWxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yb3V0aW5nU3RvcmUucmVnaXN0ZXJEaWFsb2coX3RoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERpYWxvZ1N0b3JlLCBbe1xuICAgIGtleTogXCJvcGVuRGlhbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5EaWFsb2codmFsKSB7XG4gICAgICBpZiAodGhpcy5vcGVuICE9PSB2YWwpIHtcbiAgICAgICAgdGhpcy5vcGVuID0gdmFsO1xuXG4gICAgICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gY2xvc2UgYWN0aXZlIGRpYWxvZy5cbiAgICAgICAgICBpZiAoYWN0aXZlRGlhbG9nKSB7XG4gICAgICAgICAgICBhY3RpdmVEaWFsb2cub3BlbkRpYWxvZyhmYWxzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlRGlhbG9nID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVEaWFsb2cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlLCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5jbG9zZU9uRXNjYXBlLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVucmVnaXN0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3RlcigpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2VPbkVzY2FwZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ29udGFpbmVyQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Db250YWluZXJDbGljayhlKSB7XG4gICAgICAvKiBUT0RPOiB3aHkgc3RvcFByb3BhZ2F0aW9uKCkgaXMgbm90IHdvcmtpbmcg4LKgX+CyoCAqL1xuICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUubmF0aXZlRXZlbnQuaXNIYW5kbGVkQnlEaWFsb2cgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicm91dGluZ1N0b3JlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUucm91dGluZztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGlhbG9nU3RvcmU7XG59KCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvcGVuXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9wZW5EaWFsb2dcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlbkRpYWxvZ1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWdpc3RlclwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVnaXN0ZXJcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidW5yZWdpc3RlclwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidW5yZWdpc3RlclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNvbnRhaW5lckNsaWNrXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNvbnRhaW5lckNsaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0RyYXdUb29sc1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL0RyYXdUb29sc1N0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24odCkgey8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRHJhd1Rvb2xzU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWVudVN0b3JlICovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TZXR0aW5nc0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1NldHRpbmdzRGlhbG9nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9TZXR0aW5nc0RpYWxvZ1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL01lbnUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TZXR0aW5nc0RpYWxvZy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nYSAqLyBcIi4vc3JjL3V0aWxzL2dhLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfY2xhc3M7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuXG5cblxuXG5cbiAvLyBjYW1lbENhc2UgdG8gc3BhY2VzIHNlcGFyYXRlZCBjYXBpdGFsaXplZCBzdHJpbmcuXG5cbnZhciBmb3JtYXRDYW1lbENhc2UgPSBmdW5jdGlvbiBmb3JtYXRDYW1lbENhc2Uocykge1xuICB2YXIgY2FwaXRhbGl6ZWQgPSBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKTtcbiAgcmV0dXJuIGNhcGl0YWxpemVkLnJlcGxhY2UoLyhbYS16XSg/PVtBLVpdKSkvZywgJyQxICcpO1xufTtcblxudmFyIERyYXdUb29sc1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRHJhd1Rvb2xzU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmF3VG9vbHNTdG9yZSk7XG5cbiAgICB0aGlzLmFjdGl2ZURyYXdpbmcgPSBudWxsO1xuICAgIHRoaXMuZHJhd1Rvb2xzSXRlbXMgPSBbXTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXMuY2xvc2VPbkVzY2FwZSwgZmFsc2UpO1xuXG4gICAgICBfdGhpcy5zdHguYWRkRXZlbnRMaXN0ZW5lcignZHJhd2luZycsIF90aGlzLm5vVG9vbCk7XG5cbiAgICAgIF90aGlzLnN0eC5wcmVwZW5kKCdkZWxldGVIaWdobGlnaHRlZCcsIF90aGlzLm9uRGVsZXRlSGlnaGxpZ2h0ZWQpO1xuXG4gICAgICBfdGhpcy5kcmF3VG9vbHNJdGVtcyA9IFt7XG4gICAgICAgIGlkOiAnYW5ub3RhdGlvbicsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdBbm5vdGF0aW9uJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdhdmVyYWdlJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0F2ZXJhZ2UgTGluZScpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnY2FsbG91dCcsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdDYWxsb3V0JylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdjaGFubmVsJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0NoYW5uZWwnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2NvbnRpbnVvdXMnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnQ29udGludW91cycpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnY3Jvc3NsaW5lJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0Nyb3NzbGluZScpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnZnJlZWZvcm0nLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnRG9vZGxlJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdlbGxpcHNlJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0VsbGlwc2UnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ3JldHJhY2VtZW50JyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0ZpYiBSZXRyYWNlbWVudCcpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnZmliYXJjJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0ZpYiBBcmMnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2ZpYmZhbicsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdGaWIgRmFuJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdmaWJ0aW1lem9uZScsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdGaWIgVGltZSBab25lJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdnYW5uZmFuJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0dhbm4gRmFuJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdnYXJ0bGV5JyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ0dhcnRsZXknKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2hvcml6b250YWwnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnSG9yaXpvbnRhbCcpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnbGluZScsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdMaW5lJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdwaXRjaGZvcmsnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnUGl0Y2hmb3JrJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdxdWFkcmFudCcsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdRdWFkcmFudCBMaW5lcycpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAncmF5JyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1JheScpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAncmVjdGFuZ2xlJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1JlY3RhbmdsZScpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAncmVncmVzc2lvbicsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdSZWdyZXNzaW9uIExpbmUnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ3NlZ21lbnQnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU2VnbWVudCcpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnYXJyb3cnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU2hhcGUgLSBBcnJvdycpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnY2hlY2snLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU2hhcGUgLSBDaGVjaycpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAneGNyb3NzJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1NoYXBlIC0gQ3Jvc3MnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2ZvY3VzYXJyb3cnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU2hhcGUgLSBGb2N1cycpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnaGVhcnQnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU2hhcGUgLSBIZWFydCcpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAnc3RhcicsXG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdTaGFwZSAtIFN0YXInKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ3NwZWVkYXJjJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1NwZWVkIFJlc2lzdGFuY2UgQXJjJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICdzcGVlZGxpbmUnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnU3BlZWQgUmVzaXN0YW5jZSBMaW5lJylcbiAgICAgIH0sIHtcbiAgICAgICAgaWQ6ICd0aW1lY3ljbGUnLFxuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnVGltZSBDeWNsZScpXG4gICAgICB9LCB7XG4gICAgICAgIGlkOiAndGlyb25lJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1Rpcm9uZSBMZXZlbHMnKVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ3ZlcnRpY2FsJyxcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1ZlcnRpY2FsJylcbiAgICAgIH1dO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NlT25Fc2NhcGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIEVTQ0FQRSA9IDI3O1xuXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEUpIHtcbiAgICAgICAgX3RoaXMuc3R4LmNoYW5nZVZlY3RvclR5cGUoJycpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5vVG9vbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb3VudCA9IF90aGlzLnN0eC5kcmF3aW5nT2JqZWN0cy5sZW5ndGg7XG5cbiAgICAgIGlmIChfdGhpcy5tZW51Lm9wZW4gJiYgX3RoaXMuY29udGV4dCB8fCBfdGhpcy5fcGVydkRyYXdpbmdPYmplY3RDb3VudCAhPT0gY291bnQpIHtcbiAgICAgICAgX3RoaXMuc3R4LmNoYW5nZVZlY3RvclR5cGUoJycpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fcGVydkRyYXdpbmdPYmplY3RDb3VudCA9IGNvdW50O1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnZHJhdy10b29sJ1xuICAgIH0pO1xuICAgIHRoaXMuRHJhd1Rvb2xzTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKTtcbiAgICB0aGlzLnNldHRpbmdzRGlhbG9nID0gbmV3IF9TZXR0aW5nc0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKHtcbiAgICAgIG1haW5TdG9yZTogbWFpblN0b3JlLFxuICAgICAgb25EZWxldGVkOiB0aGlzLm9uRGVsZXRlZCxcbiAgICAgIG9uQ2hhbmdlZDogdGhpcy5vbkNoYW5nZWRcbiAgICB9KTtcbiAgICB0aGlzLkRyYXdUb29sc1NldHRpbmdzRGlhbG9nID0gdGhpcy5zZXR0aW5nc0RpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX1NldHRpbmdzRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSk7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLm1lbnUub3BlbjtcbiAgICB9LCB0aGlzLm5vVG9vbCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRHJhd1Rvb2xzU3RvcmUsIFt7XG4gICAga2V5OiBcIm9uRGVsZXRlSGlnaGxpZ2h0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EZWxldGVIaWdobGlnaHRlZCgpIHtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnN0eC5kcmF3aW5nT2JqZWN0c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgZHJhd2luZyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKGRyYXdpbmcuaGlnaGxpZ2h0ZWQgJiYgIWRyYXdpbmcucGVybWFuZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNob3dEcmF3VG9vbERpYWxvZyhkcmF3aW5nKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBPdmVycmlkZSBkZWZhdWx0IGJlaGF2aW91cjsgcHJldmVudCBDaGFydElRIGZyb20gZGVsZXRpbmcgdGhlIGRyYXdpbmdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd0RyYXdUb29sRGlhbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dEcmF3VG9vbERpYWxvZyhkcmF3aW5nKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dBY3Rpb25zXCJdLkRyYXdUb29scywgXCJFZGl0IFwiLmNvbmNhdChkcmF3aW5nLm5hbWUpKTtcbiAgICAgIHZhciBkb250RGVsZXRlTWUgPSBkcmF3aW5nLmFib3J0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgICAgdmFyIHBhcmFtZXRlcnMgPSBDSVEuRHJhd2luZy5nZXREcmF3aW5nUGFyYW1ldGVycyh0aGlzLnN0eCwgZHJhd2luZy5uYW1lKTtcbiAgICAgIHZhciB0eXBlTWFwID0ge1xuICAgICAgICBjb2xvcjogJ2NvbG9ycGlja2VyJyxcbiAgICAgICAgZmlsbENvbG9yOiAnY29sb3JwaWNrZXInLFxuICAgICAgICBwYXR0ZXJuOiAncGF0dGVybicsXG4gICAgICAgIGF4aXNMYWJlbDogJ3N3aXRjaCcsXG4gICAgICAgIGZvbnQ6ICdmb250JyxcbiAgICAgICAgbGluZVdpZHRoOiAnbm9uZSdcbiAgICAgIH07XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLml0ZW1zID0gT2JqZWN0LmtleXMocGFyYW1ldGVycykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuICEoIC8vIFJlbW92ZSBwYXR0ZXJuIG9wdGlvbiBmcm9tIEZpYm9uYWNjaSB0b29sc1xuICAgICAgICAoZHJhd2luZy5uYW1lLnN0YXJ0c1dpdGgoJ2ZpYicpIHx8IGRyYXdpbmcubmFtZSA9PT0gJ3JldHJhY2VtZW50JykgJiYga2V5ID09PSAncGF0dGVybicpO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDoga2V5LFxuICAgICAgICAgIHRpdGxlOiBmb3JtYXRDYW1lbENhc2Uoa2V5KSxcbiAgICAgICAgICB2YWx1ZTogZHJhd2luZ1trZXldLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogcGFyYW1ldGVyc1trZXldLFxuICAgICAgICAgIHR5cGU6IHR5cGVNYXBba2V5XVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFjdGl2ZURyYXdpbmcgPSBkcmF3aW5nO1xuICAgICAgdGhpcy5hY3RpdmVEcmF3aW5nLmhpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnRpdGxlID0gZm9ybWF0Q2FtZWxDYXNlKGRyYXdpbmcubmFtZSk7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyQWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyQWxsKCkge1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5EcmF3VG9vbHMsICdDbGVhciBBbGwnKTtcbiAgICAgIHRoaXMuc3R4LmNsZWFyRHJhd2luZ3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0VG9vbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RUb29sKGlkKSB7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJMb2dBY3Rpb25zXCJdLkRyYXdUb29scywgXCJBZGQgXCIuY29uY2F0KGlkKSk7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHN0eC5jbGVhck1lYXN1cmUoKTsgLy8gVE9ETyByZW1vdmUgdGhpcyBsaW5lXG5cbiAgICAgIHN0eC5jaGFuZ2VWZWN0b3JUeXBlKGlkKTtcbiAgICAgIHRoaXMubWVudS5zZXRPcGVuKGZhbHNlKTsgLy8gbGV0IGRyYXdpbmdQYXJhbWV0ZXJzID0gQ0lRLkRyYXdpbmcuZ2V0RHJhd2luZ1BhcmFtZXRlcnMoc3R4LCBpZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2hhbmdlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZWQoaXRlbXMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gaXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZURyYXdpbmdbaXRlbS5pZF0gPSBpdGVtLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVEcmF3aW5nLmhpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmFjdGl2ZURyYXdpbmcuYWRqdXN0KCk7XG4gICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zYXZlRHJhd2luZ3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EZWxldGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGVsZXRlZCgpIHtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcIkxvZ0FjdGlvbnNcIl0uRHJhd1Rvb2xzLCBcIlJlbW92ZSBcIi5jb25jYXQodGhpcy5hY3RpdmVEcmF3aW5nLm5hbWUpKTtcbiAgICAgIHRoaXMuc3R4LnJlbW92ZURyYXdpbmcodGhpcy5hY3RpdmVEcmF3aW5nKTtcbiAgICAgIHRoaXMuYWN0aXZlRHJhd2luZyA9IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEcmF3VG9vbHNTdG9yZTtcbn0oKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkRlbGV0ZUhpZ2hsaWdodGVkXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uRGVsZXRlSGlnaGxpZ2h0ZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xlYXJBbGxcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsZWFyQWxsXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlbGVjdFRvb2xcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNlbGVjdFRvb2xcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25DaGFuZ2VkXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNoYW5nZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVkXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkRlbGV0ZWRcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0RyYXdpbmdDdXJzb3JTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvRHJhd2luZ0N1cnNvclN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBEcmF3aW5nQ3Vyc29yU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyLCBfZGVzY3JpcHRvcjMsIF9kZXNjcmlwdG9yNCwgX2Rlc2NyaXB0b3I1LCBfZGVzY3JpcHRvcjYsIF9kZXNjcmlwdG9yNztcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cbnZhciBEcmF3aW5nQ3Vyc29yU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRHJhd2luZ0N1cnNvclN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhd2luZ0N1cnNvclN0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNEcmF3aW5nXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxlZnRcIiwgX2Rlc2NyaXB0b3IzLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzcGxheVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgdGhpcy5vbkNvbnRleHRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0eC5hcHBlbmQoJ21vdXNlbW92ZWlubmVyJywgX3RoaXMub25Nb3VzZU1vdmUpO1xuXG4gICAgICBfdGhpcy5zdHguY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgX3RoaXMub25Ub3VjaEVuZCk7XG4gICAgfTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib25Nb3VzZU1vdmVcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwib25Ub3VjaEVuZFwiLCBfZGVzY3JpcHRvcjYsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVEaXNwbGF5XCIsIF9kZXNjcmlwdG9yNywgdGhpcyk7XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRHJhd2luZ0N1cnNvclN0b3JlLCBbe1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRHJhd2luZ0N1cnNvclN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNEcmF3aW5nXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b3BcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxlZnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRpc3BsYXlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3I1ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTW91c2VNb3ZlXCIsIFtfZGVjXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGVwWCwgZXBZKSB7XG4gICAgICBfdGhpczIuaXNEcmF3aW5nID0gX3RoaXMyLnN0eC5jdXJyZW50VmVjdG9yUGFyYW1ldGVycy52ZWN0b3JUeXBlO1xuXG4gICAgICBpZiAoX3RoaXMyLmlzRHJhd2luZykge1xuICAgICAgICBfdGhpczIuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIF90aGlzMi5sZWZ0ID0gZXBYIC0gX3RoaXMyLnN0eC5sZWZ0O1xuICAgICAgICBfdGhpczIudG9wID0gZXBZIC0gX3RoaXMyLnN0eC50b3AgLSAxNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMi5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjYgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25Ub3VjaEVuZFwiLCBbX2RlYzJdLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBBIGRlbGF5IGlzIG5lZWRlZCB0byByZW1vdmUgZHJhd2luZyBjdXJzb3IgYWZ0ZXIgZHJhd2luZyBlbmRzIG9uIHRvdWNoIGVuZCBpbiBtb2JpbGVcbiAgICAgIHNldFRpbWVvdXQoX3RoaXMzLnVwZGF0ZURpc3BsYXksIDUwMCk7XG4gICAgfTtcbiAgfVxufSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVEaXNwbGF5XCIsIFtfZGVjM10sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzNC5pc0RyYXdpbmcgPSBfdGhpczQuc3R4LmN1cnJlbnRWZWN0b3JQYXJhbWV0ZXJzLnZlY3RvclR5cGU7XG5cbiAgICAgIGlmICghX3RoaXM0LmlzRHJhd2luZykge1xuICAgICAgICBfdGhpczQuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0Zhdm9yaXRlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9GYXZvcml0ZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZXZlbnQtZW1pdHRlci1lczYgKi8gXCIuL25vZGVfbW9kdWxlcy9ldmVudC1lbWl0dGVyLWVzNi9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2NsYXNzMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxuXG5mdW5jdGlvbiBsb2FkRmF2b3JpdGVzKCkge1xuICB2YXIgbG9jYWwgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlXCJdKSgnY3EtZmF2b3JpdGVzJyk7XG5cbiAgaWYgKCFsb2NhbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBmYXZvcml0ZXMgPSB7fTtcblxuICBmb3IgKHZhciBjYXRlZ29yeU5hbWUgaW4gbG9jYWwpIHtcbiAgICB2YXIgY2F0ZWdvcnkgPSB7fTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGxvY2FsW2NhdGVnb3J5TmFtZV1bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgIHZhciBpZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBjYXRlZ29yeVtpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmF2b3JpdGVzW2NhdGVnb3J5TmFtZV0gPSBjYXRlZ29yeTtcbiAgfVxuXG4gIHJldHVybiBmYXZvcml0ZXM7XG59XG5cbnZhciBGYXZvcml0ZVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID0gKF90ZW1wID0gX2NsYXNzMiA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhGYXZvcml0ZVN0b3JlLCBudWxsLCBbe1xuICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmICghRmF2b3JpdGVTdG9yZS5pbnN0YW5jZSkge1xuICAgICAgICBGYXZvcml0ZVN0b3JlLmluc3RhbmNlID0gbmV3IEZhdm9yaXRlU3RvcmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEZhdm9yaXRlU3RvcmUuaW5zdGFuY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIkVWRU5UX0ZBVk9SSVRFU19VUERBVEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnRVZFTlRfRkFWT1JJVEVTX1VQREFURSc7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gRmF2b3JpdGVTdG9yZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmF2b3JpdGVTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZhdm9yaXRlc01hcFwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLl9lbWl0dGVyID0gbmV3IGV2ZW50X2VtaXR0ZXJfZXM2X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hKHtcbiAgICAgIGVtaXREZWxheTogMFxuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZhdm9yaXRlU3RvcmUsIFt7XG4gICAga2V5OiBcIm9uRmF2b3JpdGVVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25GYXZvcml0ZVVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihGYXZvcml0ZVN0b3JlLkVWRU5UX0ZBVk9SSVRFU19VUERBVEUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmRmF2b3JpdGVVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmRmF2b3JpdGVVcGRhdGUoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKEZhdm9yaXRlU3RvcmUuRVZFTlRfRkFWT1JJVEVTX1VQREFURSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0Zhdm9yaXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRmF2b3JpdGUoY2F0ZWdvcnksIGlkKSB7XG4gICAgICByZXR1cm4gaWQgaW4gdGhpcy5mYXZvcml0ZXNNYXBbY2F0ZWdvcnldO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVGYXZvcml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVGYXZvcml0ZShjYXRlZ29yeSwgaWQpIHtcbiAgICAgIHZhciBjYXQgPSB0aGlzLmZhdm9yaXRlc01hcFtjYXRlZ29yeV07XG5cbiAgICAgIGlmIChjYXRbaWRdKSB7XG4gICAgICAgIGRlbGV0ZSBjYXRbaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2F0W2lkXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChGYXZvcml0ZVN0b3JlLkVWRU5UX0ZBVk9SSVRFU19VUERBVEUsIHtcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIHZhbHVlOiBjYXRbaWRdIHx8IGZhbHNlXG4gICAgICB9KTsgLy8gdGhpcy5mYXZvcml0ZXNNYXAgPSB7IC4uLnRoaXMuZmF2b3JpdGVzTWFwIH07IC8vIGZvcmNlIG9ic2VydmFibGUgdG8gdXBkYXRlXG5cblxuICAgICAgdGhpcy5zYXZlRmF2b3JpdGVzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNhdmVGYXZvcml0ZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUZhdm9yaXRlcygpIHtcbiAgICAgIHZhciBmYXZvcml0ZXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgY2F0ZWdvcnlOYW1lIGluIHRoaXMuZmF2b3JpdGVzTWFwKSB7XG4gICAgICAgIHZhciBjYXRlZ29yeSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuZmF2b3JpdGVzTWFwW2NhdGVnb3J5TmFtZV0pIHtcbiAgICAgICAgICBjYXRlZ29yeS5wdXNoKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZhdm9yaXRlc1tjYXRlZ29yeU5hbWVdID0gY2F0ZWdvcnk7XG4gICAgICB9XG5cbiAgICAgIENJUS5sb2NhbFN0b3JhZ2VTZXRJdGVtKCdjcS1mYXZvcml0ZXMnLCBKU09OLnN0cmluZ2lmeShmYXZvcml0ZXMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmF2b3JpdGVTdG9yZTtcbn0oKSwgX2NsYXNzMi5pbnN0YW5jZSA9IHZvaWQgMCwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmF2b3JpdGVzTWFwXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGxvYWRGYXZvcml0ZXMoKSB8fCB7XG4gICAgICBpbmRpY2F0b3JzOiB7fSxcbiAgICAgICdjaGFydFRpdGxlJkNvbXBhcmlzb24nOiB7fVxuICAgIH07XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNGYXZvcml0ZVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc0Zhdm9yaXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRvZ2dsZUZhdm9yaXRlXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0b2dnbGVGYXZvcml0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoRmF2b3JpdGVTdG9yZSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0hpZ2hlc3RMb3dlc3RTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvSGlnaGVzdExvd2VzdFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuXG5cblxudmFyIEhpZ2hlc3RMb3dlc3RTdG9yZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhIaWdoZXN0TG93ZXN0U3RvcmUsIFt7XG4gICAga2V5OiBcImZlZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuc3R4eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNIaWdoZXN0TG93ZXN0TWFya2VyRW5hYmxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWNpbWFsUGxhY2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5kZWNpbWFsX3BsYWNlcyB8fCAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIEhpZ2hlc3RMb3dlc3RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZ2hlc3RMb3dlc3RTdG9yZSk7XG5cbiAgICB0aGlzLmhpZ2hlc3QgPSBudWxsO1xuICAgIHRoaXMubG93ZXN0ID0gbnVsbDtcbiAgICB0aGlzLmluamVjdGlvbklkID0gbnVsbDtcblxuICAgIHRoaXMuY2xlYXJJbmplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuaW5qZWN0aW9uSWQpIHtcbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZiA9IG51bGw7XG4gICAgICAgIF90aGlzLmxvd2VzdFJlZiA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuc3R4LnJlbW92ZUluamVjdGlvbihfdGhpcy5pbmplY3Rpb25JZCk7XG5cbiAgICAgICAgX3RoaXMuaW5qZWN0aW9uSWQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmVuYWJsZU1hcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5pc0hpZ2hlc3RMb3dlc3RNYXJrZXJFbmFibGVkKSB7XG4gICAgICAgIF90aGlzLmluamVjdGlvbklkID0gX3RoaXMuc3R4LmFwcGVuZCgnY3JlYXRlRGF0YVNlZ21lbnQnLCBfdGhpcy5jYWxjdWxhdGVIaWdoZXN0TG93ZXN0QnlOZXdEYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmNsZWFySW5qZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGlnaGVzdFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLmhpZ2hlc3RSZWYgPSByZWY7XG5cbiAgICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi52YWx1ZSA9IHJlZi5kaXYucXVlcnlTZWxlY3RvcignLnNwb3RfX3ZhbHVlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0TG93ZXN0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMubG93ZXN0UmVmID0gcmVmO1xuXG4gICAgICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi52YWx1ZSA9IHJlZi5kaXYucXVlcnlTZWxlY3RvcignLnNwb3RfX3ZhbHVlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSB0aGlzLmVuYWJsZU1hcmtlcjtcblxuICAgIHRoaXMuY2FsY3VsYXRlSGlnaGVzdExvd2VzdEJ5TmV3RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuaGlnaGVzdFJlZiB8fCAhX3RoaXMubG93ZXN0UmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnN0eC5jaGFydCAmJiBfdGhpcy5zdHguY2hhcnQuZGF0YVNlZ21lbnQubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzLmhpZ2hlc3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5sb3dlc3QgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnN0eC5jaGFydC5kYXRhU2VnbWVudC5mb3JFYWNoKGZ1bmN0aW9uICh0aWNrKSB7XG4gICAgICAgICAgaWYgKCF0aWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpcy5oaWdoZXN0IHx8IF90aGlzLmhpZ2hlc3QuQ2xvc2UgPD0gdGljay5DbG9zZSkge1xuICAgICAgICAgICAgX3RoaXMuaGlnaGVzdCA9IHRpY2s7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpcy5sb3dlc3QgfHwgX3RoaXMubG93ZXN0LkNsb3NlID49IHRpY2suQ2xvc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvd2VzdCA9IHRpY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5oaWdoZXN0IHx8ICFfdGhpcy5sb3dlc3QgfHwgX3RoaXMuaGlnaGVzdC5DbG9zZSA9PT0gX3RoaXMubG93ZXN0LkNsb3NlKSB7XG4gICAgICAgIF90aGlzLmhpZ2hlc3RSZWYuc2V0UG9zaXRpb24oe1xuICAgICAgICAgIGVwb2NoOiBudWxsLFxuICAgICAgICAgIHByaWNlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgZXBvY2g6IG51bGwsXG4gICAgICAgICAgcHJpY2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuaGlnaGVzdCkge1xuICAgICAgICB2YXIgcHJpY2UgPSBfdGhpcy5oaWdoZXN0LkNsb3NlLnRvRml4ZWQoX3RoaXMuZGVjaW1hbFBsYWNlcyk7XG5cbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgZXBvY2g6IE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFVUQ0Vwb2NoXCJdKShDSVEuc3RyVG9EYXRlVGltZShfdGhpcy5oaWdoZXN0LkRhdGUpKSxcbiAgICAgICAgICBwcmljZTogcHJpY2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuaGlnaGVzdFJlZi52YWx1ZS50ZXh0Q29udGVudCA9IHByaWNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMubG93ZXN0KSB7XG4gICAgICAgIHZhciBfcHJpY2UgPSBfdGhpcy5sb3dlc3QuQ2xvc2UudG9GaXhlZChfdGhpcy5kZWNpbWFsUGxhY2VzKTtcblxuICAgICAgICBfdGhpcy5sb3dlc3RSZWYuc2V0UG9zaXRpb24oe1xuICAgICAgICAgIGVwb2NoOiBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRVVENFcG9jaFwiXSkoQ0lRLnN0clRvRGF0ZVRpbWUoX3RoaXMubG93ZXN0LkRhdGUpKSxcbiAgICAgICAgICBwcmljZTogX3ByaWNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmxvd2VzdFJlZi52YWx1ZS50ZXh0Q29udGVudCA9IF9wcmljZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmlzSGlnaGVzdExvd2VzdE1hcmtlckVuYWJsZWQ7XG4gICAgfSwgdGhpcy5lbmFibGVNYXJrZXIpO1xuICB9XG5cbiAgcmV0dXJuIEhpZ2hlc3RMb3dlc3RTdG9yZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChIaWdoZXN0TG93ZXN0U3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9MYXN0RGlnaXRTdGF0c1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTGFzdERpZ2l0U3RhdHNTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExhc3REaWdpdFN0YXRzU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9jbGFzcywgX2Rlc2NyaXB0b3I7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9XG5cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG52YXIgTGFzdERpZ2l0U3RhdHNTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGFzdERpZ2l0U3RhdHNTdG9yZShtYWluU3RvcmUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFzdERpZ2l0U3RhdHNTdG9yZSk7XG5cbiAgICB0aGlzLmNvdW50ID0gMTAwMDtcbiAgICB0aGlzLmRpZ2l0cyA9IFtdO1xuICAgIHRoaXMubGF0ZXN0RGF0YSA9IFtdO1xuICAgIHRoaXMuc3ltYm9sQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXJzXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExhc3REaWdpdFN0YXRzU3RvcmUsIFt7XG4gICAga2V5OiBcImNoYW5nZVN5bWJvbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VTeW1ib2woKSB7XG4gICAgICB0aGlzLnN5bWJvbENoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93TGFzdERpZ2l0U3RhdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaG93TGFzdERpZ2l0U3RhdHMgPSBfYXN5bmNUb0dlbmVyYXRvcihcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGksIHRpY2tIaXN0b3J5O1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5kaWdpdHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdERhdGEgPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5jaGFydCAmJiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkICYmICF0aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG93TGFzdERpZ2l0U3RhdHMpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub2ZmTWFzdGVyRGF0YVVwZGF0ZSh0aGlzLm9uTWFzdGVyRGF0YVVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1haW5TdG9yZS5zdGF0ZS5zaG93TGFzdERpZ2l0U3RhdHMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmRpZ2l0cy5wdXNoKDApO1xuICAgICAgICAgICAgICAgICAgdGhpcy5iYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNOYW1lOiAnJ1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5zdHgubWFzdGVyRGF0YSAmJiB0aGlzLnN0eC5tYXN0ZXJEYXRhLmxlbmd0aCA+PSB0aGlzLmNvdW50KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3REYXRhID0gdGhpcy5zdHgubWFzdGVyRGF0YS5zbGljZSgtdGhpcy5jb3VudCkubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4geC5DbG9zZS50b0ZpeGVkKF90aGlzLmRlY2ltYWxQbGFjZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0VGlja0hpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgc3ltYm9sOiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLnN5bWJvbCxcbiAgICAgICAgICAgICAgICAgIGNvdW50OiB0aGlzLmNvdW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aWNrSGlzdG9yeSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3REYXRhID0gdGlja0hpc3RvcnkgJiYgdGlja0hpc3RvcnkuaGlzdG9yeSA/IHRpY2tIaXN0b3J5Lmhpc3RvcnkucHJpY2VzIDogW107XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdERhdGEuZm9yRWFjaChmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBsYXN0RGlnaXQgPSAoK3ByaWNlKS50b0ZpeGVkKF90aGlzLmRlY2ltYWxQbGFjZXMpLnNsaWNlKC0xKTtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmRpZ2l0c1tsYXN0RGlnaXRdKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCYXJzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vbk1hc3RlckRhdGFVcGRhdGUodGhpcy5vbk1hc3RlckRhdGFVcGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2hvd0xhc3REaWdpdFN0YXRzKCkge1xuICAgICAgICByZXR1cm4gX3Nob3dMYXN0RGlnaXRTdGF0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJvbk1hc3RlckRhdGFVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25NYXN0ZXJEYXRhVXBkYXRlKF9yZWYpIHtcbiAgICAgIHZhciBDbG9zZSA9IF9yZWYuQ2xvc2U7XG5cbiAgICAgIGlmICh0aGlzLnN5bWJvbENoYW5nZWQpIHtcbiAgICAgICAgLy8gU3ltYm9sIGhhcyBjaGFuZ2VkXG4gICAgICAgIHRoaXMuc2hvd0xhc3REaWdpdFN0YXRzKCk7XG4gICAgICAgIHRoaXMuc3ltYm9sQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxhdGVzdERhdGEubGVuZ3RoKSB7XG4gICAgICAgIHZhciBmaXJzdERpZ2l0ID0gKCt0aGlzLmxhdGVzdERhdGEuc2hpZnQoKSkudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpLnNsaWNlKC0xKTtcbiAgICAgICAgdmFyIHByaWNlID0gKCtDbG9zZSkudG9GaXhlZCh0aGlzLmRlY2ltYWxQbGFjZXMpO1xuICAgICAgICB2YXIgbGFzdERpZ2l0ID0gcHJpY2Uuc2xpY2UoLTEpO1xuICAgICAgICB0aGlzLmxhdGVzdERhdGEucHVzaCgrcHJpY2UpO1xuICAgICAgICB0aGlzLmRpZ2l0c1tsYXN0RGlnaXRdKys7XG4gICAgICAgIHRoaXMuZGlnaXRzW2ZpcnN0RGlnaXRdLS07XG4gICAgICAgIHRoaXMudXBkYXRlQmFycygpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVCYXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUJhcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG1pbiA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmRpZ2l0cykpO1xuICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmRpZ2l0cykpO1xuICAgICAgdGhpcy5kaWdpdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnaXQsIGlkeCkge1xuICAgICAgICBfdGhpczIuYmFyc1tpZHhdLmhlaWdodCA9IGRpZ2l0ICogMTAwIC8gX3RoaXMyLmNvdW50O1xuICAgICAgICBpZiAoZGlnaXQgPT09IG1pbikgX3RoaXMyLmJhcnNbaWR4XS5jTmFtZSA9ICdtaW4nO2Vsc2UgaWYgKGRpZ2l0ID09PSBtYXgpIF90aGlzMi5iYXJzW2lkeF0uY05hbWUgPSAnbWF4JztlbHNlIF90aGlzMi5iYXJzW2lkeF0uY05hbWUgPSAnJztcbiAgICAgIH0pO1xuICAgICAgdGhpcy5iYXJzID0gdGhpcy5iYXJzLnNsaWNlKDApOyAvLyBmb3JjZSBhcnJheSB1cGRhdGVcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFwaVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmFwaTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVjaW1hbFBsYWNlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmlzaWJsZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlLnNob3dMYXN0RGlnaXRTdGF0cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWFya2V0RGlzcGxheU5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sID8gdGhpcy5tYWluU3RvcmUuY2hhcnQuY3VycmVudEFjdGl2ZVN5bWJvbC5uYW1lIDogJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3VsZE1pbmltaXNlTGFzdERpZ2l0c1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnN0YXRlLnNob3VsZE1pbmltaXNlTGFzdERpZ2l0cztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGFzdERpZ2l0U3RhdHNTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImJhcnNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJpc1Zpc2libGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzVmlzaWJsZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJtYXJrZXREaXNwbGF5TmFtZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibWFya2V0RGlzcGxheU5hbWVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvdWxkTWluaW1pc2VMYXN0RGlnaXRzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG91bGRNaW5pbWlzZUxhc3REaWdpdHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2hhbmdlU3ltYm9sXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNoYW5nZVN5bWJvbFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG93TGFzdERpZ2l0U3RhdHNcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dMYXN0RGlnaXRTdGF0c1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbk1hc3RlckRhdGFVcGRhdGVcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uTWFzdGVyRGF0YVVwZGF0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVCYXJzXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVCYXJzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL0xpc3RTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTGlzdFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBMaXN0U3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nvbm5lY3QgKi8gXCIuL3NyYy9zdG9yZS9Db25uZWN0LmpzXCIpO1xudmFyIF9kZWMsIF9jbGFzcztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5cblxudmFyIExpc3RTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGlzdFN0b3JlKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGdldENvbnRleHQgPSBfcmVmLmdldENvbnRleHQsXG4gICAgICAgIGdldEl0ZW1zID0gX3JlZi5nZXRJdGVtcyxcbiAgICAgICAgb25JdGVtU2VsZWN0ZWQgPSBfcmVmLm9uSXRlbVNlbGVjdGVkO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RTdG9yZSk7XG5cbiAgICB0aGlzLmNvbm5lY3QgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBfdGhpcy5nZXRJdGVtcygpLFxuICAgICAgICBvbkl0ZW1DbGljazogX3RoaXMub25JdGVtQ2xpY2tcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5nZXRDb250ZXh0ID0gZ2V0Q29udGV4dDtcbiAgICB0aGlzLmdldEl0ZW1zID0gZ2V0SXRlbXM7IC8vIGl0ZW1zIDogW3tpZDogJycsIHRleHQ6ICcnLCBkaXNhYmxlZD86IGZhbHNlLCBhY3RpdmU/OiBmYWxzZX1dXG5cbiAgICB0aGlzLm9uSXRlbVNlbGVjdGVkID0gb25JdGVtU2VsZWN0ZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdFN0b3JlLCBbe1xuICAgIGtleTogXCJvbkl0ZW1DbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkl0ZW1DbGljayhpZHgsIGl0ZW0pIHtcbiAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQoaXRlbSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RTdG9yZTtcbn0oKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1DbGlja1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkl0ZW1DbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9Mb2FkZXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9Mb2FkZXJTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHQpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExvYWRlclN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMjtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cbnZhciBMb2FkZXJTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMb2FkZXJTdG9yZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGVyU3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0FjdGl2ZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnJlbnRTdGF0ZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZXMgPSB7fTtcbiAgICB0aGlzLnN0YXRlcyA9IHtcbiAgICAgICdjaGFydC1lbmdpbmUnOiB0LnRyYW5zbGF0ZSgnUmV0cmlldmluZyBDaGFydCBFbmdpbmUuLi4nKSxcbiAgICAgICdtYXJrZXQtc3ltYm9sJzogdC50cmFuc2xhdGUoJ1JldHJpZXZpbmcgTWFya2V0IFN5bWJvbHMuLi4nKSxcbiAgICAgICd0cmFkaW5nLXRpbWUnOiB0LnRyYW5zbGF0ZSgnUmV0cmlldmluZyBUcmFkaW5nIFRpbWVzLi4uJyksXG4gICAgICAnY2hhcnQtZGF0YSc6IHQudHJhbnNsYXRlKCdSZXRyaWV2aW5nIENoYXJ0IERhdGEuLi4nKVxuICAgIH07XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9hZGVyU3RvcmUsIFt7XG4gICAga2V5OiBcInNldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGVzW3N0YXRlXSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdXcm9uZyBzdGF0ZSByZXF1ZXN0ZWQhJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlc1tzdGF0ZV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoaWRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvYWRlclN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY3VycmVudFN0YXRlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN0YXRlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFN0YXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3dcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGlkZVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvTWFya2VyU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTWFya2VyU3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTWFya2VyU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMztcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cbiAvLyB3aWR0aCBoZXJlIGluY2x1ZGVzIHRoZSBzaXplIG9mIHRoZSBmbGFnXG5cbnZhciBNQVJLRVJfTUFYX1dJRFRIID0gMTUwO1xudmFyIE1hcmtlclN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYXJrZXJTdG9yZShtYWluU3RvcmUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFya2VyU3RvcmUpO1xuXG4gICAgdGhpcy55UG9zaXRpb25lciA9ICd2YWx1ZSc7XG4gICAgdGhpcy54UG9zaXRpb25lciA9ICdlcG9jaCc7XG4gICAgdGhpcy50aWNrID0gdm9pZCAwO1xuICAgIHRoaXMuaXNEaXN0YW50RnV0dXJlID0gdm9pZCAwO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gdm9pZCAwO1xuICAgIHRoaXMuY2hpbGRyZW4gPSB2b2lkIDA7XG4gICAgdGhpcy54ID0gdm9pZCAwO1xuICAgIHRoaXMueSA9IHZvaWQgMDtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzcGxheVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxlZnRcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYm90dG9tXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLmNoYXJ0U3RvcmUgPSBtYWluU3RvcmUuY2hhcnQ7XG4gICAgdGhpcy5zdHggPSB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0LnN0eDtcbiAgICB0aGlzLmNoYXJ0ID0gdGhpcy5zdHguY2hhcnQ7XG4gICAgdGhpcy5wYW5lbCA9IHRoaXMuY2hhcnQucGFuZWw7XG4gICAgdGhpcy55QXhpcyA9IHRoaXMucGFuZWwueUF4aXM7XG4gICAgdGhpcy5tYWluU3RvcmUuY2hhcnQuZmVlZC5vblBhZ2luYXRpb24odGhpcy51cGRhdGVNYXJrZXJUaWNrKTtcbiAgICB0aGlzLl9saXN0ZW5lcklkID0gdGhpcy5zdHguYWRkRXZlbnRMaXN0ZW5lcignbmV3Q2hhcnQnLCB0aGlzLnVwZGF0ZU1hcmtlclRpY2spO1xuICAgIHRoaXMuX2luamVjdGlvbklkID0gdGhpcy5zdHgucHJlcGVuZCgncG9zaXRpb25NYXJrZXJzJywgdGhpcy51cGRhdGVNYXJrZXJUaWNrKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXJrZXJTdG9yZSwgW3tcbiAgICBrZXk6IFwiZGVzdHJ1Y3RvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cnVjdG9yKCkge1xuICAgICAgaWYgKHRoaXMuX2luamVjdGlvbklkKSB7XG4gICAgICAgIHRoaXMuc3R4LnJlbW92ZUluamVjdGlvbih0aGlzLl9pbmplY3Rpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcklkKSB7XG4gICAgICAgIHRoaXMuc3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fbGlzdGVuZXJJZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkKSB7XG4gICAgICAgIHRoaXMubWFpblN0b3JlLmNoYXJ0LmZlZWQub2ZmUGFnaW5hdGlvbih0aGlzLnVwZGF0ZU1hcmtlclRpY2spO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pbmplY3Rpb25JZCA9IG51bGw7XG4gICAgICB0aGlzLl9saXN0ZW5lcklkID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUHJvcHMoX3JlZikge1xuICAgICAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgICB5ID0gX3JlZi55LFxuICAgICAgICAgIHlQb3NpdGlvbmVyID0gX3JlZi55UG9zaXRpb25lcixcbiAgICAgICAgICB4ID0gX3JlZi54LFxuICAgICAgICAgIHhQb3NpdGlvbmVyID0gX3JlZi54UG9zaXRpb25lcjtcbiAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgdmFyIGlzVXBkYXRlTWFya2VyVGlja1JlcXVpcmVkID0gZmFsc2U7XG4gICAgICB2YXIgaXNVcGRhdGVQb3NpdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgICBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJ1cGRhdGVQcm9wSWZDaGFuZ2VkXCJdKSh0aGlzLCB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHhQb3NpdGlvbmVyOiB4UG9zaXRpb25lclxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc1VwZGF0ZU1hcmtlclRpY2tSZXF1aXJlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInVwZGF0ZVByb3BJZkNoYW5nZWRcIl0pKHRoaXMsIHtcbiAgICAgICAgeTogeSxcbiAgICAgICAgeVBvc2l0aW9uZXI6IHlQb3NpdGlvbmVyXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzVXBkYXRlUG9zaXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgICB9KTsgLy8gVE9ETyB0aGlzIGNvbmRpdGlvbiBpc24ndCBuZWVkZWQgYW55IG1vcmUgaWYgdGhlIGN1cnJlbnQgYWxnb3JpdGhtIHdvcmtzLlxuXG4gICAgICBpZiAoaXNVcGRhdGVNYXJrZXJUaWNrUmVxdWlyZWQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVNYXJrZXJUaWNrKCk7IC8vIGFsc28gY2FsbHMgdXBkYXRlUG9zaXRpb25cbiAgICAgIH0gZWxzZSBpZiAoaXNVcGRhdGVQb3NpdGlvblJlcXVpcmVkKSB7XG4gICAgICAgIC8vIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXJrZXJUaWNrKCk7XG4gICAgICB9XG4gICAgfSAvLyBUaGUgdXBkYXRlIGZ1bmN0aW9uIGhlcmUgaXMgbW9yZSBlZmZpY2llbnQgdGhhbiBDaGFydElRJ3MgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgIC8vIGluIHRoYXQgaXQgZG9lc24ndCBmYWN0b3IgdGhlIG1hcmtlciB3aWR0aCBhbmQgaGVpZ2h0IGludG8gdGhlIGNhbGN1bGF0aW9uLlxuICAgIC8vIENvbnNpZGVyaW5nIGhvdyBvZnRlbiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCwgaXQgbWFkZSBtb3JlIHNlbnNlIHRvIGhhdmUgdGhlIG9mZnNldFxuICAgIC8vIGRvbmUgaW4gQ1NTLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAvLyBEb24ndCBwb3NpdGlvbiB0aGUgbWFya2VycyB3aGVuIHRoZSBjaGFydCBoYXNuJ3QgYmVlbiBzY3JvbGxlZCB0byB0aGUgbGVmdG1vc3Qgb2YgdGhlIHNjcmVlblxuICAgICAgaWYgKCF0aGlzLnNob3VsZERyYXdNYXJrZXJzKSByZXR1cm47IC8vIFdoZW4gdGhlIGNoYXJ0IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCBvciB0aGVyZSBpc24ndCBhbnkgZGF0YSBpbiBtYXN0ZXJEYXRhIGl0IHNob3VsZG4ndCBwb3NpdGlvbiB0aGUgbWFya2Vycy5cblxuICAgICAgaWYgKCF0aGlzLnN0eCB8fCAhdGhpcy5zdHgubWFzdGVyRGF0YSB8fCB0aGlzLnN0eC5tYXN0ZXJEYXRhLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNEaXN0YW50RnV0dXJlICYmIHRoaXMuY2hhcnQueGF4aXMgJiYgdGhpcy5jaGFydC54YXhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBkdW1teU1hcmtlciA9IHRoaXMuZ2V0RHVtbXlNYXJrZXIoKTtcbiAgICAgICAgdGhpcy5zdHguZnV0dXJlVGlja0lmRGlzcGxheWVkKGR1bW15TWFya2VyKTtcblxuICAgICAgICBpZiAoZHVtbXlNYXJrZXIudGljaykge1xuICAgICAgICAgIHRoaXMudGljayA9IGR1bW15TWFya2VyLnRpY2s7XG4gICAgICAgICAgdGhpcy5pc0Rpc3RhbnRGdXR1cmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBYIGF4aXMgcG9zaXRpb25pbmcgbG9naWNcbiAgICAgIC8vIGNvbnN0IHsgZGF0YVNldCB9ID0gdGhpcy5jaGFydDtcblxuXG4gICAgICB2YXIgcXVvdGUgPSBudWxsO1xuICAgICAgdmFyIGxlZnQ7XG5cbiAgICAgIGlmICh0aGlzLnhQb3NpdGlvbmVyICE9PSAnbm9uZScpIHtcbiAgICAgICAgdmFyIF9kdW1teU1hcmtlciA9IHRoaXMuZ2V0RHVtbXlNYXJrZXIoKTtcblxuICAgICAgICBpZiAodGhpcy55UG9zaXRpb25lciAhPT0gJ25vbmUnICYmIHRoaXMudGljayA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuaGlkZU1hcmtlcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBUT0RPOiBUZW1wb3Jhcnkgc29sdXRpb24gdW50aWwgQ2hhcnRJUSBjYW4gc3VwcG9ydCBkaXNwbGF5aW5nIG1hcmtlcnMgaW4gZGF0ZXMgd2l0aCBubyB0aWNrIGRhdGFcblxuXG4gICAgICAgIGlmIChfZHVtbXlNYXJrZXIucGFyYW1zLnhQb3NpdGlvbmVyID09PSAnZGF0ZScgJiYgIXRoaXMuaXNEaXN0YW50RnV0dXJlICYmIHRoaXMuc3R4Lm1hc3RlckRhdGFbdGhpcy50aWNrXSAmJiB0aGlzLnN0eC5tYXN0ZXJEYXRhW3RoaXMudGlja10uRFQudmFsdWVPZigpICE9PSBfZHVtbXlNYXJrZXIucGFyYW1zLngudmFsdWVPZigpKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIG1hcmtlciBpcyBub3QgZGlzdGFuY2UgZnV0dXJlIGJ1dCBpdCBpcyBncmVhdGVyIHRoYW4gdGhlIGxhc3QgaXRlbSBpbiB0aGUgbWFzdGVyRGF0YSwgaXQgd2lsbCBiZSBoaWRkZW4uXG4gICAgICAgICAgaWYgKHRoaXMueVBvc2l0aW9uZXIgIT09ICdub25lJyAmJiB0aGlzLnN0eC5tYXN0ZXJEYXRhW3RoaXMuc3R4Lm1hc3RlckRhdGEubGVuZ3RoIC0gMV0uRFQudmFsdWVPZigpIDwgX2R1bW15TWFya2VyLnBhcmFtcy54LnZhbHVlT2YoKSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlTWFya2VyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFkZGluZyBhbiBpbnZpc2libGUgYmFyIGlmIHRoZSBiYXJcbiAgICAgICAgICAgKiBkb2VzIG5vdCBleGlzdCBvbiB0aGUgbWFzdGVyRGF0YVxuICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICB0aGlzLnN0eC51cGRhdGVDaGFydERhdGEoe1xuICAgICAgICAgICAgRFQ6IF9kdW1teU1hcmtlci5wYXJhbXMueCxcbiAgICAgICAgICAgIENsb3NlOiBudWxsXG4gICAgICAgICAgfSwgbnVsbCwge1xuICAgICAgICAgICAgZmlsbEdhcHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnN0eC5jcmVhdGVEYXRhU2V0KCk7IC8vIHRoaXMudGljayArPSAxO1xuXG4gICAgICAgICAgdGhpcy5zdHguc2V0TWFya2VyVGljayhfZHVtbXlNYXJrZXIpO1xuICAgICAgICAgIHRoaXMudGljayA9IF9kdW1teU1hcmtlci50aWNrO1xuXG4gICAgICAgICAgaWYgKHRoaXMueVBvc2l0aW9uZXIgIT09ICd2YWx1ZScgJiYgdGhpcy55UG9zaXRpb25lciAhPT0gJ29uX2NhbmRsZScgJiYgdGhpcy55UG9zaXRpb25lciAhPT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRoaXMueVBvc2l0aW9uZXIgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueFBvc2l0aW9uZXIgPT09ICdiYXInICYmIHRoaXMueCkge1xuICAgICAgICAgIGlmICh0aGlzLnggPCB0aGlzLmNoYXJ0LnhheGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHhheGlzID0gdGhpcy5jaGFydC54YXhpc1t0aGlzLnhdO1xuICAgICAgICAgICAgaWYgKHhheGlzKSBxdW90ZSA9IHhheGlzLmRhdGE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGVmdCA9IHRoaXMuc3R4LnBpeGVsRnJvbUJhcih0aGlzLngsIHRoaXMuY2hhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnRpY2sgPCB0aGlzLnN0eC5jaGFydC5kYXRhU2V0Lmxlbmd0aCkgcXVvdGUgPSB0aGlzLnN0eC5jaGFydC5kYXRhU2V0W3RoaXMudGlja107XG4gICAgICAgICAgbGVmdCA9IHRoaXMuc3R4LnBpeGVsRnJvbVRpY2sodGhpcy50aWNrLCB0aGlzLmNoYXJ0KSAtIHRoaXMuY2hhcnQubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcXVvdGUpIHF1b3RlID0gdGhpcy5zdHguY2hhcnQuZGF0YVNldFt0aGlzLnN0eC5jaGFydC5kYXRhU2V0Lmxlbmd0aCAtIDFdOyAvLyBGdXR1cmUgdGlja3MgYmFzZWQgb2ZmIHRoZSB2YWx1ZSBvZiB0aGUgY3VycmVudCBxdW90ZVxuXG4gICAgICAgIHZhciBpc01hcmtlckV4Y2VlZFJhbmdlID0gbGVmdCA8IC1NQVJLRVJfTUFYX1dJRFRIIHx8IGxlZnQgPiB0aGlzLmNoYXJ0LndpZHRoICsgTUFSS0VSX01BWF9XSURUSDtcblxuICAgICAgICBpZiAoaXNNYXJrZXJFeGNlZWRSYW5nZSkge1xuICAgICAgICAgIHRoaXMuaGlkZU1hcmtlcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxlZnQgPSBsZWZ0IHx8IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy5sZWZ0KSB7XG4gICAgICAgIHRoaXMuaGlkZU1hcmtlcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWw7XG4gICAgICB2YXIgc2hvd3NIaWdocyA9IHRoaXMuc3R4LmNoYXJ0LmhpZ2hMb3dCYXJzIHx8IHRoaXMuc3R4LmhpZ2hMb3dCYXJzW3RoaXMuc3R4LmxheW91dC5jaGFydFR5cGVdO1xuICAgICAgdmFyIHBsb3RGaWVsZCA9IHRoaXMuY2hhcnQuZGVmYXVsdFBsb3RGaWVsZDtcbiAgICAgIGlmICghcGxvdEZpZWxkIHx8IHNob3dzSGlnaHMpIHBsb3RGaWVsZCA9ICdDbG9zZSc7XG5cbiAgICAgIGlmICh0aGlzLnlQb3NpdGlvbmVyLmluZGV4T2YoJ2NhbmRsZScpID4gLTEpIHtcbiAgICAgICAgLy8gY2FuZGxlIHBvc2l0aW9uaW5nLCBmaW5kIHRoZSBxdW90ZVxuICAgICAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICAgICAgdmFyIGJhciA9IHRoaXMuc3R4LmJhckZyb21QaXhlbCh0aGlzLmxlZnQsIHRoaXMuY2hhcnQpO1xuXG4gICAgICAgICAgaWYgKGJhciA+PSAwKSB7XG4gICAgICAgICAgICBxdW90ZSA9IHRoaXMuY2hhcnQueGF4aXNbYmFyXS5kYXRhO1xuICAgICAgICAgICAgaWYgKCFxdW90ZSkgcXVvdGUgPSB0aGlzLnN0eC5jaGFydC5kYXRhU2V0W3RoaXMuc3R4LmNoYXJ0LmRhdGFTZXQubGVuZ3RoIC0gMV07IC8vIEZ1dHVyZSB0aWNrcyBiYXNlZCBvZmYgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IHF1b3RlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFkgYXhpcyBwb3NpdGlvbmluZyBsb2dpY1xuXG5cbiAgICAgIGlmICh0aGlzLnlQb3NpdGlvbmVyLnRvTG93ZXJDYXNlKCkgPT09ICdub25lJykge1xuICAgICAgICAvLyBzZXQgdGhlIGJvdHRvbSB2YWx1ZSBpZiB0aGVyZSdzIGEgYm90dG9tV2lkZ2V0LCBlbHNlIHNldCBpdCB0byB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnN0eC5jaGFydC55QXhpcy5pbml0aWFsTWFyZ2luQm90dG9tID09PSAyMDAgPyAxMjUgOiAyMDtcbiAgICAgICAgdGhpcy5zaG93TWFya2VyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGhlaWdodCA9IHRoaXMucGFuZWwueUF4aXMuYm90dG9tO1xuICAgICAgdmFyIGJvdHRvbSA9IDA7XG5cbiAgICAgIGlmICh0aGlzLnlQb3NpdGlvbmVyID09PSAndmFsdWUnICYmIHRoaXMueSkge1xuICAgICAgICBib3R0b20gPSBoZWlnaHQgLSB0aGlzLnN0eC5waXhlbEZyb21QcmljZSh0aGlzLnksIHRoaXMucGFuZWwsIHRoaXMueUF4aXMpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnlQb3NpdGlvbmVyID09PSAndW5kZXJfY2FuZGxlJyAmJiBxdW90ZSkge1xuICAgICAgICB2YWwgPSBxdW90ZVtwbG90RmllbGRdO1xuICAgICAgICBpZiAoc2hvd3NIaWdocykgdmFsID0gdGhpcy5zdHguZ2V0QmFyQm91bmRzKHF1b3RlKS5sb3c7XG4gICAgICAgIGJvdHRvbSA9IGhlaWdodCAtIHRoaXMuc3R4LnBpeGVsRnJvbVByaWNlKHZhbCwgdGhpcy5wYW5lbCwgdGhpcy55QXhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueVBvc2l0aW9uZXIgPT09ICdvbl9jYW5kbGUnICYmIHF1b3RlKSB7XG4gICAgICAgIHZhbCA9IHF1b3RlW3Bsb3RGaWVsZF07XG4gICAgICAgIGlmIChzaG93c0hpZ2hzKSB2YWwgPSAocXVvdGUuTG93ICsgcXVvdGUuSGlnaCkgLyAyO1xuICAgICAgICBib3R0b20gPSBoZWlnaHQgLSB0aGlzLnN0eC5waXhlbEZyb21QcmljZSh2YWwsIHRoaXMucGFuZWwsIHRoaXMueUF4aXMpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnlQb3NpdGlvbmVyID09PSAndG9wJykge1xuICAgICAgICBib3R0b20gPSBoZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKHF1b3RlKSB7XG4gICAgICAgIC8vIGFib3ZlX2NhbmRsZVxuICAgICAgICB2YWwgPSBxdW90ZVtwbG90RmllbGRdO1xuICAgICAgICBpZiAoc2hvd3NIaWdocykgdmFsID0gdGhpcy5zdHguZ2V0QmFyQm91bmRzKHF1b3RlKS5oaWdoO1xuICAgICAgICBib3R0b20gPSBoZWlnaHQgLSB0aGlzLnN0eC5waXhlbEZyb21QcmljZSh2YWwsIHRoaXMucGFuZWwsIHRoaXMueUF4aXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm90dG9tIDwgMCB8fCBib3R0b20gPiBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5oaWRlTWFya2VyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ib3R0b20gPSBib3R0b20gfCAwO1xuICAgICAgdGhpcy5zaG93TWFya2VyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZU1hcmtlclRpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlTWFya2VyVGljaygpIHtcbiAgICAgIHZhciBkdW1teU1hcmtlciA9IHRoaXMuZ2V0RHVtbXlNYXJrZXIoKTtcbiAgICAgIHRoaXMuc3R4LnNldE1hcmtlclRpY2soZHVtbXlNYXJrZXIpO1xuICAgICAgdGhpcy50aWNrID0gZHVtbXlNYXJrZXIudGljaztcblxuICAgICAgaWYgKGR1bW15TWFya2VyLnBhcmFtcy5mdXR1cmUpIHtcbiAgICAgICAgdGhpcy5pc0Rpc3RhbnRGdXR1cmUgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0LnhheGlzICYmIHRoaXMuY2hhcnQueGF4aXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5zdHguZnV0dXJlVGlja0lmRGlzcGxheWVkKGR1bW15TWFya2VyKTtcbiAgICAgICAgICB0aGlzLnRpY2sgPSBkdW1teU1hcmtlci50aWNrO1xuXG4gICAgICAgICAgaWYgKHRoaXMudGljayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pc0Rpc3RhbnRGdXR1cmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5oaWRlTWFya2VyKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRpY2sgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGluZyBhbiBpbnZpc2libGUgYmFyIGlmIHRoZSBiYXJcbiAgICAgICAgICogZG9lcyBub3QgZXhpc3Qgb24gdGhlIG1hc3RlckRhdGFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3R4LnVwZGF0ZUNoYXJ0RGF0YSh7XG4gICAgICAgICAgRFQ6IGR1bW15TWFya2VyLnBhcmFtcy54LFxuICAgICAgICAgIENsb3NlOiBudWxsXG4gICAgICAgIH0sIG51bGwsIHtcbiAgICAgICAgICBmaWxsR2FwczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHguY3JlYXRlRGF0YVNldCgpO1xuICAgICAgICB0aGlzLnN0eC5zZXRNYXJrZXJUaWNrKGR1bW15TWFya2VyKTtcbiAgICAgICAgdGhpcy50aWNrID0gZHVtbXlNYXJrZXIudGljaztcblxuICAgICAgICBpZiAodGhpcy50aWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHRoaXMueVBvc2l0aW9uZXIgIT09ICd2YWx1ZScgJiYgdGhpcy55UG9zaXRpb25lciAhPT0gJ29uX2NhbmRsZScgJiYgdGhpcy55UG9zaXRpb25lciAhPT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRoaXMueVBvc2l0aW9uZXIgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlkZU1hcmtlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBDaGFydElRJ3MgbWFya2VyIGZ1bmN0aW9ucyB3YW50cyBtYXJrZXJzLiBMZXQncyBnaXZlIHRoZW0gbWFya2Vycy5cblxuICB9LCB7XG4gICAga2V5OiBcImdldER1bW15TWFya2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldER1bW15TWFya2VyKCkge1xuICAgICAgdmFyIHggPSB0aGlzLng7XG4gICAgICB2YXIgeFBvc2l0aW9uZXIgPSB0aGlzLnhQb3NpdGlvbmVyO1xuXG4gICAgICBpZiAodGhpcy54UG9zaXRpb25lciA9PT0gJ2Vwb2NoJykge1xuICAgICAgICB4UG9zaXRpb25lciA9ICdkYXRlJztcbiAgICAgICAgeCA9IENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldFVUQ0RhdGVcIl0pKHgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgeFBvc2l0aW9uZXI6IHhQb3NpdGlvbmVyXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpZGVNYXJrZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZU1hcmtlcigpIHtcbiAgICAgIHRoaXMuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvd01hcmtlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TWFya2VyKCkge1xuICAgICAgdGhpcy5kaXNwbGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGREcmF3TWFya2Vyc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gaWYgdGhpcy55ID09PSBudWxsLCB3ZSBrbm93IGxpbmUgbWFya2VycyBpcyBwYXNzZWQsIHNvIGNoZWNrIGlmIGNoYXJ0IGhhc1xuICAgICAgLy8gYmVlbiBzY3JvbGxlZCB0byB0aGUgbGVmdG1vc3Qgb2YgdGhlIHNjcmVlblxuICAgICAgLy8gZWxzZSByZXR1cm4gdHJ1ZSBpbiBvcmRlciB0byBzaG93IGNoYXJ0LWxvYWRlciB3aGVuIGxvYWRpbmcgaGlzdG9yaWNhbCBkYXRhXG4gICAgICByZXR1cm4gdGhpcy55ID09PSBudWxsID8gdGhpcy5zdHguY2hhcnQuaXNTY3JvbGxMb2NhdGlvbkNoYW5nZWQgOiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXJrZXJTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRpc3BsYXlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxlZnRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBudWxsXG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImJvdHRvbVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IG51bGxcbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvdWxkRHJhd01hcmtlcnNcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNob3VsZERyYXdNYXJrZXJzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlc3RydWN0b3JcIiwgW19kZWNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVzdHJ1Y3RvclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUG9zaXRpb25cIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVBvc2l0aW9uXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZU1hcmtlclRpY2tcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZU1hcmtlclRpY2tcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9NZW51U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE1lbnVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0RpYWxvZ1N0b3JlICovIFwiLi9zcmMvc3RvcmUvRGlhbG9nU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9EaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9EaWFsb2cuanN4XCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjI7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuXG5cblxuXG52YXIgTWVudVN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVudVN0b3JlKG1haW5TdG9yZSwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVudVN0b3JlKTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5tb2RhbE5vZGUgPSBfdGhpcy5tYWluU3RvcmUuY2hhcnQubW9kYWxOb2RlO1xuICAgIH07XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGFsTm9kZVwiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJvdXRlXCIsIF9kZXNjcmlwdG9yMiwgdGhpcyk7XG5cbiAgICB0aGlzLmNvbm5lY3QgPSBPYmplY3QoX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImNvbm5lY3RcIl0pKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgYyA9IF9yZWYuY2hhcnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXRPcGVuOiBfdGhpcy5zZXRPcGVuLFxuICAgICAgICBvcGVuOiBfdGhpcy5vcGVuLFxuICAgICAgICBvblRpdGxlQ2xpY2s6IF90aGlzLm9uVGl0bGVDbGljayxcbiAgICAgICAgRHJvcGRvd25EaWFsb2c6IF90aGlzLkRyb3BEb3duRGlhbG9nLFxuICAgICAgICBtb2RhbE5vZGU6IF90aGlzLm1vZGFsTm9kZSxcbiAgICAgICAgaXNNb2JpbGU6IGMuaXNNb2JpbGUsXG4gICAgICAgIHNob3VsZFJlbmRlckRpYWxvZ3M6IGMuc2hvdWxkUmVuZGVyRGlhbG9nc1xuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLmRpYWxvZyA9IG5ldyBfRGlhbG9nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlKTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVhY3Rpb25cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5vcGVuO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5ibHVySW5wdXQoKTtcbiAgICB9KTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yb3V0ZSkge1xuICAgICAgdGhpcy5yb3V0ZSA9IG9wdGlvbnMucm91dGU7XG4gICAgfVxuXG4gICAgdGhpcy5Ecm9wRG93bkRpYWxvZyA9IHRoaXMuZGlhbG9nLmNvbm5lY3QoX2NvbXBvbmVudHNfRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWVudVN0b3JlLCBbe1xuICAgIGtleTogXCJzZXRPcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wZW4odmFsKSB7XG4gICAgICB0aGlzLmRpYWxvZy5zZXRPcGVuKHZhbCk7XG4gICAgICAvKipcbiAgICAgICAqICBVcGRhdGUgdGhlIHVybCBoYXNoIGJ5IGNvbnNpZGVyaW5nIHRoZSBkaWFsb2cgYHJvdXRlYCBhbmQgYG9wZW5gXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5yb3V0aW5nU3RvcmUudXBkYXRlUm91dGUodGhpcy5yb3V0ZSwgdmFsKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYmx1cklucHV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcbiAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuXG4gICAgICBpZiAodGhpcy5vcGVuID09PSBmYWxzZSkge1xuICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgICAgc3R4Lm1vZGFsRW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHgubW9kYWxCZWdpbigpO1xuICAgICAgfVxuXG4gICAgICBzdHguYWxsb3dTY3JvbGwgPSBzdHguYWxsb3dab29tID0gIXRoaXMub3BlbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25UaXRsZUNsaWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uVGl0bGVDbGljayhlKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE9wZW4oIXRoaXMub3Blbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb3V0aW5nU3RvcmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5yb3V0aW5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaWFsb2cub3BlbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVudVN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibW9kYWxOb2RlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicm91dGVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0pLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRPcGVuXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE9wZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25UaXRsZUNsaWNrXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblRpdGxlQ2xpY2tcIiksIF9jbGFzcy5wcm90b3R5cGUpKSwgX2NsYXNzKSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvTm90aWZpZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvTm90aWZpZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7ZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBOb3RpZmllciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RpZmllcik7XG5cbiAgICB0aGlzLm9uTWVzc2FnZSA9IHZvaWQgMDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOb3RpZmllciwgW3tcbiAgICBrZXk6IFwibm90aWZ5XCIsXG5cbiAgICAvKlxuICAgICAqIGEgTm90aWZpY2F0aW9uIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gICAgICoge1xuICAgICAqICAgICB0ZXh0LCAvLyBkaXNwbGF5ZWQgbWVzc2FnZXNcbiAgICAgKiAgICAgdHlwZSwgLy8gbWVzc2FnZSB0eXBlOyBjaG9vc2UgZnJvbSBgaW5mb2AsIGB3YXJuaW5nYCwgYHN1Y2Nlc3NgLCBgZXJyb3JgLiBEZWZhdWx0cyB0byBgd2FybmluZ2BcbiAgICAgKiAgICAgY2F0ZWdvcnksIC8vIGNob29zZSBmcm9tIGBhY3RpdmVzeW1ib2xgXG4gICAgICogfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBub3RpZnkobm90aWZpY2F0aW9uKSB7XG4gICAgICBpZiAodGhpcy5vbk1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2UoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgdHlwZTogJ3dhcm5pbmcnXG4gICAgICAgIH0sIG5vdGlmaWNhdGlvbikpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlNYXJrZXRPcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeU1hcmtldE9wZW4oc3ltYm9sKSB7XG4gICAgICB0aGlzLm5vdGlmeSh7XG4gICAgICAgIHRleHQ6IHQudHJhbnNsYXRlKCdbc3ltYm9sXSBtYXJrZXQgaXMgbm93IG9wZW5lZC4nLCB7XG4gICAgICAgICAgc3ltYm9sOiBzeW1ib2xcbiAgICAgICAgfSksXG4gICAgICAgIHR5cGU6ICdpbmZvJyxcbiAgICAgICAgY2F0ZWdvcnk6IE5vdGlmaWVyLkNBVEVHT1JZX0FDVElWRV9TWU1CT0xcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlNYXJrZXRDbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBub3RpZnlNYXJrZXRDbG9zZShzeW1ib2wpIHtcbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1tzeW1ib2xdIG1hcmtldCBpcyBwcmVzZW50bHkgY2xvc2VkLicsIHtcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbFxuICAgICAgICB9KSxcbiAgICAgICAgY2F0ZWdvcnk6IE5vdGlmaWVyLkNBVEVHT1JZX0FDVElWRV9TWU1CT0xcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlEZWxheWVkTWFya2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeURlbGF5ZWRNYXJrZXQoc3ltYm9sLCBkZWxheSkge1xuICAgICAgdGhpcy5ub3RpZnkoe1xuICAgICAgICB0ZXh0OiB0LnRyYW5zbGF0ZSgnW3N5bWJvbF0gZmVlZCBpcyBkZWxheWVkIGJ5IFtkZWxheV0gbWludXRlcycsIHtcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgICBkZWxheTogZGVsYXlcbiAgICAgICAgfSksXG4gICAgICAgIGNhdGVnb3J5OiBOb3RpZmllci5DQVRFR09SWV9BQ1RJVkVfU1lNQk9MXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibm90aWZ5RmVlZFVuYXZhaWxhYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeUZlZWRVbmF2YWlsYWJsZShzeW1ib2wpIHtcbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdGV4dDogdC50cmFuc2xhdGUoJ1N0cmVhbWluZyBmb3IgW3N5bWJvbF0gaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gbGljZW5zZSByZXN0cmljdGlvbnMnLCB7XG4gICAgICAgICAgc3ltYm9sOiBzeW1ib2xcbiAgICAgICAgfSksXG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGNhdGVnb3J5OiBOb3RpZmllci5DQVRFR09SWV9BQ1RJVkVfU1lNQk9MXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJDQVRFR09SWV9BQ1RJVkVfU1lNQk9MXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ2FjdGl2ZXN5bWJvbCc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdGlmaWVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKE5vdGlmaWVyKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9UcmFuc2xhdGlvbi5qcyAqLyBcIi4vc3JjL1RyYW5zbGF0aW9uLmpzXCIpW1widFwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1BhZ2luYXRpb25Mb2FkZXJTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvUGFnaW5hdGlvbkxvYWRlclN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5cblxudmFyIFBhZ2luYXRpb25Mb2FkZXJTdG9yZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQYWdpbmF0aW9uTG9hZGVyU3RvcmUsIFt7XG4gICAga2V5OiBcImZlZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5mZWVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuc3R4eDtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBQYWdpbmF0aW9uTG9hZGVyU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0aW9uTG9hZGVyU3RvcmUpO1xuXG4gICAgdGhpcy5pc09uUGFnaW5hdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMucGFnaW5hdGlvbkVuZEVwb2NoID0gbnVsbDtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5mZWVkLm9uU3RhcnRQYWdpbmF0aW9uKF90aGlzLnNldE9uUGFnaW5hdGlvbik7XG5cbiAgICAgIF90aGlzLmZlZWQub25QYWdpbmF0aW9uKF90aGlzLnNldE9uUGFnaW5hdGlvbik7IC8vIHRoaXMgaW5qZWN0aW9uIHdpbGwgc2xvd3MgZG93biB0aGUgc3dpcGluZyBhbmQgbW91c2Ugd2hlZWwgb3BlcmF0aW9uc1xuICAgICAgLy8gYnkgaWdub3JpbmcgcmVxdWVzdHMgdGhhdCBhcmUgdG9vIGNsb3NlIGZyb20gb25lIGFub3RoZXIgb3JcbiAgICAgIC8vIHdoZW4gaXNPblBhZ2luYXRpb24gaXMgdHJ1ZVxuXG5cbiAgICAgIF90aGlzLnN0eC5wcmVwZW5kKCdtb3VzZVdoZWVsJywgX3RoaXMub25Nb3VzZVdoZWVsKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlV2hlZWwgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGRpZmYgPSBudWxsO1xuICAgICAgdmFyIHRpbWVMaW1pdCA9IDQwO1xuICAgICAgaWYgKF90aGlzLnN0eC5sYXN0TW91c2VXaGVlbEV2ZW50KSBkaWZmID0gRGF0ZS5ub3coKSAtIF90aGlzLnN0eC5sYXN0TW91c2VXaGVlbEV2ZW50O1xuICAgICAgaWYgKGRpZmYgJiYgZGlmZiA8IHRpbWVMaW1pdCB8fCBfdGhpcy5pc09uUGFnaW5hdGlvbikgcmV0dXJuIHRydWU7IC8vIHNraXAgc3dpcGluZ1xuXG4gICAgICByZXR1cm4gZmFsc2U7IC8vIGNvbnRpbnVlIHN3aXBpbmdcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5yZWYgPSByZWY7XG5cbiAgICAgIGlmIChfdGhpcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMucmVmLnNldFBvc2l0aW9uKHtcbiAgICAgICAgICBlcG9jaDogX3RoaXMucGFnaW5hdGlvbkVuZEVwb2NoLFxuICAgICAgICAgIHByaWNlOiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldE9uUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgZW5kID0gX3JlZi5lbmQ7XG5cbiAgICAgIGlmICghX3RoaXMucmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNPblBhZ2luYXRpb24gPSAhX3RoaXMuaXNPblBhZ2luYXRpb247XG4gICAgICBfdGhpcy5wYWdpbmF0aW9uRW5kRXBvY2ggPSBfdGhpcy5pc09uUGFnaW5hdGlvbiA/IGVuZCA6IG51bGw7XG5cbiAgICAgIF90aGlzLnJlZi5zZXRQb3NpdGlvbih7XG4gICAgICAgIGVwb2NoOiBfdGhpcy5wYWdpbmF0aW9uRW5kRXBvY2gsXG4gICAgICAgIHByaWNlOiAwXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICB9XG5cbiAgcmV0dXJuIFBhZ2luYXRpb25Mb2FkZXJTdG9yZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChQYWdpbmF0aW9uTG9hZGVyU3RvcmUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9QcmljZUxpbmVTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9QcmljZUxpbmVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQcmljZUxpbmVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50LWVtaXR0ZXItZXM2ICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnQtZW1pdHRlci1lczYvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgZXZlbnRfZW1pdHRlcl9lczZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Db25uZWN0ICovIFwiLi9zcmMvc3RvcmUvQ29ubmVjdC5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9kZWM0LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0O1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cbnZhciBMSU5FX09GRlNFVF9IRUlHSFQgPSA0O1xudmFyIExJTkVfT0ZGU0VUX0hFSUdIVF9IQUxGID0gTElORV9PRkZTRVRfSEVJR0hUID4+IDE7XG52YXIgUHJpY2VMaW5lU3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhQcmljZUxpbmVTdG9yZSwgW3tcbiAgICBrZXk6IFwiekluZGV4XCIsXG4gICAgLy8gQG9ic2VydmFibGUgdG9wID0gMDtcbiAgICAvLyBAb2JzZXJ2YWJsZSB6SW5kZXg7XG4gICAgLy8gQG9ic2VydmFibGUgdW5jZW50ZXJlZCA9IGZhbHNlO1xuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fbGluZSkge1xuICAgICAgICB0aGlzLl9saW5lLnN0eWxlLnpJbmRleCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwaXBcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jdXJyZW50QWN0aXZlU3ltYm9sLmRlY2ltYWxfcGxhY2VzO1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIFByaWNlTGluZVN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpY2VMaW5lU3RvcmUpO1xuXG4gICAgdGhpcy5fcmVsYXRpdmUgPSBmYWxzZTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiZHJhZ2dhYmxlXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNEcmFnZ2luZ1wiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ2aXNpYmxlXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wcmljZVwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgdGhpcy5vZmZTY3JlZW4gPSBmYWxzZTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5faW5qZWN0aW9uSWQgPSBfdGhpcy5zdHguYXBwZW5kKCdkcmF3JywgX3RoaXMuX2RyYXcpO1xuICAgIH07XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZXhpdElmTm90aXNEcmFnZ2FibGUgPSBmdW5jdGlvbiBleGl0SWZOb3Rpc0RyYWdnYWJsZShlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoX3RoaXMudmlzaWJsZSAmJiBfdGhpcy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICBjYWxsYmFjay5jYWxsKF90aGlzLCBlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgQ0lRLnNhZmVEcmFnKF90aGlzLl9saW5lLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZXhpdElmTm90aXNEcmFnZ2FibGUoZSwgX3RoaXMuX3N0YXJ0RHJhZyk7XG4gICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZXhpdElmTm90aXNEcmFnZ2FibGUoZSwgX3RoaXMuX2RyYWdMaW5lKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBleGl0SWZOb3Rpc0RyYWdnYWJsZShlLCBfdGhpcy5fZW5kRHJhZyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fY2FsY3VsYXRlVG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0eC5jdXJyZW50UXVvdGUoKSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0b3AgPSBfdGhpcy5fbG9jYXRpb25Gcm9tUHJpY2UoX3RoaXMucmVhbFByaWNlKTsgLy8ga2VlcCBsaW5lIG9uIGNoYXJ0IGV2ZW4gaWYgcHJpY2UgaXMgb2ZmIHZpZXdhYmxlIGFyZWE6XG5cblxuICAgICAgaWYgKHRvcCA8IDApIHtcbiAgICAgICAgLy8gdGhpcy51bmNlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRvcCA8IC1MSU5FX09GRlNFVF9IRUlHSFRfSEFMRikge1xuICAgICAgICAgIF90aGlzLm9mZlNjcmVlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0b3AgPSAwO1xuICAgICAgfSBlbHNlIGlmICh0b3AgKyBMSU5FX09GRlNFVF9IRUlHSFQgPiBfdGhpcy5jaGFydC5wYW5lbC5oZWlnaHQpIHtcbiAgICAgICAgLy8gdGhpcy51bmNlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRvcCArIExJTkVfT0ZGU0VUX0hFSUdIVCAtIF90aGlzLmNoYXJ0LnBhbmVsLmhlaWdodCA+IExJTkVfT0ZGU0VUX0hFSUdIVF9IQUxGKSB7XG4gICAgICAgICAgX3RoaXMub2ZmU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvcCA9IF90aGlzLmNoYXJ0LnBhbmVsLmhlaWdodCAtIExJTkVfT0ZGU0VUX0hFSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMudW5jZW50ZXJlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vZmZTY3JlZW4gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRvcCArIDMwID4gX3RoaXMuY2hhcnQucGFuZWwuaGVpZ2h0KSB7XG4gICAgICAgIHRvcCA9IF90aGlzLmNoYXJ0LnBhbmVsLmhlaWdodCAtIDMwO1xuICAgICAgfSBlbHNlIGlmICh0b3AgPCAxMCkge1xuICAgICAgICB0b3AgPSAxMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE1hdGgucm91bmQodG9wKSB8IDA7XG4gICAgfTtcblxuICAgIHRoaXMuX2RyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMudmlzaWJsZSAmJiBfdGhpcy5fbGluZSkge1xuICAgICAgICBfdGhpcy50b3AgPSBfdGhpcy5fY2FsY3VsYXRlVG9wKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY29ubmVjdCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJpY2VEaXNwbGF5OiBfdGhpcy5wcmljZURpc3BsYXksXG4gICAgICAgIHZpc2libGU6IF90aGlzLnZpc2libGUsXG4gICAgICAgIHNldERyYWdMaW5lOiBfdGhpcy5zZXREcmFnTGluZSxcbiAgICAgICAgY2xhc3NOYW1lOiBfdGhpcy5jbGFzc05hbWUsXG4gICAgICAgIGRyYWdnYWJsZTogX3RoaXMuZHJhZ2dhYmxlLFxuICAgICAgICBpc0RyYWdnaW5nOiBfdGhpcy5pc0RyYWdnaW5nLFxuICAgICAgICBpbml0OiBfdGhpcy5pbml0IC8vIHpJbmRleDogdGhpcy56SW5kZXgsXG5cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBldmVudF9lbWl0dGVyX2VzNl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQuYSh7XG4gICAgICBlbWl0RGVsYXk6IDBcbiAgICB9KTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJpY2VMaW5lU3RvcmUsIFt7XG4gICAga2V5OiBcImRlc3RydWN0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuc3R4LnJlbW92ZUluamVjdGlvbih0aGlzLl9pbmplY3Rpb25JZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldERyYWdMaW5lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldERyYWdMaW5lKGVsKSB7XG4gICAgICB0aGlzLl9saW5lID0gZWw7XG5cbiAgICAgIGlmICh0aGlzLl9saW5lKSB7XG4gICAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX21vZGFsQmVnaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX21vZGFsQmVnaW4oKSB7XG4gICAgICBpZiAodGhpcy5zdHguZ3JhYmJpbmdTY3JlZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0eC5lZGl0aW5nQW5ub3RhdGlvbiA9IHRydWU7XG4gICAgICB0aGlzLnN0eC5tb2RhbEJlZ2luKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9tb2RhbEVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbW9kYWxFbmQoKSB7XG4gICAgICB0aGlzLnN0eC5tb2RhbEVuZCgpO1xuICAgICAgdGhpcy5zdHguZWRpdGluZ0Fubm90YXRpb24gPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3N0YXJ0RHJhZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnREcmFnKCkge1xuICAgICAgdGhpcy5fbW9kYWxCZWdpbigpO1xuXG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5faW5pdGlhbFBvc2l0aW9uID0gdGhpcy50b3A7XG4gICAgICB0aGlzLl9zdGFydERyYWdQcmljZSA9IHRoaXMuX3ByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZHJhZ0xpbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYWdMaW5lKGUpIHtcbiAgICAgIGlmICghdGhpcy5fbGluZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdUb3AgPSB0aGlzLl9pbml0aWFsUG9zaXRpb24gKyBlLmRpc3BsYWNlbWVudFk7XG4gICAgICB2YXIgbmV3Q2VudGVyID0gbmV3VG9wICsgTElORV9PRkZTRVRfSEVJR0hUX0hBTEY7XG5cbiAgICAgIHZhciBuZXdQcmljZSA9IHRoaXMuX3ByaWNlRnJvbUxvY2F0aW9uKG5ld0NlbnRlcik7XG5cbiAgICAgIGlmICh0aGlzLl9wcmljZUNvbnN0cmFpbmVyKSB7XG4gICAgICAgIG5ld1ByaWNlID0gdGhpcy5fcHJpY2VDb25zdHJhaW5lcihuZXdQcmljZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnJlbGF0aXZlKSB7XG4gICAgICAgIG5ld1ByaWNlIC09IHRoaXMuc3R4LmN1cnJlbnRRdW90ZSgpLkNsb3NlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByaWNlID0gbmV3UHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9lbmREcmFnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmREcmFnKCkge1xuICAgICAgdGhpcy5fbW9kYWxFbmQoKTtcblxuICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmICh0aGlzLl9zdGFydERyYWdQcmljZS50b0ZpeGVkKHRoaXMucGlwKSAhPT0gdGhpcy5fcHJpY2UudG9GaXhlZCh0aGlzLnBpcCkpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFByaWNlTGluZVN0b3JlLkVWRU5UX0RSQUdfUkVMRUFTRUQsIHRoaXMuX3ByaWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2xvY2F0aW9uRnJvbVByaWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2NhdGlvbkZyb21QcmljZShwKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHgucGl4ZWxGcm9tUHJpY2UocCwgdGhpcy5jaGFydC5wYW5lbCkgLSB0aGlzLmNoYXJ0LnBhbmVsLnRvcDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3ByaWNlRnJvbUxvY2F0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcmljZUZyb21Mb2NhdGlvbih5KSB7XG4gICAgICB2YXIgcHJpY2UgPSB0aGlzLnN0eC52YWx1ZUZyb21QaXhlbCh5ICsgdGhpcy5jaGFydC5wYW5lbC50b3AsIHRoaXMuY2hhcnQucGFuZWwpO1xuICAgICAgcmV0dXJuIHByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblByaWNlQ2hhbmdlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByaWNlQ2hhbmdlZChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihQcmljZUxpbmVTdG9yZS5FVkVOVF9QUklDRV9DSEFOR0VELCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uRHJhZ1JlbGVhc2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZ1JlbGVhc2VkKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLm9uKFByaWNlTGluZVN0b3JlLkVWRU5UX0RSQUdfUkVMRUFTRUQsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHJpY2VEaXNwbGF5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZGlzcGxheSA9IHRoaXMuX3ByaWNlLnRvRml4ZWQodGhpcy5waXApO1xuXG4gICAgICBpZiAodGhpcy5yZWxhdGl2ZSAmJiB0aGlzLl9wcmljZSA+IDApIHtcbiAgICAgICAgZGlzcGxheSA9IFwiK1wiLmNvbmNhdChkaXNwbGF5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpc3BsYXk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInByaWNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJpY2U7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9wcmljZSkge1xuICAgICAgICB0aGlzLl9wcmljZSA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuX2RyYXcoKTtcblxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUHJpY2VMaW5lU3RvcmUuRVZFTlRfUFJJQ0VfQ0hBTkdFRCwgdGhpcy5fcHJpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWxhdGl2ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbGF0aXZlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9yZWxhdGl2ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZWxhdGl2ZSA9IHZhbHVlOyAvLyBjb252ZXJ0IGJldHdlZW4gcmVsYXRpdmUgYW5kIGFic29sdXRlXG5cbiAgICAgIHZhciBjdXJyZW50UXVvdGUgPSB0aGlzLnN0eC5jdXJyZW50UXVvdGUoKTtcbiAgICAgIHZhciBjdXJyZW50UHJpY2UgPSBjdXJyZW50UXVvdGUgPyBjdXJyZW50UXVvdGUuQ2xvc2UgOiAwO1xuXG4gICAgICBpZiAodGhpcy5fcmVsYXRpdmUpIHtcbiAgICAgICAgY3VycmVudFByaWNlID0gLWN1cnJlbnRQcmljZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmljZSA9IHRoaXMuX3ByaWNlICsgY3VycmVudFByaWNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0eC5jaGFydDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHJpY2VDb25zdHJhaW5lclwiLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl9wcmljZUNvbnN0cmFpbmVyID0gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlYWxQcmljZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVsYXRpdmUgPyB0aGlzLnN0eC5jdXJyZW50UXVvdGUoKS5DbG9zZSArIHRoaXMuX3ByaWNlIDogdGhpcy5fcHJpY2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvcFwiLFxuICAgIC8vIE1hbnR1YWxseSB1cGRhdGUgdGhlIGRvcCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICAgIC8vIFdlIGRvbid0IHBheSBmb3IgcmVhY3QgcmVjb25jaWxlciBhbmQgbW9ieCBvYnNlcnZhYmxlIHRyYWNraW5nIGluIGFuaW1hdGlvbiBmcmFtZXMuXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgdGhpcy5fX3RvcCA9IHY7XG4gICAgICB0aGlzLl9saW5lLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWShcIi5jb25jYXQodGhpcy50b3AsIFwicHgpXCIpO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvcDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJFVkVOVF9QUklDRV9DSEFOR0VEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX1BSSUNFX0NIQU5HRUQnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJFVkVOVF9EUkFHX1JFTEVBU0VEXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ0VWRU5UX0RSQUdfUkVMRUFTRUQnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQcmljZUxpbmVTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRyYWdnYWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzRHJhZ2dpbmdcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9wcmljZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInBpcFwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicGlwXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInByaWNlRGlzcGxheVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicHJpY2VEaXNwbGF5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldERyYWdMaW5lXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldERyYWdMaW5lXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9zdGFydERyYWdcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9zdGFydERyYWdcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2RyYWdMaW5lXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJfZHJhZ0xpbmVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX2VuZERyYWdcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIl9lbmREcmFnXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1JvdXRpbmdTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvc3RvcmUvUm91dGluZ1N0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBSb3V0aW5nU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9jbGFzcztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5cbnZhciBhbGxEaWFsb2dzID0gW107XG52YXIgUm91dGluZ1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSb3V0aW5nU3RvcmUobWFpblN0b3JlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdXRpbmdTdG9yZSk7XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSb3V0aW5nU3RvcmUsIFt7XG4gICAga2V5OiBcImhhbmRsZVJvdXRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUm91dGluZygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5oaXN0b3J5LnN0YXRlLnVybFBhdGgucmVwbGFjZSgnIycsICcnKTtcblxuICAgICAgICBpZiAoaGFzaCA9PT0gJycpIHtcbiAgICAgICAgICBfdGhpcy5jbG9zZUFsbCgpO1xuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVJvdXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVJvdXRlKHJvdXRlLCBkaWFsb2dTdGF0dXMpIHtcbiAgICAgIHZhciBlbmFibGVSb3V0aW5nID0gdGhpcy5tYWluU3RvcmUuY2hhcnQuZW5hYmxlUm91dGluZztcblxuICAgICAgaWYgKGVuYWJsZVJvdXRpbmcgJiYgZGlhbG9nU3RhdHVzICYmIHJvdXRlKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAgdXJsUGF0aDogJyMnXG4gICAgICAgIH0sICcnLCAnIycpO1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgIHVybFBhdGg6IFwiI1wiLmNvbmNhdChyb3V0ZSlcbiAgICAgICAgfSwgJycsIFwiI1wiLmNvbmNhdChyb3V0ZSkpO1xuICAgICAgfSBlbHNlIGlmIChlbmFibGVSb3V0aW5nICYmICFkaWFsb2dTdGF0dXMgJiYgcm91dGUpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgICB1cmxQYXRoOiAnIydcbiAgICAgICAgfSwgJycsICcjJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZ2lzdGVyRGlhbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyRGlhbG9nKGRpYWxvZ1N0b3JlKSB7XG4gICAgICBhbGxEaWFsb2dzLnB1c2goZGlhbG9nU3RvcmUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZUFsbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUFsbCgpIHtcbiAgICAgIGFsbERpYWxvZ3MuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbS5zZXRPcGVuKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSb3V0aW5nU3RvcmU7XG59KCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFuZGxlUm91dGluZ1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJoYW5kbGVSb3V0aW5nXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVJvdXRlXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVSb3V0ZVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZWdpc3RlckRpYWxvZ1wiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVnaXN0ZXJEaWFsb2dcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xvc2VBbGxcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImNsb3NlQWxsXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1NldHRpbmdzRGlhbG9nU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TZXR0aW5nc0RpYWxvZ1N0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2V0dGluZ3NEaWFsb2dTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfRGlhbG9nX2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9EaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9EaWFsb2cuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWVudVN0b3JlICovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCIpO1xudmFyIF9kZWMsIF9kZWMyLCBfZGVjMywgX2RlYzQsIF9kZWM1LCBfY2xhc3MsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2Rlc2NyaXB0b3I0LCBfZGVzY3JpcHRvcjU7XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxuXG5cbnZhciBTZXR0aW5nc0RpYWxvZ1N0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzQgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM1ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCAoX2NsYXNzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzRGlhbG9nU3RvcmUsIFt7XG4gICAga2V5OiBcInNob3dUYWJzXCIsXG4gICAgLy8gW3tpZDogJycsIHRpdGxlOiAnJywgdmFsdWU6ICcnfV1cbiAgICAvLyAnc2V0dGluZ3MnIHwgJ2Rlc2NyaXB0aW9uJ1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5kZXNjcmlwdGlvbjtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBTZXR0aW5nc0RpYWxvZ1N0b3JlKF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG1haW5TdG9yZSA9IF9yZWYubWFpblN0b3JlLFxuICAgICAgICBnZXRDb250ZXh0ID0gX3JlZi5nZXRDb250ZXh0LFxuICAgICAgICBvbkRlbGV0ZWQgPSBfcmVmLm9uRGVsZXRlZCxcbiAgICAgICAgZmF2b3JpdGVzSWQgPSBfcmVmLmZhdm9yaXRlc0lkLFxuICAgICAgICBvbkNoYW5nZWQgPSBfcmVmLm9uQ2hhbmdlZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR0aW5nc0RpYWxvZ1N0b3JlKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaXRlbXNcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aXRsZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCBfZGVzY3JpcHRvcjMsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJpZFwiLCBfZGVzY3JpcHRvcjQsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJhY3RpdmVUYWJcIiwgX2Rlc2NyaXB0b3I1LCB0aGlzKTtcblxuICAgIHRoaXMuY29ubmVjdCA9IE9iamVjdChfQ29ubmVjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY29ubmVjdFwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbXM6IF90aGlzLml0ZW1zLFxuICAgICAgICB0aXRsZTogX3RoaXMudGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBfdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgYWN0aXZlVGFiOiBfdGhpcy5hY3RpdmVUYWIsXG4gICAgICAgIHNob3dUYWJzOiBfdGhpcy5zaG93VGFicyxcbiAgICAgICAgc2V0T3BlbjogX3RoaXMuc2V0T3BlbixcbiAgICAgICAgb25UYWJDbGljazogX3RoaXMub25UYWJDbGljayxcbiAgICAgICAgb25EZWxldGVDbGljazogX3RoaXMub25EZWxldGVkID8gX3RoaXMub25EZWxldGVDbGljayA6IHVuZGVmaW5lZCxcbiAgICAgICAgZmF2b3JpdGVzSWQ6IF90aGlzLmZhdm9yaXRlc0lkLFxuICAgICAgICBvblJlc2V0Q2xpY2s6IF90aGlzLm9uUmVzZXRDbGljayxcbiAgICAgICAgb25JdGVtQ2hhbmdlOiBfdGhpcy5vbkl0ZW1DaGFuZ2UsXG4gICAgICAgIERpYWxvZzogX3RoaXMuRGlhbG9nLFxuICAgICAgICBvcGVuOiBfdGhpcy5vcGVuLFxuICAgICAgICBpZDogX3RoaXMuaWRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5nZXRDb250ZXh0ID0gZ2V0Q29udGV4dDtcbiAgICB0aGlzLm9uRGVsZXRlZCA9IG9uRGVsZXRlZDtcbiAgICB0aGlzLmZhdm9yaXRlc0lkID0gZmF2b3JpdGVzSWQ7XG4gICAgdGhpcy5vbkNoYW5nZWQgPSBvbkNoYW5nZWQ7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ2luZGljYXRvci1zZXR0aW5nJ1xuICAgIH0pO1xuICAgIHRoaXMuRGlhbG9nID0gdGhpcy5tZW51LmRpYWxvZy5jb25uZWN0KF9jb21wb25lbnRzX0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzRGlhbG9nU3RvcmUsIFt7XG4gICAga2V5OiBcInNldE9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3Blbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubWVudS5zZXRPcGVuKHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EZWxldGVDbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRlbGV0ZUNsaWNrKCkge1xuICAgICAgdGhpcy5vbkRlbGV0ZWQoKTtcbiAgICAgIHRoaXMubWVudS5zZXRPcGVuKGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25UYWJDbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRhYkNsaWNrKGlkKSB7XG4gICAgICB0aGlzLmFjdGl2ZVRhYiA9IGlkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2V0Q2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNldENsaWNrKCkge1xuICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGl0ZW0sIHtcbiAgICAgICAgICB2YWx1ZTogaXRlbS5kZWZhdWx0VmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICAgIHRoaXMub25DaGFuZ2VkKGl0ZW1zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25JdGVtQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSXRlbUNoYW5nZShpZCwgbmV3VmFsdWUpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtcy5maW5kKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmlkID09PSBpZDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXRlbSAmJiBpdGVtLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBpdGVtLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApOyAvLyBmb3JjZSBhcnJheSB1cGRhdGVcblxuICAgICAgICB0aGlzLm9uQ2hhbmdlZCh0aGlzLml0ZW1zKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0eFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lbnUub3BlbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2V0dGluZ3NEaWFsb2dTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIml0ZW1zXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpdGxlXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IzID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRlc2NyaXB0aW9uXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3I0ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlkXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogbnVsbFxufSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVUYWJcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJ3NldHRpbmdzJztcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzaG93VGFic1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2hvd1RhYnNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3BlblwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRPcGVuXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldE9wZW5cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVDbGlja1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25EZWxldGVDbGlja1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblRhYkNsaWNrXCIsIFtfZGVjM10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblRhYkNsaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uUmVzZXRDbGlja1wiLCBbX2RlYzRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25SZXNldENsaWNrXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uSXRlbUNoYW5nZVwiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25JdGVtQ2hhbmdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1NoYWRlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TaGFkZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2hhZGVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Nvbm5lY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29ubmVjdCAqLyBcIi4vc3JjL3N0b3JlL0Nvbm5lY3QuanNcIik7XG52YXIgX2NsYXNzLCBfZGVzY3JpcHRvciwgX2Rlc2NyaXB0b3IyO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxudmFyIFNoYWRlU3RvcmUgPSAoX2NsYXNzID0gZnVuY3Rpb24gU2hhZGVTdG9yZShjbGFzc05hbWUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhZGVTdG9yZSk7XG5cbiAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGFzc05hbWVcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwidmlzaWJsZVwiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciB0b3AgPSBfcmVmLnRvcCxcbiAgICAgICAgYm90dG9tID0gX3JlZi5ib3R0b20sXG4gICAgICAgIHJpZ2h0ID0gX3JlZi5yaWdodDtcblxuICAgIGlmIChfdGhpcy5fZGl2KSB7XG4gICAgICB2YXIgcG9zID0gbnVsbDtcblxuICAgICAgaWYgKGJvdHRvbSAmJiB0b3ApIHtcbiAgICAgICAgLy8gYmV0d2VlbiBzaGFkZVxuICAgICAgICB2YXIgeSA9IChib3R0b20gKyB0b3ApIC8gMiArIDYwOyAvLyBtYW51YWxseSBzY2FsZSBmcm9tIGRlZmF1bHQgMTIwcHggKF9iYXJyaWVyLnNjc3MpXG5cbiAgICAgICAgdmFyIHNjYWxlID0gKGJvdHRvbSAtIHRvcCkgLyAxMjAuMDtcbiAgICAgICAgcG9zID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KC1yaWdodCwgXCJweCwgXCIpLmNvbmNhdCh5LCBcInB4KSBzY2FsZSgxLCBcIikuY29uY2F0KHNjYWxlLCBcIilcIik7XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbSkge1xuICAgICAgICAvLyBhYm92ZSBzaGFkZVxuICAgICAgICBwb3MgPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoLXJpZ2h0LCBcInB4LCBcIikuY29uY2F0KGJvdHRvbSwgXCJweClcIik7XG4gICAgICB9IGVsc2UgaWYgKHRvcCkge1xuICAgICAgICAvLyBiZWxvdyBzaGFkZVxuICAgICAgICBwb3MgPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoLXJpZ2h0LCBcInB4LCBcIikuY29uY2F0KHRvcCArIDEyMCwgXCJweClcIik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9kaXYuc3R5bGUudHJhbnNmb3JtID0gcG9zO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnNldFNoYWRlUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgIF90aGlzLl9kaXYgPSByZWY7XG4gIH07XG5cbiAgdGhpcy5jb25uZWN0ID0gT2JqZWN0KF9Db25uZWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJjb25uZWN0XCJdKShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGU6IF90aGlzLnZpc2libGUsXG4gICAgICBjbGFzc05hbWU6IF90aGlzLmNsYXNzTmFtZSxcbiAgICAgIHNldFNoYWRlUmVmOiBfdGhpcy5zZXRTaGFkZVJlZlxuICAgIH07XG4gIH0pO1xuICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbn0sIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJjbGFzc05hbWVcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidmlzaWJsZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkpLCBfY2xhc3MpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1NoYXJlU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TaGFyZVN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU2hhcmVTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9NZW51U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9NZW51U3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL01lbnUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfY2xhc3MsIF9kZXNjcmlwdG9yO1xuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cblxuXG5cblxuXG52YXIgU2hhcmVTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGFyZVN0b3JlKG1haW5TdG9yZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhcmVTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzTG9hZGluZ1BOR1wiLCBfZGVzY3JpcHRvciwgdGhpcyk7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2NyZWVuc2hvdEFyZWEgPSBfdGhpcy5jb250ZXh0LnRvcE5vZGUucXVlcnlTZWxlY3RvcignLmNpcS1jaGFydCcpO1xuICAgIH07XG5cbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnZG93bmxvYWQnXG4gICAgfSk7XG4gICAgT2JqZWN0KG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIndoZW5cIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0O1xuICAgIH0sIHRoaXMub25Db250ZXh0UmVhZHkpO1xuICAgIHRoaXMuU2hhcmVNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNoYXJlU3RvcmUsIFt7XG4gICAga2V5OiBcImNyZWF0ZU5ld1RhYlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVOZXdUYWIoKSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgdGFiIGZvciBicm93c2VycyB0aGF0IGRvZXNuJ3Qgc3VwcG9ydCBIVE1MNSBkb3dubG9hZCBhdHRyaWJ1dGVcbiAgICAgIHJldHVybiAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pID8gd2luZG93Lm9wZW4oKSA6IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRvd25sb2FkUE5HXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkUE5HKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuaXNMb2FkaW5nUE5HID0gdHJ1ZTtcbiAgICAgIHZhciBuZXdUYWIgPSB0aGlzLmNyZWF0ZU5ld1RhYigpO1xuICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5lKC8qISBpbXBvcnQoKSB8IGh0bWwyY2FudmFzICovIFwiaHRtbDJjYW52YXNcIikudGhlbihfX3dlYnBhY2tfcmVxdWlyZV9fLnQuYmluZChudWxsLCAvKiEgLi4vLi4vY2hhcnRpcS9odG1sMmNhbnZhcy5taW4uanMgKi8gXCIuL2NoYXJ0aXEvaHRtbDJjYW52YXMubWluLmpzXCIsIDcpKS50aGVuKGZ1bmN0aW9uIChodG1sMmNhbnZhcykge1xuICAgICAgICAvLyBzaW5jZSByZWFjdCByZXJlbmRlcnMgaXMgbm90IGltbWVkaWF0ZSwgd2UgdXNlIENJUS5hcHBlbmRDbGFzc05hbWUgdG9cbiAgICAgICAgLy8gaW1tZWRpYXRlbHkgYXBwZW5kL3VuYXBwZW5kIGNsYXNzIG5hbWUgYmVmb3JlIHRha2luZyBzY3JlZW5zaG90LlxuICAgICAgICBDSVEuYXBwZW5kQ2xhc3NOYW1lKF90aGlzMi5zY3JlZW5zaG90QXJlYSwgJ2NpcS1zY3JlZW5zaG90Jyk7XG4gICAgICAgIGh0bWwyY2FudmFzLmRlZmF1bHQoX3RoaXMyLnNjcmVlbnNob3RBcmVhKS50aGVuKGZ1bmN0aW9uIChjYW52YXMpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9vbkNhbnZhc1JlYWR5KGNhbnZhcywgbmV3VGFiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0FjdGlvbnNcIl0uRG93bmxvYWQsICdEb3dubG9hZCBQTkcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uQ2FudmFzUmVhZHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uQ2FudmFzUmVhZHkoY2FudmFzLCBuZXdUYWIpIHtcbiAgICAgIHZhciBjb250ZW50ID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkb3dubG9hZEZpbGVJbkJyb3dzZXJcIl0pKFwiXCIuY29uY2F0KG5ldyBEYXRlKCkudG9VVENTdHJpbmcoKSwgXCIucG5nXCIpLCBjb250ZW50LCAnaW1hZ2UvcG5nOycsIG5ld1RhYik7XG4gICAgICB0aGlzLmlzTG9hZGluZ1BORyA9IGZhbHNlO1xuICAgICAgQ0lRLnVuYXBwZW5kQ2xhc3NOYW1lKHRoaXMuc2NyZWVuc2hvdEFyZWEsICdjaXEtc2NyZWVuc2hvdCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkb3dubG9hZENTVlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgaXNUaWNrID0gdGhpcy50aW1lVW5pdCA9PT0gJ3RpY2snO1xuICAgICAgdmFyIGhlYWRlciA9IFwiRGF0ZSxUaW1lLFwiLmNvbmNhdChpc1RpY2sgPyB0aGlzLm1hcmtldERpc3BsYXlOYW1lIDogJ09wZW4sSGlnaCxMb3csQ2xvc2UnKTtcbiAgICAgIHZhciBsaW5lcyA9IFtoZWFkZXJdO1xuICAgICAgdGhpcy5zdHgubWFzdGVyRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBEVCA9IF9yZWYuRFQsXG4gICAgICAgICAgICBPcGVuID0gX3JlZi5PcGVuLFxuICAgICAgICAgICAgSGlnaCA9IF9yZWYuSGlnaCxcbiAgICAgICAgICAgIExvdyA9IF9yZWYuTG93LFxuICAgICAgICAgICAgQ2xvc2UgPSBfcmVmLkNsb3NlO1xuICAgICAgICB2YXIgeWVhciA9IERULmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHZhciBtb250aCA9IERULmdldE1vbnRoKCkgKyAxOyAvLyBtb250aHMgZnJvbSAxLTEyXG5cbiAgICAgICAgdmFyIGRheSA9IERULmdldERhdGUoKTtcbiAgICAgICAgdmFyIGhvdXJzID0gRFQuZ2V0SG91cnMoKTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSBEVC5nZXRNaW51dGVzKCk7XG4gICAgICAgIHZhciBzZWNvbmRzID0gRFQuZ2V0U2Vjb25kcygpO1xuICAgICAgICB2YXIgZm9ybWF0dGVkU2Vjb25kcyA9IHNlY29uZHMgPiA5ID8gXCI6XCIuY29uY2F0KHNlY29uZHMpIDogXCI6MFwiLmNvbmNhdChzZWNvbmRzKTtcbiAgICAgICAgdmFyIGRhdGUgPSBcIlwiLmNvbmNhdCh5ZWFyLCBcIi1cIikuY29uY2F0KG1vbnRoID4gOSA/IG1vbnRoIDogXCIwXCIuY29uY2F0KG1vbnRoKSwgXCItXCIpLmNvbmNhdChkYXkgPiA5ID8gZGF5IDogXCIwXCIuY29uY2F0KGRheSkpO1xuICAgICAgICB2YXIgdGltZSA9IFwiXCIuY29uY2F0KGhvdXJzID4gOSA/IGhvdXJzIDogXCIwXCIuY29uY2F0KGhvdXJzKSwgXCI6XCIpLmNvbmNhdChtaW51dGVzID4gOSA/IG1pbnV0ZXMgOiBcIjBcIi5jb25jYXQobWludXRlcykpLmNvbmNhdChpc1RpY2sgPyBmb3JtYXR0ZWRTZWNvbmRzIDogJycpO1xuXG4gICAgICAgIGlmIChpc1RpY2sgJiYgQ2xvc2UpIHtcbiAgICAgICAgICBsaW5lcy5wdXNoKFwiXCIuY29uY2F0KGRhdGUsIFwiLFwiKS5jb25jYXQodGltZSwgXCIsXCIpLmNvbmNhdChDbG9zZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1RpY2sgJiYgT3BlbiAmJiBIaWdoICYmIExvdyAmJiBDbG9zZSkge1xuICAgICAgICAgIGxpbmVzLnB1c2goW2RhdGUsIHRpbWUsIE9wZW4udG9GaXhlZChfdGhpczMuZGVjaW1hbFBsYWNlcyksIEhpZ2gudG9GaXhlZChfdGhpczMuZGVjaW1hbFBsYWNlcyksIExvdy50b0ZpeGVkKF90aGlzMy5kZWNpbWFsUGxhY2VzKSwgQ2xvc2UudG9GaXhlZChfdGhpczMuZGVjaW1hbFBsYWNlcyldLmpvaW4oJywnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZG93bmxvYWRGaWxlSW5Ccm93c2VyXCJdKShcIlwiLmNvbmNhdCh0aGlzLm1hcmtldERpc3BsYXlOYW1lLCBcIiAoXCIpLmNvbmNhdCh0aGlzLnRpbWVwZXJpb2REaXNwbGF5LCBcIikuY3N2XCIpLCBsaW5lcy5qb2luKCdcXG4nKSwgJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JywgdGhpcy5jcmVhdGVOZXdUYWIoKSk7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJMb2dBY3Rpb25zXCJdLkRvd25sb2FkLCAnRG93bmxvYWQgQ1NWJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aW1lVW5pdFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLnRpbWVwZXJpb2QudGltZVVuaXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRpbWVwZXJpb2REaXNwbGF5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUudGltZXBlcmlvZC5kaXNwbGF5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtYXJrZXREaXNwbGF5TmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wubWFya2V0X2Rpc3BsYXlfbmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVjaW1hbFBsYWNlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmN1cnJlbnRBY3RpdmVTeW1ib2wuZGVjaW1hbF9wbGFjZXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNoYXJlU3RvcmU7XG59KCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidGltZVVuaXRcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVVbml0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVwZXJpb2REaXNwbGF5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aW1lcGVyaW9kRGlzcGxheVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJtYXJrZXREaXNwbGF5TmFtZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwibWFya2V0RGlzcGxheU5hbWVcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVjaW1hbFBsYWNlc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImlzTG9hZGluZ1BOR1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkb3dubG9hZFBOR1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkb3dubG9hZFBOR1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJfb25DYW52YXNSZWFkeVwiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiX29uQ2FudmFzUmVhZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZG93bmxvYWRDU1ZcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImRvd25sb2FkQ1NWXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3N0b3JlL1N0dWR5TGVnZW5kU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9TdHVkeUxlZ2VuZFN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTdHVkeUxlZ2VuZFN0b3JlOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtb2J4ICovIFwibW9ieFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4obW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTWVudVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL01lbnVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL01lbnVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DYXRlZ29yaWNhbERpc3BsYXlTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfU2V0dGluZ3NEaWFsb2dTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TZXR0aW5nc0RpYWxvZ1N0b3JlICovIFwiLi9zcmMvc3RvcmUvU2V0dGluZ3NEaWFsb2dTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9TZXR0aW5nc0RpYWxvZy5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbXBvbmVudHMvTWVudS5qc3ggKi8gXCIuL3NyYy9jb21wb25lbnRzL01lbnUuanN4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX2NhdGVnb3JpY2FsZGlzcGxheV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9jYXRlZ29yaWNhbGRpc3BsYXkgKi8gXCIuL3NyYy9jb21wb25lbnRzL2NhdGVnb3JpY2FsZGlzcGxheS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2RlYzgsIF9kZWM5LCBfZGVjMTAsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7IG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7IH0pKTsgfSBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3RbJ2tlJyArICd5cyddKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07IH0pOyBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTsgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHsgZGVzYy53cml0YWJsZSA9IHRydWU7IH0gZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHsgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjOyB9LCBkZXNjKTsgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7IGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwOyBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkOyB9IGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHsgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9XG5cblxuXG5cblxuXG5cblxuIC8vIFRPRE86XG4vLyBpbXBvcnQgU3R1ZHlJbmZvIGZyb20gJy4uL3N0dWR5LWluZm8nO1xuXG52YXIgU3R1ZHlMZWdlbmRTdG9yZSA9IChfZGVjID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMiA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM0ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNSA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzYgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM3ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjOCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzkgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMxMCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0dWR5TGVnZW5kU3RvcmUobWFpblN0b3JlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHVkeUxlZ2VuZFN0b3JlKTtcblxuICAgIHRoaXMub25Db250ZXh0UmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zdHguY2FsbGJhY2tzLnN0dWR5T3ZlcmxheUVkaXQgPSBfdGhpcy5lZGl0U3R1ZHk7XG4gICAgICBfdGhpcy5zdHguY2FsbGJhY2tzLnN0dWR5UGFuZWxFZGl0ID0gX3RoaXMuZWRpdFN0dWR5OyAvLyB0byByZW1vdmUgc3R1ZGllcyBpZiB1c2VyIGhhcyBhbHJlYWR5IG1vcmUgdGhhbiA1XG5cbiAgICAgIF90aGlzLnJlbW92ZUV4dHJhU3R1ZGllcygpO1xuXG4gICAgICBfdGhpcy5zdHguYXBwZW5kKCdjcmVhdGVEYXRhU2V0JywgX3RoaXMucmVuZGVyTGVnZW5kKTtcblxuICAgICAgX3RoaXMuc3R4LmFwcGVuZCgnZHJhd1BhbmVscycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhbmVsID0gT2JqZWN0LmtleXMoX3RoaXMuc3R4LnBhbmVscylbMV07XG5cbiAgICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgICAgLy8gSGlkZSB0aGUgdXAgYXJyb3cgZnJvbSBmaXJzdCBpbmRpY2F0b3IgdG8gcHJldmVudCB1c2VyXG4gICAgICAgICAgLy8gZnJvbSBtb3ZpbmcgdGhlIGluZGljYXRvciBwYW5lbCBhYm92ZSB0aGUgbWFpbiBjaGFydFxuICAgICAgICAgIF90aGlzLnN0eC5wYW5lbHNbcGFuZWxdLnVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5yZW5kZXJMZWdlbmQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5wcmV2aW91c1N0dWRpZXMgPSB7fTtcbiAgICB0aGlzLnNlYXJjaElucHV0Q2xhc3NOYW1lID0gdm9pZCAwO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJoYXNSZWFjaGVkTGltaXRzXCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlU3R1ZGllc1wiLCBfZGVzY3JpcHRvcjIsIHRoaXMpO1xuXG4gICAgdGhpcy5yZW5kZXJMZWdlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLnNob3VsZFJlbmRlckxlZ2VuZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMudXBkYXRlQWN0aXZlU3R1ZGllcygpOyAvLyBUZW1wb3JhcnkgcHJldmVudCB1c2VyIGZyb20gYWRkaW5nIG1vcmUgdGhhbiA1IGluZGljYXRvcnNcbiAgICAgIC8vIEFsbCB0cmFjZXMgY2FuIGJlIHJlbW92ZWQgYWZ0ZXIgbmV3IGRlc2lnbiBmb3Igc3R1ZGllc1xuXG5cbiAgICAgIF90aGlzLnVwZGF0ZVN0eWxlKCk7XG4gICAgfTtcblxuICAgIHRoaXMubWFpblN0b3JlID0gbWFpblN0b3JlO1xuICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ3aGVuXCJdKShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29udGV4dDtcbiAgICB9LCB0aGlzLm9uQ29udGV4dFJlYWR5KTtcbiAgICB0aGlzLm1lbnUgPSBuZXcgX01lbnVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXShtYWluU3RvcmUsIHtcbiAgICAgIHJvdXRlOiAnaW5kaWNhdG9ycydcbiAgICB9KTtcbiAgICB0aGlzLmNhdGVnb3JpY2FsRGlzcGxheSA9IG5ldyBfQ2F0ZWdvcmljYWxEaXNwbGF5U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0oe1xuICAgICAgYWN0aXZlT3B0aW9uczogW3tcbiAgICAgICAgaWQ6ICdlZGl0JyxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmVkaXRTdHVkeShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2RlbGV0ZScsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soaXRlbSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5kZWxldGVTdHVkeShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfV0sXG4gICAgICBnZXRJc1Nob3duOiBmdW5jdGlvbiBnZXRJc1Nob3duKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMubWVudS5vcGVuO1xuICAgICAgfSxcbiAgICAgIGdldENhdGVnb3JpY2FsSXRlbXM6IGZ1bmN0aW9uIGdldENhdGVnb3JpY2FsSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jYXRlZ29yaXplZFN0dWRpZXM7XG4gICAgICB9LFxuICAgICAgZ2V0QWN0aXZlQ2F0ZWdvcnk6IGZ1bmN0aW9uIGdldEFjdGl2ZUNhdGVnb3J5KCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZlU3R1ZGllcztcbiAgICAgIH0sXG4gICAgICBvblNlbGVjdEl0ZW06IHRoaXMub25TZWxlY3RJdGVtLmJpbmQodGhpcyksXG4gICAgICBwbGFjZWhvbGRlclRleHQ6IHQudHJhbnNsYXRlKCdcIk1hc3MgSW5kZXhcIiBvciBcIkRvamkgU3RhclwiJyksXG4gICAgICBmYXZvcml0ZXNJZDogJ2luZGljYXRvcnMnLFxuICAgICAgbWFpblN0b3JlOiBtYWluU3RvcmUsXG4gICAgICBzZWFyY2hJbnB1dENsYXNzTmFtZTogZnVuY3Rpb24gc2VhcmNoSW5wdXRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZTtcbiAgICAgIH0sXG4gICAgICBsaW1pdEluZm86IHQudHJhbnNsYXRlKCdVcCB0byA1IGFjdGl2ZSBpbmRpY2F0b3JzIGFsbG93ZWQuJylcbiAgICB9KTtcbiAgICB0aGlzLnNldHRpbmdzRGlhbG9nID0gbmV3IF9TZXR0aW5nc0RpYWxvZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKHtcbiAgICAgIG1haW5TdG9yZTogbWFpblN0b3JlLFxuICAgICAgb25EZWxldGVkOiBmdW5jdGlvbiBvbkRlbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5kZWxldGVTdHVkeShfdGhpcy5oZWxwZXIpO1xuICAgICAgfSxcbiAgICAgIGZhdm9yaXRlc0lkOiAnaW5kaWNhdG9ycycsXG4gICAgICBvbkNoYW5nZWQ6IGZ1bmN0aW9uIG9uQ2hhbmdlZChpdGVtcykge1xuICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlU3R1ZHkoX3RoaXMuaGVscGVyLnNkLCBpdGVtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5TdHVkeUNhdGVnb3JpY2FsRGlzcGxheSA9IHRoaXMuY2F0ZWdvcmljYWxEaXNwbGF5LmNvbm5lY3QoX2NvbXBvbmVudHNfY2F0ZWdvcmljYWxkaXNwbGF5X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJDYXRlZ29yaWNhbERpc3BsYXlcIl0pO1xuICAgIHRoaXMuU3R1ZHlNZW51ID0gdGhpcy5tZW51LmNvbm5lY3QoX2NvbXBvbmVudHNfTWVudV9qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pO1xuICAgIHRoaXMuU3R1ZHlTZXR0aW5nc0RpYWxvZyA9IHRoaXMuc2V0dGluZ3NEaWFsb2cuY29ubmVjdChfY29tcG9uZW50c19TZXR0aW5nc0RpYWxvZ19qc3hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0dWR5TGVnZW5kU3RvcmUsIFt7XG4gICAga2V5OiBcInJlbW92ZUV4dHJhU3R1ZGllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFeHRyYVN0dWRpZXMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuc3R4LmxheW91dCAmJiB0aGlzLnN0eC5sYXlvdXQuc3R1ZGllcykge1xuICAgICAgICB2YXIgc3R1ZGllc0tleXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0eC5sYXlvdXQuc3R1ZGllcyk7XG5cbiAgICAgICAgaWYgKHN0dWRpZXNLZXlzLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnN0eC5sYXlvdXQuc3R1ZGllcykuZm9yRWFjaChmdW5jdGlvbiAoc3R1ZHksIGlkeCkge1xuICAgICAgICAgICAgaWYgKGlkeCA+PSA1KSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIENJUS5TdHVkaWVzLnJlbW92ZVN0dWR5KF90aGlzMi5zdHgsIF90aGlzMi5zdHgubGF5b3V0LnN0dWRpZXNbc3R1ZHldKTtcblxuICAgICAgICAgICAgICAgIF90aGlzMi5yZW5kZXJMZWdlbmQoKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25TZWxlY3RJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VsZWN0SXRlbShpdGVtKSB7XG4gICAgICBpZiAodGhpcy5zdHgubGF5b3V0ICYmIE9iamVjdC5rZXlzKHRoaXMuc3R4LmxheW91dC5zdHVkaWVzIHx8IFtdKS5sZW5ndGggPCA1KSB7XG4gICAgICAgIHZhciBzZCA9IENJUS5TdHVkaWVzLmFkZFN0dWR5KHRoaXMuc3R4LCBpdGVtKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdHVkeVBhbmVsVGl0bGUoc2QpO1xuICAgICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dBY3Rpb25zXCJdLkluZGljYXRvciwgXCJBZGQgXCIuY29uY2F0KGl0ZW0pKTtcbiAgICAgICAgdGhpcy5tZW51LnNldE9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH0gLy8gVGVtcG9yYXJ5IHByZXZlbnQgdXNlciBmcm9tIGFkZGluZyBtb3JlIHRoYW4gNSBpbmRpY2F0b3JzXG4gICAgLy8gVE9ETyBBbGwgdHJhY2VzIGNhbiBiZSByZW1vdmVkIGFmdGVyIG5ldyBkZXNpZ24gZm9yIHN0dWRpZXNcblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKCkge1xuICAgICAgdmFyIHNob3VsZF9taW5pbWlzZV9sYXN0X2RpZ2l0ID0gT2JqZWN0LmtleXModGhpcy5zdHgucGFuZWxzKS5sZW5ndGggPiAyO1xuICAgICAgdGhpcy5tYWluU3RvcmUuc3RhdGUuc2V0U2hvdWxkTWluaW1pc2VMYXN0RGlnaXQoc2hvdWxkX21pbmltaXNlX2xhc3RfZGlnaXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhfcmVmKSB7XG4gICAgICB2YXIgc2VhcmNoSW5wdXRDbGFzc05hbWUgPSBfcmVmLnNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dENsYXNzTmFtZSA9IHNlYXJjaElucHV0Q2xhc3NOYW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlZGl0U3R1ZHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdFN0dWR5KHN0dWR5KSB7XG4gICAgICB2YXIgaGVscGVyID0gbmV3IENJUS5TdHVkaWVzLkRpYWxvZ0hlbHBlcihzdHVkeSk7XG4gICAgICB0aGlzLmhlbHBlciA9IGhlbHBlcjtcbiAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcIkxvZ0FjdGlvbnNcIl0uSW5kaWNhdG9yLCBcIkVkaXQgXCIuY29uY2F0KGhlbHBlci5uYW1lKSk7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IGhlbHBlci5hdHRyaWJ1dGVzO1xuICAgICAgdmFyIGlucHV0cyA9IGhlbHBlci5pbnB1dHMubWFwKGZ1bmN0aW9uIChpbnApIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGlkOiBpbnAubmFtZSxcbiAgICAgICAgICB0aXRsZTogdC50cmFuc2xhdGUoaW5wLmhlYWRpbmcpLFxuICAgICAgICAgIHZhbHVlOiBpbnAudmFsdWUsXG4gICAgICAgICAgZGVmYXVsdFZhbHVlOiBpbnAuZGVmYXVsdElucHV0LFxuICAgICAgICAgIHR5cGU6IGlucC50eXBlID09PSAnY2hlY2tib3gnID8gJ3N3aXRjaCcgOiBpbnAudHlwZSxcbiAgICAgICAgICBvcHRpb25zOiBpbnAub3B0aW9ucyB8fCBudWxsXG4gICAgICAgIH0sIGF0dHJpYnV0ZXNbaW5wLm5hbWVdLCB7XG4gICAgICAgICAgLy8ge21pbjoxLCBtYXg6IDIwfVxuICAgICAgICAgIGNhdGVnb3J5OiAnaW5wdXRzJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG91dHB1dHMgPSBoZWxwZXIub3V0cHV0cy5tYXAoZnVuY3Rpb24gKG91dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBvdXQubmFtZSxcbiAgICAgICAgICB0aXRsZTogdC50cmFuc2xhdGUob3V0LmhlYWRpbmcpLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogb3V0LmRlZmF1bHRPdXRwdXQsXG4gICAgICAgICAgdmFsdWU6IG91dC5jb2xvcixcbiAgICAgICAgICB0eXBlOiAnY29sb3JwaWNrZXInLFxuICAgICAgICAgIGNhdGVnb3J5OiAnb3V0cHV0cydcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcmFtZXRlcnMgPSBoZWxwZXIucGFyYW1ldGVycy5tYXAoZnVuY3Rpb24gKHBhcikge1xuICAgICAgICB2YXIgc2hhcmVkID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgdGl0bGU6IHQudHJhbnNsYXRlKHBhci5oZWFkaW5nKVxuICAgICAgICB9LCBhdHRyaWJ1dGVzW3Bhci5uYW1lXSwge1xuICAgICAgICAgIGNhdGVnb3J5OiAncGFyYW1ldGVycydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHBhci5kZWZhdWx0VmFsdWUuY29uc3RydWN0b3IgPT09IEJvb2xlYW4pIHtcbiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgc2hhcmVkLCB7XG4gICAgICAgICAgICBpZDogXCJcIi5jb25jYXQocGFyLm5hbWUsIFwiRW5hYmxlZFwiKSxcbiAgICAgICAgICAgIHZhbHVlOiBwYXIudmFsdWUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHBhci5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICB0eXBlOiAnc3dpdGNoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhci5kZWZhdWx0VmFsdWUuY29uc3RydWN0b3IgPT09IE51bWJlcikge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzaGFyZWQsIHtcbiAgICAgICAgICAgIGlkOiBwYXIubmFtZSxcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXJjb2xvcnBpY2tlcicsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHtcbiAgICAgICAgICAgICAgQ29sb3I6IHBhci5kZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgIFZhbHVlOiBwYXIuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgQ29sb3I6IHBhci5jb2xvcixcbiAgICAgICAgICAgICAgVmFsdWU6IHBhci52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbmlzZWQgcGFyYW1ldGVyIScpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLmlkID0gc3R1ZHkuc2QudHlwZTtcbiAgICAgIHRoaXMuc2V0dGluZ3NEaWFsb2cuaXRlbXMgPSBfdG9Db25zdW1hYmxlQXJyYXkob3V0cHV0cykuY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShpbnB1dHMpLCBfdG9Db25zdW1hYmxlQXJyYXkocGFyYW1ldGVycykpO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy50aXRsZSA9IHQudHJhbnNsYXRlKHN0dWR5LnNkLmxpYnJhcnlFbnRyeS5uYW1lKTsgLy8gVE9ETzpcbiAgICAgIC8vIGNvbnN0IGRlc2NyaXB0aW9uID0gU3R1ZHlJbmZvW3N0dWR5LnNkLnR5cGVdO1xuICAgICAgLy8gdGhpcy5zZXR0aW5nc0RpYWxvZy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8IHQudHJhbnNsYXRlKFwiTm8gZGVzY3JpcHRpb24geWV0XCIpO1xuXG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgICB0aGlzLnNldHRpbmdzRGlhbG9nLnNldE9wZW4odHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVN0dWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVN0dWR5KHN0dWR5KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHNkID0gc3R1ZHkuc2Q7XG4gICAgICBPYmplY3QoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJsb2dFdmVudFwiXSkoX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dDYXRlZ29yaWVzXCJdLkNoYXJ0Q29udHJvbCwgX3V0aWxzX2dhX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJMb2dBY3Rpb25zXCJdLkluZGljYXRvciwgXCJSZW1vdmUgXCIuY29uY2F0KHNkLm5hbWUpKTtcblxuICAgICAgaWYgKCFzZC5wZXJtYW5lbnQpIHtcbiAgICAgICAgLy8gTmVlZCB0byBydW4gdGhpcyBpbiB0aGUgbmV4dFRpY2sgYmVjYXVzZSB0aGUgc3R1ZHkgbGVnZW5kIGNhbiBiZSByZW1vdmVkIGJ5IHRoaXMgY2xpY2tcbiAgICAgICAgLy8gY2F1c2luZyB0aGUgdW5kZXJseWluZyBjaGFydCB0byByZWNlaXZlIHRoZSBtb3VzZWRvd24gKG9uIElFIHdpbjcpXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIENJUS5TdHVkaWVzLnJlbW92ZVN0dWR5KF90aGlzMy5zdHgsIHNkKTtcblxuICAgICAgICAgIF90aGlzMy5yZW5kZXJMZWdlbmQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0dWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0dWR5KHN0dWR5LCBpdGVtcykge1xuICAgICAgdmFyIHVwZGF0ZXMgPSB7fTtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBpdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgaWQgPSBfc3RlcCR2YWx1ZS5pZCxcbiAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBfc3RlcCR2YWx1ZS5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcCR2YWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZSA9IF9zdGVwJHZhbHVlLnR5cGU7XG4gICAgICAgICAgdmFyIGlzQ2hhbmdlZCA9IHZvaWQgMDtcblxuICAgICAgICAgIGlmICh0eXBlID09PSAnbnVtYmVyY29sb3JwaWNrZXInKSB7XG4gICAgICAgICAgICBpc0NoYW5nZWQgPSBzdHVkeVtjYXRlZ29yeV1bXCJcIi5jb25jYXQoaWQsIFwiQ29sb3JcIildICE9PSB2YWx1ZS5Db2xvciB8fCBzdHVkeVtjYXRlZ29yeV1bXCJcIi5jb25jYXQoaWQsIFwiVmFsdWVcIildICE9PSB2YWx1ZS5WYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNDaGFuZ2VkID0gc3R1ZHlbY2F0ZWdvcnldW2lkXSAhPT0gdmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdXBkYXRlc1tjYXRlZ29yeV0gPSB1cGRhdGVzW2NhdGVnb3J5XSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBzdWZmaXggaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVzW2NhdGVnb3J5XVtcIlwiLmNvbmNhdChpZCkuY29uY2F0KHN1ZmZpeCldID0gdmFsdWVbc3VmZml4XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXBkYXRlc1tjYXRlZ29yeV1baWRdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlcykubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICB0aGlzLmhlbHBlci51cGRhdGVTdHVkeSh1cGRhdGVzKTtcbiAgICAgIHRoaXMudXBkYXRlQWN0aXZlU3R1ZGllcygpO1xuICAgICAgdGhpcy5zdHguZHJhdygpO1xuICAgICAgdGhpcy5jaGFuZ2VTdHVkeVBhbmVsVGl0bGUodGhpcy5oZWxwZXIuc2QpO1xuICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZy50aXRsZSA9IHQudHJhbnNsYXRlKHRoaXMuaGVscGVyLnNkLmxpYnJhcnlFbnRyeS5uYW1lKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhbmdlU3R1ZHlQYW5lbFRpdGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVN0dWR5UGFuZWxUaXRsZShzZCkge1xuICAgICAgLy8gUmVtb3ZlIG51bWJlcnMgZnJvbSB0aGUgZW5kIG9mIGluZGljYXRvciB0aXRsZXMgaW4gbW9iaWxlXG4gICAgICBpZiAodGhpcy5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUpIHtcbiAgICAgICAgdGhpcy5zdHgucGFuZWxzW3NkLnBhbmVsXS5kaXNwbGF5ID0gc2QudHlwZTtcbiAgICAgICAgdGhpcy5zdHguZHJhdygpO1xuICAgICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zYXZlTGF5b3V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNob3VsZFJlbmRlckxlZ2VuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRSZW5kZXJMZWdlbmQoKSB7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5zdHg7XG5cbiAgICAgIGlmICghc3R4LmxheW91dC5zdHVkaWVzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gLy8gTG9naWMgdG8gZGV0ZXJtaW5lIGlmIHRoZSBzdHVkaWVzIGhhdmUgY2hhbmdlZCwgb3RoZXJ3aXNlIGRvbid0IHJlLWNyZWF0ZSB0aGUgbGVnZW5kXG5cblxuICAgICAgaWYgKENJUS5vYmpMZW5ndGgodGhpcy5wcmV2aW91c1N0dWRpZXMpID09PSBDSVEub2JqTGVuZ3RoKHN0eC5sYXlvdXQuc3R1ZGllcykpIHtcbiAgICAgICAgdmFyIGZvdW5kQUNoYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGlkIGluIHN0eC5sYXlvdXQuc3R1ZGllcykge1xuICAgICAgICAgIGlmICghdGhpcy5wcmV2aW91c1N0dWRpZXNbaWRdKSB7XG4gICAgICAgICAgICBmb3VuZEFDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZEFDaGFuZ2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmV2aW91c1N0dWRpZXMgPSBDSVEuc2hhbGxvd0Nsb25lKHN0eC5sYXlvdXQuc3R1ZGllcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBjYWxsZWQgY29udGludWFsbHkgaW4gdGhlIGRyYXcgYW5pbWF0aW9uIGxvb3AuXG4gICAgICogQmUgY2FyZWZ1bCBub3QgdG8gcmVuZGVyIHVubmVjZXNzYXJpbHkuICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRSZWFjaGVkTGltaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UmVhY2hlZExpbWl0KCkge1xuICAgICAgdmFyIGhhc1JlYWNoZWRMaW1pdCA9IHRoaXMuYWN0aXZlU3R1ZGllcy5kYXRhLmxlbmd0aCA+PSA1O1xuICAgICAgdGhpcy5oYXNSZWFjaGVkTGltaXRzID0gaGFzUmVhY2hlZExpbWl0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVBY3RpdmVTdHVkaWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZVN0dWRpZXMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHN0eCA9IHRoaXMuc3R4O1xuICAgICAgdmFyIHN0dWRpZXMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHN0eC5sYXlvdXQuc3R1ZGllcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHNkID0gc3R4LmxheW91dC5zdHVkaWVzW2lkXTtcblxuICAgICAgICBpZiAoc2QuY3VzdG9tTGVnZW5kKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3R1ZGllcy5wdXNoKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGRpc3BsYXk6IF90aGlzNC5tYWluU3RvcmUuY2hhcnQuaXNNb2JpbGUgPyB0LnRyYW5zbGF0ZShzZC5saWJyYXJ5RW50cnkubmFtZSkgOiBzZC5pbnB1dHMuZGlzcGxheSxcbiAgICAgICAgICBkYXRhT2JqZWN0OiB7XG4gICAgICAgICAgICBzdHg6IHN0eCxcbiAgICAgICAgICAgIHNkOiBzZCxcbiAgICAgICAgICAgIGlucHV0czogc2QuaW5wdXRzLFxuICAgICAgICAgICAgb3V0cHV0czogc2Qub3V0cHV0cyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHNkLnBhcmFtZXRlcnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFjdGl2ZVN0dWRpZXMuZGF0YSA9IHN0dWRpZXM7XG4gICAgICB0aGlzLmFjdGl2ZVN0dWRpZXMuY2F0ZWdvcnlOYW1lUG9zdGZpeCA9IFwiKFwiLmNvbmNhdChzdHVkaWVzLmxlbmd0aCwgXCIvNSlcIik7XG4gICAgICB0aGlzLnNldFJlYWNoZWRMaW1pdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclN0dWRpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTdHVkaWVzKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuYWR2ZXJ0aXNlZC5MYXlvdXQuY2xlYXJTdHVkaWVzKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRleHRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1haW5TdG9yZS5jaGFydC5jb250ZXh0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzdHhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3R4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYXRlZ29yaXplZFN0dWRpZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBkYXRhID0gW107XG4gICAgICB2YXIgZXhjbHVkZWRTdHVkaWVzID0ge1xuICAgICAgICBCZXRhOiB0cnVlXG4gICAgICB9O1xuICAgICAgT2JqZWN0LmtleXMoQ0lRLlN0dWRpZXMuc3R1ZHlMaWJyYXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChzdHVkeUlkKSB7XG4gICAgICAgIGlmICghZXhjbHVkZWRTdHVkaWVzW3N0dWR5SWRdKSB7XG4gICAgICAgICAgdmFyIHN0dWR5ID0gQ0lRLlN0dWRpZXMuc3R1ZHlMaWJyYXJ5W3N0dWR5SWRdO1xuICAgICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGlzcGxheTogdC50cmFuc2xhdGUoc3R1ZHkubmFtZSksXG4gICAgICAgICAgICBkYXRhT2JqZWN0OiBzdHVkeUlkLFxuICAgICAgICAgICAgaXRlbUlkOiBzdHVkeUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGNhdGVnb3J5TmFtZVBvc3RmaXggPSBcIihcIi5jb25jYXQodGhpcy5hY3RpdmVTdHVkaWVzLmRhdGEubGVuZ3RoLCBcIi81KVwiKTtcbiAgICAgIHZhciBjYXRlZ29yeSA9IHtcbiAgICAgICAgY2F0ZWdvcnlOYW1lOiB0LnRyYW5zbGF0ZSgnSW5kaWNhdG9ycycpLFxuICAgICAgICBjYXRlZ29yeU5hbWVQb3N0Zml4OiBjYXRlZ29yeU5hbWVQb3N0Zml4LFxuICAgICAgICBjYXRlZ29yeU5hbWVQb3N0Zml4U2hvd0lmQWN0aXZlOiB0cnVlLFxuICAgICAgICBjYXRlZ29yeUlkOiAnaW5kaWNhdG9ycycsXG4gICAgICAgIGNhdGVnb3J5U3VidGl0bGU6IHQudHJhbnNsYXRlKCdVcCB0byA1IGFjdGl2ZSBpbmRpY2F0b3JzIGFsbG93ZWQuJyksXG4gICAgICAgIGhhc1N1YmNhdGVnb3J5OiBmYWxzZSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfTtcbiAgICAgIHJldHVybiBbY2F0ZWdvcnldO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHVkeUxlZ2VuZFN0b3JlO1xufSgpLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaGFzUmVhY2hlZExpbWl0c1wiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSksIF9kZXNjcmlwdG9yMiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhY3RpdmVTdHVkaWVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhdGVnb3J5TmFtZTogdC50cmFuc2xhdGUoJ0FjdGl2ZScpLFxuICAgICAgY2F0ZWdvcnlOYW1lUG9zdGZpeDogJycsXG4gICAgICBjYXRlZ29yeUlkOiAnYWN0aXZlJyxcbiAgICAgIGhhc1N1YmNhdGVnb3J5OiBmYWxzZSxcbiAgICAgIGVtcHR5RGVzY3JpcHRpb246IHQudHJhbnNsYXRlKCdUaGVyZSBhcmUgbm8gYWN0aXZlIGluZGljYXRvcnMgeWV0LicpLFxuICAgICAgZGF0YTogW11cbiAgICB9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZUV4dHJhU3R1ZGllc1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZW1vdmVFeHRyYVN0dWRpZXNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25TZWxlY3RJdGVtXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblNlbGVjdEl0ZW1cIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlU3R5bGVcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVN0eWxlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVByb3BzXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJlZGl0U3R1ZHlcIiwgW19kZWM1XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImVkaXRTdHVkeVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWxldGVTdHVkeVwiLCBbX2RlYzZdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGVsZXRlU3R1ZHlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlU3R1ZHlcIiwgW19kZWM3XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVN0dWR5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNldFJlYWNoZWRMaW1pdFwiLCBbX2RlYzhdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2V0UmVhY2hlZExpbWl0XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIiwgW19kZWM5XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZUFjdGl2ZVN0dWRpZXNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xlYXJTdHVkaWVzXCIsIFtfZGVjMTBdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiY2xlYXJTdHVkaWVzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvVHJhbnNsYXRpb24uanMgKi8gXCIuL3NyYy9UcmFuc2xhdGlvbi5qc1wiKVtcInRcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9UaW1lcGVyaW9kU3RvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3N0b3JlL1RpbWVwZXJpb2RTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbih0KSB7LyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUaW1lcGVyaW9kU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1vYnggKi8gXCJtb2J4XCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWVudVN0b3JlICovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMgKi8gXCIuL3NyYy91dGlscy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9NZW51LmpzeCAqLyBcIi4vc3JjL2NvbXBvbmVudHMvTWVudS5qc3hcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX1NlcnZlclRpbWVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1NlcnZlclRpbWUgKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2EgKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiKTtcbnZhciBfZGVjLCBfZGVjMiwgX2RlYzMsIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMjtcblxuZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpOyBkZXNjID0gbnVsbDsgfSByZXR1cm4gZGVzYzsgfVxuXG5mdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfVxuXG5cblxuXG5cblxuXG52YXIgVGltZXBlcmlvZFN0b3JlID0gKF9kZWMgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMyID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjMyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgKF9jbGFzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRpbWVwZXJpb2RTdG9yZShtYWluU3RvcmUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVwZXJpb2RTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWVVbml0XCIsIF9kZXNjcmlwdG9yLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW50ZXJ2YWxcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIHRoaXMub25HcmFudWxhcml0eUNoYW5nZSA9IHZvaWQgMDtcbiAgICB0aGlzLnJlbWFpbiA9IG51bGw7XG5cbiAgICB0aGlzLm9uQ29udGV4dFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJGNvbnRleHQkc3R4JGxheSA9IF90aGlzLmNvbnRleHQuc3R4LmxheW91dCxcbiAgICAgICAgICB0aW1lVW5pdCA9IF90aGlzJGNvbnRleHQkc3R4JGxheS50aW1lVW5pdCxcbiAgICAgICAgICBpbnRlcnZhbCA9IF90aGlzJGNvbnRleHQkc3R4JGxheS5pbnRlcnZhbDtcbiAgICAgIF90aGlzLnRpbWVVbml0ID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZ2V0VGltZVVuaXRcIl0pKHtcbiAgICAgICAgdGltZVVuaXQ6IHRpbWVVbml0LFxuICAgICAgICBpbnRlcnZhbDogaW50ZXJ2YWxcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcblxuICAgICAgX3RoaXMudXBkYXRlQ291bnRkb3duKCk7XG5cbiAgICAgIE9iamVjdChtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJyZWFjdGlvblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW190aGlzLnRpbWVVbml0LCBfdGhpcy5pbnRlcnZhbCwgX3RoaXMubWFpblN0b3JlLmNoYXJ0U2V0dGluZy5jb3VudGRvd24sIF90aGlzLm1haW5TdG9yZS5jaGFydFR5cGUudHlwZV07XG4gICAgICB9LCBfdGhpcy51cGRhdGVDb3VudGRvd24uYmluZChfdGhpcykpO1xuXG4gICAgICBfdGhpcy5jb250ZXh0LnN0eC5hZGRFdmVudExpc3RlbmVyKCduZXdDaGFydCcsIF90aGlzLnVwZGF0ZURpc3BsYXkpO1xuICAgIH07XG5cbiAgICB0aGlzLmNvdW50ZG93bkludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLm1haW5TdG9yZSA9IG1haW5TdG9yZTtcbiAgICBPYmplY3QobW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wid2hlblwiXSkoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQ7XG4gICAgfSwgdGhpcy5vbkNvbnRleHRSZWFkeSk7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ3RpbWUtcGVyaW9kJ1xuICAgIH0pO1xuICAgIHRoaXMuVGltZVBlcmlvZE1lbnUgPSB0aGlzLm1lbnUuY29ubmVjdChfY29tcG9uZW50c19NZW51X2pzeF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSk7XG4gICAgdGhpcy5fc2VydmVyVGltZSA9IF91dGlsc19TZXJ2ZXJUaW1lX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGltZXBlcmlvZFN0b3JlLCBbe1xuICAgIGtleTogXCJjbGVhckNvdW50ZG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckNvdW50ZG93bigpIHtcbiAgICAgIGlmICh0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pbmplY3Rpb25JZCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuc3R4LnJlbW92ZUluamVjdGlvbih0aGlzLl9pbmplY3Rpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2luamVjdGlvbklkID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5jb3VudGRvd25JbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuY29udGV4dC5zdHguZHJhdygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDb3VudGRvd25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ291bnRkb3duKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuICAgICAgdGhpcy5yZW1haW4gPSBudWxsO1xuICAgICAgdGhpcy5jbGVhckNvdW50ZG93bigpO1xuXG4gICAgICB2YXIgc2V0UmVtYWluID0gZnVuY3Rpb24gc2V0UmVtYWluKCkge1xuICAgICAgICBpZiAoc3R4LmlzRGVzdHJveWVkIHx8IF90aGlzMi5pc1RpY2spIHtcbiAgICAgICAgICBfdGhpczIuY2xlYXJDb3VudGRvd24oKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhU2V0ID0gc3R4LmNoYXJ0LmRhdGFTZXQ7XG5cbiAgICAgICAgaWYgKGRhdGFTZXQgJiYgZGF0YVNldC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICB2YXIgbm93ID0gX3RoaXMyLl9zZXJ2ZXJUaW1lLmdldFVUQ0RhdGUoKTtcblxuICAgICAgICAgIHZhciBkaWZmID0gbm93IC0gZGF0YVNldFtkYXRhU2V0Lmxlbmd0aCAtIDFdLkRUO1xuICAgICAgICAgIF90aGlzMi5yZW1haW4gPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkaXNwbGF5TWlsbGlzZWNvbmRzXCJdKShPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRJbnRlcnZhbEluU2Vjb25kc1wiXSkoc3R4LmxheW91dCkgKiAxMDAwIC0gZGlmZik7XG4gICAgICAgICAgc3R4LmRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGlzQ291bnRkb3duQ2hhcnQgPSAhdGhpcy5tYWluU3RvcmUuY2hhcnRUeXBlLmlzQWdncmVnYXRlQ2hhcnQ7XG4gICAgICB2YXIgaGFzQ291bnRkb3duID0gdGhpcy5tYWluU3RvcmUuY2hhcnRTZXR0aW5nLmNvdW50ZG93biAmJiAhdGhpcy5pc1RpY2sgJiYgaXNDb3VudGRvd25DaGFydDtcblxuICAgICAgaWYgKGhhc0NvdW50ZG93bikge1xuICAgICAgICBpZiAoIXRoaXMuX2luamVjdGlvbklkKSB7XG4gICAgICAgICAgdGhpcy5faW5qZWN0aW9uSWQgPSBzdHguYXBwZW5kKCdkcmF3JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzMi5pc1RpY2spIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmNsZWFyQ291bnRkb3duKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3RoaXMyLnJlbWFpbiAmJiBzdHguY3VycmVudFF1b3RlKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3R4LnlheGlzTGFiZWxTdHlsZSA9ICdyZWN0JztcbiAgICAgICAgICAgICAgc3R4LmxhYmVsVHlwZSA9ICdjb3VudGRvd24nO1xuICAgICAgICAgICAgICBzdHguY3JlYXRlWUF4aXNMYWJlbChzdHguY2hhcnQucGFuZWwsIF90aGlzMi5yZW1haW4sIF90aGlzMi5yZW1haW5MYWJlbFksICcjMTUyMTJkJywgJyNGRkZGRkYnKTtcbiAgICAgICAgICAgICAgc3R4LmxhYmVsVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIHN0eC55YXhpc0xhYmVsU3R5bGUgPSAncm91bmRSZWN0QXJyb3cnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICAgICAgdGhpcy5jb3VudGRvd25JbnRlcnZhbCA9IHNldEludGVydmFsKHNldFJlbWFpbiwgMTAwMCk7XG4gICAgICAgICAgc2V0UmVtYWluKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0R3JhbnVsYXJpdHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0R3JhbnVsYXJpdHkoZ3JhbnVsYXJpdHkpIHtcbiAgICAgIGlmICh0aGlzLm1haW5TdG9yZS5zdGF0ZS5ncmFudWxhcml0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NldHRpbmcgZ3JhbnVsYXJpdHkgZG9lcyBub3RoaW5nIHNpbmNlIGdyYW51bGFyaXR5IHByb3AgaXMgc2V0LiBDb25zaWRlciBvdmVycmlkaW5nIHRoZSBvbkNoYW5nZSBwcm9wIGluIDxUaW1lUGVyaW9kIC8+Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiTG9nQWN0aW9uc1wiXS5JbnRlcnZhbCwgZ3JhbnVsYXJpdHkudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLm1haW5TdG9yZS5jaGFydC5jaGFuZ2VTeW1ib2wodW5kZWZpbmVkLCBncmFudWxhcml0eSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVByb3BzKG9uQ2hhbmdlKSB7XG4gICAgICBpZiAodGhpcy5tYWluU3RvcmUuc3RhdGUuZ3JhbnVsYXJpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm9uR3JhbnVsYXJpdHlDaGFuZ2UgPSB0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicgPyBvbkNoYW5nZSA6IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB0aGlzLm9uR3JhbnVsYXJpdHlDaGFuZ2UodGhpcy5tYWluU3RvcmUuc3RhdGUuZ3JhbnVsYXJpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVEaXNwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgICB2YXIgc3R4ID0gdGhpcy5jb250ZXh0LnN0eDtcbiAgICAgIHRoaXMudGltZVVuaXQgPSBPYmplY3QoX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJnZXRUaW1lVW5pdFwiXSkoc3R4LmxheW91dCk7XG4gICAgICB0aGlzLmludGVydmFsID0gc3R4LmxheW91dC5pbnRlcnZhbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGV4dFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmNoYXJ0LmNvbnRleHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFpblN0b3JlLmxvYWRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNUaWNrXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aW1lVW5pdCA9PT0gJ3RpY2snO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1haW5MYWJlbFlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzdHggPSB0aGlzLmNvbnRleHQuc3R4O1xuICAgICAgdmFyIHRvcFBvcyA9IDM2O1xuICAgICAgdmFyIGxhYmVsSGVpZ2h0ID0gMjQ7XG4gICAgICB2YXIgYm90dG9tUG9zID0gNjY7XG4gICAgICB2YXIgeSA9IHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgKyBsYWJlbEhlaWdodDtcblxuICAgICAgaWYgKHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgPiBzdHguY2hhcnQucGFuZWwuYm90dG9tIC0gYm90dG9tUG9zKSB7XG4gICAgICAgIHkgPSBzdHguY2hhcnQucGFuZWwuYm90dG9tIC0gYm90dG9tUG9zO1xuICAgICAgICB5ID0geSA8IHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgLSBsYWJlbEhlaWdodCA/IHkgOiBzdHguY2hhcnQuY3VycmVudFByaWNlTGFiZWxZIC0gbGFiZWxIZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKHN0eC5jaGFydC5jdXJyZW50UHJpY2VMYWJlbFkgPCBzdHguY2hhcnQucGFuZWwudG9wKSB7XG4gICAgICAgIHkgPSB0b3BQb3M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aW1lVW5pdF9kaXNwbGF5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIXRoaXMudGltZVVuaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBDb252ZXJ0IHRvIGNhbWVsIGNhc2U6XG5cblxuICAgICAgcmV0dXJuIHQudHJhbnNsYXRlKHRoaXMudGltZVVuaXQucmVwbGFjZSgvKFxcdykvLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW50ZXJ2YWxfZGlzcGxheVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgJSA2MCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbCAvIDYwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gK3RoaXMuaW50ZXJ2YWwgPyB0aGlzLmludGVydmFsIDogMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzcGxheVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHQgPSB0aGlzLnRpbWVVbml0ID8gdGhpcy50aW1lVW5pdFswXSA6ICcnO1xuICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxfZGlzcGxheSArIHQ7IC8vIDFkLCAxdCwgNW0sIDJoXG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRpbWVwZXJpb2RTdG9yZTtcbn0oKSwgKF9kZXNjcmlwdG9yID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInRpbWVVbml0XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiaW50ZXJ2YWxcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIm9ic2VydmFibGVcIl1dLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRHcmFudWxhcml0eVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJzZXRHcmFudWxhcml0eVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ1cGRhdGVQcm9wc1wiLCBbX2RlYzJdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUHJvcHNcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlRGlzcGxheVwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlRGlzcGxheVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJyZW1haW5MYWJlbFlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbWFpbkxhYmVsWVwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aW1lVW5pdF9kaXNwbGF5XCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJjb21wdXRlZFwiXV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJ0aW1lVW5pdF9kaXNwbGF5XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImludGVydmFsX2Rpc3BsYXlcIiwgW21vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImNvbXB1dGVkXCJdXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImludGVydmFsX2Rpc3BsYXlcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGlzcGxheVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiY29tcHV0ZWRcIl1dLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZGlzcGxheVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL1RyYW5zbGF0aW9uLmpzICovIFwiLi9zcmMvVHJhbnNsYXRpb24uanNcIilbXCJ0XCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvc3RvcmUvVmlld1N0b3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9WaWV3U3RvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZpZXdTdG9yZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbW9ieCAqLyBcIm1vYnhcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscyAqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTWVudVN0b3JlICovIFwiLi9zcmMvc3RvcmUvTWVudVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL01lbnUuanN4ICovIFwiLi9zcmMvY29tcG9uZW50cy9NZW51LmpzeFwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dhICovIFwiLi9zcmMvdXRpbHMvZ2EuanNcIik7XG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2RlYzgsIF9jbGFzcywgX2luaXQsIF9kZXNjcmlwdG9yLCBfZGVzY3JpcHRvcjIsIF9kZXNjcmlwdG9yMywgX2NsYXNzMiwgX3RlbXA7XG5cbmZ1bmN0aW9uIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSwgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSwgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwIH0pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHRocm93IG5ldyBFcnJvcignRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICsgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICsgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgKyAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJyk7IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IHZhciBkZXNjID0ge307IE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3RbJ2RlZmluZScgKyAnUHJvcGVydHknXSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH1cblxuXG5cblxuXG5cbnZhciBWaWV3U3RvcmUgPSAoX2RlYyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzIgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWMzID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNCA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzUgPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIF9kZWM2ID0gbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWN0aW9uXCJdLmJvdW5kLCBfZGVjNyA9IG1vYnhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImFjdGlvblwiXS5ib3VuZCwgX2RlYzggPSBtb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJhY3Rpb25cIl0uYm91bmQsIChfY2xhc3MgPSAoX3RlbXAgPSBfY2xhc3MyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVmlld1N0b3JlKG1haW5TdG9yZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWV3U3RvcmUpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wbGF0ZU5hbWVcIiwgX2Rlc2NyaXB0b3IsIHRoaXMpO1xuXG4gICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGhpcywgXCJjdXJyZW50Um91dGVcIiwgX2Rlc2NyaXB0b3IyLCB0aGlzKTtcblxuICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KHRoaXMsIFwicm91dGVzXCIsIF9kZXNjcmlwdG9yMywgdGhpcyk7XG5cbiAgICB0aGlzLmlucHV0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgaWYgKHJlZikge1xuICAgICAgICByZWYuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tYWluU3RvcmUgPSBtYWluU3RvcmU7XG4gICAgdGhpcy5tZW51ID0gbmV3IF9NZW51U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0obWFpblN0b3JlLCB7XG4gICAgICByb3V0ZTogJ3RlbXBsYXRlcydcbiAgICB9KTtcbiAgICB0aGlzLlZpZXdzTWVudSA9IHRoaXMubWVudS5jb25uZWN0KF9jb21wb25lbnRzX01lbnVfanN4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhWaWV3U3RvcmUsIFt7XG4gICAga2V5OiBcIm9uQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VibWl0KGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHRoaXMuc2F2ZVZpZXdzKCk7XG4gICAgICAgIE9iamVjdChfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImxvZ0V2ZW50XCJdKShfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0NhdGVnb3JpZXNcIl0uQ2hhcnRDb250cm9sLCBfdXRpbHNfZ2FfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcIkxvZ0FjdGlvbnNcIl0uVGVtcGxhdGUsICdTYXZlIFRlbXBsYXRlJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2FuY2VsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkge1xuICAgICAgdGhpcy50ZW1wbGF0ZU5hbWUgPSAnJztcbiAgICAgIHRoaXMudXBkYXRlUm91dGUoJ21haW4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUm91dGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUm91dGUobmFtZSkge1xuICAgICAgdGhpcy5jdXJyZW50Um91dGUgPSBuYW1lO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlVmlld3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVZpZXdzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKFZpZXdTdG9yZS52aWV3cy5zb21lKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gX3RoaXMudGVtcGxhdGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVJvdXRlKCdvdmVyd3JpdGUnKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50ZW1wbGF0ZU5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVJvdXRlKCdtYWluJyk7XG4gICAgICAgIHZhciBsYXlvdXQgPSB0aGlzLnN0eC5leHBvcnRMYXlvdXQoKTtcbiAgICAgICAgVmlld1N0b3JlLnZpZXdzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHRoaXMudGVtcGxhdGVOYW1lLFxuICAgICAgICAgIGxheW91dDogbGF5b3V0XG4gICAgICAgIH0pO1xuICAgICAgICBWaWV3U3RvcmUudXBkYXRlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm92ZXJ3cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvdmVyd3JpdGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGxheW91dCA9IHRoaXMuc3R4LmV4cG9ydExheW91dCgpO1xuICAgICAgdmFyIHRlbXBsYXRlSW5kZXggPSBWaWV3U3RvcmUudmlld3MuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gX3RoaXMyLnRlbXBsYXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgICBWaWV3U3RvcmUudmlld3NbdGVtcGxhdGVJbmRleF0ubGF5b3V0ID0gbGF5b3V0O1xuICAgICAgVmlld1N0b3JlLnZpZXdzW3RlbXBsYXRlSW5kZXhdLm5hbWUgPSB0aGlzLnRlbXBsYXRlTmFtZTtcbiAgICAgIFZpZXdTdG9yZS51cGRhdGVMb2NhbFN0b3JhZ2UoKTtcbiAgICAgIHRoaXMudXBkYXRlUm91dGUoJ21haW4nKTtcbiAgICAgIHRoaXMudGVtcGxhdGVOYW1lID0gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoaWR4LCBlKSB7XG4gICAgICBWaWV3U3RvcmUudmlld3MgPSBWaWV3U3RvcmUudmlld3MuZmlsdGVyKGZ1bmN0aW9uICh4LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gaWR4ICE9PSBpbmRleDtcbiAgICAgIH0pO1xuICAgICAgZS5uYXRpdmVFdmVudC5pc19pdGVtX3JlbW92ZWQgPSB0cnVlO1xuICAgICAgVmlld1N0b3JlLnVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xuICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQWN0aW9uc1wiXS5UZW1wbGF0ZSwgJ1JlbW92ZSBUZW1wbGF0ZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhcHBseUxheW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseUxheW91dChpZHgsIGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoZS5uYXRpdmVFdmVudC5pc19pdGVtX3JlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuc2hvdygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1haW5TdG9yZS5zdGF0ZS5zZXRDaGFydElzUmVhZHkoZmFsc2UpO1xuICAgICAgdmFyIHN0eCA9IHRoaXMuc3R4O1xuXG4gICAgICB2YXIgaW1wb3J0TGF5b3V0ID0gZnVuY3Rpb24gaW1wb3J0TGF5b3V0KCkge1xuICAgICAgICB2YXIgZmluaXNoSW1wb3J0TGF5b3V0ID0gZnVuY3Rpb24gZmluaXNoSW1wb3J0TGF5b3V0KCkge1xuICAgICAgICAgIHN0eC5jaGFuZ2VPY2N1cnJlZCgnbGF5b3V0Jyk7XG5cbiAgICAgICAgICBfdGhpczMubWFpblN0b3JlLnN0dWRpZXMudXBkYXRlQWN0aXZlU3R1ZGllcygpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMy5sb2FkZXIpIHtcbiAgICAgICAgICAgIF90aGlzMy5sb2FkZXIuaGlkZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy5tYWluU3RvcmUuc3RhdGUuc2V0Q2hhcnRJc1JlYWR5KHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN0eC5pbXBvcnRMYXlvdXQoVmlld1N0b3JlLnZpZXdzW2lkeF0ubGF5b3V0LCB7XG4gICAgICAgICAgbWFuYWdlUGVyaW9kaWNpdHk6IHRydWUsXG4gICAgICAgICAgcHJlc2VydmVUaWNrc0FuZENhbmRsZVdpZHRoOiB0cnVlLFxuICAgICAgICAgIGNiOiBmaW5pc2hJbXBvcnRMYXlvdXRcbiAgICAgICAgfSk7IC8vIFRoaXMgY29uZGl0aW9uIGlzIHRvIG1ha2Ugc3BsaW5lIGNoYXJ0IGFwcGVhciBhcyBzcGxpbmUgY2hhcnRcbiAgICAgICAgLy8gQm90aCBsaW5lIGNoYXJ0IGFuZCBzcGxpbmUgY2hhcnQgYXJlIG9mIHR5cGUgbW91bnRhaW4gYnV0IHdpdGggZGlmZmVyZW50IHRlbnNpb25zXG5cbiAgICAgICAgdmFyIGNoYXJ0VHlwZSA9IFZpZXdTdG9yZS52aWV3c1tpZHhdLmxheW91dC5jaGFydFR5cGU7XG5cbiAgICAgICAgaWYgKGNoYXJ0VHlwZSA9PT0gJ21vdW50YWluJykge1xuICAgICAgICAgIHZhciB0ZW5zaW9uID0gVmlld1N0b3JlLnZpZXdzW2lkeF0ubGF5b3V0LnRlbnNpb247XG5cbiAgICAgICAgICBpZiAodGVuc2lvbiA9PT0gMC41KSB7XG4gICAgICAgICAgICBjaGFydFR5cGUgPSAnc3BsaW5lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczMubWFpblN0b3JlLmNoYXJ0VHlwZS5zZXRUeXBlKGNoYXJ0VHlwZSk7XG5cbiAgICAgICAgX3RoaXMzLm1lbnUuc2V0T3BlbihmYWxzZSk7XG5cbiAgICAgICAgT2JqZWN0KF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wibG9nRXZlbnRcIl0pKF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQ2F0ZWdvcmllc1wiXS5DaGFydENvbnRyb2wsIF91dGlsc19nYV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiTG9nQWN0aW9uc1wiXS5UZW1wbGF0ZSwgJ0xvYWQgVGVtcGxhdGUnKTtcbiAgICAgIH07XG5cbiAgICAgIHNldFRpbWVvdXQoaW1wb3J0TGF5b3V0LCAxMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250ZXh0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUuY2hhcnQuY29udGV4dDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3R4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnN0eDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZGVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYWluU3RvcmUubG9hZGVyO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInVwZGF0ZUxvY2FsU3RvcmFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVMb2NhbFN0b3JhZ2UoKSB7XG4gICAgICBDSVEubG9jYWxTdG9yYWdlU2V0SXRlbSgnY3Etdmlld3MnLCBKU09OLnN0cmluZ2lmeShWaWV3U3RvcmUudmlld3MpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlld1N0b3JlO1xufSgpLCBfY2xhc3MyLnZpZXdzID0gT2JqZWN0KF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZVwiXSkoJ2NxLXZpZXdzJykgfHwgW10sIF90ZW1wKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLCBcInZpZXdzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwgKF9pbml0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MsIFwidmlld3NcIiksIF9pbml0ID0gX2luaXQgPyBfaW5pdC52YWx1ZSA6IHVuZGVmaW5lZCwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuIF9pbml0O1xuICB9XG59KSwgX2NsYXNzKSwgX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidGVtcGxhdGVOYW1lXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImN1cnJlbnRSb3V0ZVwiLCBbbW9ieF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wib2JzZXJ2YWJsZVwiXV0sIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICAgIHJldHVybiAnbWFpbic7XG4gIH1cbn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicm91dGVzXCIsIFttb2J4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJvYnNlcnZhYmxlXCJdXSwge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQuc2F2ZVZpZXdzKCk7XG4gICAgICB9LFxuICAgICAgbWFpbjogZnVuY3Rpb24gbWFpbigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNC51cGRhdGVSb3V0ZSgnYWRkJyk7XG4gICAgICB9LFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQub25DYW5jZWwoKTtcbiAgICAgIH0sXG4gICAgICBvdmVyd3JpdGU6IGZ1bmN0aW9uIG92ZXJ3cml0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNC5vdmVyd3JpdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ2hhbmdlXCIsIFtfZGVjXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uQ2hhbmdlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm9uU3VibWl0XCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvblN1Ym1pdFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJvbkNhbmNlbFwiLCBbX2RlYzNdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib25DYW5jZWxcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwidXBkYXRlUm91dGVcIiwgW19kZWM0XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInVwZGF0ZVJvdXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInNhdmVWaWV3c1wiLCBbX2RlYzVdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwic2F2ZVZpZXdzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcIm92ZXJ3cml0ZVwiLCBbX2RlYzZdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwib3ZlcndyaXRlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZVwiLCBbX2RlYzddLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwicmVtb3ZlXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImFwcGx5TGF5b3V0XCIsIFtfZGVjOF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhcHBseUxheW91dFwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9zdG9yZS9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9zdG9yZS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNYWluU3RvcmU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Cb3R0b21XaWRnZXRzQ29udGFpbmVyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlICovIFwiLi9zcmMvc3RvcmUvQm90dG9tV2lkZ2V0c0NvbnRhaW5lclN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9UaW1lcGVyaW9kU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vVGltZXBlcmlvZFN0b3JlICovIFwiLi9zcmMvc3RvcmUvVGltZXBlcmlvZFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFR5cGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9DaGFydFR5cGVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0VHlwZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TdHVkeUxlZ2VuZFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1N0dWR5TGVnZW5kU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9TdHVkeUxlZ2VuZFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db21wYXJpc29uU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ29tcGFyaXNvblN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ29tcGFyaXNvblN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9EcmF3VG9vbHNTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9EcmF3VG9vbHNTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0RyYXdUb29sc1N0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFRpdGxlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRUaXRsZVN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ2hhcnRUaXRsZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Bc3NldEluZm9ybWF0aW9uU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQXNzZXRJbmZvcm1hdGlvblN0b3JlICovIFwiLi9zcmMvc3RvcmUvQXNzZXRJbmZvcm1hdGlvblN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9Db21wYXJpc29uTGlzdFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NvbXBhcmlzb25MaXN0U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9Db21wYXJpc29uTGlzdFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9WaWV3U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1ZpZXdTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1ZpZXdTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ3Jvc3NoYWlyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Nyb3NzaGFpclN0b3JlICovIFwiLi9zcmMvc3RvcmUvQ3Jvc3NoYWlyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1NoYXJlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1NoYXJlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9TaGFyZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNldHRpbmdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTZXR0aW5nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFNldHRpbmdTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTG9hZGVyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0xvYWRlclN0b3JlICovIFwiLi9zcmMvc3RvcmUvTG9hZGVyU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0Zhdm9yaXRlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0Zhdm9yaXRlU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9GYXZvcml0ZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFNpemVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTaXplU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DaGFydFNpemVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfUm91dGluZ1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Sb3V0aW5nU3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9Sb3V0aW5nU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0N1cnJlbnRTcG90U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0N1cnJlbnRTcG90U3RvcmUgKi8gXCIuL3NyYy9zdG9yZS9DdXJyZW50U3BvdFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9EcmF3aW5nQ3Vyc29yU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0RyYXdpbmdDdXJzb3JTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0RyYXdpbmdDdXJzb3JTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfQ2hhcnRTdGF0ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vQ2hhcnRTdGF0ZSAqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0U3RhdGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX05vdGlmaWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9Ob3RpZmllciAqLyBcIi4vc3JjL3N0b3JlL05vdGlmaWVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9DaGFydFRhYmxlU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0NoYXJ0VGFibGVTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0NoYXJ0VGFibGVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfTGFzdERpZ2l0U3RhdHNTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vTGFzdERpZ2l0U3RhdHNTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL0xhc3REaWdpdFN0YXRzU3RvcmUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0hpZ2hlc3RMb3dlc3RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSGlnaGVzdExvd2VzdFN0b3JlICovIFwiLi9zcmMvc3RvcmUvSGlnaGVzdExvd2VzdFN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9QYWdpbmF0aW9uTG9hZGVyU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1BhZ2luYXRpb25Mb2FkZXJTdG9yZSAqLyBcIi4vc3JjL3N0b3JlL1BhZ2luYXRpb25Mb2FkZXJTdG9yZS5qc1wiKTtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBNYWluU3RvcmUgPSBmdW5jdGlvbiBNYWluU3RvcmUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluU3RvcmUpO1xuXG4gIHRoaXMubm90aWZpZXIgPSBuZXcgX05vdGlmaWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fW1wiZGVmYXVsdFwiXSgpO1xuICB0aGlzLmZhdm9yaXRlcyA9IF9GYXZvcml0ZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNV9fW1wiZGVmYXVsdFwiXS5nZXRJbnN0YW5jZSgpO1xuICB0aGlzLmNoYXJ0ID0gbmV3IF9DaGFydFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnN0YXRlID0gbmV3IF9DaGFydFN0YXRlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5jaGFydFR5cGUgPSBuZXcgX0NoYXJ0VHlwZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnN0dWRpZXMgPSBuZXcgX1N0dWR5TGVnZW5kU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY29tcGFyaXNvbiA9IG5ldyBfQ29tcGFyaXNvblN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmRyYXdUb29scyA9IG5ldyBfRHJhd1Rvb2xzU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY2hhcnRUaXRsZSA9IG5ldyBfQ2hhcnRUaXRsZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnRpbWVwZXJpb2QgPSBuZXcgX1RpbWVwZXJpb2RTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5hc3NldEluZm9ybWF0aW9uID0gbmV3IF9Bc3NldEluZm9ybWF0aW9uU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY29tcGFyaXNvbkxpc3QgPSBuZXcgX0NvbXBhcmlzb25MaXN0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMudmlldyA9IG5ldyBfVmlld1N0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5jcm9zc2hhaXIgPSBuZXcgX0Nyb3NzaGFpclN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5zaGFyZSA9IG5ldyBfU2hhcmVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMuY2hhcnRTZXR0aW5nID0gbmV3IF9DaGFydFNldHRpbmdTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMubG9hZGVyID0gbmV3IF9Mb2FkZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX1tcImRlZmF1bHRcIl0oKTtcbiAgdGhpcy5jaGFydFNpemUgPSBuZXcgX0NoYXJ0U2l6ZVN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNl9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5yb3V0aW5nID0gbmV3IF9Sb3V0aW5nU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmN1cnJlbnRTcG90ID0gbmV3IF9DdXJyZW50U3BvdFN0b3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5kcmF3aW5nQ3Vyc29yID0gbmV3IF9EcmF3aW5nQ3Vyc29yU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmNoYXJ0VGFibGUgPSBuZXcgX0NoYXJ0VGFibGVTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX1tcImRlZmF1bHRcIl0odGhpcyk7XG4gIHRoaXMubGFzdERpZ2l0U3RhdHMgPSBuZXcgX0xhc3REaWdpdFN0YXRzU3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLmJvdHRvbVdpZGdldHNDb250YWluZXIgPSBuZXcgX0JvdHRvbVdpZGdldHNDb250YWluZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgdGhpcy5oaWdoZXN0TG93ZXN0ID0gbmV3IF9IaWdoZXN0TG93ZXN0U3RvcmVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJkZWZhdWx0XCJdKHRoaXMpO1xuICB0aGlzLnBhZ2luYXRpb25Mb2FkZXIgPSBuZXcgX1BhZ2luYXRpb25Mb2FkZXJTdG9yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfX1tcImRlZmF1bHRcIl0odGhpcyk7XG59O1xuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUGVuZGluZ1Byb21pc2U7IH0pO1xuZnVuY3Rpb24gUGVuZGluZ1Byb21pc2UoKSB7XG4gIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICB2YXIgcmVzb2x2ZTtcbiAgdmFyIHJlamVjdDtcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUsIF9yZWplY3QpIHtcbiAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgfSk7XG5cbiAgcHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlcykge1xuICAgIHByb21pc2UuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgcmVzb2x2ZShyZXMpO1xuICB9O1xuXG4gIHByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcHJvbWlzZS5pc1BlbmRpbmcgPSBmYWxzZTtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9O1xuXG4gIHByb21pc2UuZGF0YSA9IGRhdGE7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy9TZXJ2ZXJUaW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvU2VydmVyVGltZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2luZGV4ICovIFwiLi9zcmMvdXRpbHMvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1BlbmRpbmdQcm9taXNlICovIFwiLi9zcmMvdXRpbHMvUGVuZGluZ1Byb21pc2UuanNcIik7XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cblxuXG5cbnZhciBTZXJ2ZXJUaW1lID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VydmVyVGltZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZlclRpbWUpO1xuXG4gICAgdGhpcy5jbG9ja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsb2NrU3RhcnRlZFByb21pc2UgPSBuZXcgX1BlbmRpbmdQcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKCk7XG5cbiAgICB0aGlzLl90aW1lUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICBfdGhpcy5jbG9ja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5jbG9ja1N0YXJ0ZWQpIHtcbiAgICAgICAgX3RoaXMuaW5pdCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlcnZlclRpbWUgPSByZXNwb25zZS50aW1lO1xuICAgICAgdmFyIGNsaWVudFRpbWVBdFJlc3BvbnNlID0gT2JqZWN0KF9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VVRDRXBvY2hcIl0pKG5ldyBEYXRlKCkpO1xuICAgICAgX3RoaXMuc2VydmVyVGltZUF0UmVzcG9uc2UgPSBzZXJ2ZXJUaW1lICsgKGNsaWVudFRpbWVBdFJlc3BvbnNlIC0gX3RoaXMuY2xpZW50VGltZUF0UmVxdWVzdCkgLyAyO1xuXG4gICAgICB2YXIgdXBkYXRlVGltZSA9IGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAgIF90aGlzLnNlcnZlclRpbWVBdFJlc3BvbnNlICs9IDE7XG4gICAgICB9O1xuXG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnVwZGF0ZVRpbWVJbnRlcnZhbCk7XG4gICAgICBfdGhpcy51cGRhdGVUaW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICB9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlcnZlclRpbWUsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFwaSkge1xuICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBpID0gYXBpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvY2tTdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvY2tTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZ2V0VGltZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0VGltZSgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRpbWVJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMucmVxdWVzdFRpbWUuYmluZCh0aGlzKSwgMzAwMDApO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsb2NrU3RhcnRlZFByb21pc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0KF94KSB7XG4gICAgICAgIHJldHVybiBfaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0VGltZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlcXVlc3RUaW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoXG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudFRpbWVBdFJlcXVlc3QgPSBPYmplY3QoX2luZGV4X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRVVENFcG9jaFwiXSkobmV3IERhdGUoKSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcGkuZ2V0U2VydmVyVGltZSgpLnRoZW4odGhpcy5fdGltZVJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9ja1N0YXJ0ZWRQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RUaW1lKCkge1xuICAgICAgICByZXR1cm4gX3JlcXVlc3RUaW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldEVwb2NoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVwb2NoKCkge1xuICAgICAgaWYgKHRoaXMuc2VydmVyVGltZUF0UmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmVyVGltZUF0UmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcignU2VydmVyIHRpbWUgaXMgdW5kZWZpbmVkIScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRMb2NhbERhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYWxEYXRlKCkge1xuICAgICAgcmV0dXJuIE9iamVjdChfaW5kZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldExvY2FsRGF0ZVwiXSkodGhpcy5nZXRFcG9jaCgpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VVRDRGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVVENEYXRlKCkge1xuICAgICAgcmV0dXJuIENJUS5zdHJUb0RhdGVUaW1lKE9iamVjdChfaW5kZXhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFVUQ0RhdGVcIl0pKHRoaXMuZ2V0RXBvY2goKSkpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKCkge1xuICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBTZXJ2ZXJUaW1lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VydmVyVGltZTtcbn0oKTtcblxuU2VydmVyVGltZS5faW5zdGFuY2UgPSB2b2lkIDA7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFNlcnZlclRpbWUpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy9nYS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9nYS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBMb2dDYXRlZ29yaWVzLCBMb2dBY3Rpb25zLCBpbml0R0EsIGxvZ1BhZ2VWaWV3LCBsb2dFdmVudCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJMb2dDYXRlZ29yaWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTG9nQ2F0ZWdvcmllczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTG9nQWN0aW9uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIExvZ0FjdGlvbnM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluaXRHQVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGluaXRHQTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibG9nUGFnZVZpZXdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsb2dQYWdlVmlldzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibG9nRXZlbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsb2dFdmVudDsgfSk7XG52YXIgTG9nQ2F0ZWdvcmllcyA9IE9iamVjdC5mcmVlemUoe1xuICBDaGFydFRpdGxlOiAnQ2hhcnQgVGl0bGUnLFxuICBDYXRlZ29yaWNhbERpc3BsYXk6ICdDYXRlZ29yaWNhbCBEaXNwbGF5JyxcbiAgQ2hhcnRDb250cm9sOiAnQ2hhcnQgQ29udHJvbCdcbn0pO1xudmFyIExvZ0FjdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgTWFya2V0U2VsZWN0b3I6ICdNYXJrZXQgU2VsZWN0b3InLFxuICBGYXZvcml0ZTogJ0Zhdm9yaXRlJyxcbiAgQ2hhcnRTZXR0aW5nOiAnQ2hhcnQgU2V0dGluZycsXG4gIENoYXJ0U2l6ZTogJ0NoYXJ0IFNpemUnLFxuICBDaGFydFR5cGU6ICdDaGFydCBUeXBlJyxcbiAgQ29tcGFyaXNvbjogJ0NvbXBhcmlzb24nLFxuICBEcmF3VG9vbHM6ICdEcmF3IFRvb2xzJyxcbiAgRG93bmxvYWQ6ICdEb3dubG9hZCcsXG4gIEluZGljYXRvcjogJ0luZGljYXRvcicsXG4gIEludGVydmFsOiAnSW50ZXJ2YWwnLFxuICBUZW1wbGF0ZTogJ1RlbXBsYXRlJ1xufSk7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5mdW5jdGlvbiBpbml0R0EoKSB7fVxuZnVuY3Rpb24gbG9nUGFnZVZpZXcoKSB7fVxuZnVuY3Rpb24gbG9nRXZlbnQoY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwpIHt9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2UsIGlzVmFsaWRQcm9wLCBnZXRUaW1lVW5pdCwgZ2V0SW50ZXJ2YWxJblNlY29uZHMsIHN0YWJsZVNvcnQsIHNhbWVCYXIsIGRvd25sb2FkRmlsZUluQnJvd3Nlciwgc3R4dGFwLCBnZXRVVENFcG9jaCwgZ2V0VVRDRGF0ZSwgZ2V0TG9jYWxEYXRlLCB1cGRhdGVQcm9wSWZDaGFuZ2VkLCBjYWxjdWxhdGVUaW1lVW5pdEludGVydmFsLCBjYWxjdWxhdGVHcmFudWxhcml0eSwgZGlzcGxheU1pbGxpc2Vjb25kcywgY2xvbmVDYXRlZ29yeSwgY2xvbmVDYXRlZ29yaWVzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNyZWF0ZU9iamVjdEZyb21Mb2NhbFN0b3JhZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVPYmplY3RGcm9tTG9jYWxTdG9yYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1ZhbGlkUHJvcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGlzVmFsaWRQcm9wOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRUaW1lVW5pdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFRpbWVVbml0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRJbnRlcnZhbEluU2Vjb25kc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEludGVydmFsSW5TZWNvbmRzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzdGFibGVTb3J0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RhYmxlU29ydDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2FtZUJhclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNhbWVCYXI7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRvd25sb2FkRmlsZUluQnJvd3NlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGRvd25sb2FkRmlsZUluQnJvd3NlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic3R4dGFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc3R4dGFwOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRVVENFcG9jaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldFVUQ0Vwb2NoOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRVVENEYXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0VVRDRGF0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0TG9jYWxEYXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0TG9jYWxEYXRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1cGRhdGVQcm9wSWZDaGFuZ2VkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdXBkYXRlUHJvcElmQ2hhbmdlZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNhbGN1bGF0ZVRpbWVVbml0SW50ZXJ2YWw7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNhbGN1bGF0ZUdyYW51bGFyaXR5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsY3VsYXRlR3JhbnVsYXJpdHk7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRpc3BsYXlNaWxsaXNlY29uZHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkaXNwbGF5TWlsbGlzZWNvbmRzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbG9uZUNhdGVnb3J5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xvbmVDYXRlZ29yeTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2xvbmVDYXRlZ29yaWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xvbmVDYXRlZ29yaWVzOyB9KTtcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gY3JlYXRlT2JqZWN0RnJvbUxvY2FsU3RvcmFnZShrZXkpIHtcbiAgdmFyIHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gIHZhciBpc1ZhbGlkID0gdmFsICE9PSBudWxsO1xuXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNWYWxpZFByb3AocCkge1xuICByZXR1cm4gcCAhPT0gdW5kZWZpbmVkICYmICFpc05hTihwKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbn1cbnZhciBnZXRUaW1lVW5pdCA9IGZ1bmN0aW9uIGdldFRpbWVVbml0KF9yZWYpIHtcbiAgdmFyIHRpbWVVbml0ID0gX3JlZi50aW1lVW5pdCxcbiAgICAgIGludGVydmFsID0gX3JlZi5pbnRlcnZhbDtcblxuICBpZiAodGltZVVuaXQgPT09IG51bGwgJiYgaW50ZXJ2YWwgPT09ICdkYXknKSB7XG4gICAgcmV0dXJuICdkYXknO1xuICB9XG5cbiAgaWYgKHRpbWVVbml0ID09PSAnbWludXRlJyAmJiBpbnRlcnZhbCAlIDYwID09PSAwKSB7XG4gICAgcmV0dXJuICdob3VyJztcbiAgfVxuXG4gIGlmICh0aW1lVW5pdCA9PT0gJ3NlY29uZCcpIHtcbiAgICByZXR1cm4gJ3RpY2snO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVVbml0O1xufTtcbnZhciBnZXRJbnRlcnZhbEluU2Vjb25kcyA9IGZ1bmN0aW9uIGdldEludGVydmFsSW5TZWNvbmRzKF9yZWYyKSB7XG4gIHZhciB0aW1lVW5pdCA9IF9yZWYyLnRpbWVVbml0LFxuICAgICAgaW50ZXJ2YWwgPSBfcmVmMi5pbnRlcnZhbDtcbiAgdmFyIHVuaXQgPSB0aW1lVW5pdDtcbiAgdmFyIGludGVydiA9IGludGVydmFsO1xuXG4gIGlmIChpbnRlcnYgPT09ICdkYXknKSB7XG4gICAgdW5pdCA9IDg2NDAwO1xuICAgIGludGVydiA9IDE7XG4gIH0gZWxzZSBpZiAodGltZVVuaXQgPT09ICdtaW51dGUnKSB7XG4gICAgdW5pdCA9IDYwO1xuICB9IGVsc2UgaWYgKHRpbWVVbml0ID09PSAnc2Vjb25kJykge1xuICAgIHVuaXQgPSAxO1xuICB9XG5cbiAgcmV0dXJuIHVuaXQgKiBpbnRlcnY7XG59O1xuZnVuY3Rpb24gc3RhYmxlU29ydChhcnIpIHtcbiAgdmFyIGNvbXBhcmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiO1xuICB9O1xuICB2YXIgb3JpZ2luYWwgPSBhcnIuc2xpY2UoMCk7XG4gIGFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNvbXBhcmUoYSwgYik7XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gMCA/IG9yaWdpbmFsLmluZGV4T2YoYSkgLSBvcmlnaW5hbC5pbmRleE9mKGIpIDogcmVzdWx0O1xuICB9KTtcbiAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIHNhbWVCYXIoYmFyMSwgYmFyMikge1xuICByZXR1cm4gISghYmFyMSB8fCAhYmFyMiB8fCArYmFyMS5EVCAhPT0gK2JhcjIuRFQgfHwgYmFyMS5DbG9zZSAhPT0gYmFyMi5DbG9zZSB8fCBiYXIxLk9wZW4gIT09IGJhcjIuT3BlbiB8fCBiYXIxLlZvbHVtZSAhPT0gYmFyMi5Wb2x1bWUpO1xufVxuZnVuY3Rpb24gZG93bmxvYWRGaWxlSW5Ccm93c2VyKGZpbGVuYW1lLCBjb250ZW50LCB0eXBlLCBuZXdUYWIpIHtcbiAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHtcbiAgICB0eXBlOiB0eXBlXG4gIH0pO1xuXG4gIGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikge1xuICAgIC8vIElFIDEwK1xuICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdXJsID0gdHlwZSA9PT0gJ2ltYWdlL3BuZzsnID8gY29udGVudCA6IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gIGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBCcm93c2VycyB0aGF0IHN1cHBvcnQgSFRNTDUgZG93bmxvYWQgYXR0cmlidXRlXG4gICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTtcbiAgICBsaW5rLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdUYWIpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2ltYWdlL3BuZzsnKSB7XG4gICAgICBuZXdUYWIuZG9jdW1lbnQud3JpdGUoXCI8aWZyYW1lIHNyYz1cXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBzdHlsZT1cXFwiYm9yZGVyOjA7IHRvcDowcHg7IGxlZnQ6MHB4OyBib3R0b206MHB4OyByaWdodDowcHg7IHdpZHRoOjEwMCU7IGhlaWdodDoxMDAlO1xcXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld1RhYi5kb2N1bWVudC53cml0ZShcIlwiLmNvbmNhdChsaW5lc1tpXSwgXCI8YnIvPlwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdHh0YXAoZWwsIGZ1bmMpIHtcbiAgaWYgKGVsICYmICFlbC5zYWZlQ2xpY2tUb3VjaEV2ZW50cykge1xuICAgIENJUS5pbnN0YWxsVGFwRXZlbnQoZWwpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3N0eHRhcCcsIGZ1bmMpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRVVENFcG9jaChkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSAvIDEwMDAgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MCB8IDA7XG59XG5mdW5jdGlvbiBnZXRVVENEYXRlKGVwb2NoKSB7XG4gIHZhciBVVENkYXRlID0gbmV3IERhdGUoZXBvY2ggKiAxMDAwKS50b0lTT1N0cmluZygpO1xuICByZXR1cm4gVVRDZGF0ZS5zdWJzdHJpbmcoMCwgMTkpO1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxEYXRlKGVwb2NoKSB7XG4gIHJldHVybiBuZXcgRGF0ZShlcG9jaCAqIDEwMDApO1xufVxuZnVuY3Rpb24gdXBkYXRlUHJvcElmQ2hhbmdlZChzb3VyY2UsIHByb3BzLCBvbkNoYW5nZWQpIHtcbiAgdmFyIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGF0dHIgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcHNbYXR0cl0gIT09IHVuZGVmaW5lZCAmJiBzb3VyY2VbYXR0cl0gIT09IHByb3BzW2F0dHJdKSB7XG4gICAgICBzb3VyY2VbYXR0cl0gPSBwcm9wc1thdHRyXTtcbiAgICAgIGlzQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzQ2hhbmdlZCAmJiBvbkNoYW5nZWQpIHtcbiAgICBvbkNoYW5nZWQoKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlVGltZVVuaXRJbnRlcnZhbChncmFudWxhcml0eSkge1xuICB2YXIgaW50ZXJ2YWwgPSAxO1xuICB2YXIgdGltZVVuaXQgPSAnc2Vjb25kJztcblxuICBpZiAoZ3JhbnVsYXJpdHkgPT09IDg2NDAwKSB7XG4gICAgdGltZVVuaXQgPSAnZGF5JztcbiAgfSBlbHNlIGlmIChncmFudWxhcml0eSA+IDApIHtcbiAgICBpbnRlcnZhbCA9IGdyYW51bGFyaXR5IC8gNjA7XG4gICAgdGltZVVuaXQgPSAnbWludXRlJztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaW50ZXJ2YWw6IGludGVydmFsLFxuICAgIHRpbWVVbml0OiB0aW1lVW5pdFxuICB9O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlR3JhbnVsYXJpdHkocGVyaW9kLCBpbnRlcnZhbCkge1xuICB2YXIgdG9TZWNvbmRzID0ge1xuICAgIHNlY29uZDogMCxcbiAgICBtaW51dGU6IDYwLFxuICAgIGRheTogMjQgKiA2MCAqIDYwXG4gIH07XG4gIHJldHVybiB0b1NlY29uZHNbaW50ZXJ2YWxdICogcGVyaW9kO1xufVxuZnVuY3Rpb24gZGlzcGxheU1pbGxpc2Vjb25kcyhtcykge1xuICB2YXIgdG90YWxTZWMgPSBtcyAvIDEwMDA7XG5cbiAgaWYgKHRvdGFsU2VjIDw9IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwYWROdW0gPSBmdW5jdGlvbiBwYWROdW0obikge1xuICAgIHJldHVybiBcIjBcIi5jb25jYXQobikuc2xpY2UoLTIpO1xuICB9O1xuXG4gIHZhciBzZWNvbmRzID0gcGFkTnVtKE1hdGgudHJ1bmModG90YWxTZWMgJSA2MCkpO1xuICB2YXIgbWludXRlcyA9IHBhZE51bShNYXRoLnRydW5jKHRvdGFsU2VjIC8gNjAgJSA2MCkpO1xuICB2YXIgaG91cnMgPSBNYXRoLnRydW5jKHRvdGFsU2VjIC8gMzYwMCAlIDI0KTtcbiAgaG91cnMgPSBob3VycyA/IFwiXCIuY29uY2F0KGhvdXJzLCBcIjpcIikgOiAnJztcbiAgcmV0dXJuIFwiXCIuY29uY2F0KGhvdXJzKS5jb25jYXQobWludXRlcywgXCI6XCIpLmNvbmNhdChzZWNvbmRzKTtcbn1cbmZ1bmN0aW9uIGNsb25lQ2F0ZWdvcnkoY2F0ZWdvcnkpIHtcbiAgdmFyIHRyYW5zZm9ybUl0ZW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG4gIHZhciBjYXRlZ29yeURhdGEgPSBbXTtcblxuICB2YXIgY2F0ZWdvcnlDb3B5ID0gX29iamVjdFNwcmVhZCh7fSwgY2F0ZWdvcnksIHtcbiAgICBkYXRhOiBjYXRlZ29yeURhdGFcbiAgfSk7XG5cbiAgaWYgKGNhdGVnb3J5Lmhhc1N1YmNhdGVnb3J5KSB7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBjYXRlZ29yeS5kYXRhW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgc3ViY2F0ZWdvcnkgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIHN1YmNhdGVnb3J5RGF0YSA9IFtdO1xuXG4gICAgICAgIHZhciBzdWJjYXRlZ29yeUNvcHkgPSBfb2JqZWN0U3ByZWFkKHt9LCBzdWJjYXRlZ29yeSwge1xuICAgICAgICAgIGRhdGE6IHN1YmNhdGVnb3J5RGF0YVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gc3ViY2F0ZWdvcnkuZGF0YVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICBzdWJjYXRlZ29yeURhdGEucHVzaCh0cmFuc2Zvcm1JdGVtKGl0ZW0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2F0ZWdvcnlEYXRhLnB1c2goc3ViY2F0ZWdvcnlDb3B5KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBjYXRlZ29yeS5kYXRhW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgIHZhciBfaXRlbSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgY2F0ZWdvcnlEYXRhLnB1c2godHJhbnNmb3JtSXRlbShfaXRlbSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjYXRlZ29yeUNvcHk7XG59XG5mdW5jdGlvbiBjbG9uZUNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICB2YXIgdHJhbnNmb3JtSXRlbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbiAgdmFyIGNhdGVnb3JpemVkID0gW107XG4gIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBjYXRlZ29yaWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICB2YXIgY2F0ZWdvcnkgPSBfc3RlcDQudmFsdWU7XG4gICAgICBjYXRlZ29yaXplZC5wdXNoKGNsb25lQ2F0ZWdvcnkoY2F0ZWdvcnksIHRyYW5zZm9ybUl0ZW0pKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNhdGVnb3JpemVkO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3RyYW5zbGF0aW9uIGxhenkgcmVjdXJzaXZlIF5cXFxcLlxcXFwvLipcXFxcLnBvJFwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi90cmFuc2xhdGlvbiBsYXp5IF5cXC5cXC8uKlxcLnBvJCBuYW1lc3BhY2Ugb2JqZWN0ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgbWFwID0ge1xuXHRcIi4vZGUucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9kZS5wb1wiLFxuXHRcdFwiZGUtcG9cIlxuXHRdLFxuXHRcIi4vZXMucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9lcy5wb1wiLFxuXHRcdFwiZXMtcG9cIlxuXHRdLFxuXHRcIi4vZnIucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9mci5wb1wiLFxuXHRcdFwiZnItcG9cIlxuXHRdLFxuXHRcIi4vaWQucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9pZC5wb1wiLFxuXHRcdFwiaWQtcG9cIlxuXHRdLFxuXHRcIi4vaXQucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9pdC5wb1wiLFxuXHRcdFwiaXQtcG9cIlxuXHRdLFxuXHRcIi4vbmwucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9ubC5wb1wiLFxuXHRcdFwibmwtcG9cIlxuXHRdLFxuXHRcIi4vcGwucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9wbC5wb1wiLFxuXHRcdFwicGwtcG9cIlxuXHRdLFxuXHRcIi4vcHQucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9wdC5wb1wiLFxuXHRcdFwicHQtcG9cIlxuXHRdLFxuXHRcIi4vcnUucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi9ydS5wb1wiLFxuXHRcdFwicnUtcG9cIlxuXHRdLFxuXHRcIi4vdGgucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi90aC5wb1wiLFxuXHRcdFwidGgtcG9cIlxuXHRdLFxuXHRcIi4vdmkucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi92aS5wb1wiLFxuXHRcdFwidmktcG9cIlxuXHRdLFxuXHRcIi4vemhfY24ucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi96aF9jbi5wb1wiLFxuXHRcdFwiemhfY24tcG9cIlxuXHRdLFxuXHRcIi4vemhfdHcucG9cIjogW1xuXHRcdFwiLi90cmFuc2xhdGlvbi96aF90dy5wb1wiLFxuXHRcdFwiemhfdHctcG9cIlxuXHRdXG59O1xuZnVuY3Rpb24gd2VicGFja0FzeW5jQ29udGV4dChyZXEpIHtcblx0dmFyIGlkcyA9IG1hcFtyZXFdO1xuXHRpZighaWRzKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZCA9IGlkc1swXTtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KGlkLCA3KTtcblx0fSk7XG59XG53ZWJwYWNrQXN5bmNDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQXN5bmNDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IFwiLi90cmFuc2xhdGlvbiBsYXp5IHJlY3Vyc2l2ZSBeXFxcXC5cXFxcLy4qXFxcXC5wbyRcIjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0FzeW5jQ29udGV4dDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi90cmFuc2xhdGlvbi9tZXNzYWdlcy5wb3RcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi90cmFuc2xhdGlvbi9tZXNzYWdlcy5wb3QgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCIgYWxyZWFkeSBleGlzdHMuXCI6MCxcIltzeW1ib2xdIGZlZWQgaXMgZGVsYXllZCBieSBbZGVsYXldIG1pbnV0ZXNcIjoxLFwiW3N5bWJvbF0gbWFya2V0IGlzIG5vdyBvcGVuZWQuXCI6MixcIltzeW1ib2xdIG1hcmtldCBpcyBwcmVzZW50bHkgY2xvc2VkLlwiOjMsXCJcXFwiTWFzcyBJbmRleFxcXCIgb3IgXFxcIkRvamkgU3RhclxcXCJcIjo0LFwiQWN0aXZlXCI6NSxcIkFkZCBOZXdcIjo2LFwiQW5ub3RhdGlvblwiOjcsXCJBc3NldCBJbmZvcm1hdGlvblwiOjgsXCJBdXRvIFNjYWxlXCI6OSxcIkF2ZXJhZ2UgTGluZVwiOjEwLFwiQmFzZWxpbmVcIjoxMSxcIkJveCBTaXplXCI6MTIsXCJDXCI6MTMsXCJDYWxsb3V0XCI6MTQsXCJDQU5DRUxcIjoxNSxcIkNhbmRsZVwiOjE2LFwiQ2hhbmdlXCI6MTcsXCJDaGFubmVsXCI6MTgsXCJDaGFydCBkYXRhIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoaXMgc3ltYm9sLlwiOjE5LFwiQ2hhcnQgVGFibGVcIjoyMCxcIkNoYXJ0IHR5cGVzXCI6MjEsXCJDbGVhciBBbGxcIjoyMixcIkNsb3NlXCI6MjMsXCJDTE9TRVwiOjI0LFwiQ0xPU0VEXCI6MjUsXCJDb2xvcmVkIERvdFwiOjI2LFwiQ29tcGFyaXNvblwiOjI3LFwiQ29udGludW91c1wiOjI4LFwiQ291bnRkb3duXCI6MjksXCJDcm9zc2hhaXJcIjozMCxcIkNyb3NzbGluZVwiOjMxLFwiRGFyayBNb2RlXCI6MzIsXCJEYXRlXCI6MzMsXCJEYXlcIjozNCxcIkRPTkVcIjozNSxcIkRvb2RsZVwiOjM2LFwiRG90XCI6MzcsXCJEb3dubG9hZFwiOjM4LFwiRG93bmxvYWQgYXMgQ1NWXCI6MzksXCJEb3dubG9hZCBhcyBQTkdcIjo0MCxcIkRvd25sb2FkIENoYXJ0XCI6NDEsXCJEcmF3IHRvb2xzXCI6NDIsXCJFbGxpcHNlXCI6NDMsXCJGYXZvcml0ZXNcIjo0NCxcIkZpYiBBcmNcIjo0NSxcIkZpYiBGYW5cIjo0NixcIkZpYiBSZXRyYWNlbWVudFwiOjQ3LFwiRmliIFRpbWUgWm9uZVwiOjQ4LFwiR2FubiBGYW5cIjo0OSxcIkdhcnRsZXlcIjo1MCxcIkhcIjo1MSxcIkhlaWtpbiBBc2hpXCI6NTIsXCJIaWdoXCI6NTMsXCJISUdIXCI6NTQsXCJIaXN0b3JpY2FsIERhdGEgTW9kZVwiOjU1LFwiSG9sbG93IENhbmRsZVwiOjU2LFwiSG9yaXpvbnRhbFwiOjU3LFwiSG91clwiOjU4LFwiSW5kaWNhdG9yc1wiOjU5LFwiSW50ZXJ2YWxcIjo2MCxcIkthZ2lcIjo2MSxcIkxcIjo2MixcIkxhbmd1YWdlXCI6NjMsXCJMYXN0IGRpZ2l0cyBzdGF0cyBmb3IgbGF0ZXN0IDEwMDAgdGlja3Mgb24gXCI6NjQsXCJMaW5lXCI6NjUsXCJMaW5lIEJyZWFrXCI6NjYsXCJMb3dcIjo2NyxcIkxPV1wiOjY4LFwiTWVhc3VyZVwiOjY5LFwiTWludXRlXCI6NzAsXCJPXCI6NzEsXCJPSExDXCI6NzIsXCJPcGVuXCI6NzMsXCJPUEVOXCI6NzQsXCJPVkVSV1JJVEVcIjo3NSxcIlBpdGNoZm9ya1wiOjc2LFwiUG9pbnQgJiBGaWd1cmVcIjo3NyxcIlBvc2l0aW9uXCI6NzgsXCJQcmljZSBMaW5lc1wiOjc5LFwiUXVhZHJhbnQgTGluZXNcIjo4MCxcIlJhbmdlXCI6ODEsXCJSYW5nZSBCYXJzXCI6ODIsXCJSYXlcIjo4MyxcIlJlY3RhbmdsZVwiOjg0LFwiUmVncmVzc2lvbiBMaW5lXCI6ODUsXCJSZW5rb1wiOjg2LFwiUkVTRVRcIjo4NyxcIlJldHJpZXZpbmcgQ2hhcnQgRGF0YS4uLlwiOjg4LFwiUmV0cmlldmluZyBDaGFydCBFbmdpbmUuLi5cIjo4OSxcIlJldHJpZXZpbmcgTWFya2V0IFN5bWJvbHMuLi5cIjo5MCxcIlJldHJpZXZpbmcgVHJhZGluZyBUaW1lcy4uLlwiOjkxLFwiUmV2ZXJzYWxcIjo5MixcIlJldmVyc2FsIFBlcmNlbnRhZ2VcIjo5MyxcInJpZ2h0LWNsaWNrIHRvIGRlbGV0ZVwiOjk0LFwicmlnaHQtY2xpY2sgdG8gbWFuYWdlXCI6OTUsXCJTZWFyY2guLi5cIjo5NixcIlNlZ21lbnRcIjo5NyxcIlNldHRpbmdzXCI6OTgsXCJTaGFwZSAtIEFycm93XCI6OTksXCJTaGFwZSAtIENoZWNrXCI6MTAwLFwiU2hhcGUgLSBDcm9zc1wiOjEwMSxcIlNoYXBlIC0gRm9jdXNcIjoxMDIsXCJTaGFwZSAtIEhlYXJ0XCI6MTAzLFwiU2hhcGUgLSBTdGFyXCI6MTA0LFwiU3BlZWQgUmVzaXN0YW5jZSBBcmNcIjoxMDUsXCJTcGVlZCBSZXNpc3RhbmNlIExpbmVcIjoxMDYsXCJTcGxpbmVcIjoxMDcsXCJTUE9UXCI6MTA4LFwiU3RyZWFtaW5nIGZvciBbc3ltYm9sXSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBsaWNlbnNlIHJlc3RyaWN0aW9uc1wiOjEwOSxcIlRhYmxlXCI6MTEwLFwiVGVtcGxhdGUgbmFtZVwiOjExMSxcIlRlbXBsYXRlc1wiOjExMixcIlRoZXJlIGFyZSBubyBhY3RpdmUgY29tcGFyaXNvbnMgeWV0LlwiOjExMyxcIlRoZXJlIGFyZSBubyBhY3RpdmUgaW5kaWNhdG9ycyB5ZXQuXCI6MTE0LFwiVGhlcmUgYXJlIG5vIGZhdm9yaXRlcyB5ZXQuXCI6MTE1LFwiVGlja1wiOjExNixcIlRpbWUgQ3ljbGVcIjoxMTcsXCJUaXJvbmUgTGV2ZWxzXCI6MTE4LFwiVW5kZXJseWluZyBBc3NldHNcIjoxMTksXCJWZXJ0aWNhbFwiOjEyMCxcIldvdWxkIHlvdSBsaWtlIHRvIG92ZXJ3cml0ZSBpdD9cIjoxMjEsXCJab29tIGluXCI6MTIyLFwiWm9vbSBvdXRcIjoxMjMsXCJSU0lcIjoxMjQsXCJQZXJpb2RcIjoxMjUsXCJTaG93IFpvbmVzXCI6MTI2LFwiT3ZlckJvdWdodFwiOjEyNyxcIk92ZXJTb2xkXCI6MTI4LFwiTW92aW5nIEF2ZXJhZ2VcIjoxMjksXCJGaWVsZFwiOjEzMCxcIlR5cGVcIjoxMzEsXCJPZmZzZXRcIjoxMzIsXCJNQVwiOjEzMyxcIk1BQ0RcIjoxMzQsXCJGYXN0IE1BIFBlcmlvZFwiOjEzNSxcIlNsb3cgTUEgUGVyaW9kXCI6MTM2LFwiU2lnbmFsIFBlcmlvZFwiOjEzNyxcIlNpZ25hbFwiOjEzOCxcIkluY3JlYXNpbmcgQmFyXCI6MTM5LFwiRGVjcmVhc2luZyBCYXJcIjoxNDAsXCJTdG9jaGFzdGljc1wiOjE0MSxcIlNtb290aFwiOjE0MixcIkZhc3RcIjoxNDMsXCJTbG93XCI6MTQ0LFwiQXJvb25cIjoxNDUsXCJBcm9vbiBVcFwiOjE0NixcIkFyb29uIERvd25cIjoxNDcsXCJBcm9vbiBPc2NpbGxhdG9yXCI6MTQ4LFwiTGluZWFyIFJlZyBSMlwiOjE0OSxcIlJTcXVhcmVkXCI6MTUwLFwiTGluZWFyIFJlZyBGb3JlY2FzdFwiOjE1MSxcIkZvcmVjYXN0XCI6MTUyLFwiTGluZWFyIFJlZyBJbnRlcmNlcHRcIjoxNTMsXCJJbnRlcmNlcHRcIjoxNTQsXCJUaW1lIFNlcmllcyBGb3JlY2FzdFwiOjE1NSxcIlZlcnRpY2FsIEhvcml6b250YWwgRmlsdGVyXCI6MTU2LFwiUmVzdWx0XCI6MTU3LFwiVFJJWFwiOjE1OCxcIlN0YW5kYXJkIERldmlhdGlvblwiOjE1OSxcIlN0YW5kYXJkIERldmlhdGlvbnNcIjoxNjAsXCJNb3ZpbmcgQXZlcmFnZSBUeXBlXCI6MTYxLFwiVHJhZGUgVm9sdW1lIEluZGV4XCI6MTYyLFwiTWluIFRpY2sgVmFsdWVcIjoxNjMsXCJTd2luZyBJbmRleFwiOjE2NCxcIkxpbWl0IE1vdmUgVmFsdWVcIjoxNjUsXCJBY2N1bXVsYXRpdmUgU3dpbmcgSW5kZXhcIjoxNjYsXCJQcmljZSBSYXRlIG9mIENoYW5nZVwiOjE2NyxcIlZvbHVtZSBSYXRlIG9mIENoYW5nZVwiOjE2OCxcIk1vbWVudHVtIEluZGljYXRvclwiOjE2OSxcIlByaWNlIFZvbHVtZSBUcmVuZFwiOjE3MCxcIlBvc2l0aXZlIFZvbHVtZSBJbmRleFwiOjE3MSxcIkluZGV4XCI6MTcyLFwiTmVnYXRpdmUgVm9sdW1lIEluZGV4XCI6MTczLFwiT24gQmFsYW5jZSBWb2x1bWVcIjoxNzQsXCJTdG9jaGFzdGljIE1vbWVudHVtIEluZGV4XCI6MTc1LFwiJUsgUGVyaW9kc1wiOjE3NixcIiVLIFNtb290aGluZyBQZXJpb2RzXCI6MTc3LFwiJUsgRG91YmxlIFNtb290aGluZyBQZXJpb2RzXCI6MTc4LFwiJUQgUGVyaW9kc1wiOjE3OSxcIiVEIE1vdmluZyBBdmVyYWdlIFR5cGVcIjoxODAsXCIlS1wiOjE4MSxcIiVEXCI6MTgyLFwiSGlzdG9yaWNhbCBWb2xhdGlsaXR5XCI6MTgzLFwiRGF5cyBQZXIgWWVhclwiOjE4NCxcIlByZXR0eSBHb29kIE9zY2lsbGF0b3JcIjoxODUsXCJVbHRpbWF0ZSBPc2NpbGxhdG9yXCI6MTg2LFwiQ3ljbGUgMVwiOjE4NyxcIkN5Y2xlIDJcIjoxODgsXCJDeWNsZSAzXCI6MTg5LFwiVm9sdW1lIE9zY2lsbGF0b3JcIjoxOTAsXCJTaG9ydCBDeWNsZVwiOjE5MSxcIkxvbmcgQ3ljbGVcIjoxOTIsXCJQb2ludHMgT3IgUGVyY2VudFwiOjE5MyxcIlR3aWdncyBNb25leSBGbG93XCI6MTk0LFwiQ2hhaWtpbiBNb25leSBGbG93XCI6MTk1LFwiQ2hhaWtpbiBWb2xhdGlsaXR5XCI6MTk2LFwiUmF0ZSBPZiBDaGFuZ2VcIjoxOTcsXCJQcmljZSBPc2NpbGxhdG9yXCI6MTk4LFwiRWFzZSBvZiBNb3ZlbWVudFwiOjE5OSxcIkNvbW1vZGl0eSBDaGFubmVsIEluZGV4XCI6MjAwLFwiRGV0cmVuZGVkIFByaWNlIE9zY2lsbGF0b3JcIjoyMDEsXCJUcnVlIFJhbmdlXCI6MjAyLFwiQXZlcmFnZSBUcnVlIFJhbmdlXCI6MjAzLFwiQVRSXCI6MjA0LFwiRWhsZXIgRmlzaGVyIFRyYW5zZm9ybVwiOjIwNSxcIkVGXCI6MjA2LFwiRUYgVHJpZ2dlclwiOjIwNyxcIlNjaGFmZiBUcmVuZCBDeWNsZVwiOjIwOCxcIlFTdGlja1wiOjIwOSxcIkNvcHBvY2sgQ3VydmVcIjoyMTAsXCJTaG9ydCBSb0NcIjoyMTEsXCJMb25nIFJvQ1wiOjIxMixcIkNoYW5kZSBNb21lbnR1bSBPc2NpbGxhdG9yXCI6MjEzLFwiQ2hhbmRlIEZvcmVjYXN0IE9zY2lsbGF0b3JcIjoyMTQsXCJJbnRyYWRheSBNb21lbnR1bSBJbmRleFwiOjIxNSxcIlJBVklcIjoyMTYsXCJSYW5kb20gV2FsayBJbmRleFwiOjIxNyxcIlJhbmRvbSBXYWxrIEhpZ2hcIjoyMTgsXCJSYW5kb20gV2FsayBMb3dcIjoyMTksXCJBRFgvRE1TXCI6MjIwLFwiU21vb3RoaW5nIFBlcmlvZFwiOjIyMSxcIlNlcmllc1wiOjIyMixcIlNoYWRpbmdcIjoyMjMsXCJIaXN0b2dyYW1cIjoyMjQsXCIrRElcIjoyMjUsXCItRElcIjoyMjYsXCJBRFhcIjoyMjcsXCJQb3NpdGl2ZSBCYXJcIjoyMjgsXCJOZWdhdGl2ZSBCYXJcIjoyMjksXCJIaWdoIExvdyBCYW5kc1wiOjIzMCxcIlNoaWZ0IFBlcmNlbnRhZ2VcIjoyMzEsXCJDaGFubmVsIEZpbGxcIjoyMzIsXCJIaWdoIExvdyBUb3BcIjoyMzMsXCJIaWdoIExvdyBNZWRpYW5cIjoyMzQsXCJIaWdoIExvdyBCb3R0b21cIjoyMzUsXCJIaWdoIE1pbnVzIExvd1wiOjIzNixcIk1lZGlhbiBQcmljZVwiOjIzNyxcIk1vdmluZyBBdmVyYWdlIEVudmVsb3BlXCI6MjM4LFwiU2hpZnQgVHlwZVwiOjIzOSxcIlNoaWZ0XCI6MjQwLFwiTUEgRW52IFRvcFwiOjI0MSxcIk1BIEVudiBNZWRpYW5cIjoyNDIsXCJNQSBFbnYgQm90dG9tXCI6MjQzLFwiRnJhY3RhbCBDaGFvcyBCYW5kc1wiOjI0NCxcIkZyYWN0YWwgSGlnaFwiOjI0NSxcIkZyYWN0YWwgTG93XCI6MjQ2LFwiRnJhY3RhbCBDaGFubmVsXCI6MjQ3LFwiRnJhY3RhbCBDaGFvcyBPc2NpbGxhdG9yXCI6MjQ4LFwiR29wYWxha3Jpc2huYW4gUmFuZ2UgSW5kZXhcIjoyNDksXCJQcmltZSBOdW1iZXIgQmFuZHNcIjoyNTAsXCJQcmltZSBCYW5kcyBUb3BcIjoyNTEsXCJQcmltZSBCYW5kcyBCb3R0b21cIjoyNTIsXCJQcmltZSBCYW5kcyBDaGFubmVsXCI6MjUzLFwiUHJpbWUgTnVtYmVyIE9zY2lsbGF0b3JcIjoyNTQsXCJUb2xlcmFuY2UgUGVyY2VudGFnZVwiOjI1NSxcIkJvbGxpbmdlciBCYW5kc1wiOjI1NixcIkJvbGxpbmdlciBCYW5kcyBUb3BcIjoyNTcsXCJCb2xsaW5nZXIgQmFuZHMgTWVkaWFuXCI6MjU4LFwiQm9sbGluZ2VyIEJhbmRzIEJvdHRvbVwiOjI1OSxcIkRvbmNoaWFuIENoYW5uZWxcIjoyNjAsXCJIaWdoIFBlcmlvZFwiOjI2MSxcIkxvdyBQZXJpb2RcIjoyNjIsXCJEb25jaGlhbiBIaWdoXCI6MjYzLFwiRG9uY2hpYW4gTWVkaWFuXCI6MjY0LFwiRG9uY2hpYW4gTG93XCI6MjY1LFwiSGlnaGVzdCBIaWdoIFZhbHVlXCI6MjY2LFwiTG93ZXN0IExvdyBWYWx1ZVwiOjI2NyxcIk1hc3MgSW5kZXhcIjoyNjgsXCJCdWxnZSBUaHJlc2hvbGRcIjoyNjksXCJLZWx0bmVyIENoYW5uZWxcIjoyNzAsXCJLZWx0bmVyIFRvcFwiOjI3MSxcIktlbHRuZXIgTWVkaWFuXCI6MjcyLFwiS2VsdG5lciBCb3R0b21cIjoyNzMsXCJQYXJhYm9saWMgU0FSXCI6Mjc0LFwiTWluaW11bSBBRlwiOjI3NSxcIk1heGltdW0gQUZcIjoyNzYsXCJLbGluZ2VyIFZvbHVtZSBPc2NpbGxhdG9yXCI6Mjc3LFwiU2lnbmFsIFBlcmlvZHNcIjoyNzgsXCJLbGluZ2VyXCI6Mjc5LFwiS2xpbmdlclNpZ25hbFwiOjI4MCxcIkVsZGVyIFJheSBJbmRleFwiOjI4MSxcIkVsZGVyIEJ1bGwgUG93ZXJcIjoyODIsXCJFbGRlciBCZWFyIFBvd2VyXCI6MjgzLFwiRWxkZXIgRm9yY2UgSW5kZXhcIjoyODQsXCJMaW5lYXIgUmVnIFNsb3BlXCI6Mjg1LFwiU2xvcGVcIjoyODYsXCJDZW50ZXIgT2YgR3Jhdml0eVwiOjI4NyxcIlR5cGljYWwgUHJpY2VcIjoyODgsXCJXZWlnaHRlZCBDbG9zZVwiOjI4OSxcIk1vbmV5IEZsb3cgSW5kZXhcIjoyOTAsXCJXaWxsaWFtcyAlUlwiOjI5MSxcIkFjY3VtdWxhdGlvbi9EaXN0cmlidXRpb25cIjoyOTIsXCJVc2UgVm9sdW1lXCI6MjkzLFwiVm9sdW1lIENoYXJ0XCI6Mjk0LFwiVXAgVm9sdW1lXCI6Mjk1LFwiRG93biBWb2x1bWVcIjoyOTYsXCJWb2x1bWUgVW5kZXJsYXlcIjoyOTcsXCJWYWx1YXRpb24gTGluZXNcIjoyOTgsXCJBdmVyYWdlIFR5cGVcIjoyOTksXCJEaXNwbGF5IEF2ZXJhZ2VcIjozMDAsXCJEaXNwbGF5IDEgU3RhbmRhcmQgRGV2aWF0aW9uICgxz4MpXCI6MzAxLFwiRGlzcGxheSAyIFN0YW5kYXJkIERldmlhdGlvbiAoMs+DKVwiOjMwMixcIkRpc3BsYXkgMyBTdGFuZGFyZCBEZXZpYXRpb24gKDPPgylcIjozMDMsXCJBdmVyYWdlXCI6MzA0LFwiMSBTdGFuZGFyZCBEZXZpYXRpb24gKDHPgylcIjozMDUsXCIyIFN0YW5kYXJkIERldmlhdGlvbiAoMs+DKVwiOjMwNixcIjMgU3RhbmRhcmQgRGV2aWF0aW9uICgzz4MpXCI6MzA3LFwiQ29ycmVsYXRpb24gQ29lZmZpY2llbnRcIjozMDgsXCJQcmljZSBNb21lbnR1bSBPc2NpbGxhdG9yXCI6MzA5LFwiRG91YmxlIFNtb290aGluZyBQZXJpb2RcIjozMTAsXCJQTU9cIjozMTEsXCJQTU9TaWduYWxcIjozMTIsXCJSZWxhdGl2ZSBWb2xhdGlsaXR5XCI6MzEzLFwiU1REIFBlcmlvZFwiOjMxNCxcIlJlbCBWb2xcIjozMTUsXCJBd2Vzb21lIE9zY2lsbGF0b3JcIjozMTYsXCJNYXJrZXQgRmFjaWxpdGF0aW9uIEluZGV4XCI6MzE3LFwiU2NhbGUgRmFjdG9yXCI6MzE4LFwiR3JlZW5cIjozMTksXCJGYWRlXCI6MzIwLFwiRmFrZVwiOjMyMSxcIlNxdWF0XCI6MzIyLFwiQVRSIEJhbmRzXCI6MzIzLFwiQVRSIEJhbmRzIFRvcFwiOjMyNCxcIkFUUiBCYW5kcyBCb3R0b21cIjozMjUsXCJBVFIgQmFuZHMgQ2hhbm5lbFwiOjMyNixcIlNUQVJDIEJhbmRzXCI6MzI3LFwiTUEgUGVyaW9kXCI6MzI4LFwiTXVsdGlwbGllclwiOjMyOSxcIlNUQVJDIEJhbmRzIFRvcFwiOjMzMCxcIlNUQVJDIEJhbmRzIE1lZGlhblwiOjMzMSxcIlNUQVJDIEJhbmRzIEJvdHRvbVwiOjMzMixcIkFUUiBUcmFpbGluZyBTdG9wc1wiOjMzMyxcIlBsb3QgVHlwZVwiOjMzNCxcIkhpZ2hMb3dcIjozMzUsXCJCdXkgU3RvcHNcIjozMzYsXCJTZWxsIFN0b3BzXCI6MzM3LFwiQm9sbGluZ2VyICViXCI6MzM4LFwiJWJcIjozMzksXCJCb2xsaW5nZXIgQmFuZHdpZHRoXCI6MzQwLFwiQmFuZHdpZHRoXCI6MzQxLFwiRG9uY2hpYW4gV2lkdGhcIjozNDIsXCJSZWxhdGl2ZSBWaWdvciBJbmRleFwiOjM0MyxcIlJlbCBWaWdcIjozNDQsXCJSZWxWaWdTaWduYWxcIjozNDUsXCJFbGRlciBJbXB1bHNlIFN5c3RlbVwiOjM0NixcIkJ1bGxpc2hcIjozNDcsXCJCZWFyaXNoXCI6MzQ4LFwiTmV1dHJhbFwiOjM0OSxcIlBpdm90IFBvaW50c1wiOjM1MCxcIlBpdm90XCI6MzUxLFwiUmVzaXN0YW5jZSAxXCI6MzUyLFwiU3VwcG9ydCAxXCI6MzUzLFwiUmVzaXN0YW5jZSAyXCI6MzU0LFwiU3VwcG9ydCAyXCI6MzU1LFwiUmVzaXN0YW5jZSAzXCI6MzU2LFwiU3VwcG9ydCAzXCI6MzU3LFwiVldBUFwiOjM1OCxcIkFsbGlnYXRvclwiOjM1OSxcIkphdyBQZXJpb2RcIjozNjAsXCJKYXcgT2Zmc2V0XCI6MzYxLFwiVGVldGggUGVyaW9kXCI6MzYyLFwiVGVldGggT2Zmc2V0XCI6MzYzLFwiTGlwcyBQZXJpb2RcIjozNjQsXCJMaXBzIE9mZnNldFwiOjM2NSxcIlNob3cgRnJhY3RhbHNcIjozNjYsXCJKYXdcIjozNjcsXCJUZWV0aFwiOjM2OCxcIkxpcHNcIjozNjksXCJHYXRvciBPc2NpbGxhdG9yXCI6MzcwLFwiSWNoaW1va3UgQ2xvdWRzXCI6MzcxLFwiQ29udmVyc2lvbiBMaW5lIFBlcmlvZFwiOjM3MixcIkJhc2UgTGluZSBQZXJpb2RcIjozNzMsXCJMZWFkaW5nIFNwYW4gQiBQZXJpb2RcIjozNzQsXCJMYWdnaW5nIFNwYW4gUGVyaW9kXCI6Mzc1LFwiQ29udmVyc2lvbiBMaW5lXCI6Mzc2LFwiQmFzZSBMaW5lXCI6Mzc3LFwiTGVhZGluZyBTcGFuIEFcIjozNzgsXCJMZWFkaW5nIFNwYW4gQlwiOjM3OSxcIkxhZ2dpbmcgU3BhblwiOjM4MCxcIlByaWNlIFJlbGF0aXZlXCI6MzgxLFwiQ29tcGFyaXNvbiBTeW1ib2xcIjozODIsXCJQZXJmb3JtYW5jZSBJbmRleFwiOjM4MyxcIkdhaW5cIjozODQsXCJMb3NzXCI6Mzg1LFwiQmV0YVwiOjM4NixcIlVsY2VyIEluZGV4XCI6Mzg3LFwiQmFsYW5jZSBvZiBQb3dlclwiOjM4OCxcIlRyZW5kIEludGVuc2l0eSBJbmRleFwiOjM4OSxcIlRJSVwiOjM5MCxcIkNob3BwaW5lc3MgSW5kZXhcIjozOTEsXCJEaXNwYXJpdHkgSW5kZXhcIjozOTIsXCJSYWluYm93IE1vdmluZyBBdmVyYWdlXCI6MzkzLFwiU01BMVwiOjM5NCxcIlNNQTJcIjozOTUsXCJTTUEzXCI6Mzk2LFwiU01BNFwiOjM5NyxcIlNNQTVcIjozOTgsXCJTTUE2XCI6Mzk5LFwiU01BN1wiOjQwMCxcIlNNQThcIjo0MDEsXCJTTUE5XCI6NDAyLFwiU01BMTBcIjo0MDMsXCJSYWluYm93IE9zY2lsbGF0b3JcIjo0MDQsXCJISFYvTExWIExvb2tiYWNrXCI6NDA1LFwiUHJpbmcncyBLbm93IFN1cmUgVGhpbmdcIjo0MDYsXCJMaWdodGVzdCBSYXRlIG9mIENoYW5nZSBQZXJpb2RcIjo0MDcsXCJMaWdodGVzdCBTTUEgUGVyaW9kXCI6NDA4LFwiTGlnaHQgUmF0ZSBvZiBDaGFuZ2UgUGVyaW9kXCI6NDA5LFwiTGlnaHQgU01BIFBlcmlvZFwiOjQxMCxcIkhlYXZ5IFJhdGUgb2YgQ2hhbmdlIFBlcmlvZFwiOjQxMSxcIkhlYXZ5IFNNQSBQZXJpb2RcIjo0MTIsXCJIZWF2aWVzdCBSYXRlIG9mIENoYW5nZSBQZXJpb2RcIjo0MTMsXCJIZWF2aWVzdCBTTUEgUGVyaW9kXCI6NDE0LFwiS1NUXCI6NDE1LFwiS1NUU2lnbmFsXCI6NDE2LFwiUHJpbmcncyBTcGVjaWFsIEtcIjo0MTcsXCJEYXJ2YXMgQm94XCI6NDE4LFwiQVRIIExvb2tiYWNrIFBlcmlvZFwiOjQxOSxcIkV4aXQgRmllbGRcIjo0MjAsXCJHaG9zdCBCb3hlc1wiOjQyMSxcIlN0b3AgTGV2ZWxzXCI6NDIyLFwiTGV2ZWwgT2Zmc2V0XCI6NDIzLFwiUHJpY2UgTWluaW11bVwiOjQyNCxcIlZvbHVtZSBTcGlrZVwiOjQyNSxcIlZvbHVtZSAlIG9mIEF2Z1wiOjQyNixcIkRhcnZhc1wiOjQyNyxcIkdob3N0XCI6NDI4LFwiTGV2ZWxzXCI6NDI5LFwiU3VwZXJ0cmVuZFwiOjQzMCxcIlVwdHJlbmRcIjo0MzEsXCJEb3dudHJlbmRcIjo0MzIsXCJWb2x1bWUgUHJvZmlsZVwiOjQzMyxcIkJhcnMgQ29sb3JcIjo0MzQsXCJWb3J0ZXggSW5kaWNhdG9yXCI6NDM1LFwiK1ZJXCI6NDM2LFwiLVZJXCI6NDM3LFwiWmlnWmFnXCI6NDM4LFwiRGlzdGFuY2UoJSlcIjo0MzksXCJQc3ljaG9sb2dpY2FsIExpbmVcIjo0NDAsXCJNb3ZpbmcgQXZlcmFnZSBEZXZpYXRpb25cIjo0NDEsXCJTaGlub2hhcmEgSW50ZW5zaXR5IFJhdGlvXCI6NDQyLFwiU3Ryb25nIFJhdGlvXCI6NDQzLFwiV2VhayBSYXRpb1wiOjQ0NCxcIkNsb3NlZFwiOjQ0NSxcIk9wZW5zIGluOlwiOjQ0NixcIlVwIHRvIDUgYWN0aXZlIGluZGljYXRvcnMgYWxsb3dlZC5cIjo0NDd9XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIm1vYnhcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwibW9ieFwiICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfbW9ieF9fO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJtb2J4LXJlYWN0XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiBleHRlcm5hbCB7XCJjb21tb25qc1wiOlwibW9ieC1yZWFjdFwiLFwiY29tbW9uanMyXCI6XCJtb2J4LXJlYWN0XCIsXCJyb290XCI6XCJtb2J4UmVhY3RcIn0gKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9tb2J4X3JlYWN0X187XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcInJlYWN0XCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogZXh0ZXJuYWwge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwifSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJyZWFjdC1kb21cIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJyZWFjdC1kb21cIixcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCIsXCJyb290XCI6XCJSZWFjdERPTVwifSAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X2RvbV9fO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCIsXCJjb21tb25qczJcIjpcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIixcInJvb3RcIjpcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCJ9ICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF90cmFuc2l0aW9uX2dyb3VwX187XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c21hcnRjaGFydHMuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSxRQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/smartcharts-beta/dist/smartcharts.js\n");

/***/ })

}]);